// @ts-expect-error
const IS_WORKER_SCOPE = !self.document && self.WorkerGlobalScope;
// Detect Browser
function getEngine() {
    const x = [].constructor;
    try {
        (-1).toFixed(-1);
    }
    catch (err) {
        return err.message.length + (x + '').split(x.name).join('').length;
    }
}
const ENGINE_IDENTIFIER = getEngine();
const IS_BLINK = ENGINE_IDENTIFIER == 80;
const IS_GECKO = ENGINE_IDENTIFIER == 58;
const IS_WEBKIT = ENGINE_IDENTIFIER == 77;
const JS_ENGINE = ({
    80: 'V8',
    58: 'SpiderMonkey',
    77: 'JavaScriptCore',
})[ENGINE_IDENTIFIER] || null;
const LIKE_BRAVE = IS_BLINK && 'flat' in Array.prototype /* Chrome 69 */ && !('ReportingObserver' in self /* Brave */);
function braveBrowser() {
    const brave = ('brave' in navigator &&
        // @ts-ignore
        Object.getPrototypeOf(navigator.brave).constructor.name == 'Brave' &&
        // @ts-ignore
        navigator.brave.isBrave.toString() == 'function isBrave() { [native code] }');
    return brave;
}
function getBraveMode() {
    const mode = {
        unknown: false,
        allow: false,
        standard: false,
        strict: false,
    };
    try {
        // strict mode adds float frequency data AnalyserNode
        const strictMode = () => {
            try {
                window.OfflineAudioContext = (
                // @ts-ignore
                OfflineAudioContext || webkitOfflineAudioContext);
            }
            catch (err) { }
            if (!window.OfflineAudioContext) {
                return false;
            }
            const context = new OfflineAudioContext(1, 1, 44100);
            const analyser = context.createAnalyser();
            const data = new Float32Array(analyser.frequencyBinCount);
            analyser.getFloatFrequencyData(data);
            const strict = new Set(data).size > 1; // native only has -Infinity
            return strict;
        };
        if (strictMode()) {
            mode.strict = true;
            return mode;
        }
        // standard and strict mode do not have chrome plugins
        const chromePlugins = /(Chrom(e|ium)|Microsoft Edge) PDF (Plugin|Viewer)/;
        const pluginsList = [...navigator.plugins];
        const hasChromePlugins = pluginsList
            .filter((plugin) => chromePlugins.test(plugin.name)).length == 2;
        if (pluginsList.length && !hasChromePlugins) {
            mode.standard = true;
            return mode;
        }
        mode.allow = true;
        return mode;
    }
    catch (e) {
        mode.unknown = true;
        return mode;
    }
}
const getBraveUnprotectedParameters = (parameters) => {
    const blocked = new Set([
        'FRAGMENT_SHADER.HIGH_FLOAT.precision',
        'FRAGMENT_SHADER.HIGH_FLOAT.rangeMax',
        'FRAGMENT_SHADER.HIGH_FLOAT.rangeMin',
        'FRAGMENT_SHADER.HIGH_INT.precision',
        'FRAGMENT_SHADER.HIGH_INT.rangeMax',
        'FRAGMENT_SHADER.HIGH_INT.rangeMin',
        'FRAGMENT_SHADER.LOW_FLOAT.precision',
        'FRAGMENT_SHADER.LOW_FLOAT.rangeMax',
        'FRAGMENT_SHADER.LOW_FLOAT.rangeMin',
        'FRAGMENT_SHADER.MEDIUM_FLOAT.precision',
        'FRAGMENT_SHADER.MEDIUM_FLOAT.rangeMax',
        'FRAGMENT_SHADER.MEDIUM_FLOAT.rangeMin',
        'MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS',
        'MAX_COMBINED_UNIFORM_BLOCKS',
        'MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS',
        'MAX_DRAW_BUFFERS_WEBGL',
        'MAX_FRAGMENT_INPUT_COMPONENTS',
        'MAX_FRAGMENT_UNIFORM_BLOCKS',
        'MAX_FRAGMENT_UNIFORM_COMPONENTS',
        'MAX_TEXTURE_MAX_ANISOTROPY_EXT',
        'MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS',
        'MAX_UNIFORM_BUFFER_BINDINGS',
        'MAX_VARYING_COMPONENTS',
        'MAX_VERTEX_OUTPUT_COMPONENTS',
        'MAX_VERTEX_UNIFORM_BLOCKS',
        'MAX_VERTEX_UNIFORM_COMPONENTS',
        'SHADING_LANGUAGE_VERSION',
        'UNMASKED_RENDERER_WEBGL',
        'UNMASKED_VENDOR_WEBGL',
        'VERSION',
        'VERTEX_SHADER.HIGH_FLOAT.precision',
        'VERTEX_SHADER.HIGH_FLOAT.rangeMax',
        'VERTEX_SHADER.HIGH_FLOAT.rangeMin',
        'VERTEX_SHADER.HIGH_INT.precision',
        'VERTEX_SHADER.HIGH_INT.rangeMax',
        'VERTEX_SHADER.HIGH_INT.rangeMin',
        'VERTEX_SHADER.LOW_FLOAT.precision',
        'VERTEX_SHADER.LOW_FLOAT.rangeMax',
        'VERTEX_SHADER.LOW_FLOAT.rangeMin',
        'VERTEX_SHADER.MEDIUM_FLOAT.precision',
        'VERTEX_SHADER.MEDIUM_FLOAT.rangeMax',
        'VERTEX_SHADER.MEDIUM_FLOAT.rangeMin',
    ]);
    const safeParameters = Object.keys(parameters).reduce((acc, curr) => {
        if (blocked.has(curr)) {
            return acc;
        }
        acc[curr] = parameters[curr];
        return acc;
    }, {});
    return safeParameters;
};
// system
const getOS = (userAgent) => {
    const os = (
    // order is important
    /windows phone/ig.test(userAgent) ? 'Windows Phone' :
        /win(dows|16|32|64|95|98|nt)|wow64/ig.test(userAgent) ? 'Windows' :
            /android/ig.test(userAgent) ? 'Android' :
                /cros/ig.test(userAgent) ? 'Chrome OS' :
                    /linux/ig.test(userAgent) ? 'Linux' :
                        /ipad/ig.test(userAgent) ? 'iPad' :
                            /iphone/ig.test(userAgent) ? 'iPhone' :
                                /ipod/ig.test(userAgent) ? 'iPod' :
                                    /ios/ig.test(userAgent) ? 'iOS' :
                                        /mac/ig.test(userAgent) ? 'Mac' :
                                            'Other');
    return os;
};
function getReportedPlatform(userAgent, platform) {
    // user agent os lie
    const userAgentOS = (
    // order is important
    /win(dows|16|32|64|95|98|nt)|wow64/ig.test(userAgent) ? "Windows" /* PlatformClassifier.WINDOWS */ :
        /android|linux|cros/ig.test(userAgent) ? "Linux" /* PlatformClassifier.LINUX */ :
            /(i(os|p(ad|hone|od)))|mac/ig.test(userAgent) ? "Apple" /* PlatformClassifier.APPLE */ :
                "Other" /* PlatformClassifier.OTHER */);
    if (!platform)
        return [userAgentOS];
    const platformOS = (
    // order is important
    /win/ig.test(platform) ? "Windows" /* PlatformClassifier.WINDOWS */ :
        /android|arm|linux/ig.test(platform) ? "Linux" /* PlatformClassifier.LINUX */ :
            /(i(os|p(ad|hone|od)))|mac/ig.test(platform) ? "Apple" /* PlatformClassifier.APPLE */ :
                "Other" /* PlatformClassifier.OTHER */);
    return [userAgentOS, platformOS];
}
const { userAgent: navUserAgent, platform: navPlatform } = self.navigator || {};
const [USER_AGENT_OS, PLATFORM_OS] = getReportedPlatform(navUserAgent, navPlatform);
const decryptUserAgent = ({ ua, os, isBrave }) => {
    const apple = /ipad|iphone|ipod|ios|mac/ig.test(os);
    const isOpera = /OPR\//g.test(ua);
    const isVivaldi = /Vivaldi/g.test(ua);
    const isDuckDuckGo = /DuckDuckGo/g.test(ua);
    const isYandex = /YaBrowser/g.test(ua);
    const paleMoon = ua.match(/(palemoon)\/(\d+)./i);
    const edge = ua.match(/(edgios|edg|edge|edga)\/(\d+)./i);
    const edgios = edge && /edgios/i.test(edge[1]);
    const chromium = ua.match(/(crios|chrome)\/(\d+)./i);
    const firefox = ua.match(/(fxios|firefox)\/(\d+)./i);
    const likeSafari = (/AppleWebKit/g.test(ua) &&
        /Safari/g.test(ua));
    const safari = (likeSafari &&
        !firefox &&
        !chromium &&
        !edge &&
        ua.match(/(version)\/(\d+)\.(\d|\.)+\s(mobile|safari)/i));
    if (chromium) {
        const browser = chromium[1];
        const version = chromium[2];
        const like = (isOpera ? ' Opera' :
            isVivaldi ? ' Vivaldi' :
                isDuckDuckGo ? ' DuckDuckGo' :
                    isYandex ? ' Yandex' :
                        edge ? ' Edge' :
                            isBrave ? ' Brave' : '');
        return `${browser} ${version}${like}`;
    }
    else if (edgios) {
        const browser = edge[1];
        const version = edge[2];
        return `${browser} ${version}`;
    }
    else if (firefox) {
        const browser = paleMoon ? paleMoon[1] : firefox[1];
        const version = paleMoon ? paleMoon[2] : firefox[2];
        return `${browser} ${version}`;
    }
    else if (apple && safari) {
        const browser = 'Safari';
        const version = safari[2];
        return `${browser} ${version}`;
    }
    return 'unknown';
};
const getUserAgentPlatform = ({ userAgent, excludeBuild = true }) => {
    if (!userAgent) {
        return 'unknown';
    }
    // patterns
    const nonPlatformParenthesis = /\((khtml|unlike|vizio|like gec|internal dummy|org\.eclipse|openssl|ipv6|via translate|safari|cardamon).+|xt\d+\)/ig;
    const parenthesis = /\((.+)\)/;
    const android = /((android).+)/i;
    const androidNoise = /^(linux|[a-z]|wv|mobile|[a-z]{2}(-|_)[a-z]{2}|[a-z]{2})$|windows|(rv:|trident|webview|iemobile).+/i;
    const androidBuild = /build\/.+\s|\sbuild\/.+/i;
    const androidRelease = /android( |-)\d+/i;
    const windows = /((windows).+)/i;
    const windowsNoise = /^(windows|ms(-|)office|microsoft|compatible|[a-z]|x64|[a-z]{2}(-|_)[a-z]{2}|[a-z]{2})$|(rv:|outlook|ms(-|)office|microsoft|trident|\.net|msie|httrack|media center|infopath|aol|opera|iemobile|webbrowser).+/i;
    const windows64bitCPU = /w(ow|in)64/i;
    const cros = /cros/i;
    const crosNoise = /^([a-z]|x11|[a-z]{2}(-|_)[a-z]{2}|[a-z]{2})$|(rv:|trident).+/i;
    const crosBuild = /\d+\.\d+\.\d+/i;
    const linux = /linux|x11|ubuntu|debian/i;
    const linuxNoise = /^([a-z]|x11|unknown|compatible|[a-z]{2}(-|_)[a-z]{2}|[a-z]{2})$|(rv:|java|oracle|\+http|http|unknown|mozilla|konqueror|valve).+/i;
    const apple = /(cpu iphone|cpu os|iphone os|mac os|macos|intel os|ppc mac).+/i;
    const appleNoise = /^([a-z]|macintosh|compatible|mimic|[a-z]{2}(-|_)[a-z]{2}|[a-z]{2}|rv|\d+\.\d+)$|(rv:|silk|valve).+/i;
    const appleRelease = /(ppc |intel |)(mac|mac |)os (x |x|)(\d{2}(_|\.)\d{1,2}|\d{2,})/i;
    const otherOS = /((symbianos|nokia|blackberry|morphos|mac).+)|\/linux|freebsd|symbos|series \d+|win\d+|unix|hp-ux|bsdi|bsd|x86_64/i;
    const isDevice = (list, device) => list.filter((x) => device.test(x)).length;
    userAgent = userAgent.trim().replace(/\s{2,}/, ' ').replace(nonPlatformParenthesis, '');
    if (parenthesis.test(userAgent)) {
        const platformSection = userAgent.match(parenthesis)[0];
        const identifiers = platformSection.slice(1, -1).replace(/,/g, ';').split(';').map((x) => x.trim());
        if (isDevice(identifiers, android)) {
            return identifiers
                // @ts-ignore
                .map((x) => androidRelease.test(x) ? androidRelease.exec(x)[0].replace('-', ' ') : x)
                .filter((x) => !(androidNoise.test(x)))
                .join(' ')
                .replace((excludeBuild ? androidBuild : ''), '')
                .trim().replace(/\s{2,}/, ' ');
        }
        else if (isDevice(identifiers, windows)) {
            return identifiers
                .filter((x) => !(windowsNoise.test(x)))
                .join(' ')
                .replace(/\sNT (\d+\.\d+)/, (match, version) => {
                return (version == '10.0' ? ' 10' :
                    version == '6.3' ? ' 8.1' :
                        version == '6.2' ? ' 8' :
                            version == '6.1' ? ' 7' :
                                version == '6.0' ? ' Vista' :
                                    version == '5.2' ? ' XP Pro' :
                                        version == '5.1' ? ' XP' :
                                            version == '5.0' ? ' 2000' :
                                                version == '4.0' ? match :
                                                    ' ' + version);
            })
                .replace(windows64bitCPU, '(64-bit)')
                .trim().replace(/\s{2,}/, ' ');
        }
        else if (isDevice(identifiers, cros)) {
            return identifiers
                .filter((x) => !(crosNoise.test(x)))
                .join(' ')
                .replace((excludeBuild ? crosBuild : ''), '')
                .trim().replace(/\s{2,}/, ' ');
        }
        else if (isDevice(identifiers, linux)) {
            return identifiers
                .filter((x) => !(linuxNoise.test(x)))
                .join(' ')
                .trim().replace(/\s{2,}/, ' ');
        }
        else if (isDevice(identifiers, apple)) {
            return identifiers
                .map((x) => {
                if (appleRelease.test(x)) {
                    // @ts-ignore
                    const release = appleRelease.exec(x)[0];
                    const versionMap = {
                        '10_7': 'Lion',
                        '10_8': 'Mountain Lion',
                        '10_9': 'Mavericks',
                        '10_10': 'Yosemite',
                        '10_11': 'El Capitan',
                        '10_12': 'Sierra',
                        '10_13': 'High Sierra',
                        '10_14': 'Mojave',
                        '10_15': 'Catalina',
                        '11': 'Big Sur',
                        '12': 'Monterey',
                        '13': 'Ventura',
                    };
                    const version = ((/(\d{2}(_|\.)\d{1,2}|\d{2,})/.exec(release) || [])[0] ||
                        '').replace(/\./g, '_');
                    const isOSX = /^10/.test(version);
                    const id = isOSX ? version : (/^\d{2,}/.exec(version) || [])[0];
                    const codeName = versionMap[id];
                    return codeName ? `macOS ${codeName}` : release;
                }
                return x;
            })
                .filter((x) => !(appleNoise.test(x)))
                .join(' ')
                .replace(/\slike mac.+/ig, '')
                .trim().replace(/\s{2,}/, ' ');
        }
        else {
            const other = identifiers.filter((x) => otherOS.test(x));
            if (other.length) {
                return other.join(' ').trim().replace(/\s{2,}/, ' ');
            }
            return identifiers.join(' ');
        }
    }
    else {
        return 'unknown';
    }
};
// attempt restore from User-Agent Reduction
const isUAPostReduction = (userAgent) => {
    const matcher = /Mozilla\/5\.0 \((Macintosh; Intel Mac OS X 10_15_7|Windows NT 10\.0; Win64; x64|(X11; (CrOS|Linux) x86_64)|(Linux; Android 10(; K|)))\) AppleWebKit\/537\.36 \(KHTML, like Gecko\) Chrome\/\d+\.0\.0\.0( Mobile|) Safari\/537\.36/;
    const unifiedPlatform = (matcher.exec(userAgent) || [])[1];
    return IS_BLINK && !!unifiedPlatform;
};
const createPerformanceLogger = () => {
    const log = {};
    let total = 0;
    return {
        logTestResult: ({ test, passed, time = 0 }) => {
            total += time;
            const timeString = `${time.toFixed(2)}ms`;
            log[test] = timeString;
            return true;
        },
        getLog: () => log,
        getTotal: () => total,
    };
};
const performanceLogger = createPerformanceLogger();
const { logTestResult } = performanceLogger;
const createTimer = () => {
    let start = 0;
    const log = [];
    return {
        stop: () => {
            if (start) {
                log.push(performance.now() - start);
                return log.reduce((acc, n) => acc += n, 0);
            }
            return start;
        },
        start: () => {
            start = performance.now();
            return start;
        },
    };
};
const queueEvent = (timer, delay = 0) => {
    timer.stop();
    return new Promise((resolve) => setTimeout(() => resolve(timer.start()), delay))
        .catch((e) => { });
};
const queueTask = () => new Promise((resolve) => setTimeout(() => resolve(null)));
const EMOJIS = [
    [128512], [9786], [129333, 8205, 9794, 65039], [9832], [9784], [9895], [8265], [8505], [127987, 65039, 8205, 9895, 65039], [129394], [9785], [9760], [129489, 8205, 129456], [129487, 8205, 9794, 65039], [9975], [129489, 8205, 129309, 8205, 129489], [9752], [9968], [9961], [9972], [9992], [9201], [9928], [9730], [9969], [9731], [9732], [9976], [9823], [9937], [9000], [9993], [9999],
    [128105, 8205, 10084, 65039, 8205, 128139, 8205, 128104],
    [128104, 8205, 128105, 8205, 128103, 8205, 128102],
    [128104, 8205, 128105, 8205, 128102],
    // android 11
    [128512],
    [169], [174], [8482],
    [128065, 65039, 8205, 128488, 65039],
    // other
    [10002], [9986], [9935], [9874], [9876], [9881], [9939], [9879], [9904], [9905], [9888], [9762], [9763], [11014], [8599], [10145], [11013], [9883], [10017], [10013], [9766], [9654], [9197], [9199], [9167], [9792], [9794], [10006], [12336], [9877], [9884], [10004], [10035], [10055], [9724], [9642], [10083], [10084], [9996], [9757], [9997], [10052], [9878], [8618], [9775], [9770], [9774], [9745], [10036], [127344], [127359],
].map((emojiCode) => String.fromCodePoint(...emojiCode));
const CSS_FONT_FAMILY = `
	'Segoe Fluent Icons',
	'Ink Free',
	'Bahnschrift',
	'Segoe MDL2 Assets',
	'HoloLens MDL2 Assets',
	'Leelawadee UI',
	'Javanese Text',
	'Segoe UI Emoji',
	'Aldhabi',
	'Gadugi',
	'Myanmar Text',
	'Nirmala UI',
	'Lucida Console',
	'Cambria Math',
	'Bai Jamjuree',
	'Chakra Petch',
	'Charmonman',
	'Fahkwang',
	'K2D',
	'Kodchasan',
	'KoHo',
	'Sarabun',
	'Srisakdi',
	'Galvji',
	'MuktaMahee Regular',
	'InaiMathi Bold',
	'American Typewriter Semibold',
	'Futura Bold',
	'SignPainter-HouseScript Semibold',
	'PingFang HK Light',
	'Kohinoor Devanagari Medium',
	'Luminari',
	'Geneva',
	'Helvetica Neue',
	'Droid Sans Mono',
	'Dancing Script',
	'Roboto',
	'Ubuntu',
	'Liberation Mono',
	'Source Code Pro',
	'DejaVu Sans',
	'OpenSymbol',
	'Chilanka',
	'Cousine',
	'Arimo',
	'Jomolhari',
	'MONO',
	'Noto Color Emoji',
	sans-serif !important
`;
function getGpuBrand(gpu) {
    if (!gpu)
        return null;
    const gpuBrandMatcher = /(adreno|amd|apple|intel|llvm|mali|microsoft|nvidia|parallels|powervr|samsung|swiftshader|virtualbox|vmware)/i;
    const brand = (/radeon/i.test(gpu) ? 'AMD' :
        /geforce/i.test(gpu) ? 'NVIDIA' :
            (gpuBrandMatcher.exec(gpu)?.[0] || 'other').toLocaleUpperCase());
    return brand;
}
// collect fingerprints for analysis
const Analysis = {};
// use if needed to stable fingerprint
const LowerEntropy = {
    AUDIO: false,
    CANVAS: false,
    FONTS: false,
    SCREEN: false,
    TIME_ZONE: false,
    WEBGL: false,
};

// template views
function patch(oldEl, newEl, fn) {
    if (!oldEl)
        return null;
    oldEl.parentNode?.replaceChild(newEl, oldEl);
    return typeof fn === 'function' ? fn() : true;
}
function html(templateStr, ...expressionSet) {
    const template = document.createElement('template');
    template.innerHTML = templateStr.map((s, i) => `${s}${expressionSet[i] || ''}`).join('');
    return document.importNode(template.content, true);
}

const createErrorsCaptured = () => {
    const errors = [];
    return {
        getErrors: () => errors,
        captureError: (error, customMessage = '') => {
            const type = {
                Error: true,
                EvalError: true,
                InternalError: true,
                RangeError: true,
                ReferenceError: true,
                SyntaxError: true,
                TypeError: true,
                URIError: true,
                InvalidStateError: true,
                SecurityError: true,
            };
            const hasInnerSpace = (s) => /.+(\s).+/g.test(s); // ignore AOPR noise
            console.error(error); // log error to educate
            const { name, message } = error;
            const trustedMessage = (!hasInnerSpace(message) ? undefined :
                !customMessage ? message :
                    `${message} [${customMessage}]`);
            const trustedName = type[name] ? name : undefined;
            errors.push({ trustedName, trustedMessage });
            return undefined;
        },
    };
};
const errorsCaptured = createErrorsCaptured();
const { captureError } = errorsCaptured;
const attempt = (fn, customMessage = '') => {
    try {
        return fn();
    }
    catch (error) {
        if (customMessage) {
            return captureError(error, customMessage);
        }
        return captureError(error);
    }
};
const caniuse = (fn, objChainList = [], args = [], method = false) => {
    let api;
    try {
        api = fn();
    }
    catch (error) {
        return undefined;
    }
    let i;
    const len = objChainList.length;
    let chain = api;
    try {
        for (i = 0; i < len; i++) {
            const obj = objChainList[i];
            chain = chain[obj];
        }
    }
    catch (error) {
        return undefined;
    }
    return (method && args.length ? chain.apply(api, args) :
        method && !args.length ? chain.apply(api) :
            chain);
};
// Log performance time
const timer = (logStart) => {
    logStart && console.log(logStart);
    let start = 0;
    try {
        start = performance.now();
    }
    catch (error) {
        captureError(error);
    }
    return (logEnd) => {
        let end = 0;
        try {
            end = performance.now() - start;
            logEnd && console.log(`${logEnd}: ${end / 1000} seconds`);
            return end;
        }
        catch (error) {
            captureError(error);
            return 0;
        }
    };
};
const getCapturedErrors = () => ({ data: errorsCaptured.getErrors() });

/* eslint-disable new-cap */
// warm up while we detect lies
try {
    speechSynthesis.getVoices();
}
catch (err) { }
// Collect lies detected
function createLieRecords() {
    const records = {};
    return {
        getRecords: () => records,
        documentLie: (name, lie) => {
            const isArray = lie instanceof Array;
            if (records[name]) {
                if (isArray) {
                    return (records[name] = [...records[name], ...lie]);
                }
                return records[name].push(lie);
            }
            return isArray ? (records[name] = lie) : (records[name] = [lie]);
        },
    };
}
const lieRecords = createLieRecords();
const { documentLie } = lieRecords;
const GHOST = `
	height: 100vh;
	width: 100vw;
	position: absolute;
	left:-10000px;
	visibility: hidden;
`;
function getRandomValues() {
    return (String.fromCharCode(Math.random() * 26 + 97) +
        Math.random().toString(36).slice(-7));
}
function getBehemothIframe(win) {
    try {
        if (!IS_BLINK)
            return win;
        const div = win.document.createElement('div');
        div.setAttribute('id', getRandomValues());
        div.setAttribute('style', GHOST);
        div.innerHTML = `<div><iframe></iframe></div>`;
        win.document.body.appendChild(div);
        const iframe = [...[...div.childNodes][0].childNodes][0];
        if (!iframe)
            return null;
        const { contentWindow } = iframe || {};
        if (!contentWindow)
            return null;
        const div2 = contentWindow.document.createElement('div');
        div2.innerHTML = `<div><iframe></iframe></div>`;
        contentWindow.document.body.appendChild(div2);
        const iframe2 = [...[...div2.childNodes][0].childNodes][0];
        return iframe2.contentWindow;
    }
    catch (error) {
        captureError(error, 'client blocked behemoth iframe');
        return win;
    }
}
const RAND = getRandomValues();
const HAS_REFLECT = 'Reflect' in self;
function isTypeError(err) {
    return err.constructor.name == 'TypeError';
}
function failsTypeError({ spawnErr, withStack, final }) {
    try {
        spawnErr();
        throw Error();
    }
    catch (err) {
        if (!isTypeError(err))
            return true;
        return withStack ? withStack(err) : false;
    }
    finally {
        final && final();
    }
}
function failsWithError(fn) {
    try {
        fn();
        return false;
    }
    catch (err) {
        return true;
    }
}
function hasKnownToString(name) {
    return {
        [`function ${name}() { [native code] }`]: true,
        [`function get ${name}() { [native code] }`]: true,
        [`function () { [native code] }`]: true,
        [`function ${name}() {${'\n'}    [native code]${'\n'}}`]: true,
        [`function get ${name}() {${'\n'}    [native code]${'\n'}}`]: true,
        [`function () {${'\n'}    [native code]${'\n'}}`]: true,
    };
}
function hasValidStack(err, reg, i = 1) {
    if (i === 0)
        return reg.test(err.message);
    return reg.test(err.stack.split('\n')[i]);
}
const AT_FUNCTION = /at Function\.toString /;
const AT_OBJECT = /at Object\.toString/;
const FUNCTION_INSTANCE = /at (Function\.)?\[Symbol.hasInstance\]/; // useful if < Chrome 102
const PROXY_INSTANCE = /at (Proxy\.)?\[Symbol.hasInstance\]/; // useful if < Chrome 102
const STRICT_MODE = /strict mode/;
function queryLies({ scope, apiFunction, proto, obj, lieProps, }) {
    if (typeof apiFunction != 'function') {
        return {
            lied: 0,
            lieTypes: [],
        };
    }
    const name = apiFunction.name.replace(/get\s/, '');
    const objName = obj?.name;
    const nativeProto = Object.getPrototypeOf(apiFunction);
    let lies = {
        // custom lie string names
        ['failed illegal error']: !!obj && failsTypeError({
            spawnErr: () => obj.prototype[name],
        }),
        ['failed undefined properties']: (!!obj && /^(screen|navigator)$/i.test(objName) && !!(Object.getOwnPropertyDescriptor(self[objName.toLowerCase()], name) || (HAS_REFLECT &&
            Reflect.getOwnPropertyDescriptor(self[objName.toLowerCase()], name)))),
        ['failed call interface error']: failsTypeError({
            spawnErr: () => {
                // @ts-expect-error
                new apiFunction();
                apiFunction.call(proto);
            },
        }),
        ['failed apply interface error']: failsTypeError({
            spawnErr: () => {
                // @ts-expect-error
                new apiFunction();
                apiFunction.apply(proto);
            },
        }),
        ['failed new instance error']: failsTypeError({
            // @ts-expect-error
            spawnErr: () => new apiFunction(),
        }),
        ['failed class extends error']: !IS_WEBKIT && failsTypeError({
            spawnErr: () => {
                // @ts-expect-error
                class Fake extends apiFunction {
                }
            },
        }),
        ['failed null conversion error']: failsTypeError({
            spawnErr: () => Object.setPrototypeOf(apiFunction, null).toString(),
            final: () => Object.setPrototypeOf(apiFunction, nativeProto),
        }),
        ['failed toString']: (!hasKnownToString(name)[scope.Function.prototype.toString.call(apiFunction)] ||
            !hasKnownToString('toString')[scope.Function.prototype.toString.call(apiFunction.toString)]),
        ['failed "prototype" in function']: 'prototype' in apiFunction,
        ['failed descriptor']: !!(Object.getOwnPropertyDescriptor(apiFunction, 'arguments') ||
            Reflect.getOwnPropertyDescriptor(apiFunction, 'arguments') ||
            Object.getOwnPropertyDescriptor(apiFunction, 'caller') ||
            Reflect.getOwnPropertyDescriptor(apiFunction, 'caller') ||
            Object.getOwnPropertyDescriptor(apiFunction, 'prototype') ||
            Reflect.getOwnPropertyDescriptor(apiFunction, 'prototype') ||
            Object.getOwnPropertyDescriptor(apiFunction, 'toString') ||
            Reflect.getOwnPropertyDescriptor(apiFunction, 'toString')),
        ['failed own property']: !!(apiFunction.hasOwnProperty('arguments') ||
            apiFunction.hasOwnProperty('caller') ||
            apiFunction.hasOwnProperty('prototype') ||
            apiFunction.hasOwnProperty('toString')),
        ['failed descriptor keys']: (Object.keys(Object.getOwnPropertyDescriptors(apiFunction)).sort().toString() != 'length,name'),
        ['failed own property names']: (Object.getOwnPropertyNames(apiFunction).sort().toString() != 'length,name'),
        ['failed own keys names']: HAS_REFLECT && (Reflect.ownKeys(apiFunction).sort().toString() != 'length,name'),
        // Proxy Detection
        ['failed object toString error']: (failsTypeError({
            spawnErr: () => Object.create(apiFunction).toString(),
            withStack: (err) => IS_BLINK && !hasValidStack(err, AT_FUNCTION),
        }) ||
            failsTypeError({
                spawnErr: () => Object.create(new Proxy(apiFunction, {})).toString(),
                withStack: (err) => IS_BLINK && !hasValidStack(err, AT_OBJECT),
            })),
        ['failed at incompatible proxy error']: failsTypeError({
            spawnErr: () => {
                apiFunction.arguments;
                apiFunction.caller;
            },
            withStack: (err) => IS_GECKO && !hasValidStack(err, STRICT_MODE, 0),
        }),
        ['failed at toString incompatible proxy error']: failsTypeError({
            spawnErr: () => {
                apiFunction.toString.arguments;
                apiFunction.toString.caller;
            },
            withStack: (err) => IS_GECKO && !hasValidStack(err, STRICT_MODE, 0),
        }),
        ['failed at too much recursion error']: failsTypeError({
            spawnErr: () => {
                Object.setPrototypeOf(apiFunction, Object.create(apiFunction)).toString();
            },
            final: () => Object.setPrototypeOf(apiFunction, nativeProto),
        }),
    };
    // conditionally increase difficulty
    const detectProxies = (name == 'toString' ||
        !!lieProps['Function.toString'] ||
        !!lieProps['Permissions.query']);
    if (detectProxies) {
        const proxy1 = new Proxy(apiFunction, {});
        const proxy2 = new Proxy(apiFunction, {});
        const proxy3 = new Proxy(apiFunction, {});
        lies = {
            ...lies,
            // Advanced Proxy Detection
            ['failed at too much recursion __proto__ error']: !failsTypeError({
                spawnErr: () => {
                    // @ts-expect-error
                    apiFunction.__proto__ = proxy;
                    apiFunction++;
                },
                final: () => Object.setPrototypeOf(apiFunction, nativeProto),
            }),
            ['failed at chain cycle error']: !failsTypeError({
                spawnErr: () => {
                    Object.setPrototypeOf(proxy1, Object.create(proxy1)).toString();
                },
                final: () => Object.setPrototypeOf(proxy1, nativeProto),
            }),
            ['failed at chain cycle __proto__ error']: !failsTypeError({
                spawnErr: () => {
                    // @ts-expect-error
                    proxy2.__proto__ = proxy2;
                    proxy2++;
                },
                final: () => Object.setPrototypeOf(proxy2, nativeProto),
            }),
            ['failed at reflect set proto']: HAS_REFLECT && failsTypeError({
                spawnErr: () => {
                    Reflect.setPrototypeOf(apiFunction, Object.create(apiFunction));
                    RAND in apiFunction;
                    throw new TypeError();
                },
                final: () => Object.setPrototypeOf(apiFunction, nativeProto),
            }),
            ['failed at reflect set proto proxy']: HAS_REFLECT && !failsTypeError({
                spawnErr: () => {
                    Reflect.setPrototypeOf(proxy3, Object.create(proxy3));
                    RAND in proxy3;
                },
                final: () => Object.setPrototypeOf(proxy3, nativeProto),
            }),
            ['failed at instanceof check error']: IS_BLINK && (failsTypeError({
                spawnErr: () => {
                    apiFunction instanceof apiFunction;
                },
                withStack: (err) => !hasValidStack(err, FUNCTION_INSTANCE),
            }) ||
                failsTypeError({
                    spawnErr: () => {
                        const proxy = new Proxy(apiFunction, {});
                        proxy instanceof proxy;
                    },
                    withStack: (err) => !hasValidStack(err, PROXY_INSTANCE),
                })),
            ['failed at define properties']: IS_BLINK && HAS_REFLECT && failsWithError(() => {
                Object.defineProperty(apiFunction, '', { configurable: true }).toString();
                Reflect.deleteProperty(apiFunction, '');
            }),
        };
    }
    const lieTypes = Object.keys(lies).filter((key) => !!lies[key]);
    return {
        lied: lieTypes.length,
        lieTypes,
    };
}
function createLieDetector(scope) {
    const isSupported = (obj) => typeof obj != 'undefined' && !!obj;
    const props = {}; // lie list and detail
    const propsSearched = []; // list of properties searched
    return {
        getProps: () => props,
        getPropsSearched: () => propsSearched,
        searchLies: (fn, config) => {
            const { target, ignore } = config || {};
            let obj;
            // check if api is blocked or not supported
            try {
                obj = fn();
                if (!isSupported(obj)) {
                    return;
                }
            }
            catch (error) {
                return;
            }
            const interfaceObject = !!obj.prototype ? obj.prototype : obj;
            [...new Set([
                    ...Object.getOwnPropertyNames(interfaceObject),
                    ...Object.keys(interfaceObject), // backup
                ])].sort().forEach((name) => {
                const skip = (name == 'constructor' ||
                    (target && !new Set(target).has(name)) ||
                    (ignore && new Set(ignore).has(name)));
                if (skip)
                    return;
                const objectNameString = /\s(.+)\]/;
                const apiName = `${obj.name ? obj.name :
                    objectNameString.test(obj) ? objectNameString.exec(obj)?.[1] :
                        undefined}.${name}`;
                propsSearched.push(apiName);
                try {
                    const proto = obj.prototype ? obj.prototype : obj;
                    let res; // response from getLies
                    // search if function
                    try {
                        const apiFunction = proto[name]; // may trigger TypeError
                        if (typeof apiFunction == 'function') {
                            res = queryLies({
                                scope,
                                apiFunction: proto[name],
                                proto,
                                obj: null,
                                lieProps: props,
                            });
                            if (res.lied) {
                                documentLie(apiName, res.lieTypes);
                                return (props[apiName] = res.lieTypes);
                            }
                            return;
                        }
                        // since there is no TypeError and the typeof is not a function,
                        // handle invalid values and ignore name, length, and constants
                        if (name != 'name' &&
                            name != 'length' &&
                            name[0] !== name[0].toUpperCase()) {
                            const lie = ['failed descriptor.value undefined'];
                            documentLie(apiName, lie);
                            return (props[apiName] = lie);
                        }
                    }
                    catch (error) { }
                    // else search getter function
                    // @ts-ignore
                    const getterFunction = Object.getOwnPropertyDescriptor(proto, name).get;
                    res = queryLies({
                        scope,
                        apiFunction: getterFunction,
                        proto,
                        obj,
                        lieProps: props,
                    }); // send the obj for special tests
                    if (res.lied) {
                        documentLie(apiName, res.lieTypes);
                        return (props[apiName] = res.lieTypes);
                    }
                    return;
                }
                catch (error) {
                    const lie = `failed prototype test execution`;
                    documentLie(apiName, lie);
                    return (props[apiName] = [lie]);
                }
            });
        },
    };
}
function getPhantomIframe() {
    if (IS_WORKER_SCOPE)
        return { iframeWindow: self };
    try {
        const numberOfIframes = self.length;
        const frag = new DocumentFragment();
        const div = document.createElement('div');
        const id = getRandomValues();
        div.setAttribute('id', id);
        frag.appendChild(div);
        div.innerHTML = `<div style="${GHOST}"><iframe></iframe></div>`;
        document.body.appendChild(frag);
        const iframeWindow = self[numberOfIframes];
        const phantomWindow = getBehemothIframe(iframeWindow);
        return { iframeWindow: phantomWindow || self, div };
    }
    catch (error) {
        captureError(error, 'client blocked phantom iframe');
        return { iframeWindow: self };
    }
}
const { iframeWindow: PHANTOM_DARKNESS, div: PARENT_PHANTOM } = getPhantomIframe() || {};
function getPrototypeLies(scope) {
    const lieDetector = createLieDetector(scope);
    const { searchLies, } = lieDetector;
    // search lies: remove target to search all properties
    // test Function.toString first to determine the depth of the search
    searchLies(() => Function, {
        target: [
            'toString',
        ],
        ignore: [
            'caller',
            'arguments',
        ],
    });
    // other APIs
    searchLies(() => AnalyserNode);
    searchLies(() => AudioBuffer, {
        target: [
            'copyFromChannel',
            'getChannelData',
        ],
    });
    searchLies(() => BiquadFilterNode, {
        target: [
            'getFrequencyResponse',
        ],
    });
    searchLies(() => CanvasRenderingContext2D, {
        target: [
            'getImageData',
            'getLineDash',
            'isPointInPath',
            'isPointInStroke',
            'measureText',
            'quadraticCurveTo',
            'fillText',
            'strokeText',
            'font',
        ],
    });
    searchLies(() => CSSStyleDeclaration, {
        target: [
            'setProperty',
        ],
    });
    // @ts-expect-error
    searchLies(() => CSS2Properties, {
        target: [
            'setProperty',
        ],
    });
    searchLies(() => Date, {
        target: [
            'getDate',
            'getDay',
            'getFullYear',
            'getHours',
            'getMinutes',
            'getMonth',
            'getTime',
            'getTimezoneOffset',
            'setDate',
            'setFullYear',
            'setHours',
            'setMilliseconds',
            'setMonth',
            'setSeconds',
            'setTime',
            'toDateString',
            'toJSON',
            'toLocaleDateString',
            'toLocaleString',
            'toLocaleTimeString',
            'toString',
            'toTimeString',
            'valueOf',
        ],
    });
    searchLies(() => Intl.DateTimeFormat, {
        target: [
            'format',
            'formatRange',
            'formatToParts',
            'resolvedOptions',
        ],
    });
    searchLies(() => Document, {
        target: [
            'createElement',
            'createElementNS',
            'getElementById',
            'getElementsByClassName',
            'getElementsByName',
            'getElementsByTagName',
            'getElementsByTagNameNS',
            'referrer',
            'write',
            'writeln',
        ],
        ignore: [
            // Gecko
            'onreadystatechange',
            'onmouseenter',
            'onmouseleave',
        ],
    });
    searchLies(() => DOMRect);
    searchLies(() => DOMRectReadOnly);
    searchLies(() => Element, {
        target: [
            'append',
            'appendChild',
            'getBoundingClientRect',
            'getClientRects',
            'insertAdjacentElement',
            'insertAdjacentHTML',
            'insertAdjacentText',
            'insertBefore',
            'prepend',
            'replaceChild',
            'replaceWith',
            'setAttribute',
        ],
    });
    searchLies(() => FontFace, {
        target: [
            'family',
            'load',
            'status',
        ],
    });
    searchLies(() => HTMLCanvasElement);
    searchLies(() => HTMLElement, {
        target: [
            'clientHeight',
            'clientWidth',
            'offsetHeight',
            'offsetWidth',
            'scrollHeight',
            'scrollWidth',
        ],
        ignore: [
            // Gecko
            'onmouseenter',
            'onmouseleave',
        ],
    });
    searchLies(() => HTMLIFrameElement, {
        target: [
            'contentDocument',
            'contentWindow',
        ],
    });
    searchLies(() => IntersectionObserverEntry, {
        target: [
            'boundingClientRect',
            'intersectionRect',
            'rootBounds',
        ],
    });
    searchLies(() => Math, {
        target: [
            'acos',
            'acosh',
            'asinh',
            'atan',
            'atan2',
            'atanh',
            'cbrt',
            'cos',
            'cosh',
            'exp',
            'expm1',
            'log',
            'log10',
            'log1p',
            'sin',
            'sinh',
            'sqrt',
            'tan',
            'tanh',
        ],
    });
    searchLies(() => MediaDevices, {
        target: [
            'enumerateDevices',
            'getDisplayMedia',
            'getUserMedia',
        ],
    });
    searchLies(() => Navigator, {
        target: [
            'appCodeName',
            'appName',
            'appVersion',
            'buildID',
            'connection',
            'deviceMemory',
            'getBattery',
            'getGamepads',
            'getVRDisplays',
            'hardwareConcurrency',
            'language',
            'languages',
            'maxTouchPoints',
            'mimeTypes',
            'oscpu',
            'platform',
            'plugins',
            'product',
            'productSub',
            'sendBeacon',
            'serviceWorker',
            'userAgent',
            'vendor',
            'vendorSub',
        ],
    });
    searchLies(() => Node, {
        target: [
            'appendChild',
            'insertBefore',
            'replaceChild',
        ],
    });
    // @ts-expect-error
    searchLies(() => OffscreenCanvas, {
        target: [
            'convertToBlob',
            'getContext',
        ],
    });
    // @ts-expect-error
    searchLies(() => OffscreenCanvasRenderingContext2D, {
        target: [
            'getImageData',
            'getLineDash',
            'isPointInPath',
            'isPointInStroke',
            'measureText',
            'quadraticCurveTo',
            'font',
        ],
    });
    searchLies(() => Permissions, {
        target: [
            'query',
        ],
    });
    searchLies(() => Range, {
        target: [
            'getBoundingClientRect',
            'getClientRects',
        ],
    });
    // @ts-expect-error
    searchLies(() => Intl.RelativeTimeFormat, {
        target: [
            'resolvedOptions',
        ],
    });
    searchLies(() => Screen);
    searchLies(() => speechSynthesis, {
        target: [
            'getVoices',
        ],
    });
    searchLies(() => String, {
        target: [
            'fromCodePoint',
        ],
    });
    searchLies(() => SVGRect);
    searchLies(() => SVGRectElement, {
        target: [
            'getBBox',
        ],
    });
    searchLies(() => SVGTextContentElement, {
        target: [
            'getExtentOfChar',
            'getSubStringLength',
            'getComputedTextLength',
        ],
    });
    searchLies(() => TextMetrics);
    searchLies(() => WebGLRenderingContext, {
        target: [
            'bufferData',
            'getParameter',
            'readPixels',
        ],
    });
    searchLies(() => WebGL2RenderingContext, {
        target: [
            'bufferData',
            'getParameter',
            'readPixels',
        ],
    });
    /* potential targets:
        RTCPeerConnection
        Plugin
        PluginArray
        MimeType
        MimeTypeArray
        Worker
        History
    */
    // return lies list and detail
    const props = lieDetector.getProps();
    const propsSearched = lieDetector.getPropsSearched();
    return {
        lieDetector,
        lieList: Object.keys(props).sort(),
        lieDetail: props,
        lieCount: Object.keys(props).reduce((acc, key) => acc + props[key].length, 0),
        propsSearched,
    };
}
// start program
const start = performance.now();
const { lieDetector, lieList, lieDetail, 
// lieCount,
propsSearched, } = getPrototypeLies(PHANTOM_DARKNESS); // execute and destructure the list and detail
// disregard Function.prototype.toString lies when determining if the API can be trusted
const getNonFunctionToStringLies = (x) => !x ? x : x.filter((x) => !/object toString|toString incompatible proxy/.test(x)).length;
let lieProps;
let prototypeLies;
if (!IS_WORKER_SCOPE) {
    lieProps = (() => {
        const props = lieDetector.getProps();
        return Object.keys(props).reduce((acc, key) => {
            acc[key] = getNonFunctionToStringLies(props[key]);
            return acc;
        }, {});
    })();
    prototypeLies = JSON.parse(JSON.stringify(lieDetail));
    const perf = performance.now() - start;
    +perf.toFixed(2);
}
const getPluginLies = (plugins, mimeTypes) => {
    const lies = []; // collect lie types
    const pluginsOwnPropertyNames = Object.getOwnPropertyNames(plugins).filter((name) => isNaN(+name));
    const mimeTypesOwnPropertyNames = Object.getOwnPropertyNames(mimeTypes).filter((name) => isNaN(+name));
    // cast to array
    const pluginsList = [...plugins];
    const mimeTypesList = [...mimeTypes];
    // get initial trusted mimeType names
    const trustedMimeTypes = new Set(mimeTypesOwnPropertyNames);
    // get initial trusted plugin names
    const excludeDuplicates = (arr) => [...new Set(arr)];
    const mimeTypeEnabledPlugins = excludeDuplicates(mimeTypesList.map((mimeType) => mimeType.enabledPlugin));
    const trustedPluginNames = new Set(pluginsOwnPropertyNames);
    const mimeTypeEnabledPluginsNames = mimeTypeEnabledPlugins.map((plugin) => plugin && plugin.name);
    const trustedPluginNamesArray = [...trustedPluginNames];
    trustedPluginNamesArray.forEach((name) => {
        const validName = new Set(mimeTypeEnabledPluginsNames).has(name);
        if (!validName) {
            trustedPluginNames.delete(name);
        }
    });
    // 3. Expect MimeType object in plugins
    const invalidPlugins = pluginsList.filter((plugin) => {
        try {
            const validMimeType = Object.getPrototypeOf(plugin[0]).constructor.name == 'MimeType';
            if (!validMimeType) {
                trustedPluginNames.delete(plugin.name);
            }
            return !validMimeType;
        }
        catch (error) {
            trustedPluginNames.delete(plugin.name);
            return true; // sign of tampering
        }
    });
    if (invalidPlugins.length) {
        lies.push('missing mimetype');
    }
    // 4. Expect valid MimeType(s) in plugin
    const pluginMimeTypes = pluginsList
        .map((plugin) => Object.values(plugin)).flat();
    const pluginMimeTypesNames = pluginMimeTypes.map((mimetype) => mimetype.type);
    pluginMimeTypesNames.forEach((name) => {
        const validName = trustedMimeTypes.has(name);
        if (!validName) {
            trustedMimeTypes.delete(name);
        }
    });
    pluginsList.forEach((plugin) => {
        const pluginMimeTypes = Object.values(plugin).map((mimetype) => mimetype.type);
        return pluginMimeTypes.forEach((mimetype) => {
            if (!trustedMimeTypes.has(mimetype)) {
                lies.push('invalid mimetype');
                return trustedPluginNames.delete(plugin.name);
            }
            return;
        });
    });
    return {
        validPlugins: pluginsList.filter((plugin) => trustedPluginNames.has(plugin.name)),
        validMimeTypes: mimeTypesList.filter((mimeType) => trustedMimeTypes.has(mimeType.type)),
        lies: [...new Set(lies)], // remove duplicates
    };
};
const getLies = () => {
    const records = lieRecords.getRecords();
    const totalLies = Object.keys(records).reduce((acc, key) => {
        acc += records[key].length;
        return acc;
    }, 0);
    return { data: records, totalLies };
};

// Detect proxy behavior
const proxyBehavior = (x) => typeof x == 'function' ? true : false;
// Detect gibberish
const accept = { 'aa': 1, 'ab': 1, 'ac': 1, 'ad': 1, 'ae': 1, 'af': 1, 'ag': 1, 'ah': 1, 'ai': 1, 'aj': 1, 'ak': 1, 'al': 1, 'am': 1, 'an': 1, 'ao': 1, 'ap': 1, 'aq': 1, 'ar': 1, 'as': 1, 'at': 1, 'au': 1, 'av': 1, 'aw': 1, 'ax': 1, 'ay': 1, 'az': 1, 'ba': 1, 'bb': 1, 'bc': 1, 'bd': 1, 'be': 1, 'bf': 1, 'bg': 1, 'bh': 1, 'bi': 1, 'bj': 1, 'bk': 1, 'bl': 1, 'bm': 1, 'bn': 1, 'bo': 1, 'bp': 1, 'br': 1, 'bs': 1, 'bt': 1, 'bu': 1, 'bv': 1, 'bw': 1, 'bx': 1, 'by': 1, 'ca': 1, 'cb': 1, 'cc': 1, 'cd': 1, 'ce': 1, 'cg': 1, 'ch': 1, 'ci': 1, 'ck': 1, 'cl': 1, 'cm': 1, 'cn': 1, 'co': 1, 'cp': 1, 'cq': 1, 'cr': 1, 'cs': 1, 'ct': 1, 'cu': 1, 'cw': 1, 'cy': 1, 'cz': 1, 'da': 1, 'db': 1, 'dc': 1, 'dd': 1, 'de': 1, 'df': 1, 'dg': 1, 'dh': 1, 'di': 1, 'dj': 1, 'dk': 1, 'dl': 1, 'dm': 1, 'dn': 1, 'do': 1, 'dp': 1, 'dq': 1, 'dr': 1, 'ds': 1, 'dt': 1, 'du': 1, 'dv': 1, 'dw': 1, 'dx': 1, 'dy': 1, 'dz': 1, 'ea': 1, 'eb': 1, 'ec': 1, 'ed': 1, 'ee': 1, 'ef': 1, 'eg': 1, 'eh': 1, 'ei': 1, 'ej': 1, 'ek': 1, 'el': 1, 'em': 1, 'en': 1, 'eo': 1, 'ep': 1, 'eq': 1, 'er': 1, 'es': 1, 'et': 1, 'eu': 1, 'ev': 1, 'ew': 1, 'ex': 1, 'ey': 1, 'ez': 1, 'fa': 1, 'fb': 1, 'fc': 1, 'fd': 1, 'fe': 1, 'ff': 1, 'fg': 1, 'fh': 1, 'fi': 1, 'fj': 1, 'fk': 1, 'fl': 1, 'fm': 1, 'fn': 1, 'fo': 1, 'fp': 1, 'fr': 1, 'fs': 1, 'ft': 1, 'fu': 1, 'fw': 1, 'fy': 1, 'ga': 1, 'gb': 1, 'gc': 1, 'gd': 1, 'ge': 1, 'gf': 1, 'gg': 1, 'gh': 1, 'gi': 1, 'gj': 1, 'gk': 1, 'gl': 1, 'gm': 1, 'gn': 1, 'go': 1, 'gp': 1, 'gr': 1, 'gs': 1, 'gt': 1, 'gu': 1, 'gw': 1, 'gy': 1, 'gz': 1, 'ha': 1, 'hb': 1, 'hc': 1, 'hd': 1, 'he': 1, 'hf': 1, 'hg': 1, 'hh': 1, 'hi': 1, 'hj': 1, 'hk': 1, 'hl': 1, 'hm': 1, 'hn': 1, 'ho': 1, 'hp': 1, 'hq': 1, 'hr': 1, 'hs': 1, 'ht': 1, 'hu': 1, 'hv': 1, 'hw': 1, 'hy': 1, 'ia': 1, 'ib': 1, 'ic': 1, 'id': 1, 'ie': 1, 'if': 1, 'ig': 1, 'ih': 1, 'ii': 1, 'ij': 1, 'ik': 1, 'il': 1, 'im': 1, 'in': 1, 'io': 1, 'ip': 1, 'iq': 1, 'ir': 1, 'is': 1, 'it': 1, 'iu': 1, 'iv': 1, 'iw': 1, 'ix': 1, 'iy': 1, 'iz': 1, 'ja': 1, 'jc': 1, 'je': 1, 'ji': 1, 'jj': 1, 'jk': 1, 'jn': 1, 'jo': 1, 'ju': 1, 'ka': 1, 'kb': 1, 'kc': 1, 'kd': 1, 'ke': 1, 'kf': 1, 'kg': 1, 'kh': 1, 'ki': 1, 'kj': 1, 'kk': 1, 'kl': 1, 'km': 1, 'kn': 1, 'ko': 1, 'kp': 1, 'kr': 1, 'ks': 1, 'kt': 1, 'ku': 1, 'kv': 1, 'kw': 1, 'ky': 1, 'la': 1, 'lb': 1, 'lc': 1, 'ld': 1, 'le': 1, 'lf': 1, 'lg': 1, 'lh': 1, 'li': 1, 'lj': 1, 'lk': 1, 'll': 1, 'lm': 1, 'ln': 1, 'lo': 1, 'lp': 1, 'lq': 1, 'lr': 1, 'ls': 1, 'lt': 1, 'lu': 1, 'lv': 1, 'lw': 1, 'lx': 1, 'ly': 1, 'lz': 1, 'ma': 1, 'mb': 1, 'mc': 1, 'md': 1, 'me': 1, 'mf': 1, 'mg': 1, 'mh': 1, 'mi': 1, 'mj': 1, 'mk': 1, 'ml': 1, 'mm': 1, 'mn': 1, 'mo': 1, 'mp': 1, 'mq': 1, 'mr': 1, 'ms': 1, 'mt': 1, 'mu': 1, 'mv': 1, 'mw': 1, 'my': 1, 'na': 1, 'nb': 1, 'nc': 1, 'nd': 1, 'ne': 1, 'nf': 1, 'ng': 1, 'nh': 1, 'ni': 1, 'nj': 1, 'nk': 1, 'nl': 1, 'nm': 1, 'nn': 1, 'no': 1, 'np': 1, 'nq': 1, 'nr': 1, 'ns': 1, 'nt': 1, 'nu': 1, 'nv': 1, 'nw': 1, 'nx': 1, 'ny': 1, 'nz': 1, 'oa': 1, 'ob': 1, 'oc': 1, 'od': 1, 'oe': 1, 'of': 1, 'og': 1, 'oh': 1, 'oi': 1, 'oj': 1, 'ok': 1, 'ol': 1, 'om': 1, 'on': 1, 'oo': 1, 'op': 1, 'oq': 1, 'or': 1, 'os': 1, 'ot': 1, 'ou': 1, 'ov': 1, 'ow': 1, 'ox': 1, 'oy': 1, 'oz': 1, 'pa': 1, 'pb': 1, 'pc': 1, 'pd': 1, 'pe': 1, 'pf': 1, 'pg': 1, 'ph': 1, 'pi': 1, 'pj': 1, 'pk': 1, 'pl': 1, 'pm': 1, 'pn': 1, 'po': 1, 'pp': 1, 'pr': 1, 'ps': 1, 'pt': 1, 'pu': 1, 'pw': 1, 'py': 1, 'pz': 1, 'qa': 1, 'qe': 1, 'qi': 1, 'qo': 1, 'qr': 1, 'qs': 1, 'qt': 1, 'qu': 1, 'ra': 1, 'rb': 1, 'rc': 1, 'rd': 1, 're': 1, 'rf': 1, 'rg': 1, 'rh': 1, 'ri': 1, 'rj': 1, 'rk': 1, 'rl': 1, 'rm': 1, 'rn': 1, 'ro': 1, 'rp': 1, 'rq': 1, 'rr': 1, 'rs': 1, 'rt': 1, 'ru': 1, 'rv': 1, 'rw': 1, 'rx': 1, 'ry': 1, 'rz': 1, 'sa': 1, 'sb': 1, 'sc': 1, 'sd': 1, 'se': 1, 'sf': 1, 'sg': 1, 'sh': 1, 'si': 1, 'sj': 1, 'sk': 1, 'sl': 1, 'sm': 1, 'sn': 1, 'so': 1, 'sp': 1, 'sq': 1, 'sr': 1, 'ss': 1, 'st': 1, 'su': 1, 'sv': 1, 'sw': 1, 'sy': 1, 'sz': 1, 'ta': 1, 'tb': 1, 'tc': 1, 'td': 1, 'te': 1, 'tf': 1, 'tg': 1, 'th': 1, 'ti': 1, 'tj': 1, 'tk': 1, 'tl': 1, 'tm': 1, 'tn': 1, 'to': 1, 'tp': 1, 'tr': 1, 'ts': 1, 'tt': 1, 'tu': 1, 'tv': 1, 'tw': 1, 'tx': 1, 'ty': 1, 'tz': 1, 'ua': 1, 'ub': 1, 'uc': 1, 'ud': 1, 'ue': 1, 'uf': 1, 'ug': 1, 'uh': 1, 'ui': 1, 'uj': 1, 'uk': 1, 'ul': 1, 'um': 1, 'un': 1, 'uo': 1, 'up': 1, 'uq': 1, 'ur': 1, 'us': 1, 'ut': 1, 'uu': 1, 'uv': 1, 'uw': 1, 'ux': 1, 'uy': 1, 'uz': 1, 'va': 1, 'vc': 1, 'vd': 1, 've': 1, 'vg': 1, 'vi': 1, 'vl': 1, 'vn': 1, 'vo': 1, 'vr': 1, 'vs': 1, 'vt': 1, 'vu': 1, 'vv': 1, 'vy': 1, 'vz': 1, 'wa': 1, 'wb': 1, 'wc': 1, 'wd': 1, 'we': 1, 'wf': 1, 'wg': 1, 'wh': 1, 'wi': 1, 'wj': 1, 'wk': 1, 'wl': 1, 'wm': 1, 'wn': 1, 'wo': 1, 'wp': 1, 'wr': 1, 'ws': 1, 'wt': 1, 'wu': 1, 'ww': 1, 'wy': 1, 'wz': 1, 'xa': 1, 'xb': 1, 'xc': 1, 'xe': 1, 'xf': 1, 'xg': 1, 'xh': 1, 'xi': 1, 'xl': 1, 'xm': 1, 'xn': 1, 'xo': 1, 'xp': 1, 'xq': 1, 'xs': 1, 'xt': 1, 'xu': 1, 'xv': 1, 'xw': 1, 'xx': 1, 'xy': 1, 'ya': 1, 'yb': 1, 'yc': 1, 'yd': 1, 'ye': 1, 'yf': 1, 'yg': 1, 'yh': 1, 'yi': 1, 'yj': 1, 'yk': 1, 'yl': 1, 'ym': 1, 'yn': 1, 'yo': 1, 'yp': 1, 'yr': 1, 'ys': 1, 'yt': 1, 'yu': 1, 'yv': 1, 'yw': 1, 'yx': 1, 'yz': 1, 'za': 1, 'zb': 1, 'zc': 1, 'zd': 1, 'ze': 1, 'zg': 1, 'zh': 1, 'zi': 1, 'zj': 1, 'zk': 1, 'zl': 1, 'zm': 1, 'zn': 1, 'zo': 1, 'zp': 1, 'zq': 1, 'zs': 1, 'zt': 1, 'zu': 1, 'zv': 1, 'zw': 1, 'zy': 1, 'zz': 1 };
const gibberish = (str, { strict = false } = {}) => {
    if (!str) {
        return [];
    }
    // test letter case sequence
    const letterCaseSequenceGibbers = [];
    const tests = [
        /([A-Z]{3,}[a-z])/g,
        /([a-z][A-Z]{3,})/g,
        /([a-z][A-Z]{2,}[a-z])/g,
        /([a-z][\d]{2,}[a-z])/g,
        /([A-Z][\d]{2,}[a-z])/g,
        /([a-z][\d]{2,}[A-Z])/g, // a##...B
    ];
    tests.forEach((regExp) => {
        const match = str.match(regExp);
        if (match) {
            return letterCaseSequenceGibbers.push(match.join(', '));
        }
        return;
    });
    // test letter sequence
    const letterSequenceGibbers = [];
    const clean = str.toLowerCase().replace(/\d|\W|_/g, ' ').replace(/\s+/g, ' ').trim().split(' ').join('_');
    const len = clean.length;
    const arr = [...clean];
    arr.forEach((char, index) => {
        const next = index + 1;
        if (arr[next] == '_' || char == '_' || next == len) {
            return true;
        }
        const combo = char + arr[index + 1];
        const acceptable = !!accept[combo];
        !acceptable && letterSequenceGibbers.push(combo);
        return;
    });
    const gibbers = [
        // ignore sequence if less than 3 exist
        ...(!strict && (letterSequenceGibbers.length < 3) ? [] : letterSequenceGibbers),
        ...(!strict && (letterCaseSequenceGibbers.length < 4) ? [] : letterCaseSequenceGibbers),
    ];
    const allow = [
        // known gibbers
        'bz',
        'cf',
        'fx',
        'mx',
        'vb',
        'xd',
        'gx',
        'PCIe',
        'vm',
        'NVIDIAGa',
    ];
    return gibbers.filter((x) => !allow.includes(x));
};
// WebGL Renderer helpers
function compressWebGLRenderer(x) {
    if (!x)
        return;
    return ('' + x)
        .replace(/ANGLE \(|\sDirect3D.+|\sD3D.+|\svs_.+\)|\((DRM|POLARIS|LLVM).+|Mesa.+|(ATI|INTEL)-.+|Metal\s-\s.+|NVIDIA\s[\d|\.]+/ig, '')
        .replace(/(\s(ti|\d{1,2}GB|super)$)/ig, '')
        .replace(/\s{2,}/g, ' ')
        .trim()
        .replace(/((r|g)(t|)(x|s|\d) |Graphics |GeForce |Radeon (HD |Pro |))(\d+)/i, (...args) => {
        return `${args[1]}${args[6][0]}${args[6].slice(1).replace(/\d/g, '0')}s`;
    });
}
const getWebGLRendererParts = (x) => {
    const knownParts = [
        'AMD',
        'ANGLE',
        'ASUS',
        'ATI',
        'ATI Radeon',
        'ATI Technologies Inc',
        'Adreno',
        'Android Emulator',
        'Apple',
        'Apple GPU',
        'Apple M1',
        'Chipset',
        'D3D11',
        'Direct3D',
        'Express Chipset',
        'GeForce',
        'Generation',
        'Generic Renderer',
        'Google',
        'Google SwiftShader',
        'Graphics',
        'Graphics Media Accelerator',
        'HD Graphics Family',
        'Intel',
        'Intel(R) HD Graphics',
        'Intel(R) UHD Graphics',
        'Iris',
        'KBL Graphics',
        'Mali',
        'Mesa',
        'Mesa DRI',
        'Metal',
        'Microsoft',
        'Microsoft Basic Render Driver',
        'Microsoft Corporation',
        'NVIDIA',
        'NVIDIA Corporation',
        'NVIDIAGameReadyD3D',
        'OpenGL',
        'OpenGL Engine',
        'Open Source Technology Center',
        'Parallels',
        'Parallels Display Adapter',
        'PCIe',
        'Plus Graphics',
        'PowerVR',
        'Pro Graphics',
        'Quadro',
        'Radeon',
        'Radeon Pro',
        'Radeon Pro Vega',
        'Samsung',
        'SSE2',
        'VMware',
        'VMware SVGA 3D',
        'Vega',
        'VirtualBox',
        'VirtualBox Graphics Adapter',
        'Vulkan',
        'Xe Graphics',
        'llvmpipe',
    ];
    const parts = [...knownParts].filter((name) => ('' + x).includes(name));
    return [...new Set(parts)].sort().join(', ');
};
const getWebGLRendererConfidence = (x) => {
    if (!x) {
        return;
    }
    const parts = getWebGLRendererParts(x);
    const hasKnownParts = parts.length;
    const hasBlankSpaceNoise = /\s{2,}|^\s|\s$/.test(x);
    const hasBrokenAngleStructure = /^ANGLE/.test(x) && !(/^ANGLE \((.+)\)/.exec(x) || [])[1];
    // https://chromium.googlesource.com/angle/angle/+/83fa18905d8fed4f394e4f30140a83a3e76b1577/src/gpu_info_util/SystemInfo.cpp
    // https://chromium.googlesource.com/angle/angle/+/83fa18905d8fed4f394e4f30140a83a3e76b1577/src/gpu_info_util/SystemInfo.h
    // https://chromium.googlesource.com/chromium/src/+/refs/heads/main/ui/gl/gl_version_info.cc
    /*
    const knownVendors = [
        'AMD',
        'ARM',
        'Broadcom',
        'Google',
        'ImgTec',
        'Intel',
        'Kazan',
        'NVIDIA',
        'Qualcomm',
        'VeriSilicon',
        'Vivante',
        'VMWare',
        'Apple',
        'Unknown'
    ]
    const angle = {
        vendorId: (/^ANGLE \(([^,]+),/.exec(x)||[])[1] || knownVendors.find(vendor => x.includes(vendor)),
        deviceId: (
            (x.match(/,/g)||[]).length == 2 ? (/^ANGLE \(([^,]+), ([^,]+)[,|\)]/.exec(x)||[])[2] :
                (/^ANGLE \(([^,]+), ([^,]+)[,|\)]/.exec(x)||[])[1] || (/^ANGLE \((.+)\)$/.exec(x)||[])[1]
        ).replace(/\sDirect3D.+/, '')
    }
    */
    const gibbers = gibberish(x, { strict: true }).join(', ');
    const valid = (hasKnownParts && !hasBlankSpaceNoise && !hasBrokenAngleStructure);
    const confidence = (valid && !gibbers.length ? 'high' :
        valid && gibbers.length ? 'moderate' :
            'low');
    const grade = (confidence == 'high' ? 'A' :
        confidence == 'moderate' ? 'C' :
            'F');
    const warnings = new Set([
        (hasBlankSpaceNoise ? 'found extra spaces' : undefined),
        (hasBrokenAngleStructure ? 'broken angle structure' : undefined),
    ]);
    warnings.delete(undefined);
    return {
        parts,
        warnings: [...warnings],
        gibbers,
        confidence,
        grade,
    };
};
// Collect trash values
const createTrashBin = () => {
    const bin = [];
    return {
        getBin: () => bin,
        sendToTrash: (name, val, response = undefined) => {
            const proxyLike = proxyBehavior(val);
            const value = !proxyLike ? val : 'proxy behavior detected';
            bin.push({ name, value });
            return response;
        },
    };
};
const trashBin = createTrashBin();
const { sendToTrash } = trashBin;
const getTrash = () => ({ trashBin: trashBin.getBin() });

function isFontOSBad(userAgentOS, fonts) {
    if (!userAgentOS || !fonts || !fonts.length)
        return false;
    const fontMap = fonts.reduce((acc, x) => {
        acc[x] = true;
        return acc;
    }, {});
    const isLikeWindows = ('Cambria Math' in fontMap ||
        'Nirmala UI' in fontMap ||
        'Leelawadee UI' in fontMap ||
        'HoloLens MDL2 Assets' in fontMap ||
        'Segoe Fluent Icons' in fontMap);
    const isLikeApple = ('Helvetica Neue' in fontMap ||
        'Luminari' in fontMap ||
        'PingFang HK Light' in fontMap ||
        'Futura Bold' in fontMap ||
        'InaiMathi Bold' in fontMap ||
        'Galvji' in fontMap ||
        'Chakra Petch' in fontMap);
    const isLikeLinux = ('Arimo' in fontMap ||
        'MONO' in fontMap ||
        'Ubuntu' in fontMap ||
        'Noto Color Emoji' in fontMap ||
        'Dancing Script' in fontMap ||
        'Droid Sans Mono' in fontMap ||
        'Roboto' in fontMap);
    if (isLikeWindows && userAgentOS != "Windows" /* PlatformClassifier.WINDOWS */) {
        return true;
    }
    else if (isLikeApple && userAgentOS != "Apple" /* PlatformClassifier.APPLE */) {
        return true;
    }
    else if (isLikeLinux && userAgentOS != "Linux" /* PlatformClassifier.LINUX */) {
        return true;
    }
    return false;
}
// inspired by Lalit Patel's fontdetect.js
// https://www.lalit.org/wordpress/wp-content/uploads/2008/05/fontdetect.js?ver=0.3
const WindowsFonts = {
    // https://docs.microsoft.com/en-us/typography/fonts/windows_11_font_list
    '7': [
        'Cambria Math',
        'Lucida Console',
    ],
    '8': [
        'Aldhabi',
        'Gadugi',
        'Myanmar Text',
        'Nirmala UI',
    ],
    '8.1': [
        'Leelawadee UI',
        'Javanese Text',
        'Segoe UI Emoji',
    ],
    '10': [
        'HoloLens MDL2 Assets',
        'Segoe MDL2 Assets',
        'Bahnschrift',
        'Ink Free', // 10 (v1803) +-
    ],
    '11': ['Segoe Fluent Icons'],
};
const MacOSFonts = {
    // Mavericks and below
    '10.9': [
        'Helvetica Neue',
        'Geneva', // mac (not iOS)
    ],
    // Yosemite
    '10.10': [
        'Kohinoor Devanagari Medium',
        'Luminari',
    ],
    // El Capitan
    '10.11': [
        'PingFang HK Light',
    ],
    // Sierra: https://support.apple.com/en-ie/HT206872
    '10.12': [
        'American Typewriter Semibold',
        'Futura Bold',
        'SignPainter-HouseScript Semibold',
    ],
    // High Sierra: https://support.apple.com/en-me/HT207962
    // Mojave: https://support.apple.com/en-us/HT208968
    '10.13-10.14': [
        'InaiMathi Bold',
    ],
    // Catalina: https://support.apple.com/en-us/HT210192
    // Big Sur: https://support.apple.com/en-sg/HT211240
    '10.15-11': [
        'Galvji',
        'MuktaMahee Regular',
    ],
    // Monterey: https://support.apple.com/en-us/HT212587
    '12': [
        'Bai Jamjuree',
        'Chakra Petch',
        'Charmonman',
        'Kodchasan',
    ],
};
const DesktopAppFonts = {
    // docs.microsoft.com/en-us/typography/font-list/ms-outlook
    'Microsoft Outlook': ['MS Outlook'],
    // https://community.adobe.com/t5/postscript-discussions/zwadobef-font/m-p/3730427#M785
    'Adobe Acrobat': ['ZWAdobeF'],
    // https://wiki.documentfoundation.org/Fonts
    'LibreOffice': [
        'Amiri',
        'KACSTOffice',
        'Liberation Mono',
        'Source Code Pro',
    ],
    // https://superuser.com/a/611804
    'OpenOffice': [
        'DejaVu Sans',
        'Gentium Book Basic',
        'OpenSymbol',
    ],
};
const APPLE_FONTS = Object.keys(MacOSFonts).map((key) => MacOSFonts[key]).flat();
const WINDOWS_FONTS = Object.keys(WindowsFonts).map((key) => WindowsFonts[key]).flat();
const DESKTOP_APP_FONTS = (Object.keys(DesktopAppFonts).map((key) => DesktopAppFonts[key]).flat());
const LINUX_FONTS = [
    'Arimo',
    'Chilanka',
    'Cousine',
    'Jomolhari',
    'MONO',
    'Noto Color Emoji',
    'Ubuntu', // ubuntu (not TB)
];
const ANDROID_FONTS = [
    'Dancing Script',
    'Droid Sans Mono',
    'Roboto', // Android, Chrome OS
];
const FONT_LIST = [
    ...APPLE_FONTS,
    ...WINDOWS_FONTS,
    ...LINUX_FONTS,
    ...ANDROID_FONTS,
    ...DESKTOP_APP_FONTS,
].sort();
async function getFonts() {
    const getPixelEmojis = ({ doc, id, emojis }) => {
        try {
            patch(doc.getElementById(id), html `
				<div id="pixel-emoji-container">
				<style>
					.pixel-emoji {
						font-family: ${CSS_FONT_FAMILY};
						font-size: 200px !important;
						height: auto;
						position: absolute !important;
						transform: scale(1.000999);
					}
					</style>
					${emojis.map((emoji) => {
                return `<div class="pixel-emoji">${emoji}</div>`;
            }).join('')}
				</div>
			`);
            // get emoji set and system
            const getEmojiDimensions = (style) => {
                return {
                    width: style.inlineSize,
                    height: style.blockSize,
                };
            };
            const pattern = new Set();
            const emojiElems = [...doc.getElementsByClassName('pixel-emoji')];
            const emojiSet = emojiElems.reduce((emojiSet, el, i) => {
                const style = getComputedStyle(el);
                const emoji = emojis[i];
                const { height, width } = getEmojiDimensions(style);
                const dimensions = `${width},${height}`;
                if (!pattern.has(dimensions)) {
                    pattern.add(dimensions);
                    emojiSet.add(emoji);
                }
                return emojiSet;
            }, new Set());
            const pixelToNumber = (pixels) => +(pixels.replace('px', ''));
            const pixelSizeSystemSum = 0.00001 * [...pattern].map((x) => {
                return x.split(',').map((x) => pixelToNumber(x)).reduce((acc, x) => acc += (+x || 0), 0);
            }).reduce((acc, x) => acc += x, 0);
            doc.body.removeChild(doc.getElementById('pixel-emoji-container'));
            return {
                emojiSet: [...emojiSet],
                pixelSizeSystemSum,
            };
        }
        catch (error) {
            console.error(error);
            return {
                emojiSet: [],
                pixelSizeSystemSum: 0,
            };
        }
    };
    const getFontFaceLoadFonts = async (fontList) => {
        try {
            let fontsChecked = [];
            if (!document.fonts.check(`0px "${getRandomValues()}"`)) {
                fontsChecked = fontList.reduce((acc, font) => {
                    const found = document.fonts.check(`0px "${font}"`);
                    if (found)
                        acc.push(font);
                    return acc;
                }, []);
            }
            const fontFaceList = fontList.map((font) => new FontFace(font, `local("${font}")`));
            const responseCollection = await Promise
                .allSettled(fontFaceList.map((font) => font.load()));
            const fontsLoaded = responseCollection.reduce((acc, font) => {
                if (font.status == 'fulfilled') {
                    acc.push(font.value.family);
                }
                return acc;
            }, []);
            return [...new Set([...fontsChecked, ...fontsLoaded])].sort();
        }
        catch (error) {
            console.error(error);
            return [];
        }
    };
    const getPlatformVersion = (fonts) => {
        const getWindows = ({ fonts, fontMap }) => {
            const fontVersion = {
                ['11']: fontMap['11'].find((x) => fonts.includes(x)),
                ['10']: fontMap['10'].find((x) => fonts.includes(x)),
                ['8.1']: fontMap['8.1'].find((x) => fonts.includes(x)),
                ['8']: fontMap['8'].find((x) => fonts.includes(x)),
                // require complete set of Windows 7 fonts
                ['7']: fontMap['7'].filter((x) => fonts.includes(x)).length == fontMap['7'].length,
            };
            const hash = ('' + Object.keys(fontVersion).sort().filter((key) => !!fontVersion[key]));
            const hashMap = {
                '10,11,7,8,8.1': '11',
                '10,7,8,8.1': '10',
                '7,8,8.1': '8.1',
                '11,7,8,8.1': '8.1',
                '7,8': '8',
                '10,7,8': '8',
                '10,11,7,8': '8',
                '7': '7',
                '7,8.1': '7',
                '10,7,8.1': '7',
                '10,11,7,8.1': '7', // missing 8
            };
            const version = hashMap[hash];
            return version ? `Windows ${version}` : undefined;
        };
        const getMacOS = ({ fonts, fontMap }) => {
            const fontVersion = {
                ['12']: fontMap['12'].find((x) => fonts.includes(x)),
                ['10.15-11']: fontMap['10.15-11'].find((x) => fonts.includes(x)),
                ['10.13-10.14']: fontMap['10.13-10.14'].find((x) => fonts.includes(x)),
                ['10.12']: fontMap['10.12'].find((x) => fonts.includes(x)),
                ['10.11']: fontMap['10.11'].find((x) => fonts.includes(x)),
                ['10.10']: fontMap['10.10'].find((x) => fonts.includes(x)),
                // require complete set of 10.9 fonts
                ['10.9']: fontMap['10.9'].filter((x) => fonts.includes(x)).length == fontMap['10.9'].length,
            };
            const hash = ('' + Object.keys(fontVersion).sort().filter((key) => !!fontVersion[key]));
            const hashMap = {
                '10.10,10.11,10.12,10.13-10.14,10.15-11,10.9,12': 'Monterey',
                '10.10,10.11,10.12,10.13-10.14,10.15-11,10.9': '10.15-11',
                '10.10,10.11,10.12,10.13-10.14,10.9': '10.13-10.14',
                '10.10,10.11,10.12,10.9': 'Sierra',
                '10.10,10.11,10.9': 'El Capitan',
                '10.10,10.9': 'Yosemite',
                '10.9': 'Mavericks', // 10.9
            };
            const version = hashMap[hash];
            return version ? `macOS ${version}` : undefined;
        };
        return (getWindows({ fonts, fontMap: WindowsFonts }) ||
            getMacOS({ fonts, fontMap: MacOSFonts }));
    };
    const getDesktopApps = (fonts) => {
        // @ts-ignore
        const apps = Object.keys(DesktopAppFonts).reduce((acc, key) => {
            const appFontSet = DesktopAppFonts[key];
            const match = appFontSet.filter((x) => fonts.includes(x)).length == appFontSet.length;
            return match ? [...acc, key] : acc;
        }, []);
        return apps;
    };
    try {
        const timer = createTimer();
        await queueEvent(timer);
        const doc = (PHANTOM_DARKNESS &&
            PHANTOM_DARKNESS.document &&
            PHANTOM_DARKNESS.document.body ? PHANTOM_DARKNESS.document :
            document);
        const id = `font-fingerprint`;
        const div = doc.createElement('div');
        div.setAttribute('id', id);
        doc.body.appendChild(div);
        const { emojiSet, pixelSizeSystemSum, } = getPixelEmojis({
            doc,
            id,
            emojis: EMOJIS,
        }) || {};
        const fontList = FONT_LIST;
        const fontFaceLoadFonts = await getFontFaceLoadFonts(fontList);
        const platformVersion = getPlatformVersion(fontFaceLoadFonts);
        const apps = getDesktopApps(fontFaceLoadFonts);
        // detect lies
        const lied = (lieProps['FontFace.load'] ||
            lieProps['FontFace.family'] ||
            lieProps['FontFace.status'] ||
            lieProps['String.fromCodePoint'] ||
            lieProps['CSSStyleDeclaration.setProperty'] ||
            lieProps['CSS2Properties.setProperty']);
        if (isFontOSBad(USER_AGENT_OS, fontFaceLoadFonts)) {
            LowerEntropy.FONTS = true,
                Analysis.FontOsIsBad = true;
            sendToTrash('platform', `${USER_AGENT_OS} system and fonts are suspicious`);
        }
        logTestResult({ time: timer.stop(), test: 'fonts', passed: true });
        return {
            fontFaceLoadFonts,
            platformVersion,
            apps,
            emojiSet,
            pixelSizeSystemSum,
            lied,
        };
    }
    catch (error) {
        logTestResult({ test: 'fonts', passed: false });
        captureError(error);
        return;
    }
}

let WORKER_TYPE = '';
let WORKER_NAME = '';
async function spawnWorker() {
    const ask = (fn) => {
        try {
            return fn();
        }
        catch (e) {
            return;
        }
    };
    function getWorkerPrototypeLies(scope) {
        const lieDetector = createLieDetector(scope);
        const { searchLies, } = lieDetector;
        searchLies(() => Function, {
            target: [
                'toString',
            ],
            ignore: [
                'caller',
                'arguments',
            ],
        });
        // @ts-expect-error
        searchLies(() => WorkerNavigator, {
            target: [
                'deviceMemory',
                'hardwareConcurrency',
                'language',
                'languages',
                'platform',
                'userAgent',
            ],
        });
        // return lies list and detail
        const props = lieDetector.getProps();
        const propsSearched = lieDetector.getPropsSearched();
        return {
            lieDetector,
            lieList: Object.keys(props).sort(),
            lieDetail: props,
            lieCount: Object.keys(props).reduce((acc, key) => acc + props[key].length, 0),
            propsSearched,
        };
    }
    const getUserAgentData = async (navigator) => {
        if (!('userAgentData' in navigator)) {
            return;
        }
        const data = await navigator.userAgentData.getHighEntropyValues(['platform', 'platformVersion', 'architecture', 'bitness', 'model', 'uaFullVersion']);
        const { brands, mobile } = navigator.userAgentData || {};
        const compressedBrands = (brands, captureVersion = false) => brands
            .filter((obj) => !/Not/.test(obj.brand)).map((obj) => `${obj.brand}${captureVersion ? ` ${obj.version}` : ''}`);
        const removeChromium = (brands) => (brands.length > 1 ? brands.filter((brand) => !/Chromium/.test(brand)) : brands);
        // compress brands
        if (!data.brands) {
            data.brands = brands;
        }
        data.brandsVersion = compressedBrands(data.brands, true);
        data.brands = compressedBrands(data.brands);
        data.brandsVersion = removeChromium(data.brandsVersion);
        data.brands = removeChromium(data.brands);
        if (!data.mobile) {
            data.mobile = mobile;
        }
        const dataSorted = Object.keys(data).sort().reduce((acc, key) => {
            acc[key] = data[key];
            return acc;
        }, {});
        return dataSorted;
    };
    const getWebglData = () => ask(() => {
        // @ts-ignore
        const canvasOffscreenWebgl = new OffscreenCanvas(256, 256);
        const contextWebgl = canvasOffscreenWebgl.getContext('webgl');
        const rendererInfo = contextWebgl.getExtension('WEBGL_debug_renderer_info');
        return {
            webglVendor: contextWebgl.getParameter(rendererInfo.UNMASKED_VENDOR_WEBGL),
            webglRenderer: contextWebgl.getParameter(rendererInfo.UNMASKED_RENDERER_WEBGL),
        };
    });
    const computeTimezoneOffset = () => {
        const date = new Date().getDate();
        const month = new Date().getMonth();
        // @ts-ignore
        const year = Date().split ` `[3]; // current year
        const format = (n) => ('' + n).length == 1 ? `0${n}` : n;
        const dateString = `${month + 1}/${format(date)}/${year}`;
        const dateStringUTC = `${year}-${format(month + 1)}-${format(date)}`;
        // @ts-ignore
        const utc = Date.parse(new Date(dateString));
        const now = +new Date(dateStringUTC);
        return +(((utc - now) / 60000).toFixed(0));
    };
    const getLocale = () => {
        const constructors = [
            'Collator',
            'DateTimeFormat',
            'DisplayNames',
            'ListFormat',
            'NumberFormat',
            'PluralRules',
            'RelativeTimeFormat',
        ];
        // @ts-ignore
        const locale = constructors.reduce((acc, name) => {
            try {
                const obj = new Intl[name];
                if (!obj) {
                    return acc;
                }
                const { locale } = obj.resolvedOptions() || {};
                return [...acc, locale];
            }
            catch (error) {
                return acc;
            }
        }, []);
        return [...new Set(locale)];
    };
    const getWorkerData = async () => {
        const timer = createTimer();
        await queueEvent(timer);
        const userAgentData = await getUserAgentData(navigator).catch((error) => console.error(error));
        // webgl
        const { webglVendor, webglRenderer } = getWebglData() || {};
        // timezone & locale
        const timezoneOffset = computeTimezoneOffset();
        // eslint-disable-next-line new-cap
        const timezoneLocation = Intl.DateTimeFormat().resolvedOptions().timeZone;
        const locale = getLocale();
        // navigator
        const { hardwareConcurrency, language, languages, platform, userAgent, 
        // @ts-expect-error
        deviceMemory, } = navigator || {};
        // prototype lies
        await queueEvent(timer);
        const { 
        // lieDetector: lieProps,
        lieList, lieDetail,
        // lieCount,
        // propsSearched,
         } = getWorkerPrototypeLies(self); // execute and destructure the list and detail
        // const prototypeLies = JSON.parse(JSON.stringify(lieDetail))
        const protoLieLen = lieList.length;
        // match engine locale to system locale to determine if locale entropy is trusty
        let systemCurrencyLocale;
        const lang = ('' + language).split(',')[0];
        try {
            systemCurrencyLocale = (1).toLocaleString((lang || undefined), {
                style: 'currency',
                currency: 'USD',
                currencyDisplay: 'name',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0,
            });
        }
        catch (e) { }
        const engineCurrencyLocale = (1).toLocaleString(undefined, {
            style: 'currency',
            currency: 'USD',
            currencyDisplay: 'name',
            minimumFractionDigits: 0,
            maximumFractionDigits: 0,
        });
        const localeEntropyIsTrusty = engineCurrencyLocale == systemCurrencyLocale;
        const localeIntlEntropyIsTrusty = new Set(('' + language).split(',')).has('' + locale);
        const { href, pathname } = self.location || {};
        const locationPathNameLie = (!href ||
            !pathname ||
            !/^\/(docs|creepjs|public)|\/creep.js$/.test(pathname) ||
            !new RegExp(`${pathname}$`).test(href));
        return {
            lied: protoLieLen || +locationPathNameLie,
            lies: {
                proto: protoLieLen ? lieDetail : false,
            },
            locale: '' + locale,
            systemCurrencyLocale,
            engineCurrencyLocale,
            localeEntropyIsTrusty,
            localeIntlEntropyIsTrusty,
            timezoneOffset,
            timezoneLocation,
            deviceMemory,
            hardwareConcurrency,
            language,
            languages: '' + languages,
            platform,
            userAgent,
            webglRenderer,
            webglVendor,
            userAgentData,
        };
    };
    // Compute and communicate from worker scope
    const onEvent = (eventType, fn) => addEventListener(eventType, fn);
    const send = (source) => {
        return getWorkerData().then((data) => source.postMessage(data));
    };
    if (IS_WORKER_SCOPE) {
        globalThis.ServiceWorkerGlobalScope ? onEvent('message', (e) => send(e.source)) :
            globalThis.SharedWorkerGlobalScope ? onEvent('connect', (e) => send(e.ports[0])) :
                send(self); // DedicatedWorkerGlobalScope
    }
    return IS_WORKER_SCOPE ? 0 /* Scope.WORKER */ : 1 /* Scope.WINDOW */;
}
async function getBestWorkerScope() {
    try {
        const timer = createTimer();
        await queueEvent(timer);
        const ask = (fn) => {
            try {
                return fn();
            }
            catch (e) {
                return;
            }
        };
        const hasConstructor = (x, name) => x && x.__proto__.constructor.name == name;
        const getDedicatedWorker = ({ scriptSource }) => new Promise((resolve) => {
            const giveUpOnWorker = setTimeout(() => {
                return resolve(null);
            }, 3000);
            const dedicatedWorker = ask(() => new Worker(URL.createObjectURL(new Blob([atob('KGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICAvLyBAdHMtZXhwZWN0LWVycm9yDQogICAgY29uc3QgSVNfV09SS0VSX1NDT1BFID0gIXNlbGYuZG9jdW1lbnQgJiYgc2VsZi5Xb3JrZXJHbG9iYWxTY29wZTsNCiAgICAvLyBEZXRlY3QgQnJvd3Nlcg0KICAgIGZ1bmN0aW9uIGdldEVuZ2luZSgpIHsNCiAgICAgICAgY29uc3QgeCA9IFtdLmNvbnN0cnVjdG9yOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgKC0xKS50b0ZpeGVkKC0xKTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyKSB7DQogICAgICAgICAgICByZXR1cm4gZXJyLm1lc3NhZ2UubGVuZ3RoICsgKHggKyAnJykuc3BsaXQoeC5uYW1lKS5qb2luKCcnKS5sZW5ndGg7DQogICAgICAgIH0NCiAgICB9DQogICAgY29uc3QgRU5HSU5FX0lERU5USUZJRVIgPSBnZXRFbmdpbmUoKTsNCiAgICBjb25zdCBJU19CTElOSyA9IEVOR0lORV9JREVOVElGSUVSID09IDgwOw0KICAgIGNvbnN0IElTX0dFQ0tPID0gRU5HSU5FX0lERU5USUZJRVIgPT0gNTg7DQogICAgY29uc3QgSVNfV0VCS0lUID0gRU5HSU5FX0lERU5USUZJRVIgPT0gNzc7DQogICAgY29uc3QgSlNfRU5HSU5FID0gKHsNCiAgICAgICAgODA6ICdWOCcsDQogICAgICAgIDU4OiAnU3BpZGVyTW9ua2V5JywNCiAgICAgICAgNzc6ICdKYXZhU2NyaXB0Q29yZScsDQogICAgfSlbRU5HSU5FX0lERU5USUZJRVJdIHx8IG51bGw7DQogICAgY29uc3QgTElLRV9CUkFWRSA9IElTX0JMSU5LICYmICdmbGF0JyBpbiBBcnJheS5wcm90b3R5cGUgLyogQ2hyb21lIDY5ICovICYmICEoJ1JlcG9ydGluZ09ic2VydmVyJyBpbiBzZWxmIC8qIEJyYXZlICovKTsNCiAgICBmdW5jdGlvbiBicmF2ZUJyb3dzZXIoKSB7DQogICAgICAgIGNvbnN0IGJyYXZlID0gKCdicmF2ZScgaW4gbmF2aWdhdG9yICYmDQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmF2aWdhdG9yLmJyYXZlKS5jb25zdHJ1Y3Rvci5uYW1lID09ICdCcmF2ZScgJiYNCiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgIG5hdmlnYXRvci5icmF2ZS5pc0JyYXZlLnRvU3RyaW5nKCkgPT0gJ2Z1bmN0aW9uIGlzQnJhdmUoKSB7IFtuYXRpdmUgY29kZV0gfScpOw0KICAgICAgICByZXR1cm4gYnJhdmU7DQogICAgfQ0KICAgIGZ1bmN0aW9uIGdldEJyYXZlTW9kZSgpIHsNCiAgICAgICAgY29uc3QgbW9kZSA9IHsNCiAgICAgICAgICAgIHVua25vd246IGZhbHNlLA0KICAgICAgICAgICAgYWxsb3c6IGZhbHNlLA0KICAgICAgICAgICAgc3RhbmRhcmQ6IGZhbHNlLA0KICAgICAgICAgICAgc3RyaWN0OiBmYWxzZSwNCiAgICAgICAgfTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIC8vIHN0cmljdCBtb2RlIGFkZHMgZmxvYXQgZnJlcXVlbmN5IGRhdGEgQW5hbHlzZXJOb2RlDQogICAgICAgICAgICBjb25zdCBzdHJpY3RNb2RlID0gKCkgPT4gew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5PZmZsaW5lQXVkaW9Db250ZXh0ID0gKA0KICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgICAgIE9mZmxpbmVBdWRpb0NvbnRleHQgfHwgd2Via2l0T2ZmbGluZUF1ZGlvQ29udGV4dCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHsgfQ0KICAgICAgICAgICAgICAgIGlmICghd2luZG93Lk9mZmxpbmVBdWRpb0NvbnRleHQpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IE9mZmxpbmVBdWRpb0NvbnRleHQoMSwgMSwgNDQxMDApOw0KICAgICAgICAgICAgICAgIGNvbnN0IGFuYWx5c2VyID0gY29udGV4dC5jcmVhdGVBbmFseXNlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTsNCiAgICAgICAgICAgICAgICBhbmFseXNlci5nZXRGbG9hdEZyZXF1ZW5jeURhdGEoZGF0YSk7DQogICAgICAgICAgICAgICAgY29uc3Qgc3RyaWN0ID0gbmV3IFNldChkYXRhKS5zaXplID4gMTsgLy8gbmF0aXZlIG9ubHkgaGFzIC1JbmZpbml0eQ0KICAgICAgICAgICAgICAgIHJldHVybiBzdHJpY3Q7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgaWYgKHN0cmljdE1vZGUoKSkgew0KICAgICAgICAgICAgICAgIG1vZGUuc3RyaWN0ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIHN0YW5kYXJkIGFuZCBzdHJpY3QgbW9kZSBkbyBub3QgaGF2ZSBjaHJvbWUgcGx1Z2lucw0KICAgICAgICAgICAgY29uc3QgY2hyb21lUGx1Z2lucyA9IC8oQ2hyb20oZXxpdW0pfE1pY3Jvc29mdCBFZGdlKSBQREYgKFBsdWdpbnxWaWV3ZXIpLzsNCiAgICAgICAgICAgIGNvbnN0IHBsdWdpbnNMaXN0ID0gWy4uLm5hdmlnYXRvci5wbHVnaW5zXTsNCiAgICAgICAgICAgIGNvbnN0IGhhc0Nocm9tZVBsdWdpbnMgPSBwbHVnaW5zTGlzdA0KICAgICAgICAgICAgICAgIC5maWx0ZXIoKHBsdWdpbikgPT4gY2hyb21lUGx1Z2lucy50ZXN0KHBsdWdpbi5uYW1lKSkubGVuZ3RoID09IDI7DQogICAgICAgICAgICBpZiAocGx1Z2luc0xpc3QubGVuZ3RoICYmICFoYXNDaHJvbWVQbHVnaW5zKSB7DQogICAgICAgICAgICAgICAgbW9kZS5zdGFuZGFyZCA9IHRydWU7DQogICAgICAgICAgICAgICAgcmV0dXJuIG1vZGU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBtb2RlLmFsbG93ID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBtb2RlOw0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlKSB7DQogICAgICAgICAgICBtb2RlLnVua25vd24gPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIG1vZGU7DQogICAgICAgIH0NCiAgICB9DQogICAgY29uc3QgZ2V0QnJhdmVVbnByb3RlY3RlZFBhcmFtZXRlcnMgPSAocGFyYW1ldGVycykgPT4gew0KICAgICAgICBjb25zdCBibG9ja2VkID0gbmV3IFNldChbDQogICAgICAgICAgICAnRlJBR01FTlRfU0hBREVSLkhJR0hfRkxPQVQucHJlY2lzaW9uJywNCiAgICAgICAgICAgICdGUkFHTUVOVF9TSEFERVIuSElHSF9GTE9BVC5yYW5nZU1heCcsDQogICAgICAgICAgICAnRlJBR01FTlRfU0hBREVSLkhJR0hfRkxPQVQucmFuZ2VNaW4nLA0KICAgICAgICAgICAgJ0ZSQUdNRU5UX1NIQURFUi5ISUdIX0lOVC5wcmVjaXNpb24nLA0KICAgICAgICAgICAgJ0ZSQUdNRU5UX1NIQURFUi5ISUdIX0lOVC5yYW5nZU1heCcsDQogICAgICAgICAgICAnRlJBR01FTlRfU0hBREVSLkhJR0hfSU5ULnJhbmdlTWluJywNCiAgICAgICAgICAgICdGUkFHTUVOVF9TSEFERVIuTE9XX0ZMT0FULnByZWNpc2lvbicsDQogICAgICAgICAgICAnRlJBR01FTlRfU0hBREVSLkxPV19GTE9BVC5yYW5nZU1heCcsDQogICAgICAgICAgICAnRlJBR01FTlRfU0hBREVSLkxPV19GTE9BVC5yYW5nZU1pbicsDQogICAgICAgICAgICAnRlJBR01FTlRfU0hBREVSLk1FRElVTV9GTE9BVC5wcmVjaXNpb24nLA0KICAgICAgICAgICAgJ0ZSQUdNRU5UX1NIQURFUi5NRURJVU1fRkxPQVQucmFuZ2VNYXgnLA0KICAgICAgICAgICAgJ0ZSQUdNRU5UX1NIQURFUi5NRURJVU1fRkxPQVQucmFuZ2VNaW4nLA0KICAgICAgICAgICAgJ01BWF9DT01CSU5FRF9GUkFHTUVOVF9VTklGT1JNX0NPTVBPTkVOVFMnLA0KICAgICAgICAgICAgJ01BWF9DT01CSU5FRF9VTklGT1JNX0JMT0NLUycsDQogICAgICAgICAgICAnTUFYX0NPTUJJTkVEX1ZFUlRFWF9VTklGT1JNX0NPTVBPTkVOVFMnLA0KICAgICAgICAgICAgJ01BWF9EUkFXX0JVRkZFUlNfV0VCR0wnLA0KICAgICAgICAgICAgJ01BWF9GUkFHTUVOVF9JTlBVVF9DT01QT05FTlRTJywNCiAgICAgICAgICAgICdNQVhfRlJBR01FTlRfVU5JRk9STV9CTE9DS1MnLA0KICAgICAgICAgICAgJ01BWF9GUkFHTUVOVF9VTklGT1JNX0NPTVBPTkVOVFMnLA0KICAgICAgICAgICAgJ01BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCcsDQogICAgICAgICAgICAnTUFYX1RSQU5TRk9STV9GRUVEQkFDS19JTlRFUkxFQVZFRF9DT01QT05FTlRTJywNCiAgICAgICAgICAgICdNQVhfVU5JRk9STV9CVUZGRVJfQklORElOR1MnLA0KICAgICAgICAgICAgJ01BWF9WQVJZSU5HX0NPTVBPTkVOVFMnLA0KICAgICAgICAgICAgJ01BWF9WRVJURVhfT1VUUFVUX0NPTVBPTkVOVFMnLA0KICAgICAgICAgICAgJ01BWF9WRVJURVhfVU5JRk9STV9CTE9DS1MnLA0KICAgICAgICAgICAgJ01BWF9WRVJURVhfVU5JRk9STV9DT01QT05FTlRTJywNCiAgICAgICAgICAgICdTSEFESU5HX0xBTkdVQUdFX1ZFUlNJT04nLA0KICAgICAgICAgICAgJ1VOTUFTS0VEX1JFTkRFUkVSX1dFQkdMJywNCiAgICAgICAgICAgICdVTk1BU0tFRF9WRU5ET1JfV0VCR0wnLA0KICAgICAgICAgICAgJ1ZFUlNJT04nLA0KICAgICAgICAgICAgJ1ZFUlRFWF9TSEFERVIuSElHSF9GTE9BVC5wcmVjaXNpb24nLA0KICAgICAgICAgICAgJ1ZFUlRFWF9TSEFERVIuSElHSF9GTE9BVC5yYW5nZU1heCcsDQogICAgICAgICAgICAnVkVSVEVYX1NIQURFUi5ISUdIX0ZMT0FULnJhbmdlTWluJywNCiAgICAgICAgICAgICdWRVJURVhfU0hBREVSLkhJR0hfSU5ULnByZWNpc2lvbicsDQogICAgICAgICAgICAnVkVSVEVYX1NIQURFUi5ISUdIX0lOVC5yYW5nZU1heCcsDQogICAgICAgICAgICAnVkVSVEVYX1NIQURFUi5ISUdIX0lOVC5yYW5nZU1pbicsDQogICAgICAgICAgICAnVkVSVEVYX1NIQURFUi5MT1dfRkxPQVQucHJlY2lzaW9uJywNCiAgICAgICAgICAgICdWRVJURVhfU0hBREVSLkxPV19GTE9BVC5yYW5nZU1heCcsDQogICAgICAgICAgICAnVkVSVEVYX1NIQURFUi5MT1dfRkxPQVQucmFuZ2VNaW4nLA0KICAgICAgICAgICAgJ1ZFUlRFWF9TSEFERVIuTUVESVVNX0ZMT0FULnByZWNpc2lvbicsDQogICAgICAgICAgICAnVkVSVEVYX1NIQURFUi5NRURJVU1fRkxPQVQucmFuZ2VNYXgnLA0KICAgICAgICAgICAgJ1ZFUlRFWF9TSEFERVIuTUVESVVNX0ZMT0FULnJhbmdlTWluJywNCiAgICAgICAgXSk7DQogICAgICAgIGNvbnN0IHNhZmVQYXJhbWV0ZXJzID0gT2JqZWN0LmtleXMocGFyYW1ldGVycykucmVkdWNlKChhY2MsIGN1cnIpID0+IHsNCiAgICAgICAgICAgIGlmIChibG9ja2VkLmhhcyhjdXJyKSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBhY2NbY3Vycl0gPSBwYXJhbWV0ZXJzW2N1cnJdOw0KICAgICAgICAgICAgcmV0dXJuIGFjYzsNCiAgICAgICAgfSwge30pOw0KICAgICAgICByZXR1cm4gc2FmZVBhcmFtZXRlcnM7DQogICAgfTsNCiAgICAvLyBzeXN0ZW0NCiAgICBjb25zdCBnZXRPUyA9ICh1c2VyQWdlbnQpID0+IHsNCiAgICAgICAgY29uc3Qgb3MgPSAoDQogICAgICAgIC8vIG9yZGVyIGlzIGltcG9ydGFudA0KICAgICAgICAvd2luZG93cyBwaG9uZS9pZy50ZXN0KHVzZXJBZ2VudCkgPyAnV2luZG93cyBQaG9uZScgOg0KICAgICAgICAgICAgL3dpbihkb3dzfDE2fDMyfDY0fDk1fDk4fG50KXx3b3c2NC9pZy50ZXN0KHVzZXJBZ2VudCkgPyAnV2luZG93cycgOg0KICAgICAgICAgICAgICAgIC9hbmRyb2lkL2lnLnRlc3QodXNlckFnZW50KSA/ICdBbmRyb2lkJyA6DQogICAgICAgICAgICAgICAgICAgIC9jcm9zL2lnLnRlc3QodXNlckFnZW50KSA/ICdDaHJvbWUgT1MnIDoNCiAgICAgICAgICAgICAgICAgICAgICAgIC9saW51eC9pZy50ZXN0KHVzZXJBZ2VudCkgPyAnTGludXgnIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvaXBhZC9pZy50ZXN0KHVzZXJBZ2VudCkgPyAnaVBhZCcgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvaXBob25lL2lnLnRlc3QodXNlckFnZW50KSA/ICdpUGhvbmUnIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9pcG9kL2lnLnRlc3QodXNlckFnZW50KSA/ICdpUG9kJyA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL2lvcy9pZy50ZXN0KHVzZXJBZ2VudCkgPyAnaU9TJyA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9tYWMvaWcudGVzdCh1c2VyQWdlbnQpID8gJ01hYycgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ090aGVyJyk7DQogICAgICAgIHJldHVybiBvczsNCiAgICB9Ow0KICAgIGZ1bmN0aW9uIGdldFJlcG9ydGVkUGxhdGZvcm0odXNlckFnZW50LCBwbGF0Zm9ybSkgew0KICAgICAgICAvLyB1c2VyIGFnZW50IG9zIGxpZQ0KICAgICAgICBjb25zdCB1c2VyQWdlbnRPUyA9ICgNCiAgICAgICAgLy8gb3JkZXIgaXMgaW1wb3J0YW50DQogICAgICAgIC93aW4oZG93c3wxNnwzMnw2NHw5NXw5OHxudCl8d293NjQvaWcudGVzdCh1c2VyQWdlbnQpID8gIldpbmRvd3MiIC8qIFBsYXRmb3JtQ2xhc3NpZmllci5XSU5ET1dTICovIDoNCiAgICAgICAgICAgIC9hbmRyb2lkfGxpbnV4fGNyb3MvaWcudGVzdCh1c2VyQWdlbnQpID8gIkxpbnV4IiAvKiBQbGF0Zm9ybUNsYXNzaWZpZXIuTElOVVggKi8gOg0KICAgICAgICAgICAgICAgIC8oaShvc3xwKGFkfGhvbmV8b2QpKSl8bWFjL2lnLnRlc3QodXNlckFnZW50KSA/ICJBcHBsZSIgLyogUGxhdGZvcm1DbGFzc2lmaWVyLkFQUExFICovIDoNCiAgICAgICAgICAgICAgICAgICAgIk90aGVyIiAvKiBQbGF0Zm9ybUNsYXNzaWZpZXIuT1RIRVIgKi8pOw0KICAgICAgICBpZiAoIXBsYXRmb3JtKQ0KICAgICAgICAgICAgcmV0dXJuIFt1c2VyQWdlbnRPU107DQogICAgICAgIGNvbnN0IHBsYXRmb3JtT1MgPSAoDQogICAgICAgIC8vIG9yZGVyIGlzIGltcG9ydGFudA0KICAgICAgICAvd2luL2lnLnRlc3QocGxhdGZvcm0pID8gIldpbmRvd3MiIC8qIFBsYXRmb3JtQ2xhc3NpZmllci5XSU5ET1dTICovIDoNCiAgICAgICAgICAgIC9hbmRyb2lkfGFybXxsaW51eC9pZy50ZXN0KHBsYXRmb3JtKSA/ICJMaW51eCIgLyogUGxhdGZvcm1DbGFzc2lmaWVyLkxJTlVYICovIDoNCiAgICAgICAgICAgICAgICAvKGkob3N8cChhZHxob25lfG9kKSkpfG1hYy9pZy50ZXN0KHBsYXRmb3JtKSA/ICJBcHBsZSIgLyogUGxhdGZvcm1DbGFzc2lmaWVyLkFQUExFICovIDoNCiAgICAgICAgICAgICAgICAgICAgIk90aGVyIiAvKiBQbGF0Zm9ybUNsYXNzaWZpZXIuT1RIRVIgKi8pOw0KICAgICAgICByZXR1cm4gW3VzZXJBZ2VudE9TLCBwbGF0Zm9ybU9TXTsNCiAgICB9DQogICAgY29uc3QgeyB1c2VyQWdlbnQ6IG5hdlVzZXJBZ2VudCwgcGxhdGZvcm06IG5hdlBsYXRmb3JtIH0gPSBzZWxmLm5hdmlnYXRvciB8fCB7fTsNCiAgICBjb25zdCBbVVNFUl9BR0VOVF9PUywgUExBVEZPUk1fT1NdID0gZ2V0UmVwb3J0ZWRQbGF0Zm9ybShuYXZVc2VyQWdlbnQsIG5hdlBsYXRmb3JtKTsNCiAgICBjb25zdCBkZWNyeXB0VXNlckFnZW50ID0gKHsgdWEsIG9zLCBpc0JyYXZlIH0pID0+IHsNCiAgICAgICAgY29uc3QgYXBwbGUgPSAvaXBhZHxpcGhvbmV8aXBvZHxpb3N8bWFjL2lnLnRlc3Qob3MpOw0KICAgICAgICBjb25zdCBpc09wZXJhID0gL09QUlwvL2cudGVzdCh1YSk7DQogICAgICAgIGNvbnN0IGlzVml2YWxkaSA9IC9WaXZhbGRpL2cudGVzdCh1YSk7DQogICAgICAgIGNvbnN0IGlzRHVja0R1Y2tHbyA9IC9EdWNrRHVja0dvL2cudGVzdCh1YSk7DQogICAgICAgIGNvbnN0IGlzWWFuZGV4ID0gL1lhQnJvd3Nlci9nLnRlc3QodWEpOw0KICAgICAgICBjb25zdCBwYWxlTW9vbiA9IHVhLm1hdGNoKC8ocGFsZW1vb24pXC8oXGQrKS4vaSk7DQogICAgICAgIGNvbnN0IGVkZ2UgPSB1YS5tYXRjaCgvKGVkZ2lvc3xlZGd8ZWRnZXxlZGdhKVwvKFxkKykuL2kpOw0KICAgICAgICBjb25zdCBlZGdpb3MgPSBlZGdlICYmIC9lZGdpb3MvaS50ZXN0KGVkZ2VbMV0pOw0KICAgICAgICBjb25zdCBjaHJvbWl1bSA9IHVhLm1hdGNoKC8oY3Jpb3N8Y2hyb21lKVwvKFxkKykuL2kpOw0KICAgICAgICBjb25zdCBmaXJlZm94ID0gdWEubWF0Y2goLyhmeGlvc3xmaXJlZm94KVwvKFxkKykuL2kpOw0KICAgICAgICBjb25zdCBsaWtlU2FmYXJpID0gKC9BcHBsZVdlYktpdC9nLnRlc3QodWEpICYmDQogICAgICAgICAgICAvU2FmYXJpL2cudGVzdCh1YSkpOw0KICAgICAgICBjb25zdCBzYWZhcmkgPSAobGlrZVNhZmFyaSAmJg0KICAgICAgICAgICAgIWZpcmVmb3ggJiYNCiAgICAgICAgICAgICFjaHJvbWl1bSAmJg0KICAgICAgICAgICAgIWVkZ2UgJiYNCiAgICAgICAgICAgIHVhLm1hdGNoKC8odmVyc2lvbilcLyhcZCspXC4oXGR8XC4pK1xzKG1vYmlsZXxzYWZhcmkpL2kpKTsNCiAgICAgICAgaWYgKGNocm9taXVtKSB7DQogICAgICAgICAgICBjb25zdCBicm93c2VyID0gY2hyb21pdW1bMV07DQogICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gY2hyb21pdW1bMl07DQogICAgICAgICAgICBjb25zdCBsaWtlID0gKGlzT3BlcmEgPyAnIE9wZXJhJyA6DQogICAgICAgICAgICAgICAgaXNWaXZhbGRpID8gJyBWaXZhbGRpJyA6DQogICAgICAgICAgICAgICAgICAgIGlzRHVja0R1Y2tHbyA/ICcgRHVja0R1Y2tHbycgOg0KICAgICAgICAgICAgICAgICAgICAgICAgaXNZYW5kZXggPyAnIFlhbmRleCcgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2UgPyAnIEVkZ2UnIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNCcmF2ZSA/ICcgQnJhdmUnIDogJycpOw0KICAgICAgICAgICAgcmV0dXJuIGAke2Jyb3dzZXJ9ICR7dmVyc2lvbn0ke2xpa2V9YDsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmIChlZGdpb3MpIHsNCiAgICAgICAgICAgIGNvbnN0IGJyb3dzZXIgPSBlZGdlWzFdOw0KICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IGVkZ2VbMl07DQogICAgICAgICAgICByZXR1cm4gYCR7YnJvd3Nlcn0gJHt2ZXJzaW9ufWA7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZiAoZmlyZWZveCkgew0KICAgICAgICAgICAgY29uc3QgYnJvd3NlciA9IHBhbGVNb29uID8gcGFsZU1vb25bMV0gOiBmaXJlZm94WzFdOw0KICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IHBhbGVNb29uID8gcGFsZU1vb25bMl0gOiBmaXJlZm94WzJdOw0KICAgICAgICAgICAgcmV0dXJuIGAke2Jyb3dzZXJ9ICR7dmVyc2lvbn1gOw0KICAgICAgICB9DQogICAgICAgIGVsc2UgaWYgKGFwcGxlICYmIHNhZmFyaSkgew0KICAgICAgICAgICAgY29uc3QgYnJvd3NlciA9ICdTYWZhcmknOw0KICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IHNhZmFyaVsyXTsNCiAgICAgICAgICAgIHJldHVybiBgJHticm93c2VyfSAke3ZlcnNpb259YDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gJ3Vua25vd24nOw0KICAgIH07DQogICAgY29uc3QgZ2V0VXNlckFnZW50UGxhdGZvcm0gPSAoeyB1c2VyQWdlbnQsIGV4Y2x1ZGVCdWlsZCA9IHRydWUgfSkgPT4gew0KICAgICAgICBpZiAoIXVzZXJBZ2VudCkgew0KICAgICAgICAgICAgcmV0dXJuICd1bmtub3duJzsNCiAgICAgICAgfQ0KICAgICAgICAvLyBwYXR0ZXJucw0KICAgICAgICBjb25zdCBub25QbGF0Zm9ybVBhcmVudGhlc2lzID0gL1woKGtodG1sfHVubGlrZXx2aXppb3xsaWtlIGdlY3xpbnRlcm5hbCBkdW1teXxvcmdcLmVjbGlwc2V8b3BlbnNzbHxpcHY2fHZpYSB0cmFuc2xhdGV8c2FmYXJpfGNhcmRhbW9uKS4rfHh0XGQrXCkvaWc7DQogICAgICAgIGNvbnN0IHBhcmVudGhlc2lzID0gL1woKC4rKVwpLzsNCiAgICAgICAgY29uc3QgYW5kcm9pZCA9IC8oKGFuZHJvaWQpLispL2k7DQogICAgICAgIGNvbnN0IGFuZHJvaWROb2lzZSA9IC9eKGxpbnV4fFthLXpdfHd2fG1vYmlsZXxbYS16XXsyfSgtfF8pW2Etel17Mn18W2Etel17Mn0pJHx3aW5kb3dzfChydjp8dHJpZGVudHx3ZWJ2aWV3fGllbW9iaWxlKS4rL2k7DQogICAgICAgIGNvbnN0IGFuZHJvaWRCdWlsZCA9IC9idWlsZFwvLitcc3xcc2J1aWxkXC8uKy9pOw0KICAgICAgICBjb25zdCBhbmRyb2lkUmVsZWFzZSA9IC9hbmRyb2lkKCB8LSlcZCsvaTsNCiAgICAgICAgY29uc3Qgd2luZG93cyA9IC8oKHdpbmRvd3MpLispL2k7DQogICAgICAgIGNvbnN0IHdpbmRvd3NOb2lzZSA9IC9eKHdpbmRvd3N8bXMoLXwpb2ZmaWNlfG1pY3Jvc29mdHxjb21wYXRpYmxlfFthLXpdfHg2NHxbYS16XXsyfSgtfF8pW2Etel17Mn18W2Etel17Mn0pJHwocnY6fG91dGxvb2t8bXMoLXwpb2ZmaWNlfG1pY3Jvc29mdHx0cmlkZW50fFwubmV0fG1zaWV8aHR0cmFja3xtZWRpYSBjZW50ZXJ8aW5mb3BhdGh8YW9sfG9wZXJhfGllbW9iaWxlfHdlYmJyb3dzZXIpLisvaTsNCiAgICAgICAgY29uc3Qgd2luZG93czY0Yml0Q1BVID0gL3cob3d8aW4pNjQvaTsNCiAgICAgICAgY29uc3QgY3JvcyA9IC9jcm9zL2k7DQogICAgICAgIGNvbnN0IGNyb3NOb2lzZSA9IC9eKFthLXpdfHgxMXxbYS16XXsyfSgtfF8pW2Etel17Mn18W2Etel17Mn0pJHwocnY6fHRyaWRlbnQpLisvaTsNCiAgICAgICAgY29uc3QgY3Jvc0J1aWxkID0gL1xkK1wuXGQrXC5cZCsvaTsNCiAgICAgICAgY29uc3QgbGludXggPSAvbGludXh8eDExfHVidW50dXxkZWJpYW4vaTsNCiAgICAgICAgY29uc3QgbGludXhOb2lzZSA9IC9eKFthLXpdfHgxMXx1bmtub3dufGNvbXBhdGlibGV8W2Etel17Mn0oLXxfKVthLXpdezJ9fFthLXpdezJ9KSR8KHJ2OnxqYXZhfG9yYWNsZXxcK2h0dHB8aHR0cHx1bmtub3dufG1vemlsbGF8a29ucXVlcm9yfHZhbHZlKS4rL2k7DQogICAgICAgIGNvbnN0IGFwcGxlID0gLyhjcHUgaXBob25lfGNwdSBvc3xpcGhvbmUgb3N8bWFjIG9zfG1hY29zfGludGVsIG9zfHBwYyBtYWMpLisvaTsNCiAgICAgICAgY29uc3QgYXBwbGVOb2lzZSA9IC9eKFthLXpdfG1hY2ludG9zaHxjb21wYXRpYmxlfG1pbWljfFthLXpdezJ9KC18XylbYS16XXsyfXxbYS16XXsyfXxydnxcZCtcLlxkKykkfChydjp8c2lsa3x2YWx2ZSkuKy9pOw0KICAgICAgICBjb25zdCBhcHBsZVJlbGVhc2UgPSAvKHBwYyB8aW50ZWwgfCkobWFjfG1hYyB8KW9zICh4IHx4fCkoXGR7Mn0oX3xcLilcZHsxLDJ9fFxkezIsfSkvaTsNCiAgICAgICAgY29uc3Qgb3RoZXJPUyA9IC8oKHN5bWJpYW5vc3xub2tpYXxibGFja2JlcnJ5fG1vcnBob3N8bWFjKS4rKXxcL2xpbnV4fGZyZWVic2R8c3ltYm9zfHNlcmllcyBcZCt8d2luXGQrfHVuaXh8aHAtdXh8YnNkaXxic2R8eDg2XzY0L2k7DQogICAgICAgIGNvbnN0IGlzRGV2aWNlID0gKGxpc3QsIGRldmljZSkgPT4gbGlzdC5maWx0ZXIoKHgpID0+IGRldmljZS50ZXN0KHgpKS5sZW5ndGg7DQogICAgICAgIHVzZXJBZ2VudCA9IHVzZXJBZ2VudC50cmltKCkucmVwbGFjZSgvXHN7Mix9LywgJyAnKS5yZXBsYWNlKG5vblBsYXRmb3JtUGFyZW50aGVzaXMsICcnKTsNCiAgICAgICAgaWYgKHBhcmVudGhlc2lzLnRlc3QodXNlckFnZW50KSkgew0KICAgICAgICAgICAgY29uc3QgcGxhdGZvcm1TZWN0aW9uID0gdXNlckFnZW50Lm1hdGNoKHBhcmVudGhlc2lzKVswXTsNCiAgICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXJzID0gcGxhdGZvcm1TZWN0aW9uLnNsaWNlKDEsIC0xKS5yZXBsYWNlKC8sL2csICc7Jykuc3BsaXQoJzsnKS5tYXAoKHgpID0+IHgudHJpbSgpKTsNCiAgICAgICAgICAgIGlmIChpc0RldmljZShpZGVudGlmaWVycywgYW5kcm9pZCkpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gaWRlbnRpZmllcnMNCiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgICAgICAubWFwKCh4KSA9PiBhbmRyb2lkUmVsZWFzZS50ZXN0KHgpID8gYW5kcm9pZFJlbGVhc2UuZXhlYyh4KVswXS5yZXBsYWNlKCctJywgJyAnKSA6IHgpDQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEoYW5kcm9pZE5vaXNlLnRlc3QoeCkpKQ0KICAgICAgICAgICAgICAgICAgICAuam9pbignICcpDQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKChleGNsdWRlQnVpbGQgPyBhbmRyb2lkQnVpbGQgOiAnJyksICcnKQ0KICAgICAgICAgICAgICAgICAgICAudHJpbSgpLnJlcGxhY2UoL1xzezIsfS8sICcgJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChpc0RldmljZShpZGVudGlmaWVycywgd2luZG93cykpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gaWRlbnRpZmllcnMNCiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoeCkgPT4gISh3aW5kb3dzTm9pc2UudGVzdCh4KSkpDQogICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJykNCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xzTlQgKFxkK1wuXGQrKS8sIChtYXRjaCwgdmVyc2lvbikgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHZlcnNpb24gPT0gJzEwLjAnID8gJyAxMCcgOg0KICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiA9PSAnNi4zJyA/ICcgOC4xJyA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiA9PSAnNi4yJyA/ICcgOCcgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uID09ICc2LjEnID8gJyA3JyA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uID09ICc2LjAnID8gJyBWaXN0YScgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb24gPT0gJzUuMicgPyAnIFhQIFBybycgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uID09ICc1LjEnID8gJyBYUCcgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiA9PSAnNS4wJyA/ICcgMjAwMCcgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb24gPT0gJzQuMCcgPyBtYXRjaCA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgJyArIHZlcnNpb24pOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKHdpbmRvd3M2NGJpdENQVSwgJyg2NC1iaXQpJykNCiAgICAgICAgICAgICAgICAgICAgLnRyaW0oKS5yZXBsYWNlKC9cc3syLH0vLCAnICcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoaXNEZXZpY2UoaWRlbnRpZmllcnMsIGNyb3MpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGlkZW50aWZpZXJzDQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEoY3Jvc05vaXNlLnRlc3QoeCkpKQ0KICAgICAgICAgICAgICAgICAgICAuam9pbignICcpDQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKChleGNsdWRlQnVpbGQgPyBjcm9zQnVpbGQgOiAnJyksICcnKQ0KICAgICAgICAgICAgICAgICAgICAudHJpbSgpLnJlcGxhY2UoL1xzezIsfS8sICcgJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChpc0RldmljZShpZGVudGlmaWVycywgbGludXgpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGlkZW50aWZpZXJzDQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEobGludXhOb2lzZS50ZXN0KHgpKSkNCiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKQ0KICAgICAgICAgICAgICAgICAgICAudHJpbSgpLnJlcGxhY2UoL1xzezIsfS8sICcgJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChpc0RldmljZShpZGVudGlmaWVycywgYXBwbGUpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGlkZW50aWZpZXJzDQogICAgICAgICAgICAgICAgICAgIC5tYXAoKHgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGxlUmVsZWFzZS50ZXN0KHgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxlYXNlID0gYXBwbGVSZWxlYXNlLmV4ZWMoeClbMF07DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uTWFwID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxMF83JzogJ0xpb24nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxMF84JzogJ01vdW50YWluIExpb24nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxMF85JzogJ01hdmVyaWNrcycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJzEwXzEwJzogJ1lvc2VtaXRlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMTBfMTEnOiAnRWwgQ2FwaXRhbicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJzEwXzEyJzogJ1NpZXJyYScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJzEwXzEzJzogJ0hpZ2ggU2llcnJhJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMTBfMTQnOiAnTW9qYXZlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMTBfMTUnOiAnQ2F0YWxpbmEnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxMSc6ICdCaWcgU3VyJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMTInOiAnTW9udGVyZXknLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxMyc6ICdWZW50dXJhJywNCiAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gKCgvKFxkezJ9KF98XC4pXGR7MSwyfXxcZHsyLH0pLy5leGVjKHJlbGVhc2UpIHx8IFtdKVswXSB8fA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnKS5yZXBsYWNlKC9cLi9nLCAnXycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNPU1ggPSAvXjEwLy50ZXN0KHZlcnNpb24pOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSBpc09TWCA/IHZlcnNpb24gOiAoL15cZHsyLH0vLmV4ZWModmVyc2lvbikgfHwgW10pWzBdOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZU5hbWUgPSB2ZXJzaW9uTWFwW2lkXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2RlTmFtZSA/IGBtYWNPUyAke2NvZGVOYW1lfWAgOiByZWxlYXNlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB4Ow0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEoYXBwbGVOb2lzZS50ZXN0KHgpKSkNCiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKQ0KICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXHNsaWtlIG1hYy4rL2lnLCAnJykNCiAgICAgICAgICAgICAgICAgICAgLnRyaW0oKS5yZXBsYWNlKC9cc3syLH0vLCAnICcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBpZGVudGlmaWVycy5maWx0ZXIoKHgpID0+IG90aGVyT1MudGVzdCh4KSk7DQogICAgICAgICAgICAgICAgaWYgKG90aGVyLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3RoZXIuam9pbignICcpLnRyaW0oKS5yZXBsYWNlKC9cc3syLH0vLCAnICcpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gaWRlbnRpZmllcnMuam9pbignICcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuICd1bmtub3duJzsNCiAgICAgICAgfQ0KICAgIH07DQogICAgLy8gYXR0ZW1wdCByZXN0b3JlIGZyb20gVXNlci1BZ2VudCBSZWR1Y3Rpb24NCiAgICBjb25zdCBpc1VBUG9zdFJlZHVjdGlvbiA9ICh1c2VyQWdlbnQpID0+IHsNCiAgICAgICAgY29uc3QgbWF0Y2hlciA9IC9Nb3ppbGxhXC81XC4wIFwoKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfN3xXaW5kb3dzIE5UIDEwXC4wOyBXaW42NDsgeDY0fChYMTE7IChDck9TfExpbnV4KSB4ODZfNjQpfChMaW51eDsgQW5kcm9pZCAxMCg7IEt8KSkpXCkgQXBwbGVXZWJLaXRcLzUzN1wuMzYgXChLSFRNTCwgbGlrZSBHZWNrb1wpIENocm9tZVwvXGQrXC4wXC4wXC4wKCBNb2JpbGV8KSBTYWZhcmlcLzUzN1wuMzYvOw0KICAgICAgICBjb25zdCB1bmlmaWVkUGxhdGZvcm0gPSAobWF0Y2hlci5leGVjKHVzZXJBZ2VudCkgfHwgW10pWzFdOw0KICAgICAgICByZXR1cm4gSVNfQkxJTksgJiYgISF1bmlmaWVkUGxhdGZvcm07DQogICAgfTsNCiAgICBjb25zdCBjcmVhdGVQZXJmb3JtYW5jZUxvZ2dlciA9ICgpID0+IHsNCiAgICAgICAgY29uc3QgbG9nID0ge307DQogICAgICAgIGxldCB0b3RhbCA9IDA7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0OiAoeyB0ZXN0LCBwYXNzZWQsIHRpbWUgPSAwIH0pID0+IHsNCiAgICAgICAgICAgICAgICB0b3RhbCArPSB0aW1lOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVTdHJpbmcgPSBgJHt0aW1lLnRvRml4ZWQoMil9bXNgOw0KICAgICAgICAgICAgICAgIGxvZ1t0ZXN0XSA9IHRpbWVTdHJpbmc7DQogICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBwYXNzZWQgPyAnIzRjY2E5ZicgOiAnbGlnaHRjb3JhbCc7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gcGFzc2VkID8gJ3Bhc3NlZCcgOiAnZmFpbGVkJzsNCiAgICAgICAgICAgICAgICBjb25zdCBzeW1ib2wgPSBwYXNzZWQgPyAn4pyUJyA6ICctJzsNCiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coYCVjJHtzeW1ib2x9JHt0aW1lID8gYCAoJHt0aW1lU3RyaW5nfSlgIDogJyd9ICR7dGVzdH0gJHtyZXN1bHR9YCwgYGNvbG9yOiR7Y29sb3J9YCk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZ2V0TG9nOiAoKSA9PiBsb2csDQogICAgICAgICAgICBnZXRUb3RhbDogKCkgPT4gdG90YWwsDQogICAgICAgIH07DQogICAgfTsNCiAgICBjb25zdCBwZXJmb3JtYW5jZUxvZ2dlciA9IGNyZWF0ZVBlcmZvcm1hbmNlTG9nZ2VyKCk7DQogICAgY29uc3QgeyBsb2dUZXN0UmVzdWx0IH0gPSBwZXJmb3JtYW5jZUxvZ2dlcjsNCiAgICBjb25zdCBjcmVhdGVUaW1lciA9ICgpID0+IHsNCiAgICAgICAgbGV0IHN0YXJ0ID0gMDsNCiAgICAgICAgY29uc3QgbG9nID0gW107DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBzdG9wOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHN0YXJ0KSB7DQogICAgICAgICAgICAgICAgICAgIGxvZy5wdXNoKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9nLnJlZHVjZSgoYWNjLCBuKSA9PiBhY2MgKz0gbiwgMCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBzdGFydDsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBzdGFydDogKCkgPT4gew0KICAgICAgICAgICAgICAgIHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0Ow0KICAgICAgICAgICAgfSwNCiAgICAgICAgfTsNCiAgICB9Ow0KICAgIGNvbnN0IHF1ZXVlRXZlbnQgPSAodGltZXIsIGRlbGF5ID0gMCkgPT4gew0KICAgICAgICB0aW1lci5zdG9wKCk7DQogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKHRpbWVyLnN0YXJ0KCkpLCBkZWxheSkpDQogICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsgfSk7DQogICAgfTsNCiAgICBjb25zdCBxdWV1ZVRhc2sgPSAoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKG51bGwpKSk7DQogICAgY29uc3QgRU1PSklTID0gWw0KICAgICAgICBbMTI4NTEyXSwgWzk3ODZdLCBbMTI5MzMzLCA4MjA1LCA5Nzk0LCA2NTAzOV0sIFs5ODMyXSwgWzk3ODRdLCBbOTg5NV0sIFs4MjY1XSwgWzg1MDVdLCBbMTI3OTg3LCA2NTAzOSwgODIwNSwgOTg5NSwgNjUwMzldLCBbMTI5Mzk0XSwgWzk3ODVdLCBbOTc2MF0sIFsxMjk0ODksIDgyMDUsIDEyOTQ1Nl0sIFsxMjk0ODcsIDgyMDUsIDk3OTQsIDY1MDM5XSwgWzk5NzVdLCBbMTI5NDg5LCA4MjA1LCAxMjkzMDksIDgyMDUsIDEyOTQ4OV0sIFs5NzUyXSwgWzk5NjhdLCBbOTk2MV0sIFs5OTcyXSwgWzk5OTJdLCBbOTIwMV0sIFs5OTI4XSwgWzk3MzBdLCBbOTk2OV0sIFs5NzMxXSwgWzk3MzJdLCBbOTk3Nl0sIFs5ODIzXSwgWzk5MzddLCBbOTAwMF0sIFs5OTkzXSwgWzk5OTldLA0KICAgICAgICBbMTI4MTA1LCA4MjA1LCAxMDA4NCwgNjUwMzksIDgyMDUsIDEyODEzOSwgODIwNSwgMTI4MTA0XSwNCiAgICAgICAgWzEyODEwNCwgODIwNSwgMTI4MTA1LCA4MjA1LCAxMjgxMDMsIDgyMDUsIDEyODEwMl0sDQogICAgICAgIFsxMjgxMDQsIDgyMDUsIDEyODEwNSwgODIwNSwgMTI4MTAyXSwNCiAgICAgICAgLy8gYW5kcm9pZCAxMQ0KICAgICAgICBbMTI4NTEyXSwNCiAgICAgICAgWzE2OV0sIFsxNzRdLCBbODQ4Ml0sDQogICAgICAgIFsxMjgwNjUsIDY1MDM5LCA4MjA1LCAxMjg0ODgsIDY1MDM5XSwNCiAgICAgICAgLy8gb3RoZXINCiAgICAgICAgWzEwMDAyXSwgWzk5ODZdLCBbOTkzNV0sIFs5ODc0XSwgWzk4NzZdLCBbOTg4MV0sIFs5OTM5XSwgWzk4NzldLCBbOTkwNF0sIFs5OTA1XSwgWzk4ODhdLCBbOTc2Ml0sIFs5NzYzXSwgWzExMDE0XSwgWzg1OTldLCBbMTAxNDVdLCBbMTEwMTNdLCBbOTg4M10sIFsxMDAxN10sIFsxMDAxM10sIFs5NzY2XSwgWzk2NTRdLCBbOTE5N10sIFs5MTk5XSwgWzkxNjddLCBbOTc5Ml0sIFs5Nzk0XSwgWzEwMDA2XSwgWzEyMzM2XSwgWzk4NzddLCBbOTg4NF0sIFsxMDAwNF0sIFsxMDAzNV0sIFsxMDA1NV0sIFs5NzI0XSwgWzk2NDJdLCBbMTAwODNdLCBbMTAwODRdLCBbOTk5Nl0sIFs5NzU3XSwgWzk5OTddLCBbMTAwNTJdLCBbOTg3OF0sIFs4NjE4XSwgWzk3NzVdLCBbOTc3MF0sIFs5Nzc0XSwgWzk3NDVdLCBbMTAwMzZdLCBbMTI3MzQ0XSwgWzEyNzM1OV0sDQogICAgXS5tYXAoKGVtb2ppQ29kZSkgPT4gU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uZW1vamlDb2RlKSk7DQogICAgY29uc3QgQ1NTX0ZPTlRfRkFNSUxZID0gYA0KCSdTZWdvZSBGbHVlbnQgSWNvbnMnLA0KCSdJbmsgRnJlZScsDQoJJ0JhaG5zY2hyaWZ0JywNCgknU2Vnb2UgTURMMiBBc3NldHMnLA0KCSdIb2xvTGVucyBNREwyIEFzc2V0cycsDQoJJ0xlZWxhd2FkZWUgVUknLA0KCSdKYXZhbmVzZSBUZXh0JywNCgknU2Vnb2UgVUkgRW1vamknLA0KCSdBbGRoYWJpJywNCgknR2FkdWdpJywNCgknTXlhbm1hciBUZXh0JywNCgknTmlybWFsYSBVSScsDQoJJ0x1Y2lkYSBDb25zb2xlJywNCgknQ2FtYnJpYSBNYXRoJywNCgknQmFpIEphbWp1cmVlJywNCgknQ2hha3JhIFBldGNoJywNCgknQ2hhcm1vbm1hbicsDQoJJ0ZhaGt3YW5nJywNCgknSzJEJywNCgknS29kY2hhc2FuJywNCgknS29IbycsDQoJJ1NhcmFidW4nLA0KCSdTcmlzYWtkaScsDQoJJ0dhbHZqaScsDQoJJ011a3RhTWFoZWUgUmVndWxhcicsDQoJJ0luYWlNYXRoaSBCb2xkJywNCgknQW1lcmljYW4gVHlwZXdyaXRlciBTZW1pYm9sZCcsDQoJJ0Z1dHVyYSBCb2xkJywNCgknU2lnblBhaW50ZXItSG91c2VTY3JpcHQgU2VtaWJvbGQnLA0KCSdQaW5nRmFuZyBISyBMaWdodCcsDQoJJ0tvaGlub29yIERldmFuYWdhcmkgTWVkaXVtJywNCgknTHVtaW5hcmknLA0KCSdHZW5ldmEnLA0KCSdIZWx2ZXRpY2EgTmV1ZScsDQoJJ0Ryb2lkIFNhbnMgTW9ubycsDQoJJ0RhbmNpbmcgU2NyaXB0JywNCgknUm9ib3RvJywNCgknVWJ1bnR1JywNCgknTGliZXJhdGlvbiBNb25vJywNCgknU291cmNlIENvZGUgUHJvJywNCgknRGVqYVZ1IFNhbnMnLA0KCSdPcGVuU3ltYm9sJywNCgknQ2hpbGFua2EnLA0KCSdDb3VzaW5lJywNCgknQXJpbW8nLA0KCSdKb21vbGhhcmknLA0KCSdNT05PJywNCgknTm90byBDb2xvciBFbW9qaScsDQoJc2Fucy1zZXJpZiAhaW1wb3J0YW50DQpgOw0KICAgIGZ1bmN0aW9uIGdldEdwdUJyYW5kKGdwdSkgew0KICAgICAgICBpZiAoIWdwdSkNCiAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICBjb25zdCBncHVCcmFuZE1hdGNoZXIgPSAvKGFkcmVub3xhbWR8YXBwbGV8aW50ZWx8bGx2bXxtYWxpfG1pY3Jvc29mdHxudmlkaWF8cGFyYWxsZWxzfHBvd2VydnJ8c2Ftc3VuZ3xzd2lmdHNoYWRlcnx2aXJ0dWFsYm94fHZtd2FyZSkvaTsNCiAgICAgICAgY29uc3QgYnJhbmQgPSAoL3JhZGVvbi9pLnRlc3QoZ3B1KSA/ICdBTUQnIDoNCiAgICAgICAgICAgIC9nZWZvcmNlL2kudGVzdChncHUpID8gJ05WSURJQScgOg0KICAgICAgICAgICAgICAgIChncHVCcmFuZE1hdGNoZXIuZXhlYyhncHUpPy5bMF0gfHwgJ290aGVyJykudG9Mb2NhbGVVcHBlckNhc2UoKSk7DQogICAgICAgIHJldHVybiBicmFuZDsNCiAgICB9DQogICAgLy8gY29sbGVjdCBmaW5nZXJwcmludHMgZm9yIGFuYWx5c2lzDQogICAgY29uc3QgQW5hbHlzaXMgPSB7fTsNCiAgICAvLyB1c2UgaWYgbmVlZGVkIHRvIHN0YWJsZSBmaW5nZXJwcmludA0KICAgIGNvbnN0IExvd2VyRW50cm9weSA9IHsNCiAgICAgICAgQVVESU86IGZhbHNlLA0KICAgICAgICBDQU5WQVM6IGZhbHNlLA0KICAgICAgICBGT05UUzogZmFsc2UsDQogICAgICAgIFNDUkVFTjogZmFsc2UsDQogICAgICAgIFRJTUVfWk9ORTogZmFsc2UsDQogICAgICAgIFdFQkdMOiBmYWxzZSwNCiAgICB9OwoKICAgIC8vIHRlbXBsYXRlIHZpZXdzDQogICAgZnVuY3Rpb24gcGF0Y2gob2xkRWwsIG5ld0VsLCBmbikgew0KICAgICAgICBpZiAoIW9sZEVsKQ0KICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgIG9sZEVsLnBhcmVudE5vZGU/LnJlcGxhY2VDaGlsZChuZXdFbCwgb2xkRWwpOw0KICAgICAgICByZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nID8gZm4oKSA6IHRydWU7DQogICAgfQ0KICAgIGZ1bmN0aW9uIGh0bWwodGVtcGxhdGVTdHIsIC4uLmV4cHJlc3Npb25TZXQpIHsNCiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpOw0KICAgICAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB0ZW1wbGF0ZVN0ci5tYXAoKHMsIGkpID0+IGAke3N9JHtleHByZXNzaW9uU2V0W2ldIHx8ICcnfWApLmpvaW4oJycpOw0KICAgICAgICByZXR1cm4gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0ZW1wbGF0ZS5jb250ZW50LCB0cnVlKTsNCiAgICB9CgogICAgY29uc3QgY3JlYXRlRXJyb3JzQ2FwdHVyZWQgPSAoKSA9PiB7DQogICAgICAgIGNvbnN0IGVycm9ycyA9IFtdOw0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgZ2V0RXJyb3JzOiAoKSA9PiBlcnJvcnMsDQogICAgICAgICAgICBjYXB0dXJlRXJyb3I6IChlcnJvciwgY3VzdG9tTWVzc2FnZSA9ICcnKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgRXJyb3I6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIEV2YWxFcnJvcjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJuYWxFcnJvcjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgUmFuZ2VFcnJvcjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgUmVmZXJlbmNlRXJyb3I6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIFN5bnRheEVycm9yOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBUeXBlRXJyb3I6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIFVSSUVycm9yOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBJbnZhbGlkU3RhdGVFcnJvcjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgU2VjdXJpdHlFcnJvcjogdHJ1ZSwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGNvbnN0IGhhc0lubmVyU3BhY2UgPSAocykgPT4gLy4rKFxzKS4rL2cudGVzdChzKTsgLy8gaWdub3JlIEFPUFIgbm9pc2UNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsgLy8gbG9nIGVycm9yIHRvIGVkdWNhdGUNCiAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIG1lc3NhZ2UgfSA9IGVycm9yOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRydXN0ZWRNZXNzYWdlID0gKCFoYXNJbm5lclNwYWNlKG1lc3NhZ2UpID8gdW5kZWZpbmVkIDoNCiAgICAgICAgICAgICAgICAgICAgIWN1c3RvbU1lc3NhZ2UgPyBtZXNzYWdlIDoNCiAgICAgICAgICAgICAgICAgICAgICAgIGAke21lc3NhZ2V9IFske2N1c3RvbU1lc3NhZ2V9XWApOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRydXN0ZWROYW1lID0gdHlwZVtuYW1lXSA/IG5hbWUgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goeyB0cnVzdGVkTmFtZSwgdHJ1c3RlZE1lc3NhZ2UgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsNCiAgICAgICAgICAgIH0sDQogICAgICAgIH07DQogICAgfTsNCiAgICBjb25zdCBlcnJvcnNDYXB0dXJlZCA9IGNyZWF0ZUVycm9yc0NhcHR1cmVkKCk7DQogICAgY29uc3QgeyBjYXB0dXJlRXJyb3IgfSA9IGVycm9yc0NhcHR1cmVkOw0KICAgIGNvbnN0IGF0dGVtcHQgPSAoZm4sIGN1c3RvbU1lc3NhZ2UgPSAnJykgPT4gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcmV0dXJuIGZuKCk7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBpZiAoY3VzdG9tTWVzc2FnZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBjYXB0dXJlRXJyb3IoZXJyb3IsIGN1c3RvbU1lc3NhZ2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIGNvbnN0IGNhbml1c2UgPSAoZm4sIG9iakNoYWluTGlzdCA9IFtdLCBhcmdzID0gW10sIG1ldGhvZCA9IGZhbHNlKSA9PiB7DQogICAgICAgIGxldCBhcGk7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBhcGkgPSBmbigpOw0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgaTsNCiAgICAgICAgY29uc3QgbGVuID0gb2JqQ2hhaW5MaXN0Lmxlbmd0aDsNCiAgICAgICAgbGV0IGNoYWluID0gYXBpOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7DQogICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gb2JqQ2hhaW5MaXN0W2ldOw0KICAgICAgICAgICAgICAgIGNoYWluID0gY2hhaW5bb2JqXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIChtZXRob2QgJiYgYXJncy5sZW5ndGggPyBjaGFpbi5hcHBseShhcGksIGFyZ3MpIDoNCiAgICAgICAgICAgIG1ldGhvZCAmJiAhYXJncy5sZW5ndGggPyBjaGFpbi5hcHBseShhcGkpIDoNCiAgICAgICAgICAgICAgICBjaGFpbik7DQogICAgfTsNCiAgICAvLyBMb2cgcGVyZm9ybWFuY2UgdGltZQ0KICAgIGNvbnN0IHRpbWVyID0gKGxvZ1N0YXJ0KSA9PiB7DQogICAgICAgIGxvZ1N0YXJ0ICYmIGNvbnNvbGUubG9nKGxvZ1N0YXJ0KTsNCiAgICAgICAgbGV0IHN0YXJ0ID0gMDsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAobG9nRW5kKSA9PiB7DQogICAgICAgICAgICBsZXQgZW5kID0gMDsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgZW5kID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydDsNCiAgICAgICAgICAgICAgICBsb2dFbmQgJiYgY29uc29sZS5sb2coYCR7bG9nRW5kfTogJHtlbmQgLyAxMDAwfSBzZWNvbmRzYCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGVuZDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgfTsNCiAgICBjb25zdCBnZXRDYXB0dXJlZEVycm9ycyA9ICgpID0+ICh7IGRhdGE6IGVycm9yc0NhcHR1cmVkLmdldEVycm9ycygpIH0pOwoKICAgIC8qIGVzbGludC1kaXNhYmxlIG5ldy1jYXAgKi8NCiAgICAvLyB3YXJtIHVwIHdoaWxlIHdlIGRldGVjdCBsaWVzDQogICAgdHJ5IHsNCiAgICAgICAgc3BlZWNoU3ludGhlc2lzLmdldFZvaWNlcygpOw0KICAgIH0NCiAgICBjYXRjaCAoZXJyKSB7IH0NCiAgICAvLyBDb2xsZWN0IGxpZXMgZGV0ZWN0ZWQNCiAgICBmdW5jdGlvbiBjcmVhdGVMaWVSZWNvcmRzKCkgew0KICAgICAgICBjb25zdCByZWNvcmRzID0ge307DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBnZXRSZWNvcmRzOiAoKSA9PiByZWNvcmRzLA0KICAgICAgICAgICAgZG9jdW1lbnRMaWU6IChuYW1lLCBsaWUpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBpc0FycmF5ID0gbGllIGluc3RhbmNlb2YgQXJyYXk7DQogICAgICAgICAgICAgICAgaWYgKHJlY29yZHNbbmFtZV0pIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAocmVjb3Jkc1tuYW1lXSA9IFsuLi5yZWNvcmRzW25hbWVdLCAuLi5saWVdKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3Jkc1tuYW1lXS5wdXNoKGxpZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBpc0FycmF5ID8gKHJlY29yZHNbbmFtZV0gPSBsaWUpIDogKHJlY29yZHNbbmFtZV0gPSBbbGllXSk7DQogICAgICAgICAgICB9LA0KICAgICAgICB9Ow0KICAgIH0NCiAgICBjb25zdCBsaWVSZWNvcmRzID0gY3JlYXRlTGllUmVjb3JkcygpOw0KICAgIGNvbnN0IHsgZG9jdW1lbnRMaWUgfSA9IGxpZVJlY29yZHM7DQogICAgY29uc3QgR0hPU1QgPSBgDQoJaGVpZ2h0OiAxMDB2aDsNCgl3aWR0aDogMTAwdnc7DQoJcG9zaXRpb246IGFic29sdXRlOw0KCWxlZnQ6LTEwMDAwcHg7DQoJdmlzaWJpbGl0eTogaGlkZGVuOw0KYDsNCiAgICBmdW5jdGlvbiBnZXRSYW5kb21WYWx1ZXMoKSB7DQogICAgICAgIHJldHVybiAoU3RyaW5nLmZyb21DaGFyQ29kZShNYXRoLnJhbmRvbSgpICogMjYgKyA5NykgKw0KICAgICAgICAgICAgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoLTcpKTsNCiAgICB9DQogICAgZnVuY3Rpb24gZ2V0QmVoZW1vdGhJZnJhbWUod2luKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBpZiAoIUlTX0JMSU5LKQ0KICAgICAgICAgICAgICAgIHJldHVybiB3aW47DQogICAgICAgICAgICBjb25zdCBkaXYgPSB3aW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdpZCcsIGdldFJhbmRvbVZhbHVlcygpKTsNCiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgR0hPU1QpOw0KICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGA8ZGl2PjxpZnJhbWU+PC9pZnJhbWU+PC9kaXY+YDsNCiAgICAgICAgICAgIHdpbi5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7DQogICAgICAgICAgICBjb25zdCBpZnJhbWUgPSBbLi4uWy4uLmRpdi5jaGlsZE5vZGVzXVswXS5jaGlsZE5vZGVzXVswXTsNCiAgICAgICAgICAgIGlmICghaWZyYW1lKQ0KICAgICAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICAgICAgY29uc3QgeyBjb250ZW50V2luZG93IH0gPSBpZnJhbWUgfHwge307DQogICAgICAgICAgICBpZiAoIWNvbnRlbnRXaW5kb3cpDQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICBjb25zdCBkaXYyID0gY29udGVudFdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgIGRpdjIuaW5uZXJIVE1MID0gYDxkaXY+PGlmcmFtZT48L2lmcmFtZT48L2Rpdj5gOw0KICAgICAgICAgICAgY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdjIpOw0KICAgICAgICAgICAgY29uc3QgaWZyYW1lMiA9IFsuLi5bLi4uZGl2Mi5jaGlsZE5vZGVzXVswXS5jaGlsZE5vZGVzXVswXTsNCiAgICAgICAgICAgIHJldHVybiBpZnJhbWUyLmNvbnRlbnRXaW5kb3c7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IsICdjbGllbnQgYmxvY2tlZCBiZWhlbW90aCBpZnJhbWUnKTsNCiAgICAgICAgICAgIHJldHVybiB3aW47DQogICAgICAgIH0NCiAgICB9DQogICAgY29uc3QgUkFORCA9IGdldFJhbmRvbVZhbHVlcygpOw0KICAgIGNvbnN0IEhBU19SRUZMRUNUID0gJ1JlZmxlY3QnIGluIHNlbGY7DQogICAgZnVuY3Rpb24gaXNUeXBlRXJyb3IoZXJyKSB7DQogICAgICAgIHJldHVybiBlcnIuY29uc3RydWN0b3IubmFtZSA9PSAnVHlwZUVycm9yJzsNCiAgICB9DQogICAgZnVuY3Rpb24gZmFpbHNUeXBlRXJyb3IoeyBzcGF3bkVyciwgd2l0aFN0YWNrLCBmaW5hbCB9KSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBzcGF3bkVycigpOw0KICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyKSB7DQogICAgICAgICAgICBpZiAoIWlzVHlwZUVycm9yKGVycikpDQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICByZXR1cm4gd2l0aFN0YWNrID8gd2l0aFN0YWNrKGVycikgOiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBmaW5hbGx5IHsNCiAgICAgICAgICAgIGZpbmFsICYmIGZpbmFsKCk7DQogICAgICAgIH0NCiAgICB9DQogICAgZnVuY3Rpb24gZmFpbHNXaXRoRXJyb3IoZm4pIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGZuKCk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycikgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICB9DQogICAgZnVuY3Rpb24gaGFzS25vd25Ub1N0cmluZyhuYW1lKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBbYGZ1bmN0aW9uICR7bmFtZX0oKSB7IFtuYXRpdmUgY29kZV0gfWBdOiB0cnVlLA0KICAgICAgICAgICAgW2BmdW5jdGlvbiBnZXQgJHtuYW1lfSgpIHsgW25hdGl2ZSBjb2RlXSB9YF06IHRydWUsDQogICAgICAgICAgICBbYGZ1bmN0aW9uICgpIHsgW25hdGl2ZSBjb2RlXSB9YF06IHRydWUsDQogICAgICAgICAgICBbYGZ1bmN0aW9uICR7bmFtZX0oKSB7JHsnXG4nfSAgICBbbmF0aXZlIGNvZGVdJHsnXG4nfX1gXTogdHJ1ZSwNCiAgICAgICAgICAgIFtgZnVuY3Rpb24gZ2V0ICR7bmFtZX0oKSB7JHsnXG4nfSAgICBbbmF0aXZlIGNvZGVdJHsnXG4nfX1gXTogdHJ1ZSwNCiAgICAgICAgICAgIFtgZnVuY3Rpb24gKCkgeyR7J1xuJ30gICAgW25hdGl2ZSBjb2RlXSR7J1xuJ319YF06IHRydWUsDQogICAgICAgIH07DQogICAgfQ0KICAgIGZ1bmN0aW9uIGhhc1ZhbGlkU3RhY2soZXJyLCByZWcsIGkgPSAxKSB7DQogICAgICAgIGlmIChpID09PSAwKQ0KICAgICAgICAgICAgcmV0dXJuIHJlZy50ZXN0KGVyci5tZXNzYWdlKTsNCiAgICAgICAgcmV0dXJuIHJlZy50ZXN0KGVyci5zdGFjay5zcGxpdCgnXG4nKVtpXSk7DQogICAgfQ0KICAgIGNvbnN0IEFUX0ZVTkNUSU9OID0gL2F0IEZ1bmN0aW9uXC50b1N0cmluZyAvOw0KICAgIGNvbnN0IEFUX09CSkVDVCA9IC9hdCBPYmplY3RcLnRvU3RyaW5nLzsNCiAgICBjb25zdCBGVU5DVElPTl9JTlNUQU5DRSA9IC9hdCAoRnVuY3Rpb25cLik/XFtTeW1ib2wuaGFzSW5zdGFuY2VcXS87IC8vIHVzZWZ1bCBpZiA8IENocm9tZSAxMDINCiAgICBjb25zdCBQUk9YWV9JTlNUQU5DRSA9IC9hdCAoUHJveHlcLik/XFtTeW1ib2wuaGFzSW5zdGFuY2VcXS87IC8vIHVzZWZ1bCBpZiA8IENocm9tZSAxMDINCiAgICBjb25zdCBTVFJJQ1RfTU9ERSA9IC9zdHJpY3QgbW9kZS87DQogICAgZnVuY3Rpb24gcXVlcnlMaWVzKHsgc2NvcGUsIGFwaUZ1bmN0aW9uLCBwcm90bywgb2JqLCBsaWVQcm9wcywgfSkgew0KICAgICAgICBpZiAodHlwZW9mIGFwaUZ1bmN0aW9uICE9ICdmdW5jdGlvbicpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgbGllZDogMCwNCiAgICAgICAgICAgICAgICBsaWVUeXBlczogW10sDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGNvbnN0IG5hbWUgPSBhcGlGdW5jdGlvbi5uYW1lLnJlcGxhY2UoL2dldFxzLywgJycpOw0KICAgICAgICBjb25zdCBvYmpOYW1lID0gb2JqPy5uYW1lOw0KICAgICAgICBjb25zdCBuYXRpdmVQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihhcGlGdW5jdGlvbik7DQogICAgICAgIGxldCBsaWVzID0gew0KICAgICAgICAgICAgLy8gY3VzdG9tIGxpZSBzdHJpbmcgbmFtZXMNCiAgICAgICAgICAgIFsnZmFpbGVkIGlsbGVnYWwgZXJyb3InXTogISFvYmogJiYgZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgIHNwYXduRXJyOiAoKSA9PiBvYmoucHJvdG90eXBlW25hbWVdLA0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICBbJ2ZhaWxlZCB1bmRlZmluZWQgcHJvcGVydGllcyddOiAoISFvYmogJiYgL14oc2NyZWVufG5hdmlnYXRvcikkL2kudGVzdChvYmpOYW1lKSAmJiAhIShPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNlbGZbb2JqTmFtZS50b0xvd2VyQ2FzZSgpXSwgbmFtZSkgfHwgKEhBU19SRUZMRUNUICYmDQogICAgICAgICAgICAgICAgUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc2VsZltvYmpOYW1lLnRvTG93ZXJDYXNlKCldLCBuYW1lKSkpKSwNCiAgICAgICAgICAgIFsnZmFpbGVkIGNhbGwgaW50ZXJmYWNlIGVycm9yJ106IGZhaWxzVHlwZUVycm9yKHsNCiAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yDQogICAgICAgICAgICAgICAgICAgIG5ldyBhcGlGdW5jdGlvbigpOw0KICAgICAgICAgICAgICAgICAgICBhcGlGdW5jdGlvbi5jYWxsKHByb3RvKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICBbJ2ZhaWxlZCBhcHBseSBpbnRlcmZhY2UgZXJyb3InXTogZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgIHNwYXduRXJyOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3INCiAgICAgICAgICAgICAgICAgICAgbmV3IGFwaUZ1bmN0aW9uKCk7DQogICAgICAgICAgICAgICAgICAgIGFwaUZ1bmN0aW9uLmFwcGx5KHByb3RvKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICBbJ2ZhaWxlZCBuZXcgaW5zdGFuY2UgZXJyb3InXTogZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3INCiAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gbmV3IGFwaUZ1bmN0aW9uKCksDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIFsnZmFpbGVkIGNsYXNzIGV4dGVuZHMgZXJyb3InXTogIUlTX1dFQktJVCAmJiBmYWlsc1R5cGVFcnJvcih7DQogICAgICAgICAgICAgICAgc3Bhd25FcnI6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcg0KICAgICAgICAgICAgICAgICAgICBjbGFzcyBGYWtlIGV4dGVuZHMgYXBpRnVuY3Rpb24gew0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgWydmYWlsZWQgbnVsbCBjb252ZXJzaW9uIGVycm9yJ106IGZhaWxzVHlwZUVycm9yKHsNCiAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGFwaUZ1bmN0aW9uLCBudWxsKS50b1N0cmluZygpLA0KICAgICAgICAgICAgICAgIGZpbmFsOiAoKSA9PiBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXBpRnVuY3Rpb24sIG5hdGl2ZVByb3RvKSwNCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgWydmYWlsZWQgdG9TdHJpbmcnXTogKCFoYXNLbm93blRvU3RyaW5nKG5hbWUpW3Njb3BlLkZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFwaUZ1bmN0aW9uKV0gfHwNCiAgICAgICAgICAgICAgICAhaGFzS25vd25Ub1N0cmluZygndG9TdHJpbmcnKVtzY29wZS5GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcGlGdW5jdGlvbi50b1N0cmluZyldKSwNCiAgICAgICAgICAgIFsnZmFpbGVkICJwcm90b3R5cGUiIGluIGZ1bmN0aW9uJ106ICdwcm90b3R5cGUnIGluIGFwaUZ1bmN0aW9uLA0KICAgICAgICAgICAgWydmYWlsZWQgZGVzY3JpcHRvciddOiAhIShPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFwaUZ1bmN0aW9uLCAnYXJndW1lbnRzJykgfHwNCiAgICAgICAgICAgICAgICBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhcGlGdW5jdGlvbiwgJ2FyZ3VtZW50cycpIHx8DQogICAgICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhcGlGdW5jdGlvbiwgJ2NhbGxlcicpIHx8DQogICAgICAgICAgICAgICAgUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXBpRnVuY3Rpb24sICdjYWxsZXInKSB8fA0KICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXBpRnVuY3Rpb24sICdwcm90b3R5cGUnKSB8fA0KICAgICAgICAgICAgICAgIFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFwaUZ1bmN0aW9uLCAncHJvdG90eXBlJykgfHwNCiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFwaUZ1bmN0aW9uLCAndG9TdHJpbmcnKSB8fA0KICAgICAgICAgICAgICAgIFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFwaUZ1bmN0aW9uLCAndG9TdHJpbmcnKSksDQogICAgICAgICAgICBbJ2ZhaWxlZCBvd24gcHJvcGVydHknXTogISEoYXBpRnVuY3Rpb24uaGFzT3duUHJvcGVydHkoJ2FyZ3VtZW50cycpIHx8DQogICAgICAgICAgICAgICAgYXBpRnVuY3Rpb24uaGFzT3duUHJvcGVydHkoJ2NhbGxlcicpIHx8DQogICAgICAgICAgICAgICAgYXBpRnVuY3Rpb24uaGFzT3duUHJvcGVydHkoJ3Byb3RvdHlwZScpIHx8DQogICAgICAgICAgICAgICAgYXBpRnVuY3Rpb24uaGFzT3duUHJvcGVydHkoJ3RvU3RyaW5nJykpLA0KICAgICAgICAgICAgWydmYWlsZWQgZGVzY3JpcHRvciBrZXlzJ106IChPYmplY3Qua2V5cyhPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhhcGlGdW5jdGlvbikpLnNvcnQoKS50b1N0cmluZygpICE9ICdsZW5ndGgsbmFtZScpLA0KICAgICAgICAgICAgWydmYWlsZWQgb3duIHByb3BlcnR5IG5hbWVzJ106IChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhcGlGdW5jdGlvbikuc29ydCgpLnRvU3RyaW5nKCkgIT0gJ2xlbmd0aCxuYW1lJyksDQogICAgICAgICAgICBbJ2ZhaWxlZCBvd24ga2V5cyBuYW1lcyddOiBIQVNfUkVGTEVDVCAmJiAoUmVmbGVjdC5vd25LZXlzKGFwaUZ1bmN0aW9uKS5zb3J0KCkudG9TdHJpbmcoKSAhPSAnbGVuZ3RoLG5hbWUnKSwNCiAgICAgICAgICAgIC8vIFByb3h5IERldGVjdGlvbg0KICAgICAgICAgICAgWydmYWlsZWQgb2JqZWN0IHRvU3RyaW5nIGVycm9yJ106IChmYWlsc1R5cGVFcnJvcih7DQogICAgICAgICAgICAgICAgc3Bhd25FcnI6ICgpID0+IE9iamVjdC5jcmVhdGUoYXBpRnVuY3Rpb24pLnRvU3RyaW5nKCksDQogICAgICAgICAgICAgICAgd2l0aFN0YWNrOiAoZXJyKSA9PiBJU19CTElOSyAmJiAhaGFzVmFsaWRTdGFjayhlcnIsIEFUX0ZVTkNUSU9OKSwNCiAgICAgICAgICAgIH0pIHx8DQogICAgICAgICAgICAgICAgZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gT2JqZWN0LmNyZWF0ZShuZXcgUHJveHkoYXBpRnVuY3Rpb24sIHt9KSkudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICAgICAgICAgd2l0aFN0YWNrOiAoZXJyKSA9PiBJU19CTElOSyAmJiAhaGFzVmFsaWRTdGFjayhlcnIsIEFUX09CSkVDVCksDQogICAgICAgICAgICAgICAgfSkpLA0KICAgICAgICAgICAgWydmYWlsZWQgYXQgaW5jb21wYXRpYmxlIHByb3h5IGVycm9yJ106IGZhaWxzVHlwZUVycm9yKHsNCiAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBhcGlGdW5jdGlvbi5hcmd1bWVudHM7DQogICAgICAgICAgICAgICAgICAgIGFwaUZ1bmN0aW9uLmNhbGxlcjsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHdpdGhTdGFjazogKGVycikgPT4gSVNfR0VDS08gJiYgIWhhc1ZhbGlkU3RhY2soZXJyLCBTVFJJQ1RfTU9ERSwgMCksDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIFsnZmFpbGVkIGF0IHRvU3RyaW5nIGluY29tcGF0aWJsZSBwcm94eSBlcnJvciddOiBmYWlsc1R5cGVFcnJvcih7DQogICAgICAgICAgICAgICAgc3Bhd25FcnI6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgYXBpRnVuY3Rpb24udG9TdHJpbmcuYXJndW1lbnRzOw0KICAgICAgICAgICAgICAgICAgICBhcGlGdW5jdGlvbi50b1N0cmluZy5jYWxsZXI7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB3aXRoU3RhY2s6IChlcnIpID0+IElTX0dFQ0tPICYmICFoYXNWYWxpZFN0YWNrKGVyciwgU1RSSUNUX01PREUsIDApLA0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICBbJ2ZhaWxlZCBhdCB0b28gbXVjaCByZWN1cnNpb24gZXJyb3InXTogZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgIHNwYXduRXJyOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihhcGlGdW5jdGlvbiwgT2JqZWN0LmNyZWF0ZShhcGlGdW5jdGlvbikpLnRvU3RyaW5nKCk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBmaW5hbDogKCkgPT4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGFwaUZ1bmN0aW9uLCBuYXRpdmVQcm90byksDQogICAgICAgICAgICB9KSwNCiAgICAgICAgfTsNCiAgICAgICAgLy8gY29uZGl0aW9uYWxseSBpbmNyZWFzZSBkaWZmaWN1bHR5DQogICAgICAgIGNvbnN0IGRldGVjdFByb3hpZXMgPSAobmFtZSA9PSAndG9TdHJpbmcnIHx8DQogICAgICAgICAgICAhIWxpZVByb3BzWydGdW5jdGlvbi50b1N0cmluZyddIHx8DQogICAgICAgICAgICAhIWxpZVByb3BzWydQZXJtaXNzaW9ucy5xdWVyeSddKTsNCiAgICAgICAgaWYgKGRldGVjdFByb3hpZXMpIHsNCiAgICAgICAgICAgIGNvbnN0IHByb3h5MSA9IG5ldyBQcm94eShhcGlGdW5jdGlvbiwge30pOw0KICAgICAgICAgICAgY29uc3QgcHJveHkyID0gbmV3IFByb3h5KGFwaUZ1bmN0aW9uLCB7fSk7DQogICAgICAgICAgICBjb25zdCBwcm94eTMgPSBuZXcgUHJveHkoYXBpRnVuY3Rpb24sIHt9KTsNCiAgICAgICAgICAgIGxpZXMgPSB7DQogICAgICAgICAgICAgICAgLi4ubGllcywNCiAgICAgICAgICAgICAgICAvLyBBZHZhbmNlZCBQcm94eSBEZXRlY3Rpb24NCiAgICAgICAgICAgICAgICBbJ2ZhaWxlZCBhdCB0b28gbXVjaCByZWN1cnNpb24gX19wcm90b19fIGVycm9yJ106ICFmYWlsc1R5cGVFcnJvcih7DQogICAgICAgICAgICAgICAgICAgIHNwYXduRXJyOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yDQogICAgICAgICAgICAgICAgICAgICAgICBhcGlGdW5jdGlvbi5fX3Byb3RvX18gPSBwcm94eTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFwaUZ1bmN0aW9uKys7DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIGZpbmFsOiAoKSA9PiBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXBpRnVuY3Rpb24sIG5hdGl2ZVByb3RvKSwNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBbJ2ZhaWxlZCBhdCBjaGFpbiBjeWNsZSBlcnJvciddOiAhZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb3h5MSwgT2JqZWN0LmNyZWF0ZShwcm94eTEpKS50b1N0cmluZygpOw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBmaW5hbDogKCkgPT4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb3h5MSwgbmF0aXZlUHJvdG8pLA0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgIFsnZmFpbGVkIGF0IGNoYWluIGN5Y2xlIF9fcHJvdG9fXyBlcnJvciddOiAhZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkyLl9fcHJvdG9fXyA9IHByb3h5MjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5MisrOw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBmaW5hbDogKCkgPT4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb3h5MiwgbmF0aXZlUHJvdG8pLA0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgIFsnZmFpbGVkIGF0IHJlZmxlY3Qgc2V0IHByb3RvJ106IEhBU19SRUZMRUNUICYmIGZhaWxzVHlwZUVycm9yKHsNCiAgICAgICAgICAgICAgICAgICAgc3Bhd25FcnI6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFJlZmxlY3Quc2V0UHJvdG90eXBlT2YoYXBpRnVuY3Rpb24sIE9iamVjdC5jcmVhdGUoYXBpRnVuY3Rpb24pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFJBTkQgaW4gYXBpRnVuY3Rpb247DQogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIGZpbmFsOiAoKSA9PiBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXBpRnVuY3Rpb24sIG5hdGl2ZVByb3RvKSwNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBbJ2ZhaWxlZCBhdCByZWZsZWN0IHNldCBwcm90byBwcm94eSddOiBIQVNfUkVGTEVDVCAmJiAhZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgUmVmbGVjdC5zZXRQcm90b3R5cGVPZihwcm94eTMsIE9iamVjdC5jcmVhdGUocHJveHkzKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBSQU5EIGluIHByb3h5MzsNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgZmluYWw6ICgpID0+IE9iamVjdC5zZXRQcm90b3R5cGVPZihwcm94eTMsIG5hdGl2ZVByb3RvKSwNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBbJ2ZhaWxlZCBhdCBpbnN0YW5jZW9mIGNoZWNrIGVycm9yJ106IElTX0JMSU5LICYmIChmYWlsc1R5cGVFcnJvcih7DQogICAgICAgICAgICAgICAgICAgIHNwYXduRXJyOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBhcGlGdW5jdGlvbiBpbnN0YW5jZW9mIGFwaUZ1bmN0aW9uOw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICB3aXRoU3RhY2s6IChlcnIpID0+ICFoYXNWYWxpZFN0YWNrKGVyciwgRlVOQ1RJT05fSU5TVEFOQ0UpLA0KICAgICAgICAgICAgICAgIH0pIHx8DQogICAgICAgICAgICAgICAgICAgIGZhaWxzVHlwZUVycm9yKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXduRXJyOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoYXBpRnVuY3Rpb24sIHt9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm94eSBpbnN0YW5jZW9mIHByb3h5Ow0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhTdGFjazogKGVycikgPT4gIWhhc1ZhbGlkU3RhY2soZXJyLCBQUk9YWV9JTlNUQU5DRSksDQogICAgICAgICAgICAgICAgICAgIH0pKSwNCiAgICAgICAgICAgICAgICBbJ2ZhaWxlZCBhdCBkZWZpbmUgcHJvcGVydGllcyddOiBJU19CTElOSyAmJiBIQVNfUkVGTEVDVCAmJiBmYWlsc1dpdGhFcnJvcigoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcGlGdW5jdGlvbiwgJycsIHsgY29uZmlndXJhYmxlOiB0cnVlIH0pLnRvU3RyaW5nKCk7DQogICAgICAgICAgICAgICAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoYXBpRnVuY3Rpb24sICcnKTsNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgbGllVHlwZXMgPSBPYmplY3Qua2V5cyhsaWVzKS5maWx0ZXIoKGtleSkgPT4gISFsaWVzW2tleV0pOw0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgbGllZDogbGllVHlwZXMubGVuZ3RoLA0KICAgICAgICAgICAgbGllVHlwZXMsDQogICAgICAgIH07DQogICAgfQ0KICAgIGZ1bmN0aW9uIGNyZWF0ZUxpZURldGVjdG9yKHNjb3BlKSB7DQogICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gKG9iaikgPT4gdHlwZW9mIG9iaiAhPSAndW5kZWZpbmVkJyAmJiAhIW9iajsNCiAgICAgICAgY29uc3QgcHJvcHMgPSB7fTsgLy8gbGllIGxpc3QgYW5kIGRldGFpbA0KICAgICAgICBjb25zdCBwcm9wc1NlYXJjaGVkID0gW107IC8vIGxpc3Qgb2YgcHJvcGVydGllcyBzZWFyY2hlZA0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgZ2V0UHJvcHM6ICgpID0+IHByb3BzLA0KICAgICAgICAgICAgZ2V0UHJvcHNTZWFyY2hlZDogKCkgPT4gcHJvcHNTZWFyY2hlZCwNCiAgICAgICAgICAgIHNlYXJjaExpZXM6IChmbiwgY29uZmlnKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgeyB0YXJnZXQsIGlnbm9yZSB9ID0gY29uZmlnIHx8IHt9Ow0KICAgICAgICAgICAgICAgIGxldCBvYmo7DQogICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYXBpIGlzIGJsb2NrZWQgb3Igbm90IHN1cHBvcnRlZA0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIG9iaiA9IGZuKCk7DQogICAgICAgICAgICAgICAgICAgIGlmICghaXNTdXBwb3J0ZWQob2JqKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvbnN0IGludGVyZmFjZU9iamVjdCA9ICEhb2JqLnByb3RvdHlwZSA/IG9iai5wcm90b3R5cGUgOiBvYmo7DQogICAgICAgICAgICAgICAgWy4uLm5ldyBTZXQoWw0KICAgICAgICAgICAgICAgICAgICAgICAgLi4uT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaW50ZXJmYWNlT2JqZWN0KSwNCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKGludGVyZmFjZU9iamVjdCksIC8vIGJhY2t1cA0KICAgICAgICAgICAgICAgICAgICBdKV0uc29ydCgpLmZvckVhY2goKG5hbWUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpcCA9IChuYW1lID09ICdjb25zdHJ1Y3RvcicgfHwNCiAgICAgICAgICAgICAgICAgICAgICAgICh0YXJnZXQgJiYgIW5ldyBTZXQodGFyZ2V0KS5oYXMobmFtZSkpIHx8DQogICAgICAgICAgICAgICAgICAgICAgICAoaWdub3JlICYmIG5ldyBTZXQoaWdub3JlKS5oYXMobmFtZSkpKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHNraXApDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iamVjdE5hbWVTdHJpbmcgPSAvXHMoLispXF0vOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBhcGlOYW1lID0gYCR7b2JqLm5hbWUgPyBvYmoubmFtZSA6DQogICAgICAgICAgICAgICAgICAgIG9iamVjdE5hbWVTdHJpbmcudGVzdChvYmopID8gb2JqZWN0TmFtZVN0cmluZy5leGVjKG9iaik/LlsxXSA6DQogICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWR9LiR7bmFtZX1gOw0KICAgICAgICAgICAgICAgICAgICBwcm9wc1NlYXJjaGVkLnB1c2goYXBpTmFtZSk7DQogICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm90byA9IG9iai5wcm90b3R5cGUgPyBvYmoucHJvdG90eXBlIDogb2JqOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlczsgLy8gcmVzcG9uc2UgZnJvbSBnZXRMaWVzDQogICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWFyY2ggaWYgZnVuY3Rpb24NCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBpRnVuY3Rpb24gPSBwcm90b1tuYW1lXTsgLy8gbWF5IHRyaWdnZXIgVHlwZUVycm9yDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcGlGdW5jdGlvbiA9PSAnZnVuY3Rpb24nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHF1ZXJ5TGllcyh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaUZ1bmN0aW9uOiBwcm90b1tuYW1lXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqOiBudWxsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGllUHJvcHM6IHByb3BzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5saWVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShhcGlOYW1lLCByZXMubGllVHlwZXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwcm9wc1thcGlOYW1lXSA9IHJlcy5saWVUeXBlcyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGVyZSBpcyBubyBUeXBlRXJyb3IgYW5kIHRoZSB0eXBlb2YgaXMgbm90IGEgZnVuY3Rpb24sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIGludmFsaWQgdmFsdWVzIGFuZCBpZ25vcmUgbmFtZSwgbGVuZ3RoLCBhbmQgY29uc3RhbnRzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgIT0gJ25hbWUnICYmDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgIT0gJ2xlbmd0aCcgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVswXSAhPT0gbmFtZVswXS50b1VwcGVyQ2FzZSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpZSA9IFsnZmFpbGVkIGRlc2NyaXB0b3IudmFsdWUgdW5kZWZpbmVkJ107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKGFwaU5hbWUsIGxpZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAocHJvcHNbYXBpTmFtZV0gPSBsaWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikgeyB9DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIHNlYXJjaCBnZXR0ZXIgZnVuY3Rpb24NCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldHRlckZ1bmN0aW9uID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgbmFtZSkuZ2V0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcXVlcnlMaWVzKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlGdW5jdGlvbjogZ2V0dGVyRnVuY3Rpb24sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdG8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpZVByb3BzOiBwcm9wcywNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyBzZW5kIHRoZSBvYmogZm9yIHNwZWNpYWwgdGVzdHMNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMubGllZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKGFwaU5hbWUsIHJlcy5saWVUeXBlcyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwcm9wc1thcGlOYW1lXSA9IHJlcy5saWVUeXBlcyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaWUgPSBgZmFpbGVkIHByb3RvdHlwZSB0ZXN0IGV4ZWN1dGlvbmA7DQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShhcGlOYW1lLCBsaWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwcm9wc1thcGlOYW1lXSA9IFtsaWVdKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgfTsNCiAgICB9DQogICAgZnVuY3Rpb24gZ2V0UGhhbnRvbUlmcmFtZSgpIHsNCiAgICAgICAgaWYgKElTX1dPUktFUl9TQ09QRSkNCiAgICAgICAgICAgIHJldHVybiB7IGlmcmFtZVdpbmRvdzogc2VsZiB9Ow0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgbnVtYmVyT2ZJZnJhbWVzID0gc2VsZi5sZW5ndGg7DQogICAgICAgICAgICBjb25zdCBmcmFnID0gbmV3IERvY3VtZW50RnJhZ21lbnQoKTsNCiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgY29uc3QgaWQgPSBnZXRSYW5kb21WYWx1ZXMoKTsNCiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpOw0KICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChkaXYpOw0KICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPSIke0dIT1NUfSI+PGlmcmFtZT48L2lmcmFtZT48L2Rpdj5gOw0KICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcmFnKTsNCiAgICAgICAgICAgIGNvbnN0IGlmcmFtZVdpbmRvdyA9IHNlbGZbbnVtYmVyT2ZJZnJhbWVzXTsNCiAgICAgICAgICAgIGNvbnN0IHBoYW50b21XaW5kb3cgPSBnZXRCZWhlbW90aElmcmFtZShpZnJhbWVXaW5kb3cpOw0KICAgICAgICAgICAgcmV0dXJuIHsgaWZyYW1lV2luZG93OiBwaGFudG9tV2luZG93IHx8IHNlbGYsIGRpdiB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yLCAnY2xpZW50IGJsb2NrZWQgcGhhbnRvbSBpZnJhbWUnKTsNCiAgICAgICAgICAgIHJldHVybiB7IGlmcmFtZVdpbmRvdzogc2VsZiB9Ow0KICAgICAgICB9DQogICAgfQ0KICAgIGNvbnN0IHsgaWZyYW1lV2luZG93OiBQSEFOVE9NX0RBUktORVNTLCBkaXY6IFBBUkVOVF9QSEFOVE9NIH0gPSBnZXRQaGFudG9tSWZyYW1lKCkgfHwge307DQogICAgZnVuY3Rpb24gZ2V0UHJvdG90eXBlTGllcyhzY29wZSkgew0KICAgICAgICBjb25zdCBsaWVEZXRlY3RvciA9IGNyZWF0ZUxpZURldGVjdG9yKHNjb3BlKTsNCiAgICAgICAgY29uc3QgeyBzZWFyY2hMaWVzLCB9ID0gbGllRGV0ZWN0b3I7DQogICAgICAgIC8vIHNlYXJjaCBsaWVzOiByZW1vdmUgdGFyZ2V0IHRvIHNlYXJjaCBhbGwgcHJvcGVydGllcw0KICAgICAgICAvLyB0ZXN0IEZ1bmN0aW9uLnRvU3RyaW5nIGZpcnN0IHRvIGRldGVybWluZSB0aGUgZGVwdGggb2YgdGhlIHNlYXJjaA0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IEZ1bmN0aW9uLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAndG9TdHJpbmcnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGlnbm9yZTogWw0KICAgICAgICAgICAgICAgICdjYWxsZXInLA0KICAgICAgICAgICAgICAgICdhcmd1bWVudHMnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIC8vIG90aGVyIEFQSXMNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBBbmFseXNlck5vZGUpOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IEF1ZGlvQnVmZmVyLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnY29weUZyb21DaGFubmVsJywNCiAgICAgICAgICAgICAgICAnZ2V0Q2hhbm5lbERhdGEnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gQmlxdWFkRmlsdGVyTm9kZSwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2dldEZyZXF1ZW5jeVJlc3BvbnNlJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2dldEltYWdlRGF0YScsDQogICAgICAgICAgICAgICAgJ2dldExpbmVEYXNoJywNCiAgICAgICAgICAgICAgICAnaXNQb2ludEluUGF0aCcsDQogICAgICAgICAgICAgICAgJ2lzUG9pbnRJblN0cm9rZScsDQogICAgICAgICAgICAgICAgJ21lYXN1cmVUZXh0JywNCiAgICAgICAgICAgICAgICAncXVhZHJhdGljQ3VydmVUbycsDQogICAgICAgICAgICAgICAgJ2ZpbGxUZXh0JywNCiAgICAgICAgICAgICAgICAnc3Ryb2tlVGV4dCcsDQogICAgICAgICAgICAgICAgJ2ZvbnQnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gQ1NTU3R5bGVEZWNsYXJhdGlvbiwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ3NldFByb3BlcnR5JywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yDQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gQ1NTMlByb3BlcnRpZXMsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdzZXRQcm9wZXJ0eScsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBEYXRlLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnZ2V0RGF0ZScsDQogICAgICAgICAgICAgICAgJ2dldERheScsDQogICAgICAgICAgICAgICAgJ2dldEZ1bGxZZWFyJywNCiAgICAgICAgICAgICAgICAnZ2V0SG91cnMnLA0KICAgICAgICAgICAgICAgICdnZXRNaW51dGVzJywNCiAgICAgICAgICAgICAgICAnZ2V0TW9udGgnLA0KICAgICAgICAgICAgICAgICdnZXRUaW1lJywNCiAgICAgICAgICAgICAgICAnZ2V0VGltZXpvbmVPZmZzZXQnLA0KICAgICAgICAgICAgICAgICdzZXREYXRlJywNCiAgICAgICAgICAgICAgICAnc2V0RnVsbFllYXInLA0KICAgICAgICAgICAgICAgICdzZXRIb3VycycsDQogICAgICAgICAgICAgICAgJ3NldE1pbGxpc2Vjb25kcycsDQogICAgICAgICAgICAgICAgJ3NldE1vbnRoJywNCiAgICAgICAgICAgICAgICAnc2V0U2Vjb25kcycsDQogICAgICAgICAgICAgICAgJ3NldFRpbWUnLA0KICAgICAgICAgICAgICAgICd0b0RhdGVTdHJpbmcnLA0KICAgICAgICAgICAgICAgICd0b0pTT04nLA0KICAgICAgICAgICAgICAgICd0b0xvY2FsZURhdGVTdHJpbmcnLA0KICAgICAgICAgICAgICAgICd0b0xvY2FsZVN0cmluZycsDQogICAgICAgICAgICAgICAgJ3RvTG9jYWxlVGltZVN0cmluZycsDQogICAgICAgICAgICAgICAgJ3RvU3RyaW5nJywNCiAgICAgICAgICAgICAgICAndG9UaW1lU3RyaW5nJywNCiAgICAgICAgICAgICAgICAndmFsdWVPZicsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBJbnRsLkRhdGVUaW1lRm9ybWF0LCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnZm9ybWF0JywNCiAgICAgICAgICAgICAgICAnZm9ybWF0UmFuZ2UnLA0KICAgICAgICAgICAgICAgICdmb3JtYXRUb1BhcnRzJywNCiAgICAgICAgICAgICAgICAncmVzb2x2ZWRPcHRpb25zJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IERvY3VtZW50LCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnY3JlYXRlRWxlbWVudCcsDQogICAgICAgICAgICAgICAgJ2NyZWF0ZUVsZW1lbnROUycsDQogICAgICAgICAgICAgICAgJ2dldEVsZW1lbnRCeUlkJywNCiAgICAgICAgICAgICAgICAnZ2V0RWxlbWVudHNCeUNsYXNzTmFtZScsDQogICAgICAgICAgICAgICAgJ2dldEVsZW1lbnRzQnlOYW1lJywNCiAgICAgICAgICAgICAgICAnZ2V0RWxlbWVudHNCeVRhZ05hbWUnLA0KICAgICAgICAgICAgICAgICdnZXRFbGVtZW50c0J5VGFnTmFtZU5TJywNCiAgICAgICAgICAgICAgICAncmVmZXJyZXInLA0KICAgICAgICAgICAgICAgICd3cml0ZScsDQogICAgICAgICAgICAgICAgJ3dyaXRlbG4nLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGlnbm9yZTogWw0KICAgICAgICAgICAgICAgIC8vIEdlY2tvDQogICAgICAgICAgICAgICAgJ29ucmVhZHlzdGF0ZWNoYW5nZScsDQogICAgICAgICAgICAgICAgJ29ubW91c2VlbnRlcicsDQogICAgICAgICAgICAgICAgJ29ubW91c2VsZWF2ZScsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBET01SZWN0KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBET01SZWN0UmVhZE9ubHkpOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IEVsZW1lbnQsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdhcHBlbmQnLA0KICAgICAgICAgICAgICAgICdhcHBlbmRDaGlsZCcsDQogICAgICAgICAgICAgICAgJ2dldEJvdW5kaW5nQ2xpZW50UmVjdCcsDQogICAgICAgICAgICAgICAgJ2dldENsaWVudFJlY3RzJywNCiAgICAgICAgICAgICAgICAnaW5zZXJ0QWRqYWNlbnRFbGVtZW50JywNCiAgICAgICAgICAgICAgICAnaW5zZXJ0QWRqYWNlbnRIVE1MJywNCiAgICAgICAgICAgICAgICAnaW5zZXJ0QWRqYWNlbnRUZXh0JywNCiAgICAgICAgICAgICAgICAnaW5zZXJ0QmVmb3JlJywNCiAgICAgICAgICAgICAgICAncHJlcGVuZCcsDQogICAgICAgICAgICAgICAgJ3JlcGxhY2VDaGlsZCcsDQogICAgICAgICAgICAgICAgJ3JlcGxhY2VXaXRoJywNCiAgICAgICAgICAgICAgICAnc2V0QXR0cmlidXRlJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IEZvbnRGYWNlLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnZmFtaWx5JywNCiAgICAgICAgICAgICAgICAnbG9hZCcsDQogICAgICAgICAgICAgICAgJ3N0YXR1cycsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBIVE1MQ2FudmFzRWxlbWVudCk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gSFRNTEVsZW1lbnQsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdjbGllbnRIZWlnaHQnLA0KICAgICAgICAgICAgICAgICdjbGllbnRXaWR0aCcsDQogICAgICAgICAgICAgICAgJ29mZnNldEhlaWdodCcsDQogICAgICAgICAgICAgICAgJ29mZnNldFdpZHRoJywNCiAgICAgICAgICAgICAgICAnc2Nyb2xsSGVpZ2h0JywNCiAgICAgICAgICAgICAgICAnc2Nyb2xsV2lkdGgnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGlnbm9yZTogWw0KICAgICAgICAgICAgICAgIC8vIEdlY2tvDQogICAgICAgICAgICAgICAgJ29ubW91c2VlbnRlcicsDQogICAgICAgICAgICAgICAgJ29ubW91c2VsZWF2ZScsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBIVE1MSUZyYW1lRWxlbWVudCwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2NvbnRlbnREb2N1bWVudCcsDQogICAgICAgICAgICAgICAgJ2NvbnRlbnRXaW5kb3cnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2JvdW5kaW5nQ2xpZW50UmVjdCcsDQogICAgICAgICAgICAgICAgJ2ludGVyc2VjdGlvblJlY3QnLA0KICAgICAgICAgICAgICAgICdyb290Qm91bmRzJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IE1hdGgsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdhY29zJywNCiAgICAgICAgICAgICAgICAnYWNvc2gnLA0KICAgICAgICAgICAgICAgICdhc2luaCcsDQogICAgICAgICAgICAgICAgJ2F0YW4nLA0KICAgICAgICAgICAgICAgICdhdGFuMicsDQogICAgICAgICAgICAgICAgJ2F0YW5oJywNCiAgICAgICAgICAgICAgICAnY2JydCcsDQogICAgICAgICAgICAgICAgJ2NvcycsDQogICAgICAgICAgICAgICAgJ2Nvc2gnLA0KICAgICAgICAgICAgICAgICdleHAnLA0KICAgICAgICAgICAgICAgICdleHBtMScsDQogICAgICAgICAgICAgICAgJ2xvZycsDQogICAgICAgICAgICAgICAgJ2xvZzEwJywNCiAgICAgICAgICAgICAgICAnbG9nMXAnLA0KICAgICAgICAgICAgICAgICdzaW4nLA0KICAgICAgICAgICAgICAgICdzaW5oJywNCiAgICAgICAgICAgICAgICAnc3FydCcsDQogICAgICAgICAgICAgICAgJ3RhbicsDQogICAgICAgICAgICAgICAgJ3RhbmgnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gTWVkaWFEZXZpY2VzLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnZW51bWVyYXRlRGV2aWNlcycsDQogICAgICAgICAgICAgICAgJ2dldERpc3BsYXlNZWRpYScsDQogICAgICAgICAgICAgICAgJ2dldFVzZXJNZWRpYScsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBOYXZpZ2F0b3IsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdhcHBDb2RlTmFtZScsDQogICAgICAgICAgICAgICAgJ2FwcE5hbWUnLA0KICAgICAgICAgICAgICAgICdhcHBWZXJzaW9uJywNCiAgICAgICAgICAgICAgICAnYnVpbGRJRCcsDQogICAgICAgICAgICAgICAgJ2Nvbm5lY3Rpb24nLA0KICAgICAgICAgICAgICAgICdkZXZpY2VNZW1vcnknLA0KICAgICAgICAgICAgICAgICdnZXRCYXR0ZXJ5JywNCiAgICAgICAgICAgICAgICAnZ2V0R2FtZXBhZHMnLA0KICAgICAgICAgICAgICAgICdnZXRWUkRpc3BsYXlzJywNCiAgICAgICAgICAgICAgICAnaGFyZHdhcmVDb25jdXJyZW5jeScsDQogICAgICAgICAgICAgICAgJ2xhbmd1YWdlJywNCiAgICAgICAgICAgICAgICAnbGFuZ3VhZ2VzJywNCiAgICAgICAgICAgICAgICAnbWF4VG91Y2hQb2ludHMnLA0KICAgICAgICAgICAgICAgICdtaW1lVHlwZXMnLA0KICAgICAgICAgICAgICAgICdvc2NwdScsDQogICAgICAgICAgICAgICAgJ3BsYXRmb3JtJywNCiAgICAgICAgICAgICAgICAncGx1Z2lucycsDQogICAgICAgICAgICAgICAgJ3Byb2R1Y3QnLA0KICAgICAgICAgICAgICAgICdwcm9kdWN0U3ViJywNCiAgICAgICAgICAgICAgICAnc2VuZEJlYWNvbicsDQogICAgICAgICAgICAgICAgJ3NlcnZpY2VXb3JrZXInLA0KICAgICAgICAgICAgICAgICd1c2VyQWdlbnQnLA0KICAgICAgICAgICAgICAgICd2ZW5kb3InLA0KICAgICAgICAgICAgICAgICd2ZW5kb3JTdWInLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gTm9kZSwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2FwcGVuZENoaWxkJywNCiAgICAgICAgICAgICAgICAnaW5zZXJ0QmVmb3JlJywNCiAgICAgICAgICAgICAgICAncmVwbGFjZUNoaWxkJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yDQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gT2Zmc2NyZWVuQ2FudmFzLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnY29udmVydFRvQmxvYicsDQogICAgICAgICAgICAgICAgJ2dldENvbnRleHQnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3INCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBPZmZzY3JlZW5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdnZXRJbWFnZURhdGEnLA0KICAgICAgICAgICAgICAgICdnZXRMaW5lRGFzaCcsDQogICAgICAgICAgICAgICAgJ2lzUG9pbnRJblBhdGgnLA0KICAgICAgICAgICAgICAgICdpc1BvaW50SW5TdHJva2UnLA0KICAgICAgICAgICAgICAgICdtZWFzdXJlVGV4dCcsDQogICAgICAgICAgICAgICAgJ3F1YWRyYXRpY0N1cnZlVG8nLA0KICAgICAgICAgICAgICAgICdmb250JywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IFBlcm1pc3Npb25zLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAncXVlcnknLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gUmFuZ2UsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdnZXRCb3VuZGluZ0NsaWVudFJlY3QnLA0KICAgICAgICAgICAgICAgICdnZXRDbGllbnRSZWN0cycsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcg0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IEludGwuUmVsYXRpdmVUaW1lRm9ybWF0LCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAncmVzb2x2ZWRPcHRpb25zJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IFNjcmVlbik7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gc3BlZWNoU3ludGhlc2lzLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnZ2V0Vm9pY2VzJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IFN0cmluZywgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2Zyb21Db2RlUG9pbnQnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gU1ZHUmVjdCk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gU1ZHUmVjdEVsZW1lbnQsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdnZXRCQm94JywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IFNWR1RleHRDb250ZW50RWxlbWVudCwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2dldEV4dGVudE9mQ2hhcicsDQogICAgICAgICAgICAgICAgJ2dldFN1YlN0cmluZ0xlbmd0aCcsDQogICAgICAgICAgICAgICAgJ2dldENvbXB1dGVkVGV4dExlbmd0aCcsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBUZXh0TWV0cmljcyk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnYnVmZmVyRGF0YScsDQogICAgICAgICAgICAgICAgJ2dldFBhcmFtZXRlcicsDQogICAgICAgICAgICAgICAgJ3JlYWRQaXhlbHMnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gV2ViR0wyUmVuZGVyaW5nQ29udGV4dCwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2J1ZmZlckRhdGEnLA0KICAgICAgICAgICAgICAgICdnZXRQYXJhbWV0ZXInLA0KICAgICAgICAgICAgICAgICdyZWFkUGl4ZWxzJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICAvKiBwb3RlbnRpYWwgdGFyZ2V0czoNCiAgICAgICAgICAgIFJUQ1BlZXJDb25uZWN0aW9uDQogICAgICAgICAgICBQbHVnaW4NCiAgICAgICAgICAgIFBsdWdpbkFycmF5DQogICAgICAgICAgICBNaW1lVHlwZQ0KICAgICAgICAgICAgTWltZVR5cGVBcnJheQ0KICAgICAgICAgICAgV29ya2VyDQogICAgICAgICAgICBIaXN0b3J5DQogICAgICAgICovDQogICAgICAgIC8vIHJldHVybiBsaWVzIGxpc3QgYW5kIGRldGFpbA0KICAgICAgICBjb25zdCBwcm9wcyA9IGxpZURldGVjdG9yLmdldFByb3BzKCk7DQogICAgICAgIGNvbnN0IHByb3BzU2VhcmNoZWQgPSBsaWVEZXRlY3Rvci5nZXRQcm9wc1NlYXJjaGVkKCk7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBsaWVEZXRlY3RvciwNCiAgICAgICAgICAgIGxpZUxpc3Q6IE9iamVjdC5rZXlzKHByb3BzKS5zb3J0KCksDQogICAgICAgICAgICBsaWVEZXRhaWw6IHByb3BzLA0KICAgICAgICAgICAgbGllQ291bnQ6IE9iamVjdC5rZXlzKHByb3BzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiBhY2MgKyBwcm9wc1trZXldLmxlbmd0aCwgMCksDQogICAgICAgICAgICBwcm9wc1NlYXJjaGVkLA0KICAgICAgICB9Ow0KICAgIH0NCiAgICAvLyBzdGFydCBwcm9ncmFtDQogICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsNCiAgICBjb25zdCB7IGxpZURldGVjdG9yLCBsaWVMaXN0LCBsaWVEZXRhaWwsIA0KICAgIC8vIGxpZUNvdW50LA0KICAgIHByb3BzU2VhcmNoZWQsIH0gPSBnZXRQcm90b3R5cGVMaWVzKFBIQU5UT01fREFSS05FU1MpOyAvLyBleGVjdXRlIGFuZCBkZXN0cnVjdHVyZSB0aGUgbGlzdCBhbmQgZGV0YWlsDQogICAgLy8gZGlzcmVnYXJkIEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZyBsaWVzIHdoZW4gZGV0ZXJtaW5pbmcgaWYgdGhlIEFQSSBjYW4gYmUgdHJ1c3RlZA0KICAgIGNvbnN0IGdldE5vbkZ1bmN0aW9uVG9TdHJpbmdMaWVzID0gKHgpID0+ICF4ID8geCA6IHguZmlsdGVyKCh4KSA9PiAhL29iamVjdCB0b1N0cmluZ3x0b1N0cmluZyBpbmNvbXBhdGlibGUgcHJveHkvLnRlc3QoeCkpLmxlbmd0aDsNCiAgICBsZXQgbGllUHJvcHM7DQogICAgbGV0IHByb3RvdHlwZUxpZXM7DQogICAgaWYgKCFJU19XT1JLRVJfU0NPUEUpIHsNCiAgICAgICAgbGllUHJvcHMgPSAoKCkgPT4gew0KICAgICAgICAgICAgY29uc3QgcHJvcHMgPSBsaWVEZXRlY3Rvci5nZXRQcm9wcygpOw0KICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7DQogICAgICAgICAgICAgICAgYWNjW2tleV0gPSBnZXROb25GdW5jdGlvblRvU3RyaW5nTGllcyhwcm9wc1trZXldKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgfSwge30pOw0KICAgICAgICB9KSgpOw0KICAgICAgICBwcm90b3R5cGVMaWVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsaWVEZXRhaWwpKTsNCiAgICAgICAgY29uc3QgcGVyZiA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQ7DQogICAgICAgICtwZXJmLnRvRml4ZWQoMik7DQogICAgfQ0KICAgIGNvbnN0IGdldFBsdWdpbkxpZXMgPSAocGx1Z2lucywgbWltZVR5cGVzKSA9PiB7DQogICAgICAgIGNvbnN0IGxpZXMgPSBbXTsgLy8gY29sbGVjdCBsaWUgdHlwZXMNCiAgICAgICAgY29uc3QgcGx1Z2luc093blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwbHVnaW5zKS5maWx0ZXIoKG5hbWUpID0+IGlzTmFOKCtuYW1lKSk7DQogICAgICAgIGNvbnN0IG1pbWVUeXBlc093blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhtaW1lVHlwZXMpLmZpbHRlcigobmFtZSkgPT4gaXNOYU4oK25hbWUpKTsNCiAgICAgICAgLy8gY2FzdCB0byBhcnJheQ0KICAgICAgICBjb25zdCBwbHVnaW5zTGlzdCA9IFsuLi5wbHVnaW5zXTsNCiAgICAgICAgY29uc3QgbWltZVR5cGVzTGlzdCA9IFsuLi5taW1lVHlwZXNdOw0KICAgICAgICAvLyBnZXQgaW5pdGlhbCB0cnVzdGVkIG1pbWVUeXBlIG5hbWVzDQogICAgICAgIGNvbnN0IHRydXN0ZWRNaW1lVHlwZXMgPSBuZXcgU2V0KG1pbWVUeXBlc093blByb3BlcnR5TmFtZXMpOw0KICAgICAgICAvLyBnZXQgaW5pdGlhbCB0cnVzdGVkIHBsdWdpbiBuYW1lcw0KICAgICAgICBjb25zdCBleGNsdWRlRHVwbGljYXRlcyA9IChhcnIpID0+IFsuLi5uZXcgU2V0KGFycildOw0KICAgICAgICBjb25zdCBtaW1lVHlwZUVuYWJsZWRQbHVnaW5zID0gZXhjbHVkZUR1cGxpY2F0ZXMobWltZVR5cGVzTGlzdC5tYXAoKG1pbWVUeXBlKSA9PiBtaW1lVHlwZS5lbmFibGVkUGx1Z2luKSk7DQogICAgICAgIGNvbnN0IHRydXN0ZWRQbHVnaW5OYW1lcyA9IG5ldyBTZXQocGx1Z2luc093blByb3BlcnR5TmFtZXMpOw0KICAgICAgICBjb25zdCBtaW1lVHlwZUVuYWJsZWRQbHVnaW5zTmFtZXMgPSBtaW1lVHlwZUVuYWJsZWRQbHVnaW5zLm1hcCgocGx1Z2luKSA9PiBwbHVnaW4gJiYgcGx1Z2luLm5hbWUpOw0KICAgICAgICBjb25zdCB0cnVzdGVkUGx1Z2luTmFtZXNBcnJheSA9IFsuLi50cnVzdGVkUGx1Z2luTmFtZXNdOw0KICAgICAgICB0cnVzdGVkUGx1Z2luTmFtZXNBcnJheS5mb3JFYWNoKChuYW1lKSA9PiB7DQogICAgICAgICAgICBjb25zdCB2YWxpZE5hbWUgPSBuZXcgU2V0KG1pbWVUeXBlRW5hYmxlZFBsdWdpbnNOYW1lcykuaGFzKG5hbWUpOw0KICAgICAgICAgICAgaWYgKCF2YWxpZE5hbWUpIHsNCiAgICAgICAgICAgICAgICB0cnVzdGVkUGx1Z2luTmFtZXMuZGVsZXRlKG5hbWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgLy8gMy4gRXhwZWN0IE1pbWVUeXBlIG9iamVjdCBpbiBwbHVnaW5zDQogICAgICAgIGNvbnN0IGludmFsaWRQbHVnaW5zID0gcGx1Z2luc0xpc3QuZmlsdGVyKChwbHVnaW4pID0+IHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgY29uc3QgdmFsaWRNaW1lVHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwbHVnaW5bMF0pLmNvbnN0cnVjdG9yLm5hbWUgPT0gJ01pbWVUeXBlJzsNCiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkTWltZVR5cGUpIHsNCiAgICAgICAgICAgICAgICAgICAgdHJ1c3RlZFBsdWdpbk5hbWVzLmRlbGV0ZShwbHVnaW4ubmFtZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiAhdmFsaWRNaW1lVHlwZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIHRydXN0ZWRQbHVnaW5OYW1lcy5kZWxldGUocGx1Z2luLm5hbWUpOw0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBzaWduIG9mIHRhbXBlcmluZw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgaWYgKGludmFsaWRQbHVnaW5zLmxlbmd0aCkgew0KICAgICAgICAgICAgbGllcy5wdXNoKCdtaXNzaW5nIG1pbWV0eXBlJyk7DQogICAgICAgIH0NCiAgICAgICAgLy8gNC4gRXhwZWN0IHZhbGlkIE1pbWVUeXBlKHMpIGluIHBsdWdpbg0KICAgICAgICBjb25zdCBwbHVnaW5NaW1lVHlwZXMgPSBwbHVnaW5zTGlzdA0KICAgICAgICAgICAgLm1hcCgocGx1Z2luKSA9PiBPYmplY3QudmFsdWVzKHBsdWdpbikpLmZsYXQoKTsNCiAgICAgICAgY29uc3QgcGx1Z2luTWltZVR5cGVzTmFtZXMgPSBwbHVnaW5NaW1lVHlwZXMubWFwKChtaW1ldHlwZSkgPT4gbWltZXR5cGUudHlwZSk7DQogICAgICAgIHBsdWdpbk1pbWVUeXBlc05hbWVzLmZvckVhY2goKG5hbWUpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHZhbGlkTmFtZSA9IHRydXN0ZWRNaW1lVHlwZXMuaGFzKG5hbWUpOw0KICAgICAgICAgICAgaWYgKCF2YWxpZE5hbWUpIHsNCiAgICAgICAgICAgICAgICB0cnVzdGVkTWltZVR5cGVzLmRlbGV0ZShuYW1lKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIHBsdWdpbnNMaXN0LmZvckVhY2goKHBsdWdpbikgPT4gew0KICAgICAgICAgICAgY29uc3QgcGx1Z2luTWltZVR5cGVzID0gT2JqZWN0LnZhbHVlcyhwbHVnaW4pLm1hcCgobWltZXR5cGUpID0+IG1pbWV0eXBlLnR5cGUpOw0KICAgICAgICAgICAgcmV0dXJuIHBsdWdpbk1pbWVUeXBlcy5mb3JFYWNoKChtaW1ldHlwZSkgPT4gew0KICAgICAgICAgICAgICAgIGlmICghdHJ1c3RlZE1pbWVUeXBlcy5oYXMobWltZXR5cGUpKSB7DQogICAgICAgICAgICAgICAgICAgIGxpZXMucHVzaCgnaW52YWxpZCBtaW1ldHlwZScpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1c3RlZFBsdWdpbk5hbWVzLmRlbGV0ZShwbHVnaW4ubmFtZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHZhbGlkUGx1Z2luczogcGx1Z2luc0xpc3QuZmlsdGVyKChwbHVnaW4pID0+IHRydXN0ZWRQbHVnaW5OYW1lcy5oYXMocGx1Z2luLm5hbWUpKSwNCiAgICAgICAgICAgIHZhbGlkTWltZVR5cGVzOiBtaW1lVHlwZXNMaXN0LmZpbHRlcigobWltZVR5cGUpID0+IHRydXN0ZWRNaW1lVHlwZXMuaGFzKG1pbWVUeXBlLnR5cGUpKSwNCiAgICAgICAgICAgIGxpZXM6IFsuLi5uZXcgU2V0KGxpZXMpXSwgLy8gcmVtb3ZlIGR1cGxpY2F0ZXMNCiAgICAgICAgfTsNCiAgICB9Ow0KICAgIGNvbnN0IGdldExpZXMgPSAoKSA9PiB7DQogICAgICAgIGNvbnN0IHJlY29yZHMgPSBsaWVSZWNvcmRzLmdldFJlY29yZHMoKTsNCiAgICAgICAgY29uc3QgdG90YWxMaWVzID0gT2JqZWN0LmtleXMocmVjb3JkcykucmVkdWNlKChhY2MsIGtleSkgPT4gew0KICAgICAgICAgICAgYWNjICs9IHJlY29yZHNba2V5XS5sZW5ndGg7DQogICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICB9LCAwKTsNCiAgICAgICAgcmV0dXJuIHsgZGF0YTogcmVjb3JkcywgdG90YWxMaWVzIH07DQogICAgfTsKCiAgICAvLyBEZXRlY3QgcHJveHkgYmVoYXZpb3INCiAgICBjb25zdCBwcm94eUJlaGF2aW9yID0gKHgpID0+IHR5cGVvZiB4ID09ICdmdW5jdGlvbicgPyB0cnVlIDogZmFsc2U7DQogICAgLy8gRGV0ZWN0IGdpYmJlcmlzaA0KICAgIGNvbnN0IGFjY2VwdCA9IHsgJ2FhJzogMSwgJ2FiJzogMSwgJ2FjJzogMSwgJ2FkJzogMSwgJ2FlJzogMSwgJ2FmJzogMSwgJ2FnJzogMSwgJ2FoJzogMSwgJ2FpJzogMSwgJ2FqJzogMSwgJ2FrJzogMSwgJ2FsJzogMSwgJ2FtJzogMSwgJ2FuJzogMSwgJ2FvJzogMSwgJ2FwJzogMSwgJ2FxJzogMSwgJ2FyJzogMSwgJ2FzJzogMSwgJ2F0JzogMSwgJ2F1JzogMSwgJ2F2JzogMSwgJ2F3JzogMSwgJ2F4JzogMSwgJ2F5JzogMSwgJ2F6JzogMSwgJ2JhJzogMSwgJ2JiJzogMSwgJ2JjJzogMSwgJ2JkJzogMSwgJ2JlJzogMSwgJ2JmJzogMSwgJ2JnJzogMSwgJ2JoJzogMSwgJ2JpJzogMSwgJ2JqJzogMSwgJ2JrJzogMSwgJ2JsJzogMSwgJ2JtJzogMSwgJ2JuJzogMSwgJ2JvJzogMSwgJ2JwJzogMSwgJ2JyJzogMSwgJ2JzJzogMSwgJ2J0JzogMSwgJ2J1JzogMSwgJ2J2JzogMSwgJ2J3JzogMSwgJ2J4JzogMSwgJ2J5JzogMSwgJ2NhJzogMSwgJ2NiJzogMSwgJ2NjJzogMSwgJ2NkJzogMSwgJ2NlJzogMSwgJ2NnJzogMSwgJ2NoJzogMSwgJ2NpJzogMSwgJ2NrJzogMSwgJ2NsJzogMSwgJ2NtJzogMSwgJ2NuJzogMSwgJ2NvJzogMSwgJ2NwJzogMSwgJ2NxJzogMSwgJ2NyJzogMSwgJ2NzJzogMSwgJ2N0JzogMSwgJ2N1JzogMSwgJ2N3JzogMSwgJ2N5JzogMSwgJ2N6JzogMSwgJ2RhJzogMSwgJ2RiJzogMSwgJ2RjJzogMSwgJ2RkJzogMSwgJ2RlJzogMSwgJ2RmJzogMSwgJ2RnJzogMSwgJ2RoJzogMSwgJ2RpJzogMSwgJ2RqJzogMSwgJ2RrJzogMSwgJ2RsJzogMSwgJ2RtJzogMSwgJ2RuJzogMSwgJ2RvJzogMSwgJ2RwJzogMSwgJ2RxJzogMSwgJ2RyJzogMSwgJ2RzJzogMSwgJ2R0JzogMSwgJ2R1JzogMSwgJ2R2JzogMSwgJ2R3JzogMSwgJ2R4JzogMSwgJ2R5JzogMSwgJ2R6JzogMSwgJ2VhJzogMSwgJ2ViJzogMSwgJ2VjJzogMSwgJ2VkJzogMSwgJ2VlJzogMSwgJ2VmJzogMSwgJ2VnJzogMSwgJ2VoJzogMSwgJ2VpJzogMSwgJ2VqJzogMSwgJ2VrJzogMSwgJ2VsJzogMSwgJ2VtJzogMSwgJ2VuJzogMSwgJ2VvJzogMSwgJ2VwJzogMSwgJ2VxJzogMSwgJ2VyJzogMSwgJ2VzJzogMSwgJ2V0JzogMSwgJ2V1JzogMSwgJ2V2JzogMSwgJ2V3JzogMSwgJ2V4JzogMSwgJ2V5JzogMSwgJ2V6JzogMSwgJ2ZhJzogMSwgJ2ZiJzogMSwgJ2ZjJzogMSwgJ2ZkJzogMSwgJ2ZlJzogMSwgJ2ZmJzogMSwgJ2ZnJzogMSwgJ2ZoJzogMSwgJ2ZpJzogMSwgJ2ZqJzogMSwgJ2ZrJzogMSwgJ2ZsJzogMSwgJ2ZtJzogMSwgJ2ZuJzogMSwgJ2ZvJzogMSwgJ2ZwJzogMSwgJ2ZyJzogMSwgJ2ZzJzogMSwgJ2Z0JzogMSwgJ2Z1JzogMSwgJ2Z3JzogMSwgJ2Z5JzogMSwgJ2dhJzogMSwgJ2diJzogMSwgJ2djJzogMSwgJ2dkJzogMSwgJ2dlJzogMSwgJ2dmJzogMSwgJ2dnJzogMSwgJ2doJzogMSwgJ2dpJzogMSwgJ2dqJzogMSwgJ2drJzogMSwgJ2dsJzogMSwgJ2dtJzogMSwgJ2duJzogMSwgJ2dvJzogMSwgJ2dwJzogMSwgJ2dyJzogMSwgJ2dzJzogMSwgJ2d0JzogMSwgJ2d1JzogMSwgJ2d3JzogMSwgJ2d5JzogMSwgJ2d6JzogMSwgJ2hhJzogMSwgJ2hiJzogMSwgJ2hjJzogMSwgJ2hkJzogMSwgJ2hlJzogMSwgJ2hmJzogMSwgJ2hnJzogMSwgJ2hoJzogMSwgJ2hpJzogMSwgJ2hqJzogMSwgJ2hrJzogMSwgJ2hsJzogMSwgJ2htJzogMSwgJ2huJzogMSwgJ2hvJzogMSwgJ2hwJzogMSwgJ2hxJzogMSwgJ2hyJzogMSwgJ2hzJzogMSwgJ2h0JzogMSwgJ2h1JzogMSwgJ2h2JzogMSwgJ2h3JzogMSwgJ2h5JzogMSwgJ2lhJzogMSwgJ2liJzogMSwgJ2ljJzogMSwgJ2lkJzogMSwgJ2llJzogMSwgJ2lmJzogMSwgJ2lnJzogMSwgJ2loJzogMSwgJ2lpJzogMSwgJ2lqJzogMSwgJ2lrJzogMSwgJ2lsJzogMSwgJ2ltJzogMSwgJ2luJzogMSwgJ2lvJzogMSwgJ2lwJzogMSwgJ2lxJzogMSwgJ2lyJzogMSwgJ2lzJzogMSwgJ2l0JzogMSwgJ2l1JzogMSwgJ2l2JzogMSwgJ2l3JzogMSwgJ2l4JzogMSwgJ2l5JzogMSwgJ2l6JzogMSwgJ2phJzogMSwgJ2pjJzogMSwgJ2plJzogMSwgJ2ppJzogMSwgJ2pqJzogMSwgJ2prJzogMSwgJ2puJzogMSwgJ2pvJzogMSwgJ2p1JzogMSwgJ2thJzogMSwgJ2tiJzogMSwgJ2tjJzogMSwgJ2tkJzogMSwgJ2tlJzogMSwgJ2tmJzogMSwgJ2tnJzogMSwgJ2toJzogMSwgJ2tpJzogMSwgJ2tqJzogMSwgJ2trJzogMSwgJ2tsJzogMSwgJ2ttJzogMSwgJ2tuJzogMSwgJ2tvJzogMSwgJ2twJzogMSwgJ2tyJzogMSwgJ2tzJzogMSwgJ2t0JzogMSwgJ2t1JzogMSwgJ2t2JzogMSwgJ2t3JzogMSwgJ2t5JzogMSwgJ2xhJzogMSwgJ2xiJzogMSwgJ2xjJzogMSwgJ2xkJzogMSwgJ2xlJzogMSwgJ2xmJzogMSwgJ2xnJzogMSwgJ2xoJzogMSwgJ2xpJzogMSwgJ2xqJzogMSwgJ2xrJzogMSwgJ2xsJzogMSwgJ2xtJzogMSwgJ2xuJzogMSwgJ2xvJzogMSwgJ2xwJzogMSwgJ2xxJzogMSwgJ2xyJzogMSwgJ2xzJzogMSwgJ2x0JzogMSwgJ2x1JzogMSwgJ2x2JzogMSwgJ2x3JzogMSwgJ2x4JzogMSwgJ2x5JzogMSwgJ2x6JzogMSwgJ21hJzogMSwgJ21iJzogMSwgJ21jJzogMSwgJ21kJzogMSwgJ21lJzogMSwgJ21mJzogMSwgJ21nJzogMSwgJ21oJzogMSwgJ21pJzogMSwgJ21qJzogMSwgJ21rJzogMSwgJ21sJzogMSwgJ21tJzogMSwgJ21uJzogMSwgJ21vJzogMSwgJ21wJzogMSwgJ21xJzogMSwgJ21yJzogMSwgJ21zJzogMSwgJ210JzogMSwgJ211JzogMSwgJ212JzogMSwgJ213JzogMSwgJ215JzogMSwgJ25hJzogMSwgJ25iJzogMSwgJ25jJzogMSwgJ25kJzogMSwgJ25lJzogMSwgJ25mJzogMSwgJ25nJzogMSwgJ25oJzogMSwgJ25pJzogMSwgJ25qJzogMSwgJ25rJzogMSwgJ25sJzogMSwgJ25tJzogMSwgJ25uJzogMSwgJ25vJzogMSwgJ25wJzogMSwgJ25xJzogMSwgJ25yJzogMSwgJ25zJzogMSwgJ250JzogMSwgJ251JzogMSwgJ252JzogMSwgJ253JzogMSwgJ254JzogMSwgJ255JzogMSwgJ256JzogMSwgJ29hJzogMSwgJ29iJzogMSwgJ29jJzogMSwgJ29kJzogMSwgJ29lJzogMSwgJ29mJzogMSwgJ29nJzogMSwgJ29oJzogMSwgJ29pJzogMSwgJ29qJzogMSwgJ29rJzogMSwgJ29sJzogMSwgJ29tJzogMSwgJ29uJzogMSwgJ29vJzogMSwgJ29wJzogMSwgJ29xJzogMSwgJ29yJzogMSwgJ29zJzogMSwgJ290JzogMSwgJ291JzogMSwgJ292JzogMSwgJ293JzogMSwgJ294JzogMSwgJ295JzogMSwgJ296JzogMSwgJ3BhJzogMSwgJ3BiJzogMSwgJ3BjJzogMSwgJ3BkJzogMSwgJ3BlJzogMSwgJ3BmJzogMSwgJ3BnJzogMSwgJ3BoJzogMSwgJ3BpJzogMSwgJ3BqJzogMSwgJ3BrJzogMSwgJ3BsJzogMSwgJ3BtJzogMSwgJ3BuJzogMSwgJ3BvJzogMSwgJ3BwJzogMSwgJ3ByJzogMSwgJ3BzJzogMSwgJ3B0JzogMSwgJ3B1JzogMSwgJ3B3JzogMSwgJ3B5JzogMSwgJ3B6JzogMSwgJ3FhJzogMSwgJ3FlJzogMSwgJ3FpJzogMSwgJ3FvJzogMSwgJ3FyJzogMSwgJ3FzJzogMSwgJ3F0JzogMSwgJ3F1JzogMSwgJ3JhJzogMSwgJ3JiJzogMSwgJ3JjJzogMSwgJ3JkJzogMSwgJ3JlJzogMSwgJ3JmJzogMSwgJ3JnJzogMSwgJ3JoJzogMSwgJ3JpJzogMSwgJ3JqJzogMSwgJ3JrJzogMSwgJ3JsJzogMSwgJ3JtJzogMSwgJ3JuJzogMSwgJ3JvJzogMSwgJ3JwJzogMSwgJ3JxJzogMSwgJ3JyJzogMSwgJ3JzJzogMSwgJ3J0JzogMSwgJ3J1JzogMSwgJ3J2JzogMSwgJ3J3JzogMSwgJ3J4JzogMSwgJ3J5JzogMSwgJ3J6JzogMSwgJ3NhJzogMSwgJ3NiJzogMSwgJ3NjJzogMSwgJ3NkJzogMSwgJ3NlJzogMSwgJ3NmJzogMSwgJ3NnJzogMSwgJ3NoJzogMSwgJ3NpJzogMSwgJ3NqJzogMSwgJ3NrJzogMSwgJ3NsJzogMSwgJ3NtJzogMSwgJ3NuJzogMSwgJ3NvJzogMSwgJ3NwJzogMSwgJ3NxJzogMSwgJ3NyJzogMSwgJ3NzJzogMSwgJ3N0JzogMSwgJ3N1JzogMSwgJ3N2JzogMSwgJ3N3JzogMSwgJ3N5JzogMSwgJ3N6JzogMSwgJ3RhJzogMSwgJ3RiJzogMSwgJ3RjJzogMSwgJ3RkJzogMSwgJ3RlJzogMSwgJ3RmJzogMSwgJ3RnJzogMSwgJ3RoJzogMSwgJ3RpJzogMSwgJ3RqJzogMSwgJ3RrJzogMSwgJ3RsJzogMSwgJ3RtJzogMSwgJ3RuJzogMSwgJ3RvJzogMSwgJ3RwJzogMSwgJ3RyJzogMSwgJ3RzJzogMSwgJ3R0JzogMSwgJ3R1JzogMSwgJ3R2JzogMSwgJ3R3JzogMSwgJ3R4JzogMSwgJ3R5JzogMSwgJ3R6JzogMSwgJ3VhJzogMSwgJ3ViJzogMSwgJ3VjJzogMSwgJ3VkJzogMSwgJ3VlJzogMSwgJ3VmJzogMSwgJ3VnJzogMSwgJ3VoJzogMSwgJ3VpJzogMSwgJ3VqJzogMSwgJ3VrJzogMSwgJ3VsJzogMSwgJ3VtJzogMSwgJ3VuJzogMSwgJ3VvJzogMSwgJ3VwJzogMSwgJ3VxJzogMSwgJ3VyJzogMSwgJ3VzJzogMSwgJ3V0JzogMSwgJ3V1JzogMSwgJ3V2JzogMSwgJ3V3JzogMSwgJ3V4JzogMSwgJ3V5JzogMSwgJ3V6JzogMSwgJ3ZhJzogMSwgJ3ZjJzogMSwgJ3ZkJzogMSwgJ3ZlJzogMSwgJ3ZnJzogMSwgJ3ZpJzogMSwgJ3ZsJzogMSwgJ3ZuJzogMSwgJ3ZvJzogMSwgJ3ZyJzogMSwgJ3ZzJzogMSwgJ3Z0JzogMSwgJ3Z1JzogMSwgJ3Z2JzogMSwgJ3Z5JzogMSwgJ3Z6JzogMSwgJ3dhJzogMSwgJ3diJzogMSwgJ3djJzogMSwgJ3dkJzogMSwgJ3dlJzogMSwgJ3dmJzogMSwgJ3dnJzogMSwgJ3doJzogMSwgJ3dpJzogMSwgJ3dqJzogMSwgJ3drJzogMSwgJ3dsJzogMSwgJ3dtJzogMSwgJ3duJzogMSwgJ3dvJzogMSwgJ3dwJzogMSwgJ3dyJzogMSwgJ3dzJzogMSwgJ3d0JzogMSwgJ3d1JzogMSwgJ3d3JzogMSwgJ3d5JzogMSwgJ3d6JzogMSwgJ3hhJzogMSwgJ3hiJzogMSwgJ3hjJzogMSwgJ3hlJzogMSwgJ3hmJzogMSwgJ3hnJzogMSwgJ3hoJzogMSwgJ3hpJzogMSwgJ3hsJzogMSwgJ3htJzogMSwgJ3huJzogMSwgJ3hvJzogMSwgJ3hwJzogMSwgJ3hxJzogMSwgJ3hzJzogMSwgJ3h0JzogMSwgJ3h1JzogMSwgJ3h2JzogMSwgJ3h3JzogMSwgJ3h4JzogMSwgJ3h5JzogMSwgJ3lhJzogMSwgJ3liJzogMSwgJ3ljJzogMSwgJ3lkJzogMSwgJ3llJzogMSwgJ3lmJzogMSwgJ3lnJzogMSwgJ3loJzogMSwgJ3lpJzogMSwgJ3lqJzogMSwgJ3lrJzogMSwgJ3lsJzogMSwgJ3ltJzogMSwgJ3luJzogMSwgJ3lvJzogMSwgJ3lwJzogMSwgJ3lyJzogMSwgJ3lzJzogMSwgJ3l0JzogMSwgJ3l1JzogMSwgJ3l2JzogMSwgJ3l3JzogMSwgJ3l4JzogMSwgJ3l6JzogMSwgJ3phJzogMSwgJ3piJzogMSwgJ3pjJzogMSwgJ3pkJzogMSwgJ3plJzogMSwgJ3pnJzogMSwgJ3poJzogMSwgJ3ppJzogMSwgJ3pqJzogMSwgJ3prJzogMSwgJ3psJzogMSwgJ3ptJzogMSwgJ3puJzogMSwgJ3pvJzogMSwgJ3pwJzogMSwgJ3pxJzogMSwgJ3pzJzogMSwgJ3p0JzogMSwgJ3p1JzogMSwgJ3p2JzogMSwgJ3p3JzogMSwgJ3p5JzogMSwgJ3p6JzogMSB9Ow0KICAgIGNvbnN0IGdpYmJlcmlzaCA9IChzdHIsIHsgc3RyaWN0ID0gZmFsc2UgfSA9IHt9KSA9PiB7DQogICAgICAgIGlmICghc3RyKSB7DQogICAgICAgICAgICByZXR1cm4gW107DQogICAgICAgIH0NCiAgICAgICAgLy8gdGVzdCBsZXR0ZXIgY2FzZSBzZXF1ZW5jZQ0KICAgICAgICBjb25zdCBsZXR0ZXJDYXNlU2VxdWVuY2VHaWJiZXJzID0gW107DQogICAgICAgIGNvbnN0IHRlc3RzID0gWw0KICAgICAgICAgICAgLyhbQS1aXXszLH1bYS16XSkvZywNCiAgICAgICAgICAgIC8oW2Etel1bQS1aXXszLH0pL2csDQogICAgICAgICAgICAvKFthLXpdW0EtWl17Mix9W2Etel0pL2csDQogICAgICAgICAgICAvKFthLXpdW1xkXXsyLH1bYS16XSkvZywNCiAgICAgICAgICAgIC8oW0EtWl1bXGRdezIsfVthLXpdKS9nLA0KICAgICAgICAgICAgLyhbYS16XVtcZF17Mix9W0EtWl0pL2csIC8vIGEjIy4uLkINCiAgICAgICAgXTsNCiAgICAgICAgdGVzdHMuZm9yRWFjaCgocmVnRXhwKSA9PiB7DQogICAgICAgICAgICBjb25zdCBtYXRjaCA9IHN0ci5tYXRjaChyZWdFeHApOw0KICAgICAgICAgICAgaWYgKG1hdGNoKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlckNhc2VTZXF1ZW5jZUdpYmJlcnMucHVzaChtYXRjaC5qb2luKCcsICcpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfSk7DQogICAgICAgIC8vIHRlc3QgbGV0dGVyIHNlcXVlbmNlDQogICAgICAgIGNvbnN0IGxldHRlclNlcXVlbmNlR2liYmVycyA9IFtdOw0KICAgICAgICBjb25zdCBjbGVhbiA9IHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xkfFxXfF8vZywgJyAnKS5yZXBsYWNlKC9ccysvZywgJyAnKS50cmltKCkuc3BsaXQoJyAnKS5qb2luKCdfJyk7DQogICAgICAgIGNvbnN0IGxlbiA9IGNsZWFuLmxlbmd0aDsNCiAgICAgICAgY29uc3QgYXJyID0gWy4uLmNsZWFuXTsNCiAgICAgICAgYXJyLmZvckVhY2goKGNoYXIsIGluZGV4KSA9PiB7DQogICAgICAgICAgICBjb25zdCBuZXh0ID0gaW5kZXggKyAxOw0KICAgICAgICAgICAgaWYgKGFycltuZXh0XSA9PSAnXycgfHwgY2hhciA9PSAnXycgfHwgbmV4dCA9PSBsZW4pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGNvbWJvID0gY2hhciArIGFycltpbmRleCArIDFdOw0KICAgICAgICAgICAgY29uc3QgYWNjZXB0YWJsZSA9ICEhYWNjZXB0W2NvbWJvXTsNCiAgICAgICAgICAgICFhY2NlcHRhYmxlICYmIGxldHRlclNlcXVlbmNlR2liYmVycy5wdXNoKGNvbWJvKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfSk7DQogICAgICAgIGNvbnN0IGdpYmJlcnMgPSBbDQogICAgICAgICAgICAvLyBpZ25vcmUgc2VxdWVuY2UgaWYgbGVzcyB0aGFuIDMgZXhpc3QNCiAgICAgICAgICAgIC4uLighc3RyaWN0ICYmIChsZXR0ZXJTZXF1ZW5jZUdpYmJlcnMubGVuZ3RoIDwgMykgPyBbXSA6IGxldHRlclNlcXVlbmNlR2liYmVycyksDQogICAgICAgICAgICAuLi4oIXN0cmljdCAmJiAobGV0dGVyQ2FzZVNlcXVlbmNlR2liYmVycy5sZW5ndGggPCA0KSA/IFtdIDogbGV0dGVyQ2FzZVNlcXVlbmNlR2liYmVycyksDQogICAgICAgIF07DQogICAgICAgIGNvbnN0IGFsbG93ID0gWw0KICAgICAgICAgICAgLy8ga25vd24gZ2liYmVycw0KICAgICAgICAgICAgJ2J6JywNCiAgICAgICAgICAgICdjZicsDQogICAgICAgICAgICAnZngnLA0KICAgICAgICAgICAgJ214JywNCiAgICAgICAgICAgICd2YicsDQogICAgICAgICAgICAneGQnLA0KICAgICAgICAgICAgJ2d4JywNCiAgICAgICAgICAgICdQQ0llJywNCiAgICAgICAgICAgICd2bScsDQogICAgICAgICAgICAnTlZJRElBR2EnLA0KICAgICAgICBdOw0KICAgICAgICByZXR1cm4gZ2liYmVycy5maWx0ZXIoKHgpID0+ICFhbGxvdy5pbmNsdWRlcyh4KSk7DQogICAgfTsNCiAgICAvLyBXZWJHTCBSZW5kZXJlciBoZWxwZXJzDQogICAgZnVuY3Rpb24gY29tcHJlc3NXZWJHTFJlbmRlcmVyKHgpIHsNCiAgICAgICAgaWYgKCF4KQ0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICByZXR1cm4gKCcnICsgeCkNCiAgICAgICAgICAgIC5yZXBsYWNlKC9BTkdMRSBcKHxcc0RpcmVjdDNELit8XHNEM0QuK3xcc3ZzXy4rXCl8XCgoRFJNfFBPTEFSSVN8TExWTSkuK3xNZXNhLit8KEFUSXxJTlRFTCktLit8TWV0YWxccy1ccy4rfE5WSURJQVxzW1xkfFwuXSsvaWcsICcnKQ0KICAgICAgICAgICAgLnJlcGxhY2UoLyhccyh0aXxcZHsxLDJ9R0J8c3VwZXIpJCkvaWcsICcnKQ0KICAgICAgICAgICAgLnJlcGxhY2UoL1xzezIsfS9nLCAnICcpDQogICAgICAgICAgICAudHJpbSgpDQogICAgICAgICAgICAucmVwbGFjZSgvKChyfGcpKHR8KSh4fHN8XGQpIHxHcmFwaGljcyB8R2VGb3JjZSB8UmFkZW9uIChIRCB8UHJvIHwpKShcZCspL2ksICguLi5hcmdzKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gYCR7YXJnc1sxXX0ke2FyZ3NbNl1bMF19JHthcmdzWzZdLnNsaWNlKDEpLnJlcGxhY2UoL1xkL2csICcwJyl9c2A7DQogICAgICAgIH0pOw0KICAgIH0NCiAgICBjb25zdCBnZXRXZWJHTFJlbmRlcmVyUGFydHMgPSAoeCkgPT4gew0KICAgICAgICBjb25zdCBrbm93blBhcnRzID0gWw0KICAgICAgICAgICAgJ0FNRCcsDQogICAgICAgICAgICAnQU5HTEUnLA0KICAgICAgICAgICAgJ0FTVVMnLA0KICAgICAgICAgICAgJ0FUSScsDQogICAgICAgICAgICAnQVRJIFJhZGVvbicsDQogICAgICAgICAgICAnQVRJIFRlY2hub2xvZ2llcyBJbmMnLA0KICAgICAgICAgICAgJ0FkcmVubycsDQogICAgICAgICAgICAnQW5kcm9pZCBFbXVsYXRvcicsDQogICAgICAgICAgICAnQXBwbGUnLA0KICAgICAgICAgICAgJ0FwcGxlIEdQVScsDQogICAgICAgICAgICAnQXBwbGUgTTEnLA0KICAgICAgICAgICAgJ0NoaXBzZXQnLA0KICAgICAgICAgICAgJ0QzRDExJywNCiAgICAgICAgICAgICdEaXJlY3QzRCcsDQogICAgICAgICAgICAnRXhwcmVzcyBDaGlwc2V0JywNCiAgICAgICAgICAgICdHZUZvcmNlJywNCiAgICAgICAgICAgICdHZW5lcmF0aW9uJywNCiAgICAgICAgICAgICdHZW5lcmljIFJlbmRlcmVyJywNCiAgICAgICAgICAgICdHb29nbGUnLA0KICAgICAgICAgICAgJ0dvb2dsZSBTd2lmdFNoYWRlcicsDQogICAgICAgICAgICAnR3JhcGhpY3MnLA0KICAgICAgICAgICAgJ0dyYXBoaWNzIE1lZGlhIEFjY2VsZXJhdG9yJywNCiAgICAgICAgICAgICdIRCBHcmFwaGljcyBGYW1pbHknLA0KICAgICAgICAgICAgJ0ludGVsJywNCiAgICAgICAgICAgICdJbnRlbChSKSBIRCBHcmFwaGljcycsDQogICAgICAgICAgICAnSW50ZWwoUikgVUhEIEdyYXBoaWNzJywNCiAgICAgICAgICAgICdJcmlzJywNCiAgICAgICAgICAgICdLQkwgR3JhcGhpY3MnLA0KICAgICAgICAgICAgJ01hbGknLA0KICAgICAgICAgICAgJ01lc2EnLA0KICAgICAgICAgICAgJ01lc2EgRFJJJywNCiAgICAgICAgICAgICdNZXRhbCcsDQogICAgICAgICAgICAnTWljcm9zb2Z0JywNCiAgICAgICAgICAgICdNaWNyb3NvZnQgQmFzaWMgUmVuZGVyIERyaXZlcicsDQogICAgICAgICAgICAnTWljcm9zb2Z0IENvcnBvcmF0aW9uJywNCiAgICAgICAgICAgICdOVklESUEnLA0KICAgICAgICAgICAgJ05WSURJQSBDb3Jwb3JhdGlvbicsDQogICAgICAgICAgICAnTlZJRElBR2FtZVJlYWR5RDNEJywNCiAgICAgICAgICAgICdPcGVuR0wnLA0KICAgICAgICAgICAgJ09wZW5HTCBFbmdpbmUnLA0KICAgICAgICAgICAgJ09wZW4gU291cmNlIFRlY2hub2xvZ3kgQ2VudGVyJywNCiAgICAgICAgICAgICdQYXJhbGxlbHMnLA0KICAgICAgICAgICAgJ1BhcmFsbGVscyBEaXNwbGF5IEFkYXB0ZXInLA0KICAgICAgICAgICAgJ1BDSWUnLA0KICAgICAgICAgICAgJ1BsdXMgR3JhcGhpY3MnLA0KICAgICAgICAgICAgJ1Bvd2VyVlInLA0KICAgICAgICAgICAgJ1BybyBHcmFwaGljcycsDQogICAgICAgICAgICAnUXVhZHJvJywNCiAgICAgICAgICAgICdSYWRlb24nLA0KICAgICAgICAgICAgJ1JhZGVvbiBQcm8nLA0KICAgICAgICAgICAgJ1JhZGVvbiBQcm8gVmVnYScsDQogICAgICAgICAgICAnU2Ftc3VuZycsDQogICAgICAgICAgICAnU1NFMicsDQogICAgICAgICAgICAnVk13YXJlJywNCiAgICAgICAgICAgICdWTXdhcmUgU1ZHQSAzRCcsDQogICAgICAgICAgICAnVmVnYScsDQogICAgICAgICAgICAnVmlydHVhbEJveCcsDQogICAgICAgICAgICAnVmlydHVhbEJveCBHcmFwaGljcyBBZGFwdGVyJywNCiAgICAgICAgICAgICdWdWxrYW4nLA0KICAgICAgICAgICAgJ1hlIEdyYXBoaWNzJywNCiAgICAgICAgICAgICdsbHZtcGlwZScsDQogICAgICAgIF07DQogICAgICAgIGNvbnN0IHBhcnRzID0gWy4uLmtub3duUGFydHNdLmZpbHRlcigobmFtZSkgPT4gKCcnICsgeCkuaW5jbHVkZXMobmFtZSkpOw0KICAgICAgICByZXR1cm4gWy4uLm5ldyBTZXQocGFydHMpXS5zb3J0KCkuam9pbignLCAnKTsNCiAgICB9Ow0KICAgIGNvbnN0IGdldFdlYkdMUmVuZGVyZXJDb25maWRlbmNlID0gKHgpID0+IHsNCiAgICAgICAgaWYgKCF4KSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgcGFydHMgPSBnZXRXZWJHTFJlbmRlcmVyUGFydHMoeCk7DQogICAgICAgIGNvbnN0IGhhc0tub3duUGFydHMgPSBwYXJ0cy5sZW5ndGg7DQogICAgICAgIGNvbnN0IGhhc0JsYW5rU3BhY2VOb2lzZSA9IC9cc3syLH18XlxzfFxzJC8udGVzdCh4KTsNCiAgICAgICAgY29uc3QgaGFzQnJva2VuQW5nbGVTdHJ1Y3R1cmUgPSAvXkFOR0xFLy50ZXN0KHgpICYmICEoL15BTkdMRSBcKCguKylcKS8uZXhlYyh4KSB8fCBbXSlbMV07DQogICAgICAgIC8vIGh0dHBzOi8vY2hyb21pdW0uZ29vZ2xlc291cmNlLmNvbS9hbmdsZS9hbmdsZS8rLzgzZmExODkwNWQ4ZmVkNGYzOTRlNGYzMDE0MGE4M2EzZTc2YjE1Nzcvc3JjL2dwdV9pbmZvX3V0aWwvU3lzdGVtSW5mby5jcHANCiAgICAgICAgLy8gaHR0cHM6Ly9jaHJvbWl1bS5nb29nbGVzb3VyY2UuY29tL2FuZ2xlL2FuZ2xlLysvODNmYTE4OTA1ZDhmZWQ0ZjM5NGU0ZjMwMTQwYTgzYTNlNzZiMTU3Ny9zcmMvZ3B1X2luZm9fdXRpbC9TeXN0ZW1JbmZvLmgNCiAgICAgICAgLy8gaHR0cHM6Ly9jaHJvbWl1bS5nb29nbGVzb3VyY2UuY29tL2Nocm9taXVtL3NyYy8rL3JlZnMvaGVhZHMvbWFpbi91aS9nbC9nbF92ZXJzaW9uX2luZm8uY2MNCiAgICAgICAgLyoNCiAgICAgICAgY29uc3Qga25vd25WZW5kb3JzID0gWw0KICAgICAgICAgICAgJ0FNRCcsDQogICAgICAgICAgICAnQVJNJywNCiAgICAgICAgICAgICdCcm9hZGNvbScsDQogICAgICAgICAgICAnR29vZ2xlJywNCiAgICAgICAgICAgICdJbWdUZWMnLA0KICAgICAgICAgICAgJ0ludGVsJywNCiAgICAgICAgICAgICdLYXphbicsDQogICAgICAgICAgICAnTlZJRElBJywNCiAgICAgICAgICAgICdRdWFsY29tbScsDQogICAgICAgICAgICAnVmVyaVNpbGljb24nLA0KICAgICAgICAgICAgJ1ZpdmFudGUnLA0KICAgICAgICAgICAgJ1ZNV2FyZScsDQogICAgICAgICAgICAnQXBwbGUnLA0KICAgICAgICAgICAgJ1Vua25vd24nDQogICAgICAgIF0NCiAgICAgICAgY29uc3QgYW5nbGUgPSB7DQogICAgICAgICAgICB2ZW5kb3JJZDogKC9eQU5HTEUgXCgoW14sXSspLC8uZXhlYyh4KXx8W10pWzFdIHx8IGtub3duVmVuZG9ycy5maW5kKHZlbmRvciA9PiB4LmluY2x1ZGVzKHZlbmRvcikpLA0KICAgICAgICAgICAgZGV2aWNlSWQ6ICgNCiAgICAgICAgICAgICAgICAoeC5tYXRjaCgvLC9nKXx8W10pLmxlbmd0aCA9PSAyID8gKC9eQU5HTEUgXCgoW14sXSspLCAoW14sXSspWyx8XCldLy5leGVjKHgpfHxbXSlbMl0gOg0KICAgICAgICAgICAgICAgICAgICAoL15BTkdMRSBcKChbXixdKyksIChbXixdKylbLHxcKV0vLmV4ZWMoeCl8fFtdKVsxXSB8fCAoL15BTkdMRSBcKCguKylcKSQvLmV4ZWMoeCl8fFtdKVsxXQ0KICAgICAgICAgICAgKS5yZXBsYWNlKC9cc0RpcmVjdDNELisvLCAnJykNCiAgICAgICAgfQ0KICAgICAgICAqLw0KICAgICAgICBjb25zdCBnaWJiZXJzID0gZ2liYmVyaXNoKHgsIHsgc3RyaWN0OiB0cnVlIH0pLmpvaW4oJywgJyk7DQogICAgICAgIGNvbnN0IHZhbGlkID0gKGhhc0tub3duUGFydHMgJiYgIWhhc0JsYW5rU3BhY2VOb2lzZSAmJiAhaGFzQnJva2VuQW5nbGVTdHJ1Y3R1cmUpOw0KICAgICAgICBjb25zdCBjb25maWRlbmNlID0gKHZhbGlkICYmICFnaWJiZXJzLmxlbmd0aCA/ICdoaWdoJyA6DQogICAgICAgICAgICB2YWxpZCAmJiBnaWJiZXJzLmxlbmd0aCA/ICdtb2RlcmF0ZScgOg0KICAgICAgICAgICAgICAgICdsb3cnKTsNCiAgICAgICAgY29uc3QgZ3JhZGUgPSAoY29uZmlkZW5jZSA9PSAnaGlnaCcgPyAnQScgOg0KICAgICAgICAgICAgY29uZmlkZW5jZSA9PSAnbW9kZXJhdGUnID8gJ0MnIDoNCiAgICAgICAgICAgICAgICAnRicpOw0KICAgICAgICBjb25zdCB3YXJuaW5ncyA9IG5ldyBTZXQoWw0KICAgICAgICAgICAgKGhhc0JsYW5rU3BhY2VOb2lzZSA/ICdmb3VuZCBleHRyYSBzcGFjZXMnIDogdW5kZWZpbmVkKSwNCiAgICAgICAgICAgIChoYXNCcm9rZW5BbmdsZVN0cnVjdHVyZSA/ICdicm9rZW4gYW5nbGUgc3RydWN0dXJlJyA6IHVuZGVmaW5lZCksDQogICAgICAgIF0pOw0KICAgICAgICB3YXJuaW5ncy5kZWxldGUodW5kZWZpbmVkKTsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHBhcnRzLA0KICAgICAgICAgICAgd2FybmluZ3M6IFsuLi53YXJuaW5nc10sDQogICAgICAgICAgICBnaWJiZXJzLA0KICAgICAgICAgICAgY29uZmlkZW5jZSwNCiAgICAgICAgICAgIGdyYWRlLA0KICAgICAgICB9Ow0KICAgIH07DQogICAgLy8gQ29sbGVjdCB0cmFzaCB2YWx1ZXMNCiAgICBjb25zdCBjcmVhdGVUcmFzaEJpbiA9ICgpID0+IHsNCiAgICAgICAgY29uc3QgYmluID0gW107DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBnZXRCaW46ICgpID0+IGJpbiwNCiAgICAgICAgICAgIHNlbmRUb1RyYXNoOiAobmFtZSwgdmFsLCByZXNwb25zZSA9IHVuZGVmaW5lZCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHByb3h5TGlrZSA9IHByb3h5QmVoYXZpb3IodmFsKTsNCiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9ICFwcm94eUxpa2UgPyB2YWwgOiAncHJveHkgYmVoYXZpb3IgZGV0ZWN0ZWQnOw0KICAgICAgICAgICAgICAgIGJpbi5wdXNoKHsgbmFtZSwgdmFsdWUgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgfTsNCiAgICB9Ow0KICAgIGNvbnN0IHRyYXNoQmluID0gY3JlYXRlVHJhc2hCaW4oKTsNCiAgICBjb25zdCB7IHNlbmRUb1RyYXNoIH0gPSB0cmFzaEJpbjsNCiAgICBjb25zdCBnZXRUcmFzaCA9ICgpID0+ICh7IHRyYXNoQmluOiB0cmFzaEJpbi5nZXRCaW4oKSB9KTsKCiAgICBmdW5jdGlvbiBpc0ZvbnRPU0JhZCh1c2VyQWdlbnRPUywgZm9udHMpIHsNCiAgICAgICAgaWYgKCF1c2VyQWdlbnRPUyB8fCAhZm9udHMgfHwgIWZvbnRzLmxlbmd0aCkNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgY29uc3QgZm9udE1hcCA9IGZvbnRzLnJlZHVjZSgoYWNjLCB4KSA9PiB7DQogICAgICAgICAgICBhY2NbeF0gPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIGFjYzsNCiAgICAgICAgfSwge30pOw0KICAgICAgICBjb25zdCBpc0xpa2VXaW5kb3dzID0gKCdDYW1icmlhIE1hdGgnIGluIGZvbnRNYXAgfHwNCiAgICAgICAgICAgICdOaXJtYWxhIFVJJyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnTGVlbGF3YWRlZSBVSScgaW4gZm9udE1hcCB8fA0KICAgICAgICAgICAgJ0hvbG9MZW5zIE1ETDIgQXNzZXRzJyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnU2Vnb2UgRmx1ZW50IEljb25zJyBpbiBmb250TWFwKTsNCiAgICAgICAgY29uc3QgaXNMaWtlQXBwbGUgPSAoJ0hlbHZldGljYSBOZXVlJyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnTHVtaW5hcmknIGluIGZvbnRNYXAgfHwNCiAgICAgICAgICAgICdQaW5nRmFuZyBISyBMaWdodCcgaW4gZm9udE1hcCB8fA0KICAgICAgICAgICAgJ0Z1dHVyYSBCb2xkJyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnSW5haU1hdGhpIEJvbGQnIGluIGZvbnRNYXAgfHwNCiAgICAgICAgICAgICdHYWx2amknIGluIGZvbnRNYXAgfHwNCiAgICAgICAgICAgICdDaGFrcmEgUGV0Y2gnIGluIGZvbnRNYXApOw0KICAgICAgICBjb25zdCBpc0xpa2VMaW51eCA9ICgnQXJpbW8nIGluIGZvbnRNYXAgfHwNCiAgICAgICAgICAgICdNT05PJyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnVWJ1bnR1JyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnTm90byBDb2xvciBFbW9qaScgaW4gZm9udE1hcCB8fA0KICAgICAgICAgICAgJ0RhbmNpbmcgU2NyaXB0JyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnRHJvaWQgU2FucyBNb25vJyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnUm9ib3RvJyBpbiBmb250TWFwKTsNCiAgICAgICAgaWYgKGlzTGlrZVdpbmRvd3MgJiYgdXNlckFnZW50T1MgIT0gIldpbmRvd3MiIC8qIFBsYXRmb3JtQ2xhc3NpZmllci5XSU5ET1dTICovKSB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmIChpc0xpa2VBcHBsZSAmJiB1c2VyQWdlbnRPUyAhPSAiQXBwbGUiIC8qIFBsYXRmb3JtQ2xhc3NpZmllci5BUFBMRSAqLykgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZiAoaXNMaWtlTGludXggJiYgdXNlckFnZW50T1MgIT0gIkxpbnV4IiAvKiBQbGF0Zm9ybUNsYXNzaWZpZXIuTElOVVggKi8pIHsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQogICAgLy8gaW5zcGlyZWQgYnkgTGFsaXQgUGF0ZWwncyBmb250ZGV0ZWN0LmpzDQogICAgLy8gaHR0cHM6Ly93d3cubGFsaXQub3JnL3dvcmRwcmVzcy93cC1jb250ZW50L3VwbG9hZHMvMjAwOC8wNS9mb250ZGV0ZWN0LmpzP3Zlcj0wLjMNCiAgICBjb25zdCBXaW5kb3dzRm9udHMgPSB7DQogICAgICAgIC8vIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL3R5cG9ncmFwaHkvZm9udHMvd2luZG93c18xMV9mb250X2xpc3QNCiAgICAgICAgJzcnOiBbDQogICAgICAgICAgICAnQ2FtYnJpYSBNYXRoJywNCiAgICAgICAgICAgICdMdWNpZGEgQ29uc29sZScsDQogICAgICAgIF0sDQogICAgICAgICc4JzogWw0KICAgICAgICAgICAgJ0FsZGhhYmknLA0KICAgICAgICAgICAgJ0dhZHVnaScsDQogICAgICAgICAgICAnTXlhbm1hciBUZXh0JywNCiAgICAgICAgICAgICdOaXJtYWxhIFVJJywNCiAgICAgICAgXSwNCiAgICAgICAgJzguMSc6IFsNCiAgICAgICAgICAgICdMZWVsYXdhZGVlIFVJJywNCiAgICAgICAgICAgICdKYXZhbmVzZSBUZXh0JywNCiAgICAgICAgICAgICdTZWdvZSBVSSBFbW9qaScsDQogICAgICAgIF0sDQogICAgICAgICcxMCc6IFsNCiAgICAgICAgICAgICdIb2xvTGVucyBNREwyIEFzc2V0cycsDQogICAgICAgICAgICAnU2Vnb2UgTURMMiBBc3NldHMnLA0KICAgICAgICAgICAgJ0JhaG5zY2hyaWZ0JywNCiAgICAgICAgICAgICdJbmsgRnJlZScsIC8vIDEwICh2MTgwMykgKy0NCiAgICAgICAgXSwNCiAgICAgICAgJzExJzogWydTZWdvZSBGbHVlbnQgSWNvbnMnXSwNCiAgICB9Ow0KICAgIGNvbnN0IE1hY09TRm9udHMgPSB7DQogICAgICAgIC8vIE1hdmVyaWNrcyBhbmQgYmVsb3cNCiAgICAgICAgJzEwLjknOiBbDQogICAgICAgICAgICAnSGVsdmV0aWNhIE5ldWUnLA0KICAgICAgICAgICAgJ0dlbmV2YScsIC8vIG1hYyAobm90IGlPUykNCiAgICAgICAgXSwNCiAgICAgICAgLy8gWW9zZW1pdGUNCiAgICAgICAgJzEwLjEwJzogWw0KICAgICAgICAgICAgJ0tvaGlub29yIERldmFuYWdhcmkgTWVkaXVtJywNCiAgICAgICAgICAgICdMdW1pbmFyaScsDQogICAgICAgIF0sDQogICAgICAgIC8vIEVsIENhcGl0YW4NCiAgICAgICAgJzEwLjExJzogWw0KICAgICAgICAgICAgJ1BpbmdGYW5nIEhLIExpZ2h0JywNCiAgICAgICAgXSwNCiAgICAgICAgLy8gU2llcnJhOiBodHRwczovL3N1cHBvcnQuYXBwbGUuY29tL2VuLWllL0hUMjA2ODcyDQogICAgICAgICcxMC4xMic6IFsNCiAgICAgICAgICAgICdBbWVyaWNhbiBUeXBld3JpdGVyIFNlbWlib2xkJywNCiAgICAgICAgICAgICdGdXR1cmEgQm9sZCcsDQogICAgICAgICAgICAnU2lnblBhaW50ZXItSG91c2VTY3JpcHQgU2VtaWJvbGQnLA0KICAgICAgICBdLA0KICAgICAgICAvLyBIaWdoIFNpZXJyYTogaHR0cHM6Ly9zdXBwb3J0LmFwcGxlLmNvbS9lbi1tZS9IVDIwNzk2Mg0KICAgICAgICAvLyBNb2phdmU6IGh0dHBzOi8vc3VwcG9ydC5hcHBsZS5jb20vZW4tdXMvSFQyMDg5NjgNCiAgICAgICAgJzEwLjEzLTEwLjE0JzogWw0KICAgICAgICAgICAgJ0luYWlNYXRoaSBCb2xkJywNCiAgICAgICAgXSwNCiAgICAgICAgLy8gQ2F0YWxpbmE6IGh0dHBzOi8vc3VwcG9ydC5hcHBsZS5jb20vZW4tdXMvSFQyMTAxOTINCiAgICAgICAgLy8gQmlnIFN1cjogaHR0cHM6Ly9zdXBwb3J0LmFwcGxlLmNvbS9lbi1zZy9IVDIxMTI0MA0KICAgICAgICAnMTAuMTUtMTEnOiBbDQogICAgICAgICAgICAnR2FsdmppJywNCiAgICAgICAgICAgICdNdWt0YU1haGVlIFJlZ3VsYXInLA0KICAgICAgICBdLA0KICAgICAgICAvLyBNb250ZXJleTogaHR0cHM6Ly9zdXBwb3J0LmFwcGxlLmNvbS9lbi11cy9IVDIxMjU4Nw0KICAgICAgICAnMTInOiBbDQogICAgICAgICAgICAnQmFpIEphbWp1cmVlJywNCiAgICAgICAgICAgICdDaGFrcmEgUGV0Y2gnLA0KICAgICAgICAgICAgJ0NoYXJtb25tYW4nLA0KICAgICAgICAgICAgJ0tvZGNoYXNhbicsDQogICAgICAgIF0sDQogICAgfTsNCiAgICBjb25zdCBEZXNrdG9wQXBwRm9udHMgPSB7DQogICAgICAgIC8vIGRvY3MubWljcm9zb2Z0LmNvbS9lbi11cy90eXBvZ3JhcGh5L2ZvbnQtbGlzdC9tcy1vdXRsb29rDQogICAgICAgICdNaWNyb3NvZnQgT3V0bG9vayc6IFsnTVMgT3V0bG9vayddLA0KICAgICAgICAvLyBodHRwczovL2NvbW11bml0eS5hZG9iZS5jb20vdDUvcG9zdHNjcmlwdC1kaXNjdXNzaW9ucy96d2Fkb2JlZi1mb250L20tcC8zNzMwNDI3I003ODUNCiAgICAgICAgJ0Fkb2JlIEFjcm9iYXQnOiBbJ1pXQWRvYmVGJ10sDQogICAgICAgIC8vIGh0dHBzOi8vd2lraS5kb2N1bWVudGZvdW5kYXRpb24ub3JnL0ZvbnRzDQogICAgICAgICdMaWJyZU9mZmljZSc6IFsNCiAgICAgICAgICAgICdBbWlyaScsDQogICAgICAgICAgICAnS0FDU1RPZmZpY2UnLA0KICAgICAgICAgICAgJ0xpYmVyYXRpb24gTW9ubycsDQogICAgICAgICAgICAnU291cmNlIENvZGUgUHJvJywNCiAgICAgICAgXSwNCiAgICAgICAgLy8gaHR0cHM6Ly9zdXBlcnVzZXIuY29tL2EvNjExODA0DQogICAgICAgICdPcGVuT2ZmaWNlJzogWw0KICAgICAgICAgICAgJ0RlamFWdSBTYW5zJywNCiAgICAgICAgICAgICdHZW50aXVtIEJvb2sgQmFzaWMnLA0KICAgICAgICAgICAgJ09wZW5TeW1ib2wnLA0KICAgICAgICBdLA0KICAgIH07DQogICAgY29uc3QgQVBQTEVfRk9OVFMgPSBPYmplY3Qua2V5cyhNYWNPU0ZvbnRzKS5tYXAoKGtleSkgPT4gTWFjT1NGb250c1trZXldKS5mbGF0KCk7DQogICAgY29uc3QgV0lORE9XU19GT05UUyA9IE9iamVjdC5rZXlzKFdpbmRvd3NGb250cykubWFwKChrZXkpID0+IFdpbmRvd3NGb250c1trZXldKS5mbGF0KCk7DQogICAgY29uc3QgREVTS1RPUF9BUFBfRk9OVFMgPSAoT2JqZWN0LmtleXMoRGVza3RvcEFwcEZvbnRzKS5tYXAoKGtleSkgPT4gRGVza3RvcEFwcEZvbnRzW2tleV0pLmZsYXQoKSk7DQogICAgY29uc3QgTElOVVhfRk9OVFMgPSBbDQogICAgICAgICdBcmltbycsDQogICAgICAgICdDaGlsYW5rYScsDQogICAgICAgICdDb3VzaW5lJywNCiAgICAgICAgJ0pvbW9saGFyaScsDQogICAgICAgICdNT05PJywNCiAgICAgICAgJ05vdG8gQ29sb3IgRW1vamknLA0KICAgICAgICAnVWJ1bnR1JywgLy8gdWJ1bnR1IChub3QgVEIpDQogICAgXTsNCiAgICBjb25zdCBBTkRST0lEX0ZPTlRTID0gWw0KICAgICAgICAnRGFuY2luZyBTY3JpcHQnLA0KICAgICAgICAnRHJvaWQgU2FucyBNb25vJywNCiAgICAgICAgJ1JvYm90bycsIC8vIEFuZHJvaWQsIENocm9tZSBPUw0KICAgIF07DQogICAgY29uc3QgRk9OVF9MSVNUID0gWw0KICAgICAgICAuLi5BUFBMRV9GT05UUywNCiAgICAgICAgLi4uV0lORE9XU19GT05UUywNCiAgICAgICAgLi4uTElOVVhfRk9OVFMsDQogICAgICAgIC4uLkFORFJPSURfRk9OVFMsDQogICAgICAgIC4uLkRFU0tUT1BfQVBQX0ZPTlRTLA0KICAgIF0uc29ydCgpOw0KICAgIGFzeW5jIGZ1bmN0aW9uIGdldEZvbnRzKCkgew0KICAgICAgICBjb25zdCBnZXRQaXhlbEVtb2ppcyA9ICh7IGRvYywgaWQsIGVtb2ppcyB9KSA9PiB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHBhdGNoKGRvYy5nZXRFbGVtZW50QnlJZChpZCksIGh0bWwgYA0KCQkJCTxkaXYgaWQ9InBpeGVsLWVtb2ppLWNvbnRhaW5lciI+DQoJCQkJPHN0eWxlPg0KCQkJCQkucGl4ZWwtZW1vamkgew0KCQkJCQkJZm9udC1mYW1pbHk6ICR7Q1NTX0ZPTlRfRkFNSUxZfTsNCgkJCQkJCWZvbnQtc2l6ZTogMjAwcHggIWltcG9ydGFudDsNCgkJCQkJCWhlaWdodDogYXV0bzsNCgkJCQkJCXBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50Ow0KCQkJCQkJdHJhbnNmb3JtOiBzY2FsZSgxLjAwMDk5OSk7DQoJCQkJCX0NCgkJCQkJPC9zdHlsZT4NCgkJCQkJJHtlbW9qaXMubWFwKChlbW9qaSkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz0icGl4ZWwtZW1vamkiPiR7ZW1vaml9PC9kaXY+YDsNCiAgICAgICAgICAgIH0pLmpvaW4oJycpfQ0KCQkJCTwvZGl2Pg0KCQkJYCk7DQogICAgICAgICAgICAgICAgLy8gZ2V0IGVtb2ppIHNldCBhbmQgc3lzdGVtDQogICAgICAgICAgICAgICAgY29uc3QgZ2V0RW1vamlEaW1lbnNpb25zID0gKHN0eWxlKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogc3R5bGUuaW5saW5lU2l6ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogc3R5bGUuYmxvY2tTaXplLA0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IG5ldyBTZXQoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBlbW9qaUVsZW1zID0gWy4uLmRvYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwaXhlbC1lbW9qaScpXTsNCiAgICAgICAgICAgICAgICBjb25zdCBlbW9qaVNldCA9IGVtb2ppRWxlbXMucmVkdWNlKChlbW9qaVNldCwgZWwsIGkpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1vamkgPSBlbW9qaXNbaV07DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgaGVpZ2h0LCB3aWR0aCB9ID0gZ2V0RW1vamlEaW1lbnNpb25zKHN0eWxlKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IGAke3dpZHRofSwke2hlaWdodH1gOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIXBhdHRlcm4uaGFzKGRpbWVuc2lvbnMpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLmFkZChkaW1lbnNpb25zKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVtb2ppU2V0LmFkZChlbW9qaSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtb2ppU2V0Ow0KICAgICAgICAgICAgICAgIH0sIG5ldyBTZXQoKSk7DQogICAgICAgICAgICAgICAgY29uc3QgcGl4ZWxUb051bWJlciA9IChwaXhlbHMpID0+ICsocGl4ZWxzLnJlcGxhY2UoJ3B4JywgJycpKTsNCiAgICAgICAgICAgICAgICBjb25zdCBwaXhlbFNpemVTeXN0ZW1TdW0gPSAwLjAwMDAxICogWy4uLnBhdHRlcm5dLm1hcCgoeCkgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4geC5zcGxpdCgnLCcpLm1hcCgoeCkgPT4gcGl4ZWxUb051bWJlcih4KSkucmVkdWNlKChhY2MsIHgpID0+IGFjYyArPSAoK3ggfHwgMCksIDApOw0KICAgICAgICAgICAgICAgIH0pLnJlZHVjZSgoYWNjLCB4KSA9PiBhY2MgKz0geCwgMCk7DQogICAgICAgICAgICAgICAgZG9jLmJvZHkucmVtb3ZlQ2hpbGQoZG9jLmdldEVsZW1lbnRCeUlkKCdwaXhlbC1lbW9qaS1jb250YWluZXInKSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgZW1vamlTZXQ6IFsuLi5lbW9qaVNldF0sDQogICAgICAgICAgICAgICAgICAgIHBpeGVsU2l6ZVN5c3RlbVN1bSwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgZW1vamlTZXQ6IFtdLA0KICAgICAgICAgICAgICAgICAgICBwaXhlbFNpemVTeXN0ZW1TdW06IDAsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2V0Rm9udEZhY2VMb2FkRm9udHMgPSBhc3luYyAoZm9udExpc3QpID0+IHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgbGV0IGZvbnRzQ2hlY2tlZCA9IFtdOw0KICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZm9udHMuY2hlY2soYDBweCAiJHtnZXRSYW5kb21WYWx1ZXMoKX0iYCkpIHsNCiAgICAgICAgICAgICAgICAgICAgZm9udHNDaGVja2VkID0gZm9udExpc3QucmVkdWNlKChhY2MsIGZvbnQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gZG9jdW1lbnQuZm9udHMuY2hlY2soYDBweCAiJHtmb250fSJgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2MucHVzaChmb250KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICAgICAgICAgIH0sIFtdKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29uc3QgZm9udEZhY2VMaXN0ID0gZm9udExpc3QubWFwKChmb250KSA9PiBuZXcgRm9udEZhY2UoZm9udCwgYGxvY2FsKCIke2ZvbnR9IilgKSk7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VDb2xsZWN0aW9uID0gYXdhaXQgUHJvbWlzZQ0KICAgICAgICAgICAgICAgICAgICAuYWxsU2V0dGxlZChmb250RmFjZUxpc3QubWFwKChmb250KSA9PiBmb250LmxvYWQoKSkpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGZvbnRzTG9hZGVkID0gcmVzcG9uc2VDb2xsZWN0aW9uLnJlZHVjZSgoYWNjLCBmb250KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChmb250LnN0YXR1cyA9PSAnZnVsZmlsbGVkJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgYWNjLnB1c2goZm9udC52YWx1ZS5mYW1pbHkpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICAgICAgfSwgW10pOw0KICAgICAgICAgICAgICAgIHJldHVybiBbLi4ubmV3IFNldChbLi4uZm9udHNDaGVja2VkLCAuLi5mb250c0xvYWRlZF0pXS5zb3J0KCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gW107DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGdldFBsYXRmb3JtVmVyc2lvbiA9IChmb250cykgPT4gew0KICAgICAgICAgICAgY29uc3QgZ2V0V2luZG93cyA9ICh7IGZvbnRzLCBmb250TWFwIH0pID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBmb250VmVyc2lvbiA9IHsNCiAgICAgICAgICAgICAgICAgICAgWycxMSddOiBmb250TWFwWycxMSddLmZpbmQoKHgpID0+IGZvbnRzLmluY2x1ZGVzKHgpKSwNCiAgICAgICAgICAgICAgICAgICAgWycxMCddOiBmb250TWFwWycxMCddLmZpbmQoKHgpID0+IGZvbnRzLmluY2x1ZGVzKHgpKSwNCiAgICAgICAgICAgICAgICAgICAgWyc4LjEnXTogZm9udE1hcFsnOC4xJ10uZmluZCgoeCkgPT4gZm9udHMuaW5jbHVkZXMoeCkpLA0KICAgICAgICAgICAgICAgICAgICBbJzgnXTogZm9udE1hcFsnOCddLmZpbmQoKHgpID0+IGZvbnRzLmluY2x1ZGVzKHgpKSwNCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSBjb21wbGV0ZSBzZXQgb2YgV2luZG93cyA3IGZvbnRzDQogICAgICAgICAgICAgICAgICAgIFsnNyddOiBmb250TWFwWyc3J10uZmlsdGVyKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSkubGVuZ3RoID09IGZvbnRNYXBbJzcnXS5sZW5ndGgsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBjb25zdCBoYXNoID0gKCcnICsgT2JqZWN0LmtleXMoZm9udFZlcnNpb24pLnNvcnQoKS5maWx0ZXIoKGtleSkgPT4gISFmb250VmVyc2lvbltrZXldKSk7DQogICAgICAgICAgICAgICAgY29uc3QgaGFzaE1hcCA9IHsNCiAgICAgICAgICAgICAgICAgICAgJzEwLDExLDcsOCw4LjEnOiAnMTEnLA0KICAgICAgICAgICAgICAgICAgICAnMTAsNyw4LDguMSc6ICcxMCcsDQogICAgICAgICAgICAgICAgICAgICc3LDgsOC4xJzogJzguMScsDQogICAgICAgICAgICAgICAgICAgICcxMSw3LDgsOC4xJzogJzguMScsDQogICAgICAgICAgICAgICAgICAgICc3LDgnOiAnOCcsDQogICAgICAgICAgICAgICAgICAgICcxMCw3LDgnOiAnOCcsDQogICAgICAgICAgICAgICAgICAgICcxMCwxMSw3LDgnOiAnOCcsDQogICAgICAgICAgICAgICAgICAgICc3JzogJzcnLA0KICAgICAgICAgICAgICAgICAgICAnNyw4LjEnOiAnNycsDQogICAgICAgICAgICAgICAgICAgICcxMCw3LDguMSc6ICc3JywNCiAgICAgICAgICAgICAgICAgICAgJzEwLDExLDcsOC4xJzogJzcnLCAvLyBtaXNzaW5nIDgNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSBoYXNoTWFwW2hhc2hdOw0KICAgICAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uID8gYFdpbmRvd3MgJHt2ZXJzaW9ufWAgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgZ2V0TWFjT1MgPSAoeyBmb250cywgZm9udE1hcCB9KSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgZm9udFZlcnNpb24gPSB7DQogICAgICAgICAgICAgICAgICAgIFsnMTInXTogZm9udE1hcFsnMTInXS5maW5kKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSksDQogICAgICAgICAgICAgICAgICAgIFsnMTAuMTUtMTEnXTogZm9udE1hcFsnMTAuMTUtMTEnXS5maW5kKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSksDQogICAgICAgICAgICAgICAgICAgIFsnMTAuMTMtMTAuMTQnXTogZm9udE1hcFsnMTAuMTMtMTAuMTQnXS5maW5kKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSksDQogICAgICAgICAgICAgICAgICAgIFsnMTAuMTInXTogZm9udE1hcFsnMTAuMTInXS5maW5kKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSksDQogICAgICAgICAgICAgICAgICAgIFsnMTAuMTEnXTogZm9udE1hcFsnMTAuMTEnXS5maW5kKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSksDQogICAgICAgICAgICAgICAgICAgIFsnMTAuMTAnXTogZm9udE1hcFsnMTAuMTAnXS5maW5kKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSksDQogICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmUgY29tcGxldGUgc2V0IG9mIDEwLjkgZm9udHMNCiAgICAgICAgICAgICAgICAgICAgWycxMC45J106IGZvbnRNYXBbJzEwLjknXS5maWx0ZXIoKHgpID0+IGZvbnRzLmluY2x1ZGVzKHgpKS5sZW5ndGggPT0gZm9udE1hcFsnMTAuOSddLmxlbmd0aCwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGNvbnN0IGhhc2ggPSAoJycgKyBPYmplY3Qua2V5cyhmb250VmVyc2lvbikuc29ydCgpLmZpbHRlcigoa2V5KSA9PiAhIWZvbnRWZXJzaW9uW2tleV0pKTsNCiAgICAgICAgICAgICAgICBjb25zdCBoYXNoTWFwID0gew0KICAgICAgICAgICAgICAgICAgICAnMTAuMTAsMTAuMTEsMTAuMTIsMTAuMTMtMTAuMTQsMTAuMTUtMTEsMTAuOSwxMic6ICdNb250ZXJleScsDQogICAgICAgICAgICAgICAgICAgICcxMC4xMCwxMC4xMSwxMC4xMiwxMC4xMy0xMC4xNCwxMC4xNS0xMSwxMC45JzogJzEwLjE1LTExJywNCiAgICAgICAgICAgICAgICAgICAgJzEwLjEwLDEwLjExLDEwLjEyLDEwLjEzLTEwLjE0LDEwLjknOiAnMTAuMTMtMTAuMTQnLA0KICAgICAgICAgICAgICAgICAgICAnMTAuMTAsMTAuMTEsMTAuMTIsMTAuOSc6ICdTaWVycmEnLA0KICAgICAgICAgICAgICAgICAgICAnMTAuMTAsMTAuMTEsMTAuOSc6ICdFbCBDYXBpdGFuJywNCiAgICAgICAgICAgICAgICAgICAgJzEwLjEwLDEwLjknOiAnWW9zZW1pdGUnLA0KICAgICAgICAgICAgICAgICAgICAnMTAuOSc6ICdNYXZlcmlja3MnLCAvLyAxMC45DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gaGFzaE1hcFtoYXNoXTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvbiA/IGBtYWNPUyAke3ZlcnNpb259YCA6IHVuZGVmaW5lZDsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICByZXR1cm4gKGdldFdpbmRvd3MoeyBmb250cywgZm9udE1hcDogV2luZG93c0ZvbnRzIH0pIHx8DQogICAgICAgICAgICAgICAgZ2V0TWFjT1MoeyBmb250cywgZm9udE1hcDogTWFjT1NGb250cyB9KSk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGdldERlc2t0b3BBcHBzID0gKGZvbnRzKSA9PiB7DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBhcHBzID0gT2JqZWN0LmtleXMoRGVza3RvcEFwcEZvbnRzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgYXBwRm9udFNldCA9IERlc2t0b3BBcHBGb250c1trZXldOw0KICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gYXBwRm9udFNldC5maWx0ZXIoKHgpID0+IGZvbnRzLmluY2x1ZGVzKHgpKS5sZW5ndGggPT0gYXBwRm9udFNldC5sZW5ndGg7DQogICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoID8gWy4uLmFjYywga2V5XSA6IGFjYzsNCiAgICAgICAgICAgIH0sIFtdKTsNCiAgICAgICAgICAgIHJldHVybiBhcHBzOw0KICAgICAgICB9Ow0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpOw0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICBjb25zdCBkb2MgPSAoUEhBTlRPTV9EQVJLTkVTUyAmJg0KICAgICAgICAgICAgICAgIFBIQU5UT01fREFSS05FU1MuZG9jdW1lbnQgJiYNCiAgICAgICAgICAgICAgICBQSEFOVE9NX0RBUktORVNTLmRvY3VtZW50LmJvZHkgPyBQSEFOVE9NX0RBUktORVNTLmRvY3VtZW50IDoNCiAgICAgICAgICAgICAgICBkb2N1bWVudCk7DQogICAgICAgICAgICBjb25zdCBpZCA9IGBmb250LWZpbmdlcnByaW50YDsNCiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpOw0KICAgICAgICAgICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTsNCiAgICAgICAgICAgIGNvbnN0IHsgZW1vamlTZXQsIHBpeGVsU2l6ZVN5c3RlbVN1bSwgfSA9IGdldFBpeGVsRW1vamlzKHsNCiAgICAgICAgICAgICAgICBkb2MsDQogICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgZW1vamlzOiBFTU9KSVMsDQogICAgICAgICAgICB9KSB8fCB7fTsNCiAgICAgICAgICAgIGNvbnN0IGZvbnRMaXN0ID0gRk9OVF9MSVNUOw0KICAgICAgICAgICAgY29uc3QgZm9udEZhY2VMb2FkRm9udHMgPSBhd2FpdCBnZXRGb250RmFjZUxvYWRGb250cyhmb250TGlzdCk7DQogICAgICAgICAgICBjb25zdCBwbGF0Zm9ybVZlcnNpb24gPSBnZXRQbGF0Zm9ybVZlcnNpb24oZm9udEZhY2VMb2FkRm9udHMpOw0KICAgICAgICAgICAgY29uc3QgYXBwcyA9IGdldERlc2t0b3BBcHBzKGZvbnRGYWNlTG9hZEZvbnRzKTsNCiAgICAgICAgICAgIC8vIGRldGVjdCBsaWVzDQogICAgICAgICAgICBjb25zdCBsaWVkID0gKGxpZVByb3BzWydGb250RmFjZS5sb2FkJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snRm9udEZhY2UuZmFtaWx5J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snRm9udEZhY2Uuc3RhdHVzJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snU3RyaW5nLmZyb21Db2RlUG9pbnQnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydDU1NTdHlsZURlY2xhcmF0aW9uLnNldFByb3BlcnR5J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snQ1NTMlByb3BlcnRpZXMuc2V0UHJvcGVydHknXSk7DQogICAgICAgICAgICBpZiAoaXNGb250T1NCYWQoVVNFUl9BR0VOVF9PUywgZm9udEZhY2VMb2FkRm9udHMpKSB7DQogICAgICAgICAgICAgICAgTG93ZXJFbnRyb3B5LkZPTlRTID0gdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgQW5hbHlzaXMuRm9udE9zSXNCYWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKCdwbGF0Zm9ybScsIGAke1VTRVJfQUdFTlRfT1N9IHN5c3RlbSBhbmQgZm9udHMgYXJlIHN1c3BpY2lvdXNgKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdmb250cycsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgZm9udEZhY2VMb2FkRm9udHMsDQogICAgICAgICAgICAgICAgcGxhdGZvcm1WZXJzaW9uLA0KICAgICAgICAgICAgICAgIGFwcHMsDQogICAgICAgICAgICAgICAgZW1vamlTZXQsDQogICAgICAgICAgICAgICAgcGl4ZWxTaXplU3lzdGVtU3VtLA0KICAgICAgICAgICAgICAgIGxpZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdmb250cycsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIGxldCBXT1JLRVJfVFlQRSA9ICcnOw0KICAgIGxldCBXT1JLRVJfTkFNRSA9ICcnOw0KICAgIGFzeW5jIGZ1bmN0aW9uIHNwYXduV29ya2VyKCkgew0KICAgICAgICBjb25zdCBhc2sgPSAoZm4pID0+IHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZuKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgZnVuY3Rpb24gZ2V0V29ya2VyUHJvdG90eXBlTGllcyhzY29wZSkgew0KICAgICAgICAgICAgY29uc3QgbGllRGV0ZWN0b3IgPSBjcmVhdGVMaWVEZXRlY3RvcihzY29wZSk7DQogICAgICAgICAgICBjb25zdCB7IHNlYXJjaExpZXMsIH0gPSBsaWVEZXRlY3RvcjsNCiAgICAgICAgICAgIHNlYXJjaExpZXMoKCkgPT4gRnVuY3Rpb24sIHsNCiAgICAgICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAgICAgJ3RvU3RyaW5nJywNCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIGlnbm9yZTogWw0KICAgICAgICAgICAgICAgICAgICAnY2FsbGVyJywNCiAgICAgICAgICAgICAgICAgICAgJ2FyZ3VtZW50cycsDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcg0KICAgICAgICAgICAgc2VhcmNoTGllcygoKSA9PiBXb3JrZXJOYXZpZ2F0b3IsIHsNCiAgICAgICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAgICAgJ2RldmljZU1lbW9yeScsDQogICAgICAgICAgICAgICAgICAgICdoYXJkd2FyZUNvbmN1cnJlbmN5JywNCiAgICAgICAgICAgICAgICAgICAgJ2xhbmd1YWdlJywNCiAgICAgICAgICAgICAgICAgICAgJ2xhbmd1YWdlcycsDQogICAgICAgICAgICAgICAgICAgICdwbGF0Zm9ybScsDQogICAgICAgICAgICAgICAgICAgICd1c2VyQWdlbnQnLA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIC8vIHJldHVybiBsaWVzIGxpc3QgYW5kIGRldGFpbA0KICAgICAgICAgICAgY29uc3QgcHJvcHMgPSBsaWVEZXRlY3Rvci5nZXRQcm9wcygpOw0KICAgICAgICAgICAgY29uc3QgcHJvcHNTZWFyY2hlZCA9IGxpZURldGVjdG9yLmdldFByb3BzU2VhcmNoZWQoKTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgbGllRGV0ZWN0b3IsDQogICAgICAgICAgICAgICAgbGllTGlzdDogT2JqZWN0LmtleXMocHJvcHMpLnNvcnQoKSwNCiAgICAgICAgICAgICAgICBsaWVEZXRhaWw6IHByb3BzLA0KICAgICAgICAgICAgICAgIGxpZUNvdW50OiBPYmplY3Qua2V5cyhwcm9wcykucmVkdWNlKChhY2MsIGtleSkgPT4gYWNjICsgcHJvcHNba2V5XS5sZW5ndGgsIDApLA0KICAgICAgICAgICAgICAgIHByb3BzU2VhcmNoZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGNvbnN0IGdldFVzZXJBZ2VudERhdGEgPSBhc3luYyAobmF2aWdhdG9yKSA9PiB7DQogICAgICAgICAgICBpZiAoISgndXNlckFnZW50RGF0YScgaW4gbmF2aWdhdG9yKSkgew0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBuYXZpZ2F0b3IudXNlckFnZW50RGF0YS5nZXRIaWdoRW50cm9weVZhbHVlcyhbJ3BsYXRmb3JtJywgJ3BsYXRmb3JtVmVyc2lvbicsICdhcmNoaXRlY3R1cmUnLCAnYml0bmVzcycsICdtb2RlbCcsICd1YUZ1bGxWZXJzaW9uJ10pOw0KICAgICAgICAgICAgY29uc3QgeyBicmFuZHMsIG1vYmlsZSB9ID0gbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEgfHwge307DQogICAgICAgICAgICBjb25zdCBjb21wcmVzc2VkQnJhbmRzID0gKGJyYW5kcywgY2FwdHVyZVZlcnNpb24gPSBmYWxzZSkgPT4gYnJhbmRzDQogICAgICAgICAgICAgICAgLmZpbHRlcigob2JqKSA9PiAhL05vdC8udGVzdChvYmouYnJhbmQpKS5tYXAoKG9iaikgPT4gYCR7b2JqLmJyYW5kfSR7Y2FwdHVyZVZlcnNpb24gPyBgICR7b2JqLnZlcnNpb259YCA6ICcnfWApOw0KICAgICAgICAgICAgY29uc3QgcmVtb3ZlQ2hyb21pdW0gPSAoYnJhbmRzKSA9PiAoYnJhbmRzLmxlbmd0aCA+IDEgPyBicmFuZHMuZmlsdGVyKChicmFuZCkgPT4gIS9DaHJvbWl1bS8udGVzdChicmFuZCkpIDogYnJhbmRzKTsNCiAgICAgICAgICAgIC8vIGNvbXByZXNzIGJyYW5kcw0KICAgICAgICAgICAgaWYgKCFkYXRhLmJyYW5kcykgew0KICAgICAgICAgICAgICAgIGRhdGEuYnJhbmRzID0gYnJhbmRzOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZGF0YS5icmFuZHNWZXJzaW9uID0gY29tcHJlc3NlZEJyYW5kcyhkYXRhLmJyYW5kcywgdHJ1ZSk7DQogICAgICAgICAgICBkYXRhLmJyYW5kcyA9IGNvbXByZXNzZWRCcmFuZHMoZGF0YS5icmFuZHMpOw0KICAgICAgICAgICAgZGF0YS5icmFuZHNWZXJzaW9uID0gcmVtb3ZlQ2hyb21pdW0oZGF0YS5icmFuZHNWZXJzaW9uKTsNCiAgICAgICAgICAgIGRhdGEuYnJhbmRzID0gcmVtb3ZlQ2hyb21pdW0oZGF0YS5icmFuZHMpOw0KICAgICAgICAgICAgaWYgKCFkYXRhLm1vYmlsZSkgew0KICAgICAgICAgICAgICAgIGRhdGEubW9iaWxlID0gbW9iaWxlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgZGF0YVNvcnRlZCA9IE9iamVjdC5rZXlzKGRhdGEpLnNvcnQoKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7DQogICAgICAgICAgICAgICAgYWNjW2tleV0gPSBkYXRhW2tleV07DQogICAgICAgICAgICAgICAgcmV0dXJuIGFjYzsNCiAgICAgICAgICAgIH0sIHt9KTsNCiAgICAgICAgICAgIHJldHVybiBkYXRhU29ydGVkOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBnZXRXZWJnbERhdGEgPSAoKSA9PiBhc2soKCkgPT4gew0KICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgY29uc3QgY2FudmFzT2Zmc2NyZWVuV2ViZ2wgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKDI1NiwgMjU2KTsNCiAgICAgICAgICAgIGNvbnN0IGNvbnRleHRXZWJnbCA9IGNhbnZhc09mZnNjcmVlbldlYmdsLmdldENvbnRleHQoJ3dlYmdsJyk7DQogICAgICAgICAgICBjb25zdCByZW5kZXJlckluZm8gPSBjb250ZXh0V2ViZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvJyk7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHdlYmdsVmVuZG9yOiBjb250ZXh0V2ViZ2wuZ2V0UGFyYW1ldGVyKHJlbmRlcmVySW5mby5VTk1BU0tFRF9WRU5ET1JfV0VCR0wpLA0KICAgICAgICAgICAgICAgIHdlYmdsUmVuZGVyZXI6IGNvbnRleHRXZWJnbC5nZXRQYXJhbWV0ZXIocmVuZGVyZXJJbmZvLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKSwNCiAgICAgICAgICAgIH07DQogICAgICAgIH0pOw0KICAgICAgICBjb25zdCBjb21wdXRlVGltZXpvbmVPZmZzZXQgPSAoKSA9PiB7DQogICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKS5nZXREYXRlKCk7DQogICAgICAgICAgICBjb25zdCBtb250aCA9IG5ldyBEYXRlKCkuZ2V0TW9udGgoKTsNCiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgIGNvbnN0IHllYXIgPSBEYXRlKCkuc3BsaXQgYCBgWzNdOyAvLyBjdXJyZW50IHllYXINCiAgICAgICAgICAgIGNvbnN0IGZvcm1hdCA9IChuKSA9PiAoJycgKyBuKS5sZW5ndGggPT0gMSA/IGAwJHtufWAgOiBuOw0KICAgICAgICAgICAgY29uc3QgZGF0ZVN0cmluZyA9IGAke21vbnRoICsgMX0vJHtmb3JtYXQoZGF0ZSl9LyR7eWVhcn1gOw0KICAgICAgICAgICAgY29uc3QgZGF0ZVN0cmluZ1VUQyA9IGAke3llYXJ9LSR7Zm9ybWF0KG1vbnRoICsgMSl9LSR7Zm9ybWF0KGRhdGUpfWA7DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCB1dGMgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKGRhdGVTdHJpbmcpKTsNCiAgICAgICAgICAgIGNvbnN0IG5vdyA9ICtuZXcgRGF0ZShkYXRlU3RyaW5nVVRDKTsNCiAgICAgICAgICAgIHJldHVybiArKCgodXRjIC0gbm93KSAvIDYwMDAwKS50b0ZpeGVkKDApKTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2V0TG9jYWxlID0gKCkgPT4gew0KICAgICAgICAgICAgY29uc3QgY29uc3RydWN0b3JzID0gWw0KICAgICAgICAgICAgICAgICdDb2xsYXRvcicsDQogICAgICAgICAgICAgICAgJ0RhdGVUaW1lRm9ybWF0JywNCiAgICAgICAgICAgICAgICAnRGlzcGxheU5hbWVzJywNCiAgICAgICAgICAgICAgICAnTGlzdEZvcm1hdCcsDQogICAgICAgICAgICAgICAgJ051bWJlckZvcm1hdCcsDQogICAgICAgICAgICAgICAgJ1BsdXJhbFJ1bGVzJywNCiAgICAgICAgICAgICAgICAnUmVsYXRpdmVUaW1lRm9ybWF0JywNCiAgICAgICAgICAgIF07DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBsb2NhbGUgPSBjb25zdHJ1Y3RvcnMucmVkdWNlKChhY2MsIG5hbWUpID0+IHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBuZXcgSW50bFtuYW1lXTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmopIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBsb2NhbGUgfSA9IG9iai5yZXNvbHZlZE9wdGlvbnMoKSB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIGxvY2FsZV07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sIFtdKTsNCiAgICAgICAgICAgIHJldHVybiBbLi4ubmV3IFNldChsb2NhbGUpXTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2V0V29ya2VyRGF0YSA9IGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgdXNlckFnZW50RGF0YSA9IGF3YWl0IGdldFVzZXJBZ2VudERhdGEobmF2aWdhdG9yKS5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTsNCiAgICAgICAgICAgIC8vIHdlYmdsDQogICAgICAgICAgICBjb25zdCB7IHdlYmdsVmVuZG9yLCB3ZWJnbFJlbmRlcmVyIH0gPSBnZXRXZWJnbERhdGEoKSB8fCB7fTsNCiAgICAgICAgICAgIC8vIHRpbWV6b25lICYgbG9jYWxlDQogICAgICAgICAgICBjb25zdCB0aW1lem9uZU9mZnNldCA9IGNvbXB1dGVUaW1lem9uZU9mZnNldCgpOw0KICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXANCiAgICAgICAgICAgIGNvbnN0IHRpbWV6b25lTG9jYXRpb24gPSBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7DQogICAgICAgICAgICBjb25zdCBsb2NhbGUgPSBnZXRMb2NhbGUoKTsNCiAgICAgICAgICAgIC8vIG5hdmlnYXRvcg0KICAgICAgICAgICAgY29uc3QgeyBoYXJkd2FyZUNvbmN1cnJlbmN5LCBsYW5ndWFnZSwgbGFuZ3VhZ2VzLCBwbGF0Zm9ybSwgdXNlckFnZW50LCANCiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3INCiAgICAgICAgICAgIGRldmljZU1lbW9yeSwgfSA9IG5hdmlnYXRvciB8fCB7fTsNCiAgICAgICAgICAgIC8vIHByb3RvdHlwZSBsaWVzDQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IHsgDQogICAgICAgICAgICAvLyBsaWVEZXRlY3RvcjogbGllUHJvcHMsDQogICAgICAgICAgICBsaWVMaXN0LCBsaWVEZXRhaWwsDQogICAgICAgICAgICAvLyBsaWVDb3VudCwNCiAgICAgICAgICAgIC8vIHByb3BzU2VhcmNoZWQsDQogICAgICAgICAgICAgfSA9IGdldFdvcmtlclByb3RvdHlwZUxpZXMoc2VsZik7IC8vIGV4ZWN1dGUgYW5kIGRlc3RydWN0dXJlIHRoZSBsaXN0IGFuZCBkZXRhaWwNCiAgICAgICAgICAgIC8vIGNvbnN0IHByb3RvdHlwZUxpZXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGxpZURldGFpbCkpDQogICAgICAgICAgICBjb25zdCBwcm90b0xpZUxlbiA9IGxpZUxpc3QubGVuZ3RoOw0KICAgICAgICAgICAgLy8gbWF0Y2ggZW5naW5lIGxvY2FsZSB0byBzeXN0ZW0gbG9jYWxlIHRvIGRldGVybWluZSBpZiBsb2NhbGUgZW50cm9weSBpcyB0cnVzdHkNCiAgICAgICAgICAgIGxldCBzeXN0ZW1DdXJyZW5jeUxvY2FsZTsNCiAgICAgICAgICAgIGNvbnN0IGxhbmcgPSAoJycgKyBsYW5ndWFnZSkuc3BsaXQoJywnKVswXTsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgc3lzdGVtQ3VycmVuY3lMb2NhbGUgPSAoMSkudG9Mb2NhbGVTdHJpbmcoKGxhbmcgfHwgdW5kZWZpbmVkKSwgew0KICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywNCiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICdVU0QnLA0KICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeURpc3BsYXk6ICduYW1lJywNCiAgICAgICAgICAgICAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwLA0KICAgICAgICAgICAgICAgICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDAsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZSkgeyB9DQogICAgICAgICAgICBjb25zdCBlbmdpbmVDdXJyZW5jeUxvY2FsZSA9ICgxKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsNCiAgICAgICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywNCiAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ1VTRCcsDQogICAgICAgICAgICAgICAgY3VycmVuY3lEaXNwbGF5OiAnbmFtZScsDQogICAgICAgICAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwLA0KICAgICAgICAgICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMCwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgY29uc3QgbG9jYWxlRW50cm9weUlzVHJ1c3R5ID0gZW5naW5lQ3VycmVuY3lMb2NhbGUgPT0gc3lzdGVtQ3VycmVuY3lMb2NhbGU7DQogICAgICAgICAgICBjb25zdCBsb2NhbGVJbnRsRW50cm9weUlzVHJ1c3R5ID0gbmV3IFNldCgoJycgKyBsYW5ndWFnZSkuc3BsaXQoJywnKSkuaGFzKCcnICsgbG9jYWxlKTsNCiAgICAgICAgICAgIGNvbnN0IHsgaHJlZiwgcGF0aG5hbWUgfSA9IHNlbGYubG9jYXRpb24gfHwge307DQogICAgICAgICAgICBjb25zdCBsb2NhdGlvblBhdGhOYW1lTGllID0gKCFocmVmIHx8DQogICAgICAgICAgICAgICAgIXBhdGhuYW1lIHx8DQogICAgICAgICAgICAgICAgIS9eXC8oZG9jc3xjcmVlcGpzfHB1YmxpYyl8XC9jcmVlcC5qcyQvLnRlc3QocGF0aG5hbWUpIHx8DQogICAgICAgICAgICAgICAgIW5ldyBSZWdFeHAoYCR7cGF0aG5hbWV9JGApLnRlc3QoaHJlZikpOw0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICBsaWVkOiBwcm90b0xpZUxlbiB8fCArbG9jYXRpb25QYXRoTmFtZUxpZSwNCiAgICAgICAgICAgICAgICBsaWVzOiB7DQogICAgICAgICAgICAgICAgICAgIHByb3RvOiBwcm90b0xpZUxlbiA/IGxpZURldGFpbCA6IGZhbHNlLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgbG9jYWxlOiAnJyArIGxvY2FsZSwNCiAgICAgICAgICAgICAgICBzeXN0ZW1DdXJyZW5jeUxvY2FsZSwNCiAgICAgICAgICAgICAgICBlbmdpbmVDdXJyZW5jeUxvY2FsZSwNCiAgICAgICAgICAgICAgICBsb2NhbGVFbnRyb3B5SXNUcnVzdHksDQogICAgICAgICAgICAgICAgbG9jYWxlSW50bEVudHJvcHlJc1RydXN0eSwNCiAgICAgICAgICAgICAgICB0aW1lem9uZU9mZnNldCwNCiAgICAgICAgICAgICAgICB0aW1lem9uZUxvY2F0aW9uLA0KICAgICAgICAgICAgICAgIGRldmljZU1lbW9yeSwNCiAgICAgICAgICAgICAgICBoYXJkd2FyZUNvbmN1cnJlbmN5LA0KICAgICAgICAgICAgICAgIGxhbmd1YWdlLA0KICAgICAgICAgICAgICAgIGxhbmd1YWdlczogJycgKyBsYW5ndWFnZXMsDQogICAgICAgICAgICAgICAgcGxhdGZvcm0sDQogICAgICAgICAgICAgICAgdXNlckFnZW50LA0KICAgICAgICAgICAgICAgIHdlYmdsUmVuZGVyZXIsDQogICAgICAgICAgICAgICAgd2ViZ2xWZW5kb3IsDQogICAgICAgICAgICAgICAgdXNlckFnZW50RGF0YSwNCiAgICAgICAgICAgIH07DQogICAgICAgIH07DQogICAgICAgIC8vIENvbXB1dGUgYW5kIGNvbW11bmljYXRlIGZyb20gd29ya2VyIHNjb3BlDQogICAgICAgIGNvbnN0IG9uRXZlbnQgPSAoZXZlbnRUeXBlLCBmbikgPT4gYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGZuKTsNCiAgICAgICAgY29uc3Qgc2VuZCA9IChzb3VyY2UpID0+IHsNCiAgICAgICAgICAgIHJldHVybiBnZXRXb3JrZXJEYXRhKCkudGhlbigoZGF0YSkgPT4gc291cmNlLnBvc3RNZXNzYWdlKGRhdGEpKTsNCiAgICAgICAgfTsNCiAgICAgICAgaWYgKElTX1dPUktFUl9TQ09QRSkgew0KICAgICAgICAgICAgZ2xvYmFsVGhpcy5TZXJ2aWNlV29ya2VyR2xvYmFsU2NvcGUgPyBvbkV2ZW50KCdtZXNzYWdlJywgKGUpID0+IHNlbmQoZS5zb3VyY2UpKSA6DQogICAgICAgICAgICAgICAgZ2xvYmFsVGhpcy5TaGFyZWRXb3JrZXJHbG9iYWxTY29wZSA/IG9uRXZlbnQoJ2Nvbm5lY3QnLCAoZSkgPT4gc2VuZChlLnBvcnRzWzBdKSkgOg0KICAgICAgICAgICAgICAgICAgICBzZW5kKHNlbGYpOyAvLyBEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBJU19XT1JLRVJfU0NPUEUgPyAwIC8qIFNjb3BlLldPUktFUiAqLyA6IDEgLyogU2NvcGUuV0lORE9XICovOw0KICAgIH0NCiAgICBhc3luYyBmdW5jdGlvbiBnZXRCZXN0V29ya2VyU2NvcGUoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IGFzayA9IChmbikgPT4gew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmbigpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IGhhc0NvbnN0cnVjdG9yID0gKHgsIG5hbWUpID0+IHggJiYgeC5fX3Byb3RvX18uY29uc3RydWN0b3IubmFtZSA9PSBuYW1lOw0KICAgICAgICAgICAgY29uc3QgZ2V0RGVkaWNhdGVkV29ya2VyID0gKHsgc2NyaXB0U291cmNlIH0pID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgZ2l2ZVVwT25Xb3JrZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICAgICAgfSwgMzAwMCk7DQogICAgICAgICAgICAgICAgY29uc3QgZGVkaWNhdGVkV29ya2VyID0gYXNrKCgpID0+IG5ldyBXb3JrZXIoc2NyaXB0U291cmNlKSk7DQogICAgICAgICAgICAgICAgaWYgKCFoYXNDb25zdHJ1Y3RvcihkZWRpY2F0ZWRXb3JrZXIsICdXb3JrZXInKSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICAgICAgZGVkaWNhdGVkV29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBkZWRpY2F0ZWRXb3JrZXIudGVybWluYXRlKCk7DQogICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChnaXZlVXBPbldvcmtlcik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGV2ZW50LmRhdGEpOw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IGdldFNoYXJlZFdvcmtlciA9ICh7IHNjcmlwdFNvdXJjZSB9KSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IGdpdmVVcE9uV29ya2VyID0gc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpOw0KICAgICAgICAgICAgICAgIH0sIDMwMDApOw0KICAgICAgICAgICAgICAgIGNvbnN0IHNoYXJlZFdvcmtlciA9IGFzaygoKSA9PiBuZXcgU2hhcmVkV29ya2VyKHNjcmlwdFNvdXJjZSkpOw0KICAgICAgICAgICAgICAgIGlmICghaGFzQ29uc3RydWN0b3Ioc2hhcmVkV29ya2VyLCAnU2hhcmVkV29ya2VyJykpDQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpOw0KICAgICAgICAgICAgICAgIHNoYXJlZFdvcmtlci5wb3J0LnN0YXJ0KCk7DQogICAgICAgICAgICAgICAgc2hhcmVkV29ya2VyLnBvcnQub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHNoYXJlZFdvcmtlci5wb3J0LmNsb3NlKCk7DQogICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChnaXZlVXBPbldvcmtlcik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGV2ZW50LmRhdGEpOw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IGdldFNlcnZpY2VXb3JrZXIgPSAoeyBzY3JpcHRTb3VyY2UgfSkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBnaXZlVXBPbldvcmtlciA9IHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTsNCiAgICAgICAgICAgICAgICB9LCA0MDApOw0KICAgICAgICAgICAgICAgIGlmICghYXNrKCgpID0+IG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHNjcmlwdFNvdXJjZSkudGhlbigocmVnaXN0cmF0aW9uKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmICghaGFzQ29uc3RydWN0b3IocmVnaXN0cmF0aW9uLCAnU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbicpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWFkeS50aGVuKChyZWdpc3RyYXRpb24pID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbi5hY3RpdmUucG9zdE1lc3NhZ2UodW5kZWZpbmVkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbi51bnJlZ2lzdGVyKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGdpdmVVcE9uV29ya2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShldmVudC5kYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsNCiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGdpdmVVcE9uV29ya2VyKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IHNjcmlwdFNvdXJjZSA9ICcuL2NyZWVwLmpzJzsNCiAgICAgICAgICAgIGxldCB3b3JrZXJTY29wZTsNCiAgICAgICAgICAgIC8qDQogICAgICAgICAgICBXT1JLRVJfTkFNRSA9ICdTZXJ2aWNlV29ya2VyR2xvYmFsU2NvcGUnDQogICAgICAgICAgICBXT1JLRVJfVFlQRSA9ICdzZXJ2aWNlJyAvLyBsb2FkcyBmYXN0IGJ1dCBpcyBub3QgYXZhaWxhYmxlIGluIGZyYW1lcw0KICAgICAgICAgICAgd29ya2VyU2NvcGUgPSBhd2FpdCBnZXRTZXJ2aWNlV29ya2VyKHsgc2NyaXB0U291cmNlIH0pLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcikNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UpDQogICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgKi8NCiAgICAgICAgICAgIGlmICghKHdvcmtlclNjb3BlIHx8IHt9KS51c2VyQWdlbnQpIHsNCiAgICAgICAgICAgICAgICBXT1JLRVJfTkFNRSA9ICdTaGFyZWRXb3JrZXJHbG9iYWxTY29wZSc7DQogICAgICAgICAgICAgICAgV09SS0VSX1RZUEUgPSAnc2hhcmVkJzsgLy8gbm8gc3VwcG9ydCBpbiBTYWZhcmksIGlPUywgYW5kIENocm9tZSBBbmRyb2lkDQogICAgICAgICAgICAgICAgd29ya2VyU2NvcGUgPSBhd2FpdCBnZXRTaGFyZWRXb3JrZXIoeyBzY3JpcHRTb3VyY2UgfSkuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICghKHdvcmtlclNjb3BlIHx8IHt9KS51c2VyQWdlbnQpIHsNCiAgICAgICAgICAgICAgICBXT1JLRVJfTkFNRSA9ICdEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZSc7DQogICAgICAgICAgICAgICAgV09SS0VSX1RZUEUgPSAnZGVkaWNhdGVkJzsgLy8gZGV2aWNlIGVtdWxhdG9ycyBjYW4gZWFzaWx5IHNwb29mIGRlZGljYXRlZCBzY29wZQ0KICAgICAgICAgICAgICAgIHdvcmtlclNjb3BlID0gYXdhaXQgZ2V0RGVkaWNhdGVkV29ya2VyKHsgc2NyaXB0U291cmNlIH0pLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoISh3b3JrZXJTY29wZSB8fCB7fSkudXNlckFnZW50KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgd29ya2VyU2NvcGUuc3lzdGVtID0gZ2V0T1Mod29ya2VyU2NvcGUudXNlckFnZW50KTsNCiAgICAgICAgICAgIHdvcmtlclNjb3BlLmRldmljZSA9IGdldFVzZXJBZ2VudFBsYXRmb3JtKHsgdXNlckFnZW50OiB3b3JrZXJTY29wZS51c2VyQWdlbnQgfSk7DQogICAgICAgICAgICAvLyBkZXRlY3QgbGllcw0KICAgICAgICAgICAgY29uc3QgeyBzeXN0ZW0sIHVzZXJBZ2VudCwgdXNlckFnZW50RGF0YSwgcGxhdGZvcm0sIGRldmljZU1lbW9yeSwgaGFyZHdhcmVDb25jdXJyZW5jeSwgfSA9IHdvcmtlclNjb3BlIHx8IHt9Ow0KICAgICAgICAgICAgLy8gbmF2aWdhdG9yIGxpZXMNCiAgICAgICAgICAgIC8vIHNraXAgbGFuZ3VhZ2UgYW5kIGxhbmd1YWdlcyB0byByZXNwZWN0IHZhbGlkIGVuZ2luZSBsYW5ndWFnZSBzd2l0Y2hpbmcgYnVnIGluIENocm9tZQ0KICAgICAgICAgICAgLy8gdGhlc2UgYXJlIG1vcmUgbGlrZWx5IG5hdmlnYXRvciBsaWVzLCBzbyBkb24ndCB0cmlnZ2VyIGxpZWQgd29ya2VyIHNjb3BlDQogICAgICAgICAgICBjb25zdCB3b3JrZXJTY29wZU1hdGNoTGllID0gJ2RvZXMgbm90IG1hdGNoIHdvcmtlciBzY29wZSc7DQogICAgICAgICAgICBpZiAocGxhdGZvcm0gIT0gbmF2aWdhdG9yLnBsYXRmb3JtKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ05hdmlnYXRvci5wbGF0Zm9ybScsIHdvcmtlclNjb3BlTWF0Y2hMaWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHVzZXJBZ2VudCAhPSBuYXZpZ2F0b3IudXNlckFnZW50KSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ05hdmlnYXRvci51c2VyQWdlbnQnLCB3b3JrZXJTY29wZU1hdGNoTGllKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChoYXJkd2FyZUNvbmN1cnJlbmN5ICYmIChoYXJkd2FyZUNvbmN1cnJlbmN5ICE9IG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5KSkgew0KICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKCdOYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeScsIHdvcmtlclNjb3BlTWF0Y2hMaWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgaWYgKGRldmljZU1lbW9yeSAmJiAoZGV2aWNlTWVtb3J5ICE9IG5hdmlnYXRvci5kZXZpY2VNZW1vcnkpKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ05hdmlnYXRvci5kZXZpY2VNZW1vcnknLCB3b3JrZXJTY29wZU1hdGNoTGllKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIHByb3RvdHlwZSBsaWVzDQogICAgICAgICAgICBpZiAod29ya2VyU2NvcGUubGllcy5wcm90bykgew0KICAgICAgICAgICAgICAgIGNvbnN0IHsgcHJvdG8gfSA9IHdvcmtlclNjb3BlLmxpZXM7DQogICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb3RvKTsNCiAgICAgICAgICAgICAgICBrZXlzLmZvckVhY2goKGtleSkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBhcGkgPSBgV29ya2VyR2xvYmFsU2NvcGUuJHtrZXl9YDsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGllcyA9IHByb3RvW2tleV07DQogICAgICAgICAgICAgICAgICAgIGxpZXMuZm9yRWFjaCgobGllKSA9PiBkb2N1bWVudExpZShhcGksIGxpZSkpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gdXNlciBhZ2VudCBvcyBsaWUNCiAgICAgICAgICAgIGNvbnN0IFt1c2VyQWdlbnRPUywgcGxhdGZvcm1PU10gPSBnZXRSZXBvcnRlZFBsYXRmb3JtKHVzZXJBZ2VudCwgcGxhdGZvcm0pOw0KICAgICAgICAgICAgaWYgKHVzZXJBZ2VudE9TICE9IHBsYXRmb3JtT1MpIHsNCiAgICAgICAgICAgICAgICB3b3JrZXJTY29wZS5saWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB3b3JrZXJTY29wZS5saWVzLm9zID0gYCR7cGxhdGZvcm1PU30gcGxhdGZvcm0gYW5kICR7dXNlckFnZW50T1N9IHVzZXIgYWdlbnQgZG8gbm90IG1hdGNoYDsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnV29ya2VyR2xvYmFsU2NvcGUnLCB3b3JrZXJTY29wZS5saWVzLm9zKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIHVzZXIgYWdlbnQgZW5naW5lIGxpZQ0KICAgICAgICAgICAgY29uc3QgZGVjcnlwdGVkTmFtZSA9IGRlY3J5cHRVc2VyQWdlbnQoew0KICAgICAgICAgICAgICAgIHVhOiB1c2VyQWdlbnQsDQogICAgICAgICAgICAgICAgb3M6IHN5c3RlbSwNCiAgICAgICAgICAgICAgICBpc0JyYXZlOiBmYWxzZSwgLy8gZGVmYXVsdCBmYWxzZSBzaW5jZSB3ZSBhcmUgb25seSBsb29raW5nIGZvciBKUyBydW50aW1lIGFuZCB2ZXJzaW9uDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IHVzZXJBZ2VudEVuZ2luZSA9ICgoL3NhZmFyaS9pLnRlc3QoZGVjcnlwdGVkTmFtZSkgfHwgL2lwaG9uZXxpcGFkL2kudGVzdCh1c2VyQWdlbnQpKSA/ICdKYXZhU2NyaXB0Q29yZScgOg0KICAgICAgICAgICAgICAgIC9maXJlZm94L2kudGVzdCh1c2VyQWdlbnQpID8gJ1NwaWRlck1vbmtleScgOg0KICAgICAgICAgICAgICAgICAgICAvY2hyb21lL2kudGVzdCh1c2VyQWdlbnQpID8gJ1Y4JyA6DQogICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQpOw0KICAgICAgICAgICAgaWYgKHVzZXJBZ2VudEVuZ2luZSAhPSBKU19FTkdJTkUpIHsNCiAgICAgICAgICAgICAgICB3b3JrZXJTY29wZS5saWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB3b3JrZXJTY29wZS5saWVzLmVuZ2luZSA9IGAke0pTX0VOR0lORX0gSlMgcnVudGltZSBhbmQgJHt1c2VyQWdlbnRFbmdpbmV9IHVzZXIgYWdlbnQgZG8gbm90IG1hdGNoYDsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnV29ya2VyR2xvYmFsU2NvcGUnLCB3b3JrZXJTY29wZS5saWVzLmVuZ2luZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyB1c2VyIGFnZW50IHZlcnNpb24gbGllDQogICAgICAgICAgICBjb25zdCBnZXRWZXJzaW9uID0gKHgpID0+ICgvXGQrLy5leGVjKHgpIHx8IFtdKVswXTsNCiAgICAgICAgICAgIGNvbnN0IHVzZXJBZ2VudFZlcnNpb24gPSBnZXRWZXJzaW9uKGRlY3J5cHRlZE5hbWUpOw0KICAgICAgICAgICAgY29uc3QgdXNlckFnZW50RGF0YVZlcnNpb24gPSBnZXRWZXJzaW9uKHVzZXJBZ2VudERhdGEgPyB1c2VyQWdlbnREYXRhLnVhRnVsbFZlcnNpb24gOiAnJyk7DQogICAgICAgICAgICBjb25zdCB2ZXJzaW9uU3VwcG9ydGVkID0gdXNlckFnZW50RGF0YVZlcnNpb24gJiYgdXNlckFnZW50VmVyc2lvbjsNCiAgICAgICAgICAgIGNvbnN0IHZlcnNpb25NYXRjaCA9IHVzZXJBZ2VudERhdGFWZXJzaW9uID09IHVzZXJBZ2VudFZlcnNpb247DQogICAgICAgICAgICBpZiAodmVyc2lvblN1cHBvcnRlZCAmJiAhdmVyc2lvbk1hdGNoKSB7DQogICAgICAgICAgICAgICAgd29ya2VyU2NvcGUubGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgd29ya2VyU2NvcGUubGllcy52ZXJzaW9uID0gYHVzZXJBZ2VudERhdGEgdmVyc2lvbiAke3VzZXJBZ2VudERhdGFWZXJzaW9ufSBhbmQgdXNlciBhZ2VudCB2ZXJzaW9uICR7dXNlckFnZW50VmVyc2lvbn0gZG8gbm90IG1hdGNoYDsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnV29ya2VyR2xvYmFsU2NvcGUnLCB3b3JrZXJTY29wZS5saWVzLnZlcnNpb24pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gcGxhdGZvcm1WZXJzaW9uIGxpZQ0KICAgICAgICAgICAgY29uc3QgRkVBVFVSRV9DQVNFID0gSVNfQkxJTksgJiYgQ1NTLnN1cHBvcnRzKCdhY2NlbnQtY29sb3I6IGluaXRpYWwnKTsNCiAgICAgICAgICAgIGNvbnN0IGdldFBsYXRmb3JtVmVyc2lvbkxpZSA9IChkZXZpY2UsIHVzZXJBZ2VudERhdGEpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoIS93aW5kb3dzfG1hYy9pLnRlc3QoZGV2aWNlKSB8fCAhdXNlckFnZW50RGF0YT8ucGxhdGZvcm1WZXJzaW9uKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHVzZXJBZ2VudERhdGEucGxhdGZvcm0gPT0gJ21hY09TJykgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gRkVBVFVSRV9DQVNFID8gL18vLnRlc3QodXNlckFnZW50RGF0YS5wbGF0Zm9ybVZlcnNpb24pIDogZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydGVkVmVyc2lvbk51bWJlciA9ICgvd2luZG93cyAoW1xkfFwuXSspL2kuZXhlYyhkZXZpY2UpIHx8IFtdKVsxXTsNCiAgICAgICAgICAgICAgICBjb25zdCB3aW5kb3dzMTBPckhpZ2hlclJlcG9ydCA9ICtyZXBvcnRlZFZlcnNpb25OdW1iZXIgPT0gMTA7DQogICAgICAgICAgICAgICAgY29uc3QgeyBwbGF0Zm9ybVZlcnNpb24gfSA9IHVzZXJBZ2VudERhdGE7DQogICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbk1hcCA9IHsNCiAgICAgICAgICAgICAgICAgICAgJzYuMSc6ICc3JywNCiAgICAgICAgICAgICAgICAgICAgJzYuMic6ICc4JywNCiAgICAgICAgICAgICAgICAgICAgJzYuMyc6ICc4LjEnLA0KICAgICAgICAgICAgICAgICAgICAnMTAuMCc6ICcxMCcsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gdmVyc2lvbk1hcFtwbGF0Zm9ybVZlcnNpb25dOw0KICAgICAgICAgICAgICAgIGlmICghRkVBVFVSRV9DQVNFICYmIHZlcnNpb24pIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZlcnNpb24gIT0gcmVwb3J0ZWRWZXJzaW9uTnVtYmVyOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IHBsYXRmb3JtVmVyc2lvbi5zcGxpdCgnLicpOw0KICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggIT0gMykNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgY29uc3Qgd2luZG93czEwT3JIaWdoZXJQbGF0Zm9ybSA9ICtwYXJ0c1swXSA+IDA7DQogICAgICAgICAgICAgICAgcmV0dXJuICgod2luZG93czEwT3JIaWdoZXJQbGF0Zm9ybSAmJiAhd2luZG93czEwT3JIaWdoZXJSZXBvcnQpIHx8DQogICAgICAgICAgICAgICAgICAgICghd2luZG93czEwT3JIaWdoZXJQbGF0Zm9ybSAmJiB3aW5kb3dzMTBPckhpZ2hlclJlcG9ydCkpOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IHdpbmRvd3NWZXJzaW9uTGllID0gZ2V0UGxhdGZvcm1WZXJzaW9uTGllKHdvcmtlclNjb3BlLmRldmljZSwgdXNlckFnZW50RGF0YSk7DQogICAgICAgICAgICBpZiAod2luZG93c1ZlcnNpb25MaWUpIHsNCiAgICAgICAgICAgICAgICB3b3JrZXJTY29wZS5saWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB3b3JrZXJTY29wZS5saWVzLnBsYXRmb3JtVmVyc2lvbiA9IGBwbGF0Zm9ybSB2ZXJzaW9uIGlzIGZha2VgOw0KICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKCdXb3JrZXJHbG9iYWxTY29wZScsIHdvcmtlclNjb3BlLmxpZXMucGxhdGZvcm1WZXJzaW9uKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIGNhcHR1cmUgdXNlckFnZW50IHZlcnNpb24NCiAgICAgICAgICAgIHdvcmtlclNjb3BlLnVzZXJBZ2VudFZlcnNpb24gPSB1c2VyQWdlbnRWZXJzaW9uOw0KICAgICAgICAgICAgd29ya2VyU2NvcGUudXNlckFnZW50RGF0YVZlcnNpb24gPSB1c2VyQWdlbnREYXRhVmVyc2lvbjsNCiAgICAgICAgICAgIHdvcmtlclNjb3BlLnVzZXJBZ2VudEVuZ2luZSA9IHVzZXJBZ2VudEVuZ2luZTsNCiAgICAgICAgICAgIGNvbnN0IGdwdSA9IHsNCiAgICAgICAgICAgICAgICAuLi4oZ2V0V2ViR0xSZW5kZXJlckNvbmZpZGVuY2Uod29ya2VyU2NvcGUud2ViZ2xSZW5kZXJlcikgfHwge30pLA0KICAgICAgICAgICAgICAgIGNvbXByZXNzZWRHUFU6IGNvbXByZXNzV2ViR0xSZW5kZXJlcih3b3JrZXJTY29wZS53ZWJnbFJlbmRlcmVyKSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGltZTogdGltZXIuc3RvcCgpLCB0ZXN0OiBgJHtXT1JLRVJfVFlQRX0gd29ya2VyYCwgcGFzc2VkOiB0cnVlIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAuLi53b3JrZXJTY29wZSwNCiAgICAgICAgICAgICAgICBncHUsDQogICAgICAgICAgICAgICAgdWFQb3N0UmVkdWN0aW9uOiBpc1VBUG9zdFJlZHVjdGlvbih3b3JrZXJTY29wZS51c2VyQWdlbnQpLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnd29ya2VyJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvciwgJ3dvcmtlcnMgZmFpbGVkIG9yIGJsb2NrZWQgYnkgY2xpZW50Jyk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNDI5Njc5DQogICAgY29uc3QgaGFzaE1pbmkgPSAoeCkgPT4gew0KICAgICAgICBjb25zdCBqc29uID0gYCR7SlNPTi5zdHJpbmdpZnkoeCl9YDsNCiAgICAgICAgY29uc3QgaGFzaCA9IGpzb24uc3BsaXQoJycpLnJlZHVjZSgoaGFzaCwgY2hhciwgaSkgPT4gew0KICAgICAgICAgICAgcmV0dXJuIE1hdGguaW11bCgzMSwgaGFzaCkgKyBqc29uLmNoYXJDb2RlQXQoaSkgfCAwOw0KICAgICAgICB9LCAweDgxMWM5ZGM1KTsNCiAgICAgICAgcmV0dXJuICgnMDAwMDAwMCcgKyAoaGFzaCA+Pj4gMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTgpOw0KICAgIH07DQogICAgLy8gaW5zdGFuY2UgaWQNCiAgICBjb25zdCBpbnN0YW5jZUlkID0gKFN0cmluZy5mcm9tQ2hhckNvZGUoTWF0aC5yYW5kb20oKSAqIDI2ICsgOTcpICsNCiAgICAgICAgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoLTcpKTsNCiAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTM0OTA5NTgNCiAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDMzODM5OTANCiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU3VidGxlQ3J5cHRvL2RpZ2VzdA0KICAgIGNvbnN0IGhhc2hpZnkgPSAoeCwgYWxnb3JpdGhtID0gJ1NIQS0yNTYnKSA9PiB7DQogICAgICAgIGNvbnN0IGpzb24gPSBgJHtKU09OLnN0cmluZ2lmeSh4KX1gOw0KICAgICAgICBjb25zdCBqc29uQnVmZmVyID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGpzb24pOw0KICAgICAgICByZXR1cm4gY3J5cHRvLnN1YnRsZS5kaWdlc3QoYWxnb3JpdGhtLCBqc29uQnVmZmVyKS50aGVuKChoYXNoQnVmZmVyKSA9PiB7DQogICAgICAgICAgICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTsNCiAgICAgICAgICAgIGNvbnN0IGhhc2hIZXggPSBoYXNoQXJyYXkubWFwKChiKSA9PiAoJzAwJyArIGIudG9TdHJpbmcoMTYpKS5zbGljZSgtMikpLmpvaW4oJycpOw0KICAgICAgICAgICAgcmV0dXJuIGhhc2hIZXg7DQogICAgICAgIH0pOw0KICAgIH07CgogICAgY29uc3QgQVVESU9fVFJBUCA9IE1hdGgucmFuZG9tKCk7DQogICAgYXN5bmMgZnVuY3Rpb24gaGFzRmFrZUF1ZGlvKCkgew0KICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IE9mZmxpbmVBdWRpb0NvbnRleHQoMSwgMTAwLCA0NDEwMCk7DQogICAgICAgIGNvbnN0IG9zY2lsbGF0b3IgPSBjb250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKTsNCiAgICAgICAgb3NjaWxsYXRvci5mcmVxdWVuY3kudmFsdWUgPSAwOw0KICAgICAgICBvc2NpbGxhdG9yLnN0YXJ0KDApOw0KICAgICAgICBjb250ZXh0LnN0YXJ0UmVuZGVyaW5nKCk7DQogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gew0KICAgICAgICAgICAgY29udGV4dC5vbmNvbXBsZXRlID0gKGV2ZW50KSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbERhdGEgPSBldmVudC5yZW5kZXJlZEJ1ZmZlci5nZXRDaGFubmVsRGF0YT8uKDApOw0KICAgICAgICAgICAgICAgIGlmICghY2hhbm5lbERhdGEpDQogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpOw0KICAgICAgICAgICAgICAgIHJlc29sdmUoJycgKyBbLi4ubmV3IFNldChjaGFubmVsRGF0YSldICE9PSAnMCcpOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgfSkuZmluYWxseSgoKSA9PiBvc2NpbGxhdG9yLmRpc2Nvbm5lY3QoKSk7DQogICAgfQ0KICAgIGFzeW5jIGZ1bmN0aW9uIGdldE9mZmxpbmVBdWRpb0NvbnRleHQoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpZiB1bnN1cHBvcnRlZA0KICAgICAgICAgICAgICAgIHdpbmRvdy5PZmZsaW5lQXVkaW9Db250ZXh0ID0gT2ZmbGluZUF1ZGlvQ29udGV4dCB8fCB3ZWJraXRPZmZsaW5lQXVkaW9Db250ZXh0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKGVycikgeyB9DQogICAgICAgICAgICBpZiAoIXdpbmRvdy5PZmZsaW5lQXVkaW9Db250ZXh0KSB7DQogICAgICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdhdWRpbycsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gZGV0ZWN0IGxpZXMNCiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxEYXRhTGllID0gbGllUHJvcHNbJ0F1ZGlvQnVmZmVyLmdldENoYW5uZWxEYXRhJ107DQogICAgICAgICAgICBjb25zdCBjb3B5RnJvbUNoYW5uZWxMaWUgPSBsaWVQcm9wc1snQXVkaW9CdWZmZXIuY29weUZyb21DaGFubmVsJ107DQogICAgICAgICAgICBsZXQgbGllZCA9IChjaGFubmVsRGF0YUxpZSB8fCBjb3B5RnJvbUNoYW5uZWxMaWUpIHx8IGZhbHNlOw0KICAgICAgICAgICAgY29uc3QgYnVmZmVyTGVuID0gNTAwMDsNCiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dCgxLCBidWZmZXJMZW4sIDQ0MTAwKTsNCiAgICAgICAgICAgIGNvbnN0IGFuYWx5c2VyID0gY29udGV4dC5jcmVhdGVBbmFseXNlcigpOw0KICAgICAgICAgICAgY29uc3Qgb3NjaWxsYXRvciA9IGNvbnRleHQuY3JlYXRlT3NjaWxsYXRvcigpOw0KICAgICAgICAgICAgY29uc3QgZHluYW1pY3NDb21wcmVzc29yID0gY29udGV4dC5jcmVhdGVEeW5hbWljc0NvbXByZXNzb3IoKTsNCiAgICAgICAgICAgIGNvbnN0IGJpcXVhZEZpbHRlciA9IGNvbnRleHQuY3JlYXRlQmlxdWFkRmlsdGVyKCk7DQogICAgICAgICAgICAvLyBkZXRlY3QgbGllDQogICAgICAgICAgICBjb25zdCBkYXRhQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTsNCiAgICAgICAgICAgIGFuYWx5c2VyLmdldEZsb2F0RnJlcXVlbmN5RGF0YT8uKGRhdGFBcnJheSk7DQogICAgICAgICAgICBjb25zdCBmbG9hdEZyZXF1ZW5jeVVuaXF1ZURhdGFTaXplID0gbmV3IFNldChkYXRhQXJyYXkpLnNpemU7DQogICAgICAgICAgICBpZiAoZmxvYXRGcmVxdWVuY3lVbmlxdWVEYXRhU2l6ZSA+IDEpIHsNCiAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBjb25zdCBmbG9hdEZyZXF1ZW5jeURhdGFMaWUgPSBgZXhwZWN0ZWQgLUluZmluaXR5IChzaWxlbmNlKSBhbmQgZ290ICR7ZmxvYXRGcmVxdWVuY3lVbmlxdWVEYXRhU2l6ZX0gZnJlcXVlbmNpZXNgOw0KICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKGBBbmFseXNlck5vZGUuZ2V0RmxvYXRGcmVxdWVuY3lEYXRhYCwgZmxvYXRGcmVxdWVuY3lEYXRhTGllKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IHsNCiAgICAgICAgICAgICAgICBbJ0FuYWx5c2VyTm9kZS5jaGFubmVsQ291bnQnXTogYXR0ZW1wdCgoKSA9PiBhbmFseXNlci5jaGFubmVsQ291bnQpLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLmNoYW5uZWxDb3VudE1vZGUnXTogYXR0ZW1wdCgoKSA9PiBhbmFseXNlci5jaGFubmVsQ291bnRNb2RlKSwNCiAgICAgICAgICAgICAgICBbJ0FuYWx5c2VyTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24nXTogYXR0ZW1wdCgoKSA9PiBhbmFseXNlci5jaGFubmVsSW50ZXJwcmV0YXRpb24pLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLmNvbnRleHQuc2FtcGxlUmF0ZSddOiBhdHRlbXB0KCgpID0+IGFuYWx5c2VyLmNvbnRleHQuc2FtcGxlUmF0ZSksDQogICAgICAgICAgICAgICAgWydBbmFseXNlck5vZGUuZmZ0U2l6ZSddOiBhdHRlbXB0KCgpID0+IGFuYWx5c2VyLmZmdFNpemUpLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLmZyZXF1ZW5jeUJpbkNvdW50J106IGF0dGVtcHQoKCkgPT4gYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLm1heERlY2liZWxzJ106IGF0dGVtcHQoKCkgPT4gYW5hbHlzZXIubWF4RGVjaWJlbHMpLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLm1pbkRlY2liZWxzJ106IGF0dGVtcHQoKCkgPT4gYW5hbHlzZXIubWluRGVjaWJlbHMpLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLm51bWJlck9mSW5wdXRzJ106IGF0dGVtcHQoKCkgPT4gYW5hbHlzZXIubnVtYmVyT2ZJbnB1dHMpLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLm51bWJlck9mT3V0cHV0cyddOiBhdHRlbXB0KCgpID0+IGFuYWx5c2VyLm51bWJlck9mT3V0cHV0cyksDQogICAgICAgICAgICAgICAgWydBbmFseXNlck5vZGUuc21vb3RoaW5nVGltZUNvbnN0YW50J106IGF0dGVtcHQoKCkgPT4gYW5hbHlzZXIuc21vb3RoaW5nVGltZUNvbnN0YW50KSwNCiAgICAgICAgICAgICAgICBbJ0FuYWx5c2VyTm9kZS5jb250ZXh0Lmxpc3RlbmVyLmZvcndhcmRYLm1heFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FuaXVzZSgoKSA9PiBhbmFseXNlci5jb250ZXh0Lmxpc3RlbmVyLmZvcndhcmRYLm1heFZhbHVlKTsNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBbJ0JpcXVhZEZpbHRlck5vZGUuZ2Fpbi5tYXhWYWx1ZSddOiBhdHRlbXB0KCgpID0+IGJpcXVhZEZpbHRlci5nYWluLm1heFZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ0JpcXVhZEZpbHRlck5vZGUuZnJlcXVlbmN5LmRlZmF1bHRWYWx1ZSddOiBhdHRlbXB0KCgpID0+IGJpcXVhZEZpbHRlci5mcmVxdWVuY3kuZGVmYXVsdFZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ0JpcXVhZEZpbHRlck5vZGUuZnJlcXVlbmN5Lm1heFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gYmlxdWFkRmlsdGVyLmZyZXF1ZW5jeS5tYXhWYWx1ZSksDQogICAgICAgICAgICAgICAgWydEeW5hbWljc0NvbXByZXNzb3JOb2RlLmF0dGFjay5kZWZhdWx0VmFsdWUnXTogYXR0ZW1wdCgoKSA9PiBkeW5hbWljc0NvbXByZXNzb3IuYXR0YWNrLmRlZmF1bHRWYWx1ZSksDQogICAgICAgICAgICAgICAgWydEeW5hbWljc0NvbXByZXNzb3JOb2RlLmtuZWUuZGVmYXVsdFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gZHluYW1pY3NDb21wcmVzc29yLmtuZWUuZGVmYXVsdFZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ0R5bmFtaWNzQ29tcHJlc3Nvck5vZGUua25lZS5tYXhWYWx1ZSddOiBhdHRlbXB0KCgpID0+IGR5bmFtaWNzQ29tcHJlc3Nvci5rbmVlLm1heFZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ0R5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmF0aW8uZGVmYXVsdFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gZHluYW1pY3NDb21wcmVzc29yLnJhdGlvLmRlZmF1bHRWYWx1ZSksDQogICAgICAgICAgICAgICAgWydEeW5hbWljc0NvbXByZXNzb3JOb2RlLnJhdGlvLm1heFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gZHluYW1pY3NDb21wcmVzc29yLnJhdGlvLm1heFZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ0R5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmVsZWFzZS5kZWZhdWx0VmFsdWUnXTogYXR0ZW1wdCgoKSA9PiBkeW5hbWljc0NvbXByZXNzb3IucmVsZWFzZS5kZWZhdWx0VmFsdWUpLA0KICAgICAgICAgICAgICAgIFsnRHluYW1pY3NDb21wcmVzc29yTm9kZS5yZWxlYXNlLm1heFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gZHluYW1pY3NDb21wcmVzc29yLnJlbGVhc2UubWF4VmFsdWUpLA0KICAgICAgICAgICAgICAgIFsnRHluYW1pY3NDb21wcmVzc29yTm9kZS50aHJlc2hvbGQuZGVmYXVsdFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gZHluYW1pY3NDb21wcmVzc29yLnRocmVzaG9sZC5kZWZhdWx0VmFsdWUpLA0KICAgICAgICAgICAgICAgIFsnRHluYW1pY3NDb21wcmVzc29yTm9kZS50aHJlc2hvbGQubWluVmFsdWUnXTogYXR0ZW1wdCgoKSA9PiBkeW5hbWljc0NvbXByZXNzb3IudGhyZXNob2xkLm1pblZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ09zY2lsbGF0b3JOb2RlLmRldHVuZS5tYXhWYWx1ZSddOiBhdHRlbXB0KCgpID0+IG9zY2lsbGF0b3IuZGV0dW5lLm1heFZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ09zY2lsbGF0b3JOb2RlLmRldHVuZS5taW5WYWx1ZSddOiBhdHRlbXB0KCgpID0+IG9zY2lsbGF0b3IuZGV0dW5lLm1pblZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ09zY2lsbGF0b3JOb2RlLmZyZXF1ZW5jeS5kZWZhdWx0VmFsdWUnXTogYXR0ZW1wdCgoKSA9PiBvc2NpbGxhdG9yLmZyZXF1ZW5jeS5kZWZhdWx0VmFsdWUpLA0KICAgICAgICAgICAgICAgIFsnT3NjaWxsYXRvck5vZGUuZnJlcXVlbmN5Lm1heFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gb3NjaWxsYXRvci5mcmVxdWVuY3kubWF4VmFsdWUpLA0KICAgICAgICAgICAgICAgIFsnT3NjaWxsYXRvck5vZGUuZnJlcXVlbmN5Lm1pblZhbHVlJ106IGF0dGVtcHQoKCkgPT4gb3NjaWxsYXRvci5mcmVxdWVuY3kubWluVmFsdWUpLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IGdldFJlbmRlcmVkQnVmZmVyID0gKGNvbnRleHQpID0+IChuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IGFuYWx5c2VyID0gY29udGV4dC5jcmVhdGVBbmFseXNlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IG9zY2lsbGF0b3IgPSBjb250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBkeW5hbWljc0NvbXByZXNzb3IgPSBjb250ZXh0LmNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpOw0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIG9zY2lsbGF0b3IudHlwZSA9ICd0cmlhbmdsZSc7DQogICAgICAgICAgICAgICAgICAgIG9zY2lsbGF0b3IuZnJlcXVlbmN5LnZhbHVlID0gMTAwMDA7DQogICAgICAgICAgICAgICAgICAgIGR5bmFtaWNzQ29tcHJlc3Nvci50aHJlc2hvbGQudmFsdWUgPSAtNTA7DQogICAgICAgICAgICAgICAgICAgIGR5bmFtaWNzQ29tcHJlc3Nvci5rbmVlLnZhbHVlID0gNDA7DQogICAgICAgICAgICAgICAgICAgIGR5bmFtaWNzQ29tcHJlc3Nvci5hdHRhY2sudmFsdWUgPSAwOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7IH0NCiAgICAgICAgICAgICAgICBvc2NpbGxhdG9yLmNvbm5lY3QoZHluYW1pY3NDb21wcmVzc29yKTsNCiAgICAgICAgICAgICAgICBkeW5hbWljc0NvbXByZXNzb3IuY29ubmVjdChhbmFseXNlcik7DQogICAgICAgICAgICAgICAgZHluYW1pY3NDb21wcmVzc29yLmNvbm5lY3QoY29udGV4dC5kZXN0aW5hdGlvbik7DQogICAgICAgICAgICAgICAgb3NjaWxsYXRvci5zdGFydCgwKTsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnN0YXJ0UmVuZGVyaW5nKCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuYWRkRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCAoZXZlbnQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNzQ29tcHJlc3Nvci5kaXNjb25uZWN0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBvc2NpbGxhdG9yLmRpc2Nvbm5lY3QoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZsb2F0RnJlcXVlbmN5RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYW5hbHlzZXIuZ2V0RmxvYXRGcmVxdWVuY3lEYXRhPy4oZmxvYXRGcmVxdWVuY3lEYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZsb2F0VGltZURvbWFpbkRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGFuYWx5c2VyLmZmdFNpemUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdnZXRGbG9hdFRpbWVEb21haW5EYXRhJyBpbiBhbmFseXNlcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuYWx5c2VyLmdldEZsb2F0VGltZURvbWFpbkRhdGEoZmxvYXRUaW1lRG9tYWluRGF0YSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRGcmVxdWVuY3lEYXRhLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0VGltZURvbWFpbkRhdGEsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiBldmVudC5yZW5kZXJlZEJ1ZmZlciwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wcmVzc29yR2FpblJlZHVjdGlvbjogKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaWYgdW5zdXBwb3J0ZWQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljc0NvbXByZXNzb3IucmVkdWN0aW9uLnZhbHVlIHx8IC8vIHdlYmtpdA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljc0NvbXByZXNzb3IucmVkdWN0aW9uKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pKTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgW2F1ZGlvRGF0YSwgYXVkaW9Jc0Zha2UsXSA9IGF3YWl0IFByb21pc2UuYWxsKFsNCiAgICAgICAgICAgICAgICBnZXRSZW5kZXJlZEJ1ZmZlcihuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dCgxLCBidWZmZXJMZW4sIDQ0MTAwKSksDQogICAgICAgICAgICAgICAgaGFzRmFrZUF1ZGlvKCkuY2F0Y2goKCkgPT4gZmFsc2UpLA0KICAgICAgICAgICAgXSk7DQogICAgICAgICAgICBjb25zdCB7IGZsb2F0RnJlcXVlbmN5RGF0YSwgZmxvYXRUaW1lRG9tYWluRGF0YSwgYnVmZmVyLCBjb21wcmVzc29yR2FpblJlZHVjdGlvbiwgfSA9IGF1ZGlvRGF0YSB8fCB7fTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgZ2V0U25hcHNob3QgPSAoYXJyLCBzdGFydCwgZW5kKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgY29sbGVjdGlvbiA9IFtdOw0KICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucHVzaChhcnJbaV0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCBnZXRTdW0gPSAoYXJyKSA9PiAhYXJyID8gMCA6IFsuLi5hcnJdDQogICAgICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiAoYWNjICs9IE1hdGguYWJzKGN1cnIpKSwgMCk7DQogICAgICAgICAgICBjb25zdCBmbG9hdEZyZXF1ZW5jeURhdGFTdW0gPSBnZXRTdW0oZmxvYXRGcmVxdWVuY3lEYXRhKTsNCiAgICAgICAgICAgIGNvbnN0IGZsb2F0VGltZURvbWFpbkRhdGFTdW0gPSBnZXRTdW0oZmxvYXRUaW1lRG9tYWluRGF0YSk7DQogICAgICAgICAgICBjb25zdCBjb3B5ID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXJMZW4pOw0KICAgICAgICAgICAgbGV0IGJpbnMgPSBuZXcgRmxvYXQzMkFycmF5KCk7DQogICAgICAgICAgICBpZiAoYnVmZmVyKSB7DQogICAgICAgICAgICAgICAgYnVmZmVyLmNvcHlGcm9tQ2hhbm5lbD8uKGNvcHksIDApOw0KICAgICAgICAgICAgICAgIGJpbnMgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGE/LigwKSB8fCBbXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGNvcHlTYW1wbGUgPSBnZXRTbmFwc2hvdChbLi4uY29weV0sIDQ1MDAsIDQ2MDApOw0KICAgICAgICAgICAgY29uc3QgYmluc1NhbXBsZSA9IGdldFNuYXBzaG90KFsuLi5iaW5zXSwgNDUwMCwgNDYwMCk7DQogICAgICAgICAgICBjb25zdCBzYW1wbGVTdW0gPSBnZXRTdW0oZ2V0U25hcHNob3QoWy4uLmJpbnNdLCA0NTAwLCBidWZmZXJMZW4pKTsNCiAgICAgICAgICAgIC8vIGRldGVjdCBsaWVzDQogICAgICAgICAgICBpZiAoYXVkaW9Jc0Zha2UpIHsNCiAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnQXVkaW9CdWZmZXInLCAnYXVkaW8gaXMgZmFrZScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gc2FtcGxlIG1hdGNoaW5nDQogICAgICAgICAgICBjb25zdCBtYXRjaGluZyA9ICcnICsgYmluc1NhbXBsZSA9PSAnJyArIGNvcHlTYW1wbGU7DQogICAgICAgICAgICBjb25zdCBjb3B5RnJvbUNoYW5uZWxTdXBwb3J0ZWQgPSAoJ2NvcHlGcm9tQ2hhbm5lbCcgaW4gQXVkaW9CdWZmZXIucHJvdG90eXBlKTsNCiAgICAgICAgICAgIGlmIChjb3B5RnJvbUNoYW5uZWxTdXBwb3J0ZWQgJiYgIW1hdGNoaW5nKSB7DQogICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgY29uc3QgYXVkaW9TYW1wbGVMaWUgPSAnZ2V0Q2hhbm5lbERhdGEgYW5kIGNvcHlGcm9tQ2hhbm5lbCBzYW1wbGVzIG1pc21hdGNoJzsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnQXVkaW9CdWZmZXInLCBhdWRpb1NhbXBsZUxpZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBzYW1wbGUgdW5pcXVlbmVzcw0KICAgICAgICAgICAgY29uc3QgdG90YWxVbmlxdWVTYW1wbGVzID0gbmV3IFNldChbLi4uYmluc10pLnNpemU7DQogICAgICAgICAgICBpZiAodG90YWxVbmlxdWVTYW1wbGVzID09IGJ1ZmZlckxlbikgew0KICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvVW5pcXVlbmVzc1RyYXNoID0gYCR7dG90YWxVbmlxdWVTYW1wbGVzfSB1bmlxdWUgc2FtcGxlcyBvZiAke2J1ZmZlckxlbn0gaXMgdG9vIGhpZ2hgOw0KICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKCdBdWRpb0J1ZmZlcicsIGF1ZGlvVW5pcXVlbmVzc1RyYXNoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIHNhbXBsZSBub2lzZSBmYWN0b3INCiAgICAgICAgICAgIGNvbnN0IGdldFJhbmRGcm9tUmFuZ2UgPSAobWluLCBtYXgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47DQogICAgICAgICAgICBjb25zdCBnZXRDb3B5RnJvbSA9IChyYW5kLCBidWZmZXIsIGNvcHkpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gYnVmZmVyOw0KICAgICAgICAgICAgICAgIGNvbnN0IG1heCA9IDIwOw0KICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gZ2V0UmFuZEZyb21SYW5nZSgyNzUsIGxlbmd0aCAtIChtYXggKyAxKSk7DQogICAgICAgICAgICAgICAgY29uc3QgbWlkID0gc3RhcnQgKyBtYXggLyAyOw0KICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgbWF4Ow0KICAgICAgICAgICAgICAgIGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKVtzdGFydF0gPSByYW5kOw0KICAgICAgICAgICAgICAgIGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKVttaWRdID0gcmFuZDsNCiAgICAgICAgICAgICAgICBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoMClbZW5kXSA9IHJhbmQ7DQogICAgICAgICAgICAgICAgYnVmZmVyLmNvcHlGcm9tQ2hhbm5lbChjb3B5LCAwKTsNCiAgICAgICAgICAgICAgICBjb25zdCBhdHRhY2sgPSBbDQogICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKVtzdGFydF0gPT09IDAgPyBNYXRoLnJhbmRvbSgpIDogMCwNCiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmdldENoYW5uZWxEYXRhKDApW21pZF0gPT09IDAgPyBNYXRoLnJhbmRvbSgpIDogMCwNCiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmdldENoYW5uZWxEYXRhKDApW2VuZF0gPT09IDAgPyBNYXRoLnJhbmRvbSgpIDogMCwNCiAgICAgICAgICAgICAgICBdOw0KICAgICAgICAgICAgICAgIHJldHVybiBbLi4ubmV3IFNldChbLi4uYnVmZmVyLmdldENoYW5uZWxEYXRhKDApLCAuLi5jb3B5LCAuLi5hdHRhY2tdKV0uZmlsdGVyKCh4KSA9PiB4ICE9PSAwKTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCBnZXRDb3B5VG8gPSAocmFuZCwgYnVmZmVyLCBjb3B5KSA9PiB7DQogICAgICAgICAgICAgICAgYnVmZmVyLmNvcHlUb0NoYW5uZWwoY29weS5tYXAoKCkgPT4gcmFuZCksIDApOw0KICAgICAgICAgICAgICAgIGNvbnN0IGZyZXF1ZW5jeSA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKVswXTsNCiAgICAgICAgICAgICAgICBjb25zdCBkYXRhQXR0YWNrZWQgPSBbLi4uYnVmZmVyLmdldENoYW5uZWxEYXRhKDApXQ0KICAgICAgICAgICAgICAgICAgICAubWFwKCh4KSA9PiB4ICE9PSBmcmVxdWVuY3kgfHwgIXggPyBNYXRoLnJhbmRvbSgpIDogeCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFBdHRhY2tlZC5maWx0ZXIoKHgpID0+IHggIT09IGZyZXF1ZW5jeSk7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgZ2V0Tm9pc2VGYWN0b3IgPSAoKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gMjAwMDsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBbLi4ubmV3IFNldChbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZ2V0Q29weUZyb20oQVVESU9fVFJBUCwgbmV3IEF1ZGlvQnVmZmVyKHsgbGVuZ3RoLCBzYW1wbGVSYXRlOiA0NDEwMCB9KSwgbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5nZXRDb3B5VG8oQVVESU9fVFJBUCwgbmV3IEF1ZGlvQnVmZmVyKHsgbGVuZ3RoLCBzYW1wbGVSYXRlOiA0NDEwMCB9KSwgbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIF0pXTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICsocmVzdWx0Lmxlbmd0aCAhPT0gMSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZHVjZSgoYWNjLCBuKSA9PiBhY2MgKz0gK24sIDApKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3Qgbm9pc2VGYWN0b3IgPSBnZXROb2lzZUZhY3RvcigpOw0KICAgICAgICAgICAgY29uc3Qgbm9pc2UgPSAobm9pc2VGYWN0b3IgfHwgWy4uLm5ldyBTZXQoYmlucy5zbGljZSgwLCAxMDApKV0NCiAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIG4pID0+IGFjYyArPSBuLCAwKSk7DQogICAgICAgICAgICAvLyBMb2NrZWQgUGF0dGVybnMNCiAgICAgICAgICAgIGNvbnN0IGtub3duID0gew0KICAgICAgICAgICAgICAgIC8qIEJMSU5LICovDQogICAgICAgICAgICAgICAgLy8gMTI0LjA0MzQ3NTI3NTE2MDc0LzEyNC4wNDM0NzUxODU3NTM3OA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg2MjA5MTA2NDQ1LDE2NDUzNy42NDc5NjgyOTIyNCw1MDIuNTk5OTI4MzA2ODEyMic6IFsxMjQuMDQzNDc1Mjc1MTYwNzRdLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDUzNy42NDc5NjgyOTIyNCw1MDIuNTk5OTI4MzA2ODEyMic6IFsxMjQuMDQzNDc1Mjc1MTYwNzRdLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDUzNy42NDc5NTMwMzM0NSw1MDIuNTk5OTI4MzA2ODEyMic6IFsNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQ3NTI3NTE2MDc0LA0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc1MTg1NzUzNzgsDQogICAgICAgICAgICAgICAgICAgIC8vIHN1czoNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQ3NTE5MzIwNDM2LA0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc1MjMwNDU3MjYsDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4NjIwOTEwNjQ0NSwxNjQ1MzcuNjQ4MDU5ODQ0OTcsNTAyLjU5OTkyODMwNjgxMjInOiBbMTI0LjA0MzQ3NTI3NTE2MDc0XSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ1MzcuNjQ4MDU5ODQ0OTcsNTAyLjU5OTkyODMwNjgxMjInOiBbDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzUyNzUxNjA3NCwNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQ3NTE4NTc1Mzc4LA0KICAgICAgICAgICAgICAgICAgICAvLyBzdXMNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQ3NTIwMDY1NDk0LA0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc1MjM3OTA3ODQsDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzUyNTI4MDksDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzUyNjAyNTk1OCwNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQ3NTIyMzAwNjY4LA0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc1MjMwNDU3MjYsDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzUyNDUzNTg0MiwNCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIC8vIDEyNC4wNDM0NDg4NDM5NTY4Nw0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDg4MS45NzI3OTM1NzkxLDUwMi41OTk5MDMxNzkwODg4Nyc6IFsxMjQuMDQzNDQ4ODQzOTU2ODddLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDg4MS45NzI5MzA5MDgyLDUwMi41OTk5MDMxNzkwODg4Nyc6IFsxMjQuMDQzNDQ4ODQzOTU2ODddLA0KICAgICAgICAgICAgICAgIC8vIDEyNC4wNDM0NDg4NDM5Nzg3DQogICAgICAgICAgICAgICAgJy0yMC41MzgyODYyMDkxMDY0NDUsMTY0ODgyLjIwODI3NDg0MTMsNTAyLjU5OTkwMzE3OTExNDM0JzogWzEyNC4wNDM0NDg4NDM5Nzg3XSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ4ODIuMjA4MzY2Mzk0MDQsNTAyLjU5OTkwMzE3OTExNDM0JzogWzEyNC4wNDM0NDg4NDM5Nzg3XSwNCiAgICAgICAgICAgICAgICAvLyAxMjQuMDQzNDQ5Njg0NzUxOTgNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4NjIwOTEwNjQ0NSwxNjQ4NjMuNDUzMTkzNjY0NTUsNTAyLjU5OTkwMzM0OTU3OTEnOiBbMTI0LjA0MzQ0OTY4NDc1MTk4XSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ4NjMuNDUzMTkzNjY0NTUsNTAyLjU5OTkwMzM0OTU3OTEnOiBbDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NDk2ODQ3NTE5OCwNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0Mzc1MzE0Njg5OTY5LA0KICAgICAgICAgICAgICAgICAgICAvLyBzdXMNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQxNTQxMjA4MTIzLA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgLy8gMTI0LjA0MzQ3NTAzNzIwNzgzIChyYXJlKQ0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDUzMS44MjY3MDU5MzI2Miw1MDIuNTk5OTI3Njc4ODY3OTcnOiBbDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzUwMzcyMDc4MywNCiAgICAgICAgICAgICAgICAgICAgLy8gc3VzDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzQ5NDc4MDA4NiwNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQ3NDk1NTI1MTQ0LA0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc0OTkyNTA0MzQsDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzUwMDc0MDU1LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgLy8gMTI0LjA0MzQ3NjU3ODA4MTAzDQogICAgICAgICAgICAgICAgJy0yMC41MzgyODYyMDkxMDY0NDUsMTY0NTQwLjE1Njc5OTMxNjQsNTAyLjU5OTkyMjA5MjU4NDE3JzogWzEyNC4wNDM0NzY1NzgwODEwM10sDQogICAgICAgICAgICAgICAgJy0yMC41MzgyODgxMTY0NTUwNzgsMTY0NTQwLjE1Njc5OTMxNjQsNTAyLjU5OTkyMjA5MjU4NDE3JzogWw0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc2NTc4MDgxMDMsDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzY1MTEwMjU4LA0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc2NTYzMTc5ODcsDQogICAgICAgICAgICAgICAgICAgIC8vIHN1cw0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc2NTcwNjMwNDUsDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM3ODAwNDAyMjg3NCwNCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDU0MC4xNTgwODEwNTQ3LDUwMi41OTk5MjIwOTI1ODQxNyc6IFsxMjQuMDQzNDc2NTc4MDgxMDNdLA0KICAgICAgICAgICAgICAgIC8vIDEyNC4wODA3MjI1NjgwOTEvMTI0LjA0MzQ3NzMwNTkwOTYyIChyYXJlKQ0KICAgICAgICAgICAgICAgICctMjAuNTM1MjY4NzgzNTY5MzM2LDE2NDk0MC4zNjA3ODY0MzgsNTAyLjY5Njk1NDU4MjMzNzY0JzogWzEyNC4wODA3MjI1NjgwOTFdLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDUzOC41NTA3MzkyODgzMyw1MDIuNTk5OTMwNzE3NTQwNyc6IFsxMjQuMDQzNDc3MzA1OTA5NjJdLA0KICAgICAgICAgICAgICAgIC8vIEFuZHJvaWQvTGludXgNCiAgICAgICAgICAgICAgICAnLTIwLjUzNTI2ODc4MzU2OTMzNiwxNjQ5NDguMTQ1OTY1NTc2MTcsNTAyLjY5Njk1NDU4MjM2MzEnOiBbMTI0LjA4MDcyMjU2ODExMjgzXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzNTI2ODc4MzU2OTMzNiwxNjQ5MjYuNjU5MTI2MjgxNzQsNTAyLjY5Njk2MTA5MzAwNjQnOiBbMTI0LjA4MDcyNzY2MTA1MDMzXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzNTI2ODc4MzU2OTMzNiwxNjQ5MzIuOTYxNjg1MTgwNjYsNTAyLjY5Njk2MTc5OTg1NDc2JzogWzEyNC4wODA3Mjc4NzgwMjY2Nl0sDQogICAgICAgICAgICAgICAgJy0yMC41MzUyNjg3ODM1NjkzMzYsMTY0OTMxLjU0MjUyNjI0NTEyLDUwMi42OTY5NjE3OTk4ODAyJzogWzEyNC4wODA3Mjc4NzgwNDg0OV0sDQogICAgICAgICAgICAgICAgJy0yMC41MzUyNjg3ODM1NjkzMzYsMTY0NTkxLjk2NTk3MjkwMDQsNTAyLjY5Njk5MjUwNTk3ODQnOiBbMTI0LjA4MDc0NTAwMDI4MzA2XSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzNTI2ODc4MzU2OTMzNiwxNjQ1OTAuNDExMTQ4MDcxMyw1MDIuNjk2OTk0Nzc3NDc0Mic6IFsxMjQuMDgwNzQ3MDExMDA4NV0sDQogICAgICAgICAgICAgICAgJy0yMC41MzUyNjg3ODM1NjkzMzYsMTY0NTkwLjQxMTE1NTcwMDY4LDUwMi42OTY5OTQ3Nzc0NzQyJzogWzEyNC4wODA3NDcwMTEwMDg1XSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzNTI2ODc4MzU2OTMzNiwxNjQ1OTMuNjQyNjM5MTYwMTYsNTAyLjY5NzAwNDkwMTE5MDY3JzogWzEyNC4wODA3NTUyODI3OTAwNV0sDQogICAgICAgICAgICAgICAgJy0yMC41MzUyNjg3ODM1NjkzMzYsMTY0NTk1LjAyODU3OTcxMTksNTAyLjY5NzAwNTc4MzE1MzE0JzogWzEyNC4wODA3NTY0MzQ4MzYwOF0sDQogICAgICAgICAgICAgICAgLy8gc3VzDQogICAgICAgICAgICAgICAgJy0yMC41MzgyODgxMTY0NTUwNzgsMTY0ODYwLjk2NTc2NjkwNjc0LDUwMi42MDc1NzQ4MTE4OTE1JzogWzEyNC4wNDM0NDk2Mjc5NDEzXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ4NjAuOTkzODU4MzM3NCw1MDIuNjA3MzcyMzg2MTQwNyc6IFsxMjQuMDQzNDQ5NjI4MTc0MTNdLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDg2Mi4xNDA3ODUyMTcyOSw1MDIuNTk5OTEwMDQxMzA2NDMnOiBbMTI0LjA0MzQ1NzM0ODMzNjIzXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ1MzQuNTAwNDc2ODM3MTYsNTAyLjYxNTQyMTEwNDcxMDU1JzogWzEyNC4wNDM0NzUyMDM2ODE3NF0sDQogICAgICAgICAgICAgICAgJy0yMC41MzgyODgxMTY0NTUwNzgsMTY0NTM1LjEzMjQwNDMyNzQsNTAyLjYwNzkyMDA1NzI5MzEnOiBbMTI0LjA0MzQ3NTIxOTk3OTg4XSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ1MzUuNTExMzU2MzUzNzYsNTAyLjYwNjMzMTI2NDQ4Mzc0JzogWzEyNC4wNDM0NzUyMjk1MjU5NF0sDQogICAgICAgICAgICAgICAgLyogR0VDS08gKi8NCiAgICAgICAgICAgICAgICAnLTMxLjUwOTI2MjA4NDk2MDkzOCwxNjc3MjIuNjg5NDQ1NDk1NiwxNDguNDI3MTc3ODcyNTA4NzYnOiBbMzUuNzM4MzI5NTkzMDkyMl0sDQogICAgICAgICAgICAgICAgJy0zMS41MDkyNjIwODQ5NjA5MzgsMTY3NzI4LjcyNzU2OTU4MDA4LDE0OC40MjcxODQzNDMzMzgnOiBbMzUuNzM4MzM0MDIyNDYyMzddLA0KICAgICAgICAgICAgICAgICctMzEuNTAyMTg5NjM2MjMwNDcsMTY3NzIxLjI3NTE3NzAwMTk1LDE0OC40NzUzNzgyODYwOTM0Nyc6IFszNS43NDk5NjAzMTQ0ODI0NV0sDQogICAgICAgICAgICAgICAgJy0zMS41MDIxODU4MjE1MzMyMDMsMTY3NzI3LjUyOTMxOTc2MzE4LDE0OC40NzU0MjAyMzY1ODc1Mic6IFszNS43NDk5NjgxNjczOTQ0XSwNCiAgICAgICAgICAgICAgICAvKiBXRUJLSVQgKi8NCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ4NzMuODAzNjE1NTcwMDcsNTAyLjU5OTg5OTA0NDUyNTk2JzogWzEyNC4wNDM0NDg1MzAxODEyXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ4NjMuNDc3NjAzOTEyMzUsNTAyLjU5OTkwMzM0NTMzNzInOiBbMTI0LjA0MzQ0OTY4NDk1NTddLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDg3Ni42MjQ2NjA0OTE5NCw1MDIuNTk5ODkxMTk2MTcyNCc6IFsxMjQuMDQzNDUzMjY1ODkxXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ4NjIuMTQ4Nzk5ODk2MjQsNTAyLjU5OTkxMDA0MTMwNjQzJzogWzEyNC4wNDM0NTczNDgzMzYyM10sDQogICAgICAgICAgICAgICAgJy0yMC41MzgyODgxMTY0NTUwNzgsMTY0ODk2LjU0MTY3MTc1MjkzLDUwMi41OTk5MDU0OTE2NDY1JzogWzEyNC4wNDM0NTgwODg3Mzc2OF0sDQogICAgICAgICAgICAgICAgJy0yOS44Mzc4NzM0NTg4NjIzMDUsMTYzMjA2LjQzMDUwMzg0NTIxLDAnOiBbMzUuMTA4OTI3MTc1NDAyNjRdLA0KICAgICAgICAgICAgICAgICctMjkuODM3ODczNDU4ODYyMzA1LDE2MzIyNC42OTc4NTMwODgzOCwwJzogWzM1LjEwODkyNzUyNTU3OTkzXSwNCiAgICAgICAgICAgICAgICAnLTI5LjgzNzg2OTY0NDE2NTA0LDE2MzIwOS4xNzI0NTQ4MzM5OCwwJzogWzM1LjEwODkzMjMyMDAyODU0XSwNCiAgICAgICAgICAgICAgICAnLTI5LjgzNzg2OTY0NDE2NTA0LDE2MzIwMi43NzMzNjg4MzU0NSwwJzogWzM1LjEwODkzMjUzMjM3MDA5XSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBpZiAobm9pc2UpIHsNCiAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnQXVkaW9CdWZmZXInLCAnc2FtcGxlIG5vaXNlIGRldGVjdGVkJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gJycgKyBbDQogICAgICAgICAgICAgICAgY29tcHJlc3NvckdhaW5SZWR1Y3Rpb24sDQogICAgICAgICAgICAgICAgZmxvYXRGcmVxdWVuY3lEYXRhU3VtLA0KICAgICAgICAgICAgICAgIGZsb2F0VGltZURvbWFpbkRhdGFTdW0sDQogICAgICAgICAgICBdOw0KICAgICAgICAgICAgY29uc3Qga25vd25QYXR0ZXJuID0ga25vd25bcGF0dGVybl07DQogICAgICAgICAgICBpZiAoa25vd25QYXR0ZXJuICYmICFrbm93blBhdHRlcm4uaW5jbHVkZXMoc2FtcGxlU3VtKSkgew0KICAgICAgICAgICAgICAgIExvd2VyRW50cm9weS5BVURJTyA9IHRydWU7DQogICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ0F1ZGlvQnVmZmVyJywgJ3N1c3BpY2lvdXMgZnJlcXVlbmN5IGRhdGEnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdhdWRpbycsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgdG90YWxVbmlxdWVTYW1wbGVzLA0KICAgICAgICAgICAgICAgIGNvbXByZXNzb3JHYWluUmVkdWN0aW9uLA0KICAgICAgICAgICAgICAgIGZsb2F0RnJlcXVlbmN5RGF0YVN1bSwNCiAgICAgICAgICAgICAgICBmbG9hdFRpbWVEb21haW5EYXRhU3VtLA0KICAgICAgICAgICAgICAgIHNhbXBsZVN1bSwNCiAgICAgICAgICAgICAgICBiaW5zU2FtcGxlLA0KICAgICAgICAgICAgICAgIGNvcHlTYW1wbGU6IGNvcHlGcm9tQ2hhbm5lbFN1cHBvcnRlZCA/IGNvcHlTYW1wbGUgOiBbdW5kZWZpbmVkXSwNCiAgICAgICAgICAgICAgICB2YWx1ZXMsDQogICAgICAgICAgICAgICAgbm9pc2UsDQogICAgICAgICAgICAgICAgbGllZCwNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ2F1ZGlvJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvciwgJ09mZmxpbmVBdWRpb0NvbnRleHQgZmFpbGVkIG9yIGJsb2NrZWQgYnkgY2xpZW50Jyk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgLy8gaW5zcGlyZWQgYnkgaHR0cHM6Ly9hcmtlbmZveC5naXRodWIuaW8vVFpQL3Rlc3RzL2NhbnZhc25vaXNlLmh0bWwNCiAgICBsZXQgcGl4ZWxJbWFnZVJhbmRvbSA9ICcnOw0KICAgIGNvbnN0IGdldFBpeGVsTW9kcyA9ICgpID0+IHsNCiAgICAgICAgY29uc3QgcGF0dGVybjEgPSBbXTsNCiAgICAgICAgY29uc3QgcGF0dGVybjIgPSBbXTsNCiAgICAgICAgY29uc3QgbGVuID0gODsgLy8gY2FudmFzIGRpbWVuc2lvbnMNCiAgICAgICAgY29uc3QgYWxwaGEgPSAyNTU7DQogICAgICAgIGNvbnN0IHZpc3VhbE11bHRpcGxpZXIgPSA1Ow0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgLy8gY3JlYXRlIDIgY2FudmFzIGNvbnRleHRzDQogICAgICAgICAgICBjb25zdCBvcHRpb25zID0gew0KICAgICAgICAgICAgICAgIHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZSwNCiAgICAgICAgICAgICAgICBkZXN5bmNocm9uaXplZDogdHJ1ZSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCBjYW52YXNEaXNwbGF5MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOw0KICAgICAgICAgICAgY29uc3QgY2FudmFzRGlzcGxheTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsNCiAgICAgICAgICAgIGNvbnN0IGNhbnZhczEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsNCiAgICAgICAgICAgIGNvbnN0IGNhbnZhczIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsNCiAgICAgICAgICAgIGNvbnN0IGNvbnRleHREaXNwbGF5MSA9IGNhbnZhc0Rpc3BsYXkxLmdldENvbnRleHQoJzJkJywgb3B0aW9ucyk7DQogICAgICAgICAgICBjb25zdCBjb250ZXh0RGlzcGxheTIgPSBjYW52YXNEaXNwbGF5Mi5nZXRDb250ZXh0KCcyZCcsIG9wdGlvbnMpOw0KICAgICAgICAgICAgY29uc3QgY29udGV4dDEgPSBjYW52YXMxLmdldENvbnRleHQoJzJkJywgb3B0aW9ucyk7DQogICAgICAgICAgICBjb25zdCBjb250ZXh0MiA9IGNhbnZhczIuZ2V0Q29udGV4dCgnMmQnLCBvcHRpb25zKTsNCiAgICAgICAgICAgIGlmICghY29udGV4dERpc3BsYXkxIHx8ICFjb250ZXh0RGlzcGxheTIgfHwgIWNvbnRleHQxIHx8ICFjb250ZXh0Mikgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2FudmFzIGNvbnRleHQgYmxvY2tlZCcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gc2V0IHRoZSBkaW1lbnNpb25zDQogICAgICAgICAgICBjYW52YXNEaXNwbGF5MS53aWR0aCA9IGxlbiAqIHZpc3VhbE11bHRpcGxpZXI7DQogICAgICAgICAgICBjYW52YXNEaXNwbGF5MS5oZWlnaHQgPSBsZW4gKiB2aXN1YWxNdWx0aXBsaWVyOw0KICAgICAgICAgICAgY2FudmFzRGlzcGxheTIud2lkdGggPSBsZW4gKiB2aXN1YWxNdWx0aXBsaWVyOw0KICAgICAgICAgICAgY2FudmFzRGlzcGxheTIuaGVpZ2h0ID0gbGVuICogdmlzdWFsTXVsdGlwbGllcjsNCiAgICAgICAgICAgIGNhbnZhczEud2lkdGggPSBsZW47DQogICAgICAgICAgICBjYW52YXMxLmhlaWdodCA9IGxlbjsNCiAgICAgICAgICAgIGNhbnZhczIud2lkdGggPSBsZW47DQogICAgICAgICAgICBjYW52YXMyLmhlaWdodCA9IGxlbjsNCiAgICAgICAgICAgIFsuLi5BcnJheShsZW4pXS5mb3JFYWNoKChlLCB4KSA9PiBbLi4uQXJyYXkobGVuKV0uZm9yRWFjaCgoZSwgeSkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHJlZCA9IH5+KE1hdGgucmFuZG9tKCkgKiAyNTYpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGdyZWVuID0gfn4oTWF0aC5yYW5kb20oKSAqIDI1Nik7DQogICAgICAgICAgICAgICAgY29uc3QgYmx1ZSA9IH5+KE1hdGgucmFuZG9tKCkgKiAyNTYpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IGAke3JlZH0sICR7Z3JlZW59LCAke2JsdWV9LCAke2FscGhhfWA7DQogICAgICAgICAgICAgICAgY29udGV4dDEuZmlsbFN0eWxlID0gYHJnYmEoJHtjb2xvcnN9KWA7DQogICAgICAgICAgICAgICAgY29udGV4dDEuZmlsbFJlY3QoeCwgeSwgMSwgMSk7DQogICAgICAgICAgICAgICAgLy8gY2FwdHVyZSBkYXRhIGluIHZpc3VhbHMNCiAgICAgICAgICAgICAgICBjb250ZXh0RGlzcGxheTEuZmlsbFN0eWxlID0gYHJnYmEoJHtjb2xvcnN9KWA7DQogICAgICAgICAgICAgICAgY29udGV4dERpc3BsYXkxLmZpbGxSZWN0KHggKiB2aXN1YWxNdWx0aXBsaWVyLCB5ICogdmlzdWFsTXVsdGlwbGllciwgMSAqIHZpc3VhbE11bHRpcGxpZXIsIDEgKiB2aXN1YWxNdWx0aXBsaWVyKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gcGF0dGVybjEucHVzaChjb2xvcnMpOyAvLyBjb2xsZWN0IHRoZSBwaXhlbCBwYXR0ZXJuDQogICAgICAgICAgICB9KSk7DQogICAgICAgICAgICBbLi4uQXJyYXkobGVuKV0uZm9yRWFjaCgoZSwgeCkgPT4gWy4uLkFycmF5KGxlbildLmZvckVhY2goKGUsIHkpID0+IHsNCiAgICAgICAgICAgICAgICAvLyBnZXQgY29udGV4dDEgcGl4ZWwgZGF0YSBhbmQgbWlycm9yIHRvIGNvbnRleHQyDQogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBbcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGFdLCB9ID0gY29udGV4dDEuZ2V0SW1hZ2VEYXRhKHgsIHksIDEsIDEpIHx8IHt9Ow0KICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IGAke3JlZH0sICR7Z3JlZW59LCAke2JsdWV9LCAke2FscGhhfWA7DQogICAgICAgICAgICAgICAgY29udGV4dDIuZmlsbFN0eWxlID0gYHJnYmEoJHtjb2xvcnN9KWA7DQogICAgICAgICAgICAgICAgY29udGV4dDIuZmlsbFJlY3QoeCwgeSwgMSwgMSk7DQogICAgICAgICAgICAgICAgLy8gY2FwdHVyZSBub2lzZSBpbiB2aXN1YWxzDQogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBbcmVkMiwgZ3JlZW4yLCBibHVlMiwgYWxwaGEyXSwgfSA9IGNvbnRleHQyLmdldEltYWdlRGF0YSh4LCB5LCAxLCAxKSB8fCB7fTsNCiAgICAgICAgICAgICAgICBjb25zdCBjb2xvcnNEaXNwbGF5ID0gYA0KCQkJCSR7cmVkICE9IHJlZDIgPyByZWQyIDogMjU1fSwNCgkJCQkke2dyZWVuICE9IGdyZWVuMiA/IGdyZWVuMiA6IDI1NX0sDQoJCQkJJHtibHVlICE9IGJsdWUyID8gYmx1ZTIgOiAyNTV9LA0KCQkJCSR7YWxwaGEgIT0gYWxwaGEyID8gYWxwaGEyIDogMX0NCgkJCWA7DQogICAgICAgICAgICAgICAgY29udGV4dERpc3BsYXkyLmZpbGxTdHlsZSA9IGByZ2JhKCR7Y29sb3JzRGlzcGxheX0pYDsNCiAgICAgICAgICAgICAgICBjb250ZXh0RGlzcGxheTIuZmlsbFJlY3QoeCAqIHZpc3VhbE11bHRpcGxpZXIsIHkgKiB2aXN1YWxNdWx0aXBsaWVyLCAxICogdmlzdWFsTXVsdGlwbGllciwgMSAqIHZpc3VhbE11bHRpcGxpZXIpOw0KICAgICAgICAgICAgICAgIHJldHVybiBwYXR0ZXJuMi5wdXNoKGNvbG9ycyk7IC8vIGNvbGxlY3QgdGhlIHBpeGVsIHBhdHRlcm4NCiAgICAgICAgICAgIH0pKTsNCiAgICAgICAgICAgIC8vIGNvbXBhcmUgdGhlIHBhdHRlcm4gY29sbGVjdGlvbnMgYW5kIGNvbGxlY3QgZGlmZnMNCiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5EaWZmcyA9IFtdOw0KICAgICAgICAgICAgY29uc3QgcmdiYUNoYW5uZWxzID0gbmV3IFNldCgpOw0KICAgICAgICAgICAgWy4uLkFycmF5KHBhdHRlcm4xLmxlbmd0aCldLmZvckVhY2goKGUsIGkpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBwaXhlbENvbG9yMSA9IHBhdHRlcm4xW2ldOw0KICAgICAgICAgICAgICAgIGNvbnN0IHBpeGVsQ29sb3IyID0gcGF0dGVybjJbaV07DQogICAgICAgICAgICAgICAgaWYgKHBpeGVsQ29sb3IxICE9IHBpeGVsQ29sb3IyKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJnYmFWYWx1ZXMxID0gcGl4ZWxDb2xvcjEuc3BsaXQoJywnKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmdiYVZhbHVlczIgPSBwaXhlbENvbG9yMi5zcGxpdCgnLCcpOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xvcnMgPSBbDQogICAgICAgICAgICAgICAgICAgICAgICByZ2JhVmFsdWVzMVswXSAhPSByZ2JhVmFsdWVzMlswXSA/ICdyJyA6ICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgcmdiYVZhbHVlczFbMV0gIT0gcmdiYVZhbHVlczJbMV0gPyAnZycgOiAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHJnYmFWYWx1ZXMxWzJdICE9IHJnYmFWYWx1ZXMyWzJdID8gJ2InIDogJycsDQogICAgICAgICAgICAgICAgICAgICAgICByZ2JhVmFsdWVzMVszXSAhPSByZ2JhVmFsdWVzMlszXSA/ICdhJyA6ICcnLA0KICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJycpOw0KICAgICAgICAgICAgICAgICAgICByZ2JhQ2hhbm5lbHMuYWRkKGNvbG9ycyk7DQogICAgICAgICAgICAgICAgICAgIHBhdHRlcm5EaWZmcy5wdXNoKFtpLCBjb2xvcnNdKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHBpeGVsSW1hZ2VSYW5kb20gPSBjYW52YXNEaXNwbGF5MS50b0RhdGFVUkwoKTsgLy8gdGVtcGxhdGUgdXNlIG9ubHkNCiAgICAgICAgICAgIGNvbnN0IHBpeGVsSW1hZ2UgPSBjYW52YXNEaXNwbGF5Mi50b0RhdGFVUkwoKTsNCiAgICAgICAgICAgIGNvbnN0IHJnYmEgPSByZ2JhQ2hhbm5lbHMuc2l6ZSA/IFsuLi5yZ2JhQ2hhbm5lbHNdLnNvcnQoKS5qb2luKCcsICcpIDogdW5kZWZpbmVkOw0KICAgICAgICAgICAgY29uc3QgcGl4ZWxzID0gcGF0dGVybkRpZmZzLmxlbmd0aCB8fCB1bmRlZmluZWQ7DQogICAgICAgICAgICByZXR1cm4geyByZ2JhLCBwaXhlbHMsIHBpeGVsSW1hZ2UgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGVycm9yKTsNCiAgICAgICAgfQ0KICAgIH07DQogICAgLy8gYmFzZWQgb24gYW5kIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnRvaW5ldmFzdGVsL3BpY2Fzc28tbGlrZS1jYW52YXMtZmluZ2VycHJpbnRpbmcNCiAgICBjb25zdCBwYWludENhbnZhcyA9ICh7IGNhbnZhcywgY29udGV4dCwgc3Ryb2tlVGV4dCA9IGZhbHNlLCBjc3NGb250RmFtaWx5ID0gJycsIGFyZWEgPSB7IHdpZHRoOiA1MCwgaGVpZ2h0OiA1MCB9LCByb3VuZHMgPSAxMCwgbWF4U2hhZG93Qmx1ciA9IDUwLCBzZWVkID0gNTAwLCBvZmZzZXQgPSAyMDAxMDAwMDAxLCBtdWx0aXBsaWVyID0gMTUwMDAsIH0pID0+IHsNCiAgICAgICAgaWYgKCFjb250ZXh0KSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsNCiAgICAgICAgY2FudmFzLndpZHRoID0gYXJlYS53aWR0aDsNCiAgICAgICAgY2FudmFzLmhlaWdodCA9IGFyZWEuaGVpZ2h0Ow0KICAgICAgICBpZiAoY2FudmFzLnN0eWxlKSB7DQogICAgICAgICAgICBjYW52YXMuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBjcmVhdGVQaWNhc3NvU2VlZCA9ICh7IHNlZWQsIG9mZnNldCwgbXVsdGlwbGllciB9KSA9PiB7DQogICAgICAgICAgICBsZXQgY3VycmVudCA9IE51bWJlcihzZWVkKSAlIE51bWJlcihvZmZzZXQpOw0KICAgICAgICAgICAgY29uc3QgZ2V0TmV4dFNlZWQgPSAoKSA9PiB7DQogICAgICAgICAgICAgICAgY3VycmVudCA9IChOdW1iZXIobXVsdGlwbGllcikgKiBjdXJyZW50KSAlIE51bWJlcihvZmZzZXQpOw0KICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50Ow0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgZ2V0TmV4dFNlZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBwaWNhc3NvU2VlZCA9IGNyZWF0ZVBpY2Fzc29TZWVkKHsgc2VlZCwgb2Zmc2V0LCBtdWx0aXBsaWVyIH0pOw0KICAgICAgICBjb25zdCB7IGdldE5leHRTZWVkIH0gPSBwaWNhc3NvU2VlZDsNCiAgICAgICAgY29uc3QgcGF0Y2hTZWVkID0gKGN1cnJlbnQsIG9mZnNldCwgbWF4Qm91bmQsIGNvbXB1dGVGbG9hdCkgPT4gew0KICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKCgoY3VycmVudCAtIDEpIC8gb2Zmc2V0KSAqIChtYXhCb3VuZCB8fCAxKSkgfHwgMDsNCiAgICAgICAgICAgIHJldHVybiBjb21wdXRlRmxvYXQgPyByZXN1bHQgOiBNYXRoLmZsb29yKHJlc3VsdCk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGFkZFJhbmRvbUNhbnZhc0dyYWRpZW50ID0gKGNvbnRleHQsIG9mZnNldCwgYXJlYSwgY29sb3JzLCBnZXROZXh0U2VlZCkgPT4gew0KICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBhcmVhOw0KICAgICAgICAgICAgY29uc3QgY2FudmFzR3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZVJhZGlhbEdyYWRpZW50KHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIHdpZHRoKSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgaGVpZ2h0KSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgd2lkdGgpLCBwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCB3aWR0aCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIGhlaWdodCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIHdpZHRoKSk7DQogICAgICAgICAgICBjYW52YXNHcmFkaWVudC5hZGRDb2xvclN0b3AoMCwgY29sb3JzW3BhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIGNvbG9ycy5sZW5ndGgpXSk7DQogICAgICAgICAgICBjYW52YXNHcmFkaWVudC5hZGRDb2xvclN0b3AoMSwgY29sb3JzW3BhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIGNvbG9ycy5sZW5ndGgpXSk7DQogICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNhbnZhc0dyYWRpZW50Ow0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBjb2xvcnMgPSBbDQogICAgICAgICAgICAnI0ZGNjYzMycsICcjRkZCMzk5JywgJyNGRjMzRkYnLCAnI0ZGRkY5OScsICcjMDBCM0U2JywNCiAgICAgICAgICAgICcjRTZCMzMzJywgJyMzMzY2RTYnLCAnIzk5OTk2NicsICcjOTlGRjk5JywgJyNCMzRENEQnLA0KICAgICAgICAgICAgJyM4MEIzMDAnLCAnIzgwOTkwMCcsICcjRTZCM0IzJywgJyM2NjgwQjMnLCAnIzY2OTkxQScsDQogICAgICAgICAgICAnI0ZGOTlFNicsICcjQ0NGRjFBJywgJyNGRjFBNjYnLCAnI0U2MzMxQScsICcjMzNGRkNDJywNCiAgICAgICAgICAgICcjNjY5OTREJywgJyNCMzY2Q0MnLCAnIzREODAwMCcsICcjQjMzMzAwJywgJyNDQzgwQ0MnLA0KICAgICAgICAgICAgJyM2NjY2NEQnLCAnIzk5MUFGRicsICcjRTY2NkZGJywgJyM0REIzRkYnLCAnIzFBQjM5OScsDQogICAgICAgICAgICAnI0U2NjZCMycsICcjMzM5OTFBJywgJyNDQzk5OTknLCAnI0IzQjMxQScsICcjMDBFNjgwJywNCiAgICAgICAgICAgICcjNEQ4MDY2JywgJyM4MDk5ODAnLCAnI0U2RkY4MCcsICcjMUFGRjMzJywgJyM5OTk5MzMnLA0KICAgICAgICAgICAgJyNGRjMzODAnLCAnI0NDQ0MwMCcsICcjNjZFNjREJywgJyM0RDgwQ0MnLCAnIzk5MDBCMycsDQogICAgICAgICAgICAnI0U2NEQ2NicsICcjNERCMzgwJywgJyNGRjRENEQnLCAnIzk5RTZFNicsICcjNjY2NkZGJywNCiAgICAgICAgXTsNCiAgICAgICAgY29uc3QgZHJhd091dGxpbmVPZlRleHQgPSAoY29udGV4dCwgb2Zmc2V0LCBhcmVhLCBnZXROZXh0U2VlZCkgPT4gew0KICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBhcmVhOw0KICAgICAgICAgICAgY29uc3QgZm9udFNpemUgPSAyLjk5Ow0KICAgICAgICAgICAgY29udGV4dC5mb250ID0gYCR7aGVpZ2h0IC8gZm9udFNpemV9cHggJHtjc3NGb250RmFtaWx5LnJlcGxhY2UoLyFpbXBvcnRhbnQvZ20sICcnKX1gOw0KICAgICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KCfwn5G+QScsIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIHdpZHRoKSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgaGVpZ2h0KSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgd2lkdGgpKTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgY3JlYXRlQ2lyY3VsYXJBcmMgPSAoY29udGV4dCwgb2Zmc2V0LCBhcmVhLCBnZXROZXh0U2VlZCkgPT4gew0KICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBhcmVhOw0KICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTsNCiAgICAgICAgICAgIGNvbnRleHQuYXJjKHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIHdpZHRoKSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgaGVpZ2h0KSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgTWF0aC5taW4od2lkdGgsIGhlaWdodCkpLCBwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCAyICogTWF0aC5QSSwgdHJ1ZSksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIDIgKiBNYXRoLlBJLCB0cnVlKSk7DQogICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBjcmVhdGVCZXppZXJDdXJ2ZSA9IChjb250ZXh0LCBvZmZzZXQsIGFyZWEsIGdldE5leHRTZWVkKSA9PiB7DQogICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGFyZWE7DQogICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOw0KICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgd2lkdGgpLCBwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCBoZWlnaHQpKTsNCiAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCB3aWR0aCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIGhlaWdodCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIHdpZHRoKSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgaGVpZ2h0KSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgd2lkdGgpLCBwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCBoZWlnaHQpKTsNCiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGNyZWF0ZVF1YWRyYXRpY0N1cnZlID0gKGNvbnRleHQsIG9mZnNldCwgYXJlYSwgZ2V0TmV4dFNlZWQpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gYXJlYTsNCiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7DQogICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCB3aWR0aCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIGhlaWdodCkpOw0KICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIHdpZHRoKSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgaGVpZ2h0KSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgd2lkdGgpLCBwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCBoZWlnaHQpKTsNCiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGNyZWF0ZUVsbGlwdGljYWxBcmMgPSAoY29udGV4dCwgb2Zmc2V0LCBhcmVhLCBnZXROZXh0U2VlZCkgPT4gew0KICAgICAgICAgICAgaWYgKCEoJ2VsbGlwc2UnIGluIGNvbnRleHQpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBhcmVhOw0KICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTsNCiAgICAgICAgICAgIGNvbnRleHQuZWxsaXBzZShwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCB3aWR0aCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIGhlaWdodCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIE1hdGguZmxvb3Iod2lkdGggLyAyKSksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIE1hdGguZmxvb3IoaGVpZ2h0IC8gMikpLCBwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCAyICogTWF0aC5QSSwgdHJ1ZSksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIDIgKiBNYXRoLlBJLCB0cnVlKSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgMiAqIE1hdGguUEksIHRydWUpKTsNCiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IG1ldGhvZHMgPSBbDQogICAgICAgICAgICBjcmVhdGVDaXJjdWxhckFyYywNCiAgICAgICAgICAgIGNyZWF0ZUJlemllckN1cnZlLA0KICAgICAgICAgICAgY3JlYXRlUXVhZHJhdGljQ3VydmUsDQogICAgICAgIF07DQogICAgICAgIGlmICghSVNfV0VCS0lUKQ0KICAgICAgICAgICAgbWV0aG9kcy5wdXNoKGNyZWF0ZUVsbGlwdGljYWxBcmMpOyAvLyB1bnN0YWJsZSBpbiB3ZWJraXQNCiAgICAgICAgaWYgKHN0cm9rZVRleHQpDQogICAgICAgICAgICBtZXRob2RzLnB1c2goZHJhd091dGxpbmVPZlRleHQpOw0KICAgICAgICBbLi4uQXJyYXkocm91bmRzKV0uZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgYWRkUmFuZG9tQ2FudmFzR3JhZGllbnQoY29udGV4dCwgb2Zmc2V0LCBhcmVhLCBjb2xvcnMsIGdldE5leHRTZWVkKTsNCiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIG1heFNoYWRvd0JsdXIsIHRydWUpOw0KICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IGNvbG9yc1twYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCBjb2xvcnMubGVuZ3RoKV07DQogICAgICAgICAgICBjb25zdCBuZXh0TWV0aG9kID0gbWV0aG9kc1twYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCBtZXRob2RzLmxlbmd0aCldOw0KICAgICAgICAgICAgbmV4dE1ldGhvZChjb250ZXh0LCBvZmZzZXQsIGFyZWEsIGdldE5leHRTZWVkKTsNCiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH07DQogICAgYXN5bmMgZnVuY3Rpb24gZ2V0Q2FudmFzMmQoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IGRhdGFMaWUgPSBsaWVQcm9wc1snSFRNTENhbnZhc0VsZW1lbnQudG9EYXRhVVJMJ107DQogICAgICAgICAgICBjb25zdCBjb250ZXh0TGllID0gbGllUHJvcHNbJ0hUTUxDYW52YXNFbGVtZW50LmdldENvbnRleHQnXTsNCiAgICAgICAgICAgIGNvbnN0IGltYWdlRGF0YUxpZSA9IChsaWVQcm9wc1snQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELmZpbGxUZXh0J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELmZvbnQnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuZ2V0SW1hZ2VEYXRhJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnN0cm9rZVRleHQnXSk7DQogICAgICAgICAgICBjb25zdCBjb2RlUG9pbnRMaWUgPSBsaWVQcm9wc1snU3RyaW5nLmZyb21Db2RlUG9pbnQnXTsNCiAgICAgICAgICAgIGxldCB0ZXh0TWV0cmljc0xpZSA9IChsaWVQcm9wc1snQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELm1lYXN1cmVUZXh0J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snVGV4dE1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydUZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydUZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydUZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snVGV4dE1ldHJpY3MuZm9udEJvdW5kaW5nQm94QXNjZW50J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snVGV4dE1ldHJpY3MuZm9udEJvdW5kaW5nQm94RGVzY2VudCddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1RleHRNZXRyaWNzLndpZHRoJ10pOw0KICAgICAgICAgICAgbGV0IGxpZWQgPSAoZGF0YUxpZSB8fA0KICAgICAgICAgICAgICAgIGNvbnRleHRMaWUgfHwNCiAgICAgICAgICAgICAgICBpbWFnZURhdGFMaWUgfHwNCiAgICAgICAgICAgICAgICB0ZXh0TWV0cmljc0xpZSB8fA0KICAgICAgICAgICAgICAgIGNvZGVQb2ludExpZSkgfHwgZmFsc2U7DQogICAgICAgICAgICAvLyBjcmVhdGUgY2FudmFzIGNvbnRleHQNCiAgICAgICAgICAgIGxldCB3aW4gPSB3aW5kb3c7DQogICAgICAgICAgICBpZiAoIUxJS0VfQlJBVkUgJiYgUEhBTlRPTV9EQVJLTkVTUykgew0KICAgICAgICAgICAgICAgIHdpbiA9IFBIQU5UT01fREFSS05FU1M7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBkb2MgPSB3aW4uZG9jdW1lbnQ7DQogICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2MuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7DQogICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7DQogICAgICAgICAgICBjb25zdCBjYW52YXNDUFUgPSBkb2MuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7DQogICAgICAgICAgICBjb25zdCBjb250ZXh0Q1BVID0gY2FudmFzQ1BVLmdldENvbnRleHQoJzJkJywgew0KICAgICAgICAgICAgICAgIGRlc3luY2hyb25pemVkOiB0cnVlLA0KICAgICAgICAgICAgICAgIHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZSwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaWYgKCFjb250ZXh0KSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW52YXMgY29udGV4dCBibG9ja2VkJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IGltYWdlU2l6ZU1heCA9IElTX1dFQktJVCA/IDUwIDogNzU7IC8vIHdlYmtpdCBpcyB1bnN0YWJsZQ0KICAgICAgICAgICAgcGFpbnRDYW52YXMoew0KICAgICAgICAgICAgICAgIGNhbnZhcywNCiAgICAgICAgICAgICAgICBjb250ZXh0LA0KICAgICAgICAgICAgICAgIHN0cm9rZVRleHQ6IHRydWUsDQogICAgICAgICAgICAgICAgY3NzRm9udEZhbWlseTogQ1NTX0ZPTlRfRkFNSUxZLA0KICAgICAgICAgICAgICAgIGFyZWE6IHsgd2lkdGg6IGltYWdlU2l6ZU1heCwgaGVpZ2h0OiBpbWFnZVNpemVNYXggfSwNCiAgICAgICAgICAgICAgICByb3VuZHM6IDEwLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb25zdCBkYXRhVVJJID0gY2FudmFzLnRvRGF0YVVSTCgpOw0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICBjb25zdCBtb2RzID0gZ2V0UGl4ZWxNb2RzKCk7DQogICAgICAgICAgICAvLyBUZXh0TWV0cmljczogZ2V0IGVtb2ppIHNldCBhbmQgc3lzdGVtDQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IGAxMHB4ICR7Q1NTX0ZPTlRfRkFNSUxZLnJlcGxhY2UoLyFpbXBvcnRhbnQvZ20sICcnKX1gOw0KICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IG5ldyBTZXQoKTsNCiAgICAgICAgICAgIGNvbnN0IGVtb2ppU2V0ID0gRU1PSklTLnJlZHVjZSgoZW1vamlTZXQsIGVtb2ppKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBhY3R1YWxCb3VuZGluZ0JveEFzY2VudCwgYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50LCBhY3R1YWxCb3VuZGluZ0JveExlZnQsIGFjdHVhbEJvdW5kaW5nQm94UmlnaHQsIGZvbnRCb3VuZGluZ0JveEFzY2VudCwgZm9udEJvdW5kaW5nQm94RGVzY2VudCwgd2lkdGgsIH0gPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGVtb2ppKSB8fCB7fTsNCiAgICAgICAgICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gWw0KICAgICAgICAgICAgICAgICAgICBhY3R1YWxCb3VuZGluZ0JveEFzY2VudCwNCiAgICAgICAgICAgICAgICAgICAgYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50LA0KICAgICAgICAgICAgICAgICAgICBhY3R1YWxCb3VuZGluZ0JveExlZnQsDQogICAgICAgICAgICAgICAgICAgIGFjdHVhbEJvdW5kaW5nQm94UmlnaHQsDQogICAgICAgICAgICAgICAgICAgIGZvbnRCb3VuZGluZ0JveEFzY2VudCwNCiAgICAgICAgICAgICAgICAgICAgZm9udEJvdW5kaW5nQm94RGVzY2VudCwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgXS5qb2luKCcsJyk7DQogICAgICAgICAgICAgICAgaWYgKCFwYXR0ZXJuLmhhcyhkaW1lbnNpb25zKSkgew0KICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLmFkZChkaW1lbnNpb25zKTsNCiAgICAgICAgICAgICAgICAgICAgZW1vamlTZXQuYWRkKGVtb2ppKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGVtb2ppU2V0Ow0KICAgICAgICAgICAgfSwgbmV3IFNldCgpKTsNCiAgICAgICAgICAgIC8vIHRleHRNZXRyaWNzIFN5c3RlbSBTdW0NCiAgICAgICAgICAgIGNvbnN0IHRleHRNZXRyaWNzU3lzdGVtU3VtID0gMC4wMDAwMSAqIFsuLi5wYXR0ZXJuXS5tYXAoKHgpID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4geC5zcGxpdCgnLCcpLnJlZHVjZSgoYWNjLCB4KSA9PiBhY2MgKz0gKCt4IHx8IDApLCAwKTsNCiAgICAgICAgICAgIH0pLnJlZHVjZSgoYWNjLCB4KSA9PiBhY2MgKz0geCwgMCk7DQogICAgICAgICAgICAvLyBQYWludA0KICAgICAgICAgICAgY29uc3QgbWF4U2l6ZSA9IDc1Ow0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICBwYWludENhbnZhcyh7DQogICAgICAgICAgICAgICAgY2FudmFzLA0KICAgICAgICAgICAgICAgIGNvbnRleHQsDQogICAgICAgICAgICAgICAgYXJlYTogeyB3aWR0aDogbWF4U2l6ZSwgaGVpZ2h0OiBtYXhTaXplIH0sDQogICAgICAgICAgICB9KTsgLy8gY2xlYXJzIGltYWdlDQogICAgICAgICAgICBjb25zdCBwYWludFVSSSA9IGNhbnZhcy50b0RhdGFVUkwoKTsNCiAgICAgICAgICAgIC8vIFBhaW50IHdpdGggQ1BVDQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIHBhaW50Q2FudmFzKHsNCiAgICAgICAgICAgICAgICBjYW52YXM6IGNhbnZhc0NQVSwNCiAgICAgICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0Q1BVLA0KICAgICAgICAgICAgICAgIGFyZWE6IHsgd2lkdGg6IG1heFNpemUsIGhlaWdodDogbWF4U2l6ZSB9LA0KICAgICAgICAgICAgfSk7IC8vIGNsZWFycyBpbWFnZQ0KICAgICAgICAgICAgY29uc3QgcGFpbnRDcHVVUkkgPSBjYW52YXNDUFUudG9EYXRhVVJMKCk7DQogICAgICAgICAgICAvLyBUZXh0DQogICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTsNCiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7DQogICAgICAgICAgICBjYW52YXMud2lkdGggPSA1MDsNCiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSA1MDsNCiAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IGA1MHB4ICR7Q1NTX0ZPTlRfRkFNSUxZLnJlcGxhY2UoLyFpbXBvcnRhbnQvZ20sICcnKX1gOw0KICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dCgnQScsIDcsIDM3KTsNCiAgICAgICAgICAgIGNvbnN0IHRleHRVUkkgPSBjYW52YXMudG9EYXRhVVJMKCk7DQogICAgICAgICAgICAvLyBFbW9qaQ0KICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7DQogICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOw0KICAgICAgICAgICAgY2FudmFzLndpZHRoID0gNTA7DQogICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gNTA7DQogICAgICAgICAgICBjb250ZXh0LmZvbnQgPSBgMzVweCAke0NTU19GT05UX0ZBTUlMWS5yZXBsYWNlKC8haW1wb3J0YW50L2dtLCAnJyl9YDsNCiAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQoJ/Cfkb4nLCAwLCAzNyk7DQogICAgICAgICAgICBjb25zdCBlbW9qaVVSSSA9IGNhbnZhcy50b0RhdGFVUkwoKTsNCiAgICAgICAgICAgIC8vIGxpZXMNCiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7DQogICAgICAgICAgICBpZiAoKG1vZHMgJiYgbW9kcy5waXhlbHMpIHx8ICEhTWF0aC5tYXgoLi4uY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgOCwgOCkuZGF0YSkpIHsNCiAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZShgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELmdldEltYWdlRGF0YWAsIGBwaXhlbCBkYXRhIG1vZGlmaWVkYCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyB2ZXJpZnkgbG93IGVudHJvcHkgaW1hZ2UgZGF0YQ0KICAgICAgICAgICAgY2FudmFzLndpZHRoID0gMjsNCiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSAyOw0KICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7DQogICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7DQogICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZmZmJzsNCiAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMiwgMiwgMSwgMSk7DQogICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOw0KICAgICAgICAgICAgY29udGV4dC5hcmMoMCwgMCwgMiwgMCwgMSwgdHJ1ZSk7DQogICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpOw0KICAgICAgICAgICAgY29udGV4dC5maWxsKCk7DQogICAgICAgICAgICBjb25zdCBpbWFnZURhdGFMb3dFbnRyb3B5ID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgMiwgMikuZGF0YS5qb2luKCcnKTsNCiAgICAgICAgICAgIGNvbnN0IEtub3duSW1hZ2VEYXRhID0gew0KICAgICAgICAgICAgICAgIEJMSU5LOiBbDQogICAgICAgICAgICAgICAgICAgICcyNTUyNTUyNTUyNTUxOTIxOTIxOTIyNTUyNDAyNDAyNDAyNTU0ODQ4NDgyNTUnLA0KICAgICAgICAgICAgICAgICAgICAnMjU1MjU1MjU1MjU1MTc3MTc3MTc3MjU1MjQ2MjQ2MjQ2MjU1NTM1MzUzMjU1JywNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTEyODEyODEyODI1NTE5MTE5MTE5MTI1NTY0NjQ2NDI1NScsDQogICAgICAgICAgICAgICAgICAgICcyNTUyNTUyNTUyNTUxNzgxNzgxNzgyNTUyNDcyNDcyNDcyNTU1NjU2NTYyNTUnLA0KICAgICAgICAgICAgICAgICAgICAnMjU1MjU1MjU1MjU1MTc0MTc0MTc0MjU1MjQyMjQyMjQyMjU1NDc0NzQ3MjU1JywNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTIyOTIyOTIyOTI1NTEyNzEyNzEyNzI1NTY4Njg2ODI1NScsDQogICAgICAgICAgICAgICAgICAgICcyNTUyNTUyNTUyNTUxOTIxOTIxOTIyNTUyNDQyNDQyNDQyNTU1MzUzNTMyNTUnLA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgR0VDS086IFsNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTE5MjE5MjE5MjI1NTI0MDI0MDI0MDI1NTQ4NDg0ODI1NScsDQogICAgICAgICAgICAgICAgICAgICcyNTUyNTUyNTUyNTUxOTExOTExOTEyNTUyMzkyMzkyMzkyNTU2NDY0NjQyNTUnLA0KICAgICAgICAgICAgICAgICAgICAnMjU1MjU1MjU1MjU1MTkxMTkxMTkxMjU1MjIzMjIzMjIzMjU1NjA2MDYwMjU1JywNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTE3MTE3MTE3MTI1NTIyMzIyMzIyMzI1NTYwNjA2MDI1NScsIC8vID8NCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIFdFQktJVDogWw0KICAgICAgICAgICAgICAgICAgICAnMjU1MjU1MjU1MjU1MTg1MTg1MTg1MjU1MjMzMjMzMjMzMjU1NDc0NzQ3MjU1JywNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTE4NTE4NTE4NTI1NTIyOTIyOTIyOTI1NTQ3NDc0NzI1NScsDQogICAgICAgICAgICAgICAgICAgICcyNTUyNTUyNTUyNTUxODUxODUxODUyNTUyMTgyMTgyMTgyNTU0NzQ3NDcyNTUnLA0KICAgICAgICAgICAgICAgICAgICAnMjU1MjU1MjU1MjU1MTkyMTkyMTkyMjU1MjQwMjQwMjQwMjU1NDg0ODQ4MjU1JywNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTE3ODE3ODE3ODI1NTI0NzI0NzI0NzI1NTU2NTY1NjI1NScsDQogICAgICAgICAgICAgICAgICAgICcyNTUyNTUyNTUyNTUxNzgxNzgxNzgyNTUyNDcyNDcyNDcyNTU1NjU2NTYyNTUnLA0KICAgICAgICAgICAgICAgICAgICAnMjU1MjU1MjU1MjU1MTkyMTkyMTkyMjU1MjQwMjQwMjQwMjU1NDg0ODQ4MjU1JywNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTE4NjE4NjE4NjI1NTIxODIxODIxODI1NTQ2NDY0NjI1NScsDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBBbmFseXNpcy5pbWFnZURhdGFMb3dFbnRyb3B5ID0gaW1hZ2VEYXRhTG93RW50cm9weTsNCiAgICAgICAgICAgIGlmIChJU19CTElOSyAmJiAhS25vd25JbWFnZURhdGEuQkxJTksuaW5jbHVkZXMoaW1hZ2VEYXRhTG93RW50cm9weSkpIHsNCiAgICAgICAgICAgICAgICBMb3dlckVudHJvcHkuQ0FOVkFTID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKElTX0dFQ0tPICYmICFLbm93bkltYWdlRGF0YS5HRUNLTy5pbmNsdWRlcyhpbWFnZURhdGFMb3dFbnRyb3B5KSkgew0KICAgICAgICAgICAgICAgIExvd2VyRW50cm9weS5DQU5WQVMgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoSVNfV0VCS0lUICYmICFLbm93bkltYWdlRGF0YS5XRUJLSVQuaW5jbHVkZXMoaW1hZ2VEYXRhTG93RW50cm9weSkpIHsNCiAgICAgICAgICAgICAgICBMb3dlckVudHJvcHkuQ0FOVkFTID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChMb3dlckVudHJvcHkuQ0FOVkFTKSB7DQogICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5nZXRJbWFnZURhdGEnLCAnc3VzcGljaW91cyBwaXhlbCBkYXRhJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBnZXRUZXh0TWV0cmljc0Zsb2F0TGllID0gKGNvbnRleHQpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBpc0Zsb2F0ID0gKG4pID0+IG4gJSAxICE9PSAwOw0KICAgICAgICAgICAgICAgIGNvbnN0IHsgYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQ6IGFiYmEsIGFjdHVhbEJvdW5kaW5nQm94RGVzY2VudDogYWJiZCwgYWN0dWFsQm91bmRpbmdCb3hMZWZ0OiBhYmJsLCBhY3R1YWxCb3VuZGluZ0JveFJpZ2h0OiBhYmJyLCBmb250Qm91bmRpbmdCb3hBc2NlbnQ6IGZiYmEsIGZvbnRCb3VuZGluZ0JveERlc2NlbnQ6IGZiYmQsDQogICAgICAgICAgICAgICAgLy8gd2lkdGg6IHcsDQogICAgICAgICAgICAgICAgIH0gPSBjb250ZXh0Lm1lYXN1cmVUZXh0KCcnKSB8fCB7fTsNCiAgICAgICAgICAgICAgICBjb25zdCBsaWVkID0gWw0KICAgICAgICAgICAgICAgICAgICBhYmJhLA0KICAgICAgICAgICAgICAgICAgICBhYmJkLA0KICAgICAgICAgICAgICAgICAgICBhYmJsLA0KICAgICAgICAgICAgICAgICAgICBhYmJyLA0KICAgICAgICAgICAgICAgICAgICBmYmJhLA0KICAgICAgICAgICAgICAgICAgICBmYmJkLA0KICAgICAgICAgICAgICAgIF0uZmluZCgoeCkgPT4gaXNGbG9hdCgoeCB8fCAwKSkpOw0KICAgICAgICAgICAgICAgIHJldHVybiBsaWVkOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgaWYgKGdldFRleHRNZXRyaWNzRmxvYXRMaWUoY29udGV4dCkpIHsNCiAgICAgICAgICAgICAgICB0ZXh0TWV0cmljc0xpZSA9IHRydWU7DQogICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5tZWFzdXJlVGV4dCcsICdtZXRyaWMgbm9pc2UgZGV0ZWN0ZWQnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdjYW52YXMgMmQnLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIGRhdGFVUkksDQogICAgICAgICAgICAgICAgcGFpbnRVUkksDQogICAgICAgICAgICAgICAgcGFpbnRDcHVVUkksDQogICAgICAgICAgICAgICAgdGV4dFVSSSwNCiAgICAgICAgICAgICAgICBlbW9qaVVSSSwNCiAgICAgICAgICAgICAgICBtb2RzLA0KICAgICAgICAgICAgICAgIHRleHRNZXRyaWNzU3lzdGVtU3VtLA0KICAgICAgICAgICAgICAgIGxpZWRUZXh0TWV0cmljczogdGV4dE1ldHJpY3NMaWUsDQogICAgICAgICAgICAgICAgZW1vamlTZXQ6IFsuLi5lbW9qaVNldF0sDQogICAgICAgICAgICAgICAgbGllZCwNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ2NhbnZhcyAyZCcsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIGZ1bmN0aW9uIGdldENTUygpIHsNCiAgICAgICAgY29uc3QgY29tcHV0ZVN0eWxlID0gKHR5cGUsIHsgcmVxdWlyZTogW2NhcHR1cmVFcnJvcl0gfSkgPT4gew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAvLyBnZXQgQ1NTU3R5bGVEZWNsYXJhdGlvbg0KICAgICAgICAgICAgICAgIGNvbnN0IGNzc1N0eWxlRGVjbGFyYXRpb24gPSAodHlwZSA9PSAnZ2V0Q29tcHV0ZWRTdHlsZScgPyBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpIDoNCiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAnSFRNTEVsZW1lbnQuc3R5bGUnID8gZG9jdW1lbnQuYm9keS5zdHlsZSA6DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlID09ICdDU1NSdWxlTGlzdC5zdHlsZScgPyBkb2N1bWVudC5zdHlsZVNoZWV0c1swXS5jc3NSdWxlc1swXS5zdHlsZSA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkKTsNCiAgICAgICAgICAgICAgICBpZiAoIWNzc1N0eWxlRGVjbGFyYXRpb24pIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBhcmd1bWVudCBzdHJpbmcnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy8gZ2V0IHByb3BlcnRpZXMNCiAgICAgICAgICAgICAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjc3NTdHlsZURlY2xhcmF0aW9uKTsNCiAgICAgICAgICAgICAgICBjb25zdCBwcm90b3R5cGVQcm9wZXJ0aWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8pOw0KICAgICAgICAgICAgICAgIGNvbnN0IG93bkVudW1lcmFibGVQcm9wZXJ0eU5hbWVzID0gW107DQogICAgICAgICAgICAgICAgY29uc3QgY3NzVmFyID0gL14tLS4qJC87DQogICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoY3NzU3R5bGVEZWNsYXJhdGlvbikuZm9yRWFjaCgoa2V5KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bWVyaWNLZXkgPSAhaXNOYU4oK2tleSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3NzU3R5bGVEZWNsYXJhdGlvbltrZXldOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21Qcm9wS2V5ID0gY3NzVmFyLnRlc3Qoa2V5KTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tUHJvcFZhbHVlID0gY3NzVmFyLnRlc3QodmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICBpZiAobnVtZXJpY0tleSAmJiAhY3VzdG9tUHJvcFZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3duRW51bWVyYWJsZVByb3BlcnR5TmFtZXMucHVzaCh2YWx1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIW51bWVyaWNLZXkgJiYgIWN1c3RvbVByb3BLZXkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvd25FbnVtZXJhYmxlUHJvcGVydHlOYW1lcy5wdXNoKGtleSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIC8vIGdldCBwcm9wZXJ0aWVzIGluIHByb3RvdHlwZSBjaGFpbiAocmVxdWlyZWQgb25seSBpbiBjaHJvbWUpDQogICAgICAgICAgICAgICAgY29uc3QgcHJvcGVydGllc0luUHJvdG90eXBlQ2hhaW4gPSB7fTsNCiAgICAgICAgICAgICAgICBjb25zdCBjYXBpdGFsaXplID0gKHN0cikgPT4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHVuY2FwaXRhbGl6ZSA9IChzdHIpID0+IHN0ci5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHN0ci5zbGljZSgxKTsNCiAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVGaXJzdENoYXIgPSAoc3RyKSA9PiBzdHIuc2xpY2UoMSk7DQogICAgICAgICAgICAgICAgY29uc3QgY2FwcyA9IC9bQS1aXS9nOw0KICAgICAgICAgICAgICAgIG93bkVudW1lcmFibGVQcm9wZXJ0eU5hbWVzLmZvckVhY2goKGtleSkgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc0luUHJvdG90eXBlQ2hhaW5ba2V5XSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSBhdHRyaWJ1dGUgdHlwZQ0KICAgICAgICAgICAgICAgICAgICBjb25zdCBpc05hbWVkQXR0cmlidXRlID0ga2V5LmluZGV4T2YoJy0nKSA+IC0xOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0FsaWFzQXR0cmlidXRlID0gY2Fwcy50ZXN0KGtleSk7DQogICAgICAgICAgICAgICAgICAgIC8vIHJlZHVjZSBrZXkgZm9yIGNvbXB1dGF0aW9uDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0Q2hhciA9IGtleS5jaGFyQXQoMCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzUHJlZml4ZWROYW1lID0gaXNOYW1lZEF0dHJpYnV0ZSAmJiBmaXJzdENoYXIgPT0gJy0nOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0NhcGl0YWxpemVkQWxpYXMgPSBpc0FsaWFzQXR0cmlidXRlICYmIGZpcnN0Q2hhciA9PSBmaXJzdENoYXIudG9VcHBlckNhc2UoKTsNCiAgICAgICAgICAgICAgICAgICAga2V5ID0gKGlzUHJlZml4ZWROYW1lID8gcmVtb3ZlRmlyc3RDaGFyKGtleSkgOg0KICAgICAgICAgICAgICAgICAgICAgICAgaXNDYXBpdGFsaXplZEFsaWFzID8gdW5jYXBpdGFsaXplKGtleSkgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSk7DQogICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgY291bnRlcnBhcnQgaW4gQ1NTU3R5bGVEZWNsYXJhdGlvbiBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbg0KICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYW1lZEF0dHJpYnV0ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxpYXNBdHRyaWJ1dGUgPSBrZXkuc3BsaXQoJy0nKS5tYXAoKHdvcmQsIGluZGV4KSA9PiBpbmRleCA9PSAwID8gd29yZCA6IGNhcGl0YWxpemUod29yZCkpLmpvaW4oJycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsaWFzQXR0cmlidXRlIGluIGNzc1N0eWxlRGVjbGFyYXRpb24pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzSW5Qcm90b3R5cGVDaGFpblthbGlhc0F0dHJpYnV0ZV0gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2FwaXRhbGl6ZShhbGlhc0F0dHJpYnV0ZSkgaW4gY3NzU3R5bGVEZWNsYXJhdGlvbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXNJblByb3RvdHlwZUNoYWluW2NhcGl0YWxpemUoYWxpYXNBdHRyaWJ1dGUpXSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBbGlhc0F0dHJpYnV0ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZWRBdHRyaWJ1dGUgPSBrZXkucmVwbGFjZShjYXBzLCAoY2hhcikgPT4gJy0nICsgY2hhci50b0xvd2VyQ2FzZSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lZEF0dHJpYnV0ZSBpbiBjc3NTdHlsZURlY2xhcmF0aW9uKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc0luUHJvdG90eXBlQ2hhaW5bbmFtZWRBdHRyaWJ1dGVdID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGAtJHtuYW1lZEF0dHJpYnV0ZX1gIGluIGNzc1N0eWxlRGVjbGFyYXRpb24pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzSW5Qcm90b3R5cGVDaGFpbltgLSR7bmFtZWRBdHRyaWJ1dGV9YF0gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAvLyBjb21waWxlIGtleXMNCiAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0gWw0KICAgICAgICAgICAgICAgICAgICAuLi5uZXcgU2V0KFsNCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByb3RvdHlwZVByb3BlcnRpZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAuLi5vd25FbnVtZXJhYmxlUHJvcGVydHlOYW1lcywNCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKHByb3BlcnRpZXNJblByb3RvdHlwZUNoYWluKSwNCiAgICAgICAgICAgICAgICAgICAgXSksDQogICAgICAgICAgICAgICAgXTsNCiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgY29uc3QgaW50ZXJmYWNlTmFtZSA9ICgnJyArIHByb3RvKS5tYXRjaCgvXFtvYmplY3QgKC4rKVxdLylbMV07DQogICAgICAgICAgICAgICAgcmV0dXJuIHsga2V5cywgaW50ZXJmYWNlTmFtZSB9Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGdldFN5c3RlbVN0eWxlcyA9IChlbCkgPT4gew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBjb25zdCBjb2xvcnMgPSBbDQogICAgICAgICAgICAgICAgICAgICdBY3RpdmVCb3JkZXInLA0KICAgICAgICAgICAgICAgICAgICAnQWN0aXZlQ2FwdGlvbicsDQogICAgICAgICAgICAgICAgICAgICdBY3RpdmVUZXh0JywNCiAgICAgICAgICAgICAgICAgICAgJ0FwcFdvcmtzcGFjZScsDQogICAgICAgICAgICAgICAgICAgICdCYWNrZ3JvdW5kJywNCiAgICAgICAgICAgICAgICAgICAgJ0J1dHRvbkJvcmRlcicsDQogICAgICAgICAgICAgICAgICAgICdCdXR0b25GYWNlJywNCiAgICAgICAgICAgICAgICAgICAgJ0J1dHRvbkhpZ2hsaWdodCcsDQogICAgICAgICAgICAgICAgICAgICdCdXR0b25TaGFkb3cnLA0KICAgICAgICAgICAgICAgICAgICAnQnV0dG9uVGV4dCcsDQogICAgICAgICAgICAgICAgICAgICdDYW52YXMnLA0KICAgICAgICAgICAgICAgICAgICAnQ2FudmFzVGV4dCcsDQogICAgICAgICAgICAgICAgICAgICdDYXB0aW9uVGV4dCcsDQogICAgICAgICAgICAgICAgICAgICdGaWVsZCcsDQogICAgICAgICAgICAgICAgICAgICdGaWVsZFRleHQnLA0KICAgICAgICAgICAgICAgICAgICAnR3JheVRleHQnLA0KICAgICAgICAgICAgICAgICAgICAnSGlnaGxpZ2h0JywNCiAgICAgICAgICAgICAgICAgICAgJ0hpZ2hsaWdodFRleHQnLA0KICAgICAgICAgICAgICAgICAgICAnSW5hY3RpdmVCb3JkZXInLA0KICAgICAgICAgICAgICAgICAgICAnSW5hY3RpdmVDYXB0aW9uJywNCiAgICAgICAgICAgICAgICAgICAgJ0luYWN0aXZlQ2FwdGlvblRleHQnLA0KICAgICAgICAgICAgICAgICAgICAnSW5mb0JhY2tncm91bmQnLA0KICAgICAgICAgICAgICAgICAgICAnSW5mb1RleHQnLA0KICAgICAgICAgICAgICAgICAgICAnTGlua1RleHQnLA0KICAgICAgICAgICAgICAgICAgICAnTWFyaycsDQogICAgICAgICAgICAgICAgICAgICdNYXJrVGV4dCcsDQogICAgICAgICAgICAgICAgICAgICdNZW51JywNCiAgICAgICAgICAgICAgICAgICAgJ01lbnVUZXh0JywNCiAgICAgICAgICAgICAgICAgICAgJ1Njcm9sbGJhcicsDQogICAgICAgICAgICAgICAgICAgICdUaHJlZUREYXJrU2hhZG93JywNCiAgICAgICAgICAgICAgICAgICAgJ1RocmVlREZhY2UnLA0KICAgICAgICAgICAgICAgICAgICAnVGhyZWVESGlnaGxpZ2h0JywNCiAgICAgICAgICAgICAgICAgICAgJ1RocmVlRExpZ2h0U2hhZG93JywNCiAgICAgICAgICAgICAgICAgICAgJ1RocmVlRFNoYWRvdycsDQogICAgICAgICAgICAgICAgICAgICdWaXNpdGVkVGV4dCcsDQogICAgICAgICAgICAgICAgICAgICdXaW5kb3cnLA0KICAgICAgICAgICAgICAgICAgICAnV2luZG93RnJhbWUnLA0KICAgICAgICAgICAgICAgICAgICAnV2luZG93VGV4dCcsDQogICAgICAgICAgICAgICAgXTsNCiAgICAgICAgICAgICAgICBjb25zdCBmb250cyA9IFsNCiAgICAgICAgICAgICAgICAgICAgJ2NhcHRpb24nLA0KICAgICAgICAgICAgICAgICAgICAnaWNvbicsDQogICAgICAgICAgICAgICAgICAgICdtZW51JywNCiAgICAgICAgICAgICAgICAgICAgJ21lc3NhZ2UtYm94JywNCiAgICAgICAgICAgICAgICAgICAgJ3NtYWxsLWNhcHRpb24nLA0KICAgICAgICAgICAgICAgICAgICAnc3RhdHVzLWJhcicsDQogICAgICAgICAgICAgICAgXTsNCiAgICAgICAgICAgICAgICBjb25zdCBnZXRTdHlsZXMgPSAoZWwpID0+ICh7DQogICAgICAgICAgICAgICAgICAgIGNvbG9yczogY29sb3JzLm1hcCgoY29sb3IpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvcn0gIWltcG9ydGFudGApOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY29sb3JdOiBnZXRDb21wdXRlZFN0eWxlKGVsKS5iYWNrZ3JvdW5kQ29sb3IsDQogICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgZm9udHM6IGZvbnRzLm1hcCgoZm9udCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdzdHlsZScsIGBmb250OiAke2ZvbnR9ICFpbXBvcnRhbnRgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgW2ZvbnRdOiBgJHtjb21wdXRlZFN0eWxlLmZvbnRTaXplfSAke2NvbXB1dGVkU3R5bGUuZm9udEZhbWlseX1gLA0KICAgICAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgaWYgKCFlbCkgew0KICAgICAgICAgICAgICAgICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChlbCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN5c3RlbVN0eWxlcyA9IGdldFN0eWxlcyhlbCk7DQogICAgICAgICAgICAgICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3lzdGVtU3R5bGVzOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U3R5bGVzKGVsKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpOw0KICAgICAgICAgICAgdGltZXIuc3RhcnQoKTsNCiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBjb21wdXRlU3R5bGUoJ2dldENvbXB1dGVkU3R5bGUnLCB7IHJlcXVpcmU6IFtjYXB0dXJlRXJyb3JdIH0pOw0KICAgICAgICAgICAgY29uc3Qgc3lzdGVtID0gZ2V0U3lzdGVtU3R5bGVzKFBBUkVOVF9QSEFOVE9NKTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdjb21wdXRlZCBzdHlsZScsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZSwNCiAgICAgICAgICAgICAgICBzeXN0ZW0sDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdjb21wdXRlZCBzdHlsZScsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIGZ1bmN0aW9uIGdldENTU01lZGlhKCkgew0KICAgICAgICBjb25zdCBnY2QgPSAoYSwgYikgPT4gYiA9PSAwID8gYSA6IGdjZChiLCBhICUgYik7DQogICAgICAgIGNvbnN0IGdldEFzcGVjdFJhdGlvID0gKHdpZHRoLCBoZWlnaHQpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHIgPSBnY2Qod2lkdGgsIGhlaWdodCk7DQogICAgICAgICAgICBjb25zdCBhc3BlY3RSYXRpbyA9IGAke3dpZHRoIC8gcn0vJHtoZWlnaHQgLyByfWA7DQogICAgICAgICAgICByZXR1cm4gYXNwZWN0UmF0aW87DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IHF1ZXJ5ID0gKHsgYm9keSwgdHlwZSwgcmFuZ2VTdGFydCwgcmFuZ2VMZW4gfSkgPT4gew0KICAgICAgICAgICAgY29uc3QgaHRtbCA9IFsuLi5BcnJheShyYW5nZUxlbildLm1hcCgoc2xvdCwgaSkgPT4gew0KICAgICAgICAgICAgICAgIGkgKz0gcmFuZ2VTdGFydDsNCiAgICAgICAgICAgICAgICByZXR1cm4gYEBtZWRpYShkZXZpY2UtJHt0eXBlfToke2l9cHgpe2JvZHl7LS1kZXZpY2UtJHt0eXBlfToke2l9O319YDsNCiAgICAgICAgICAgIH0pLmpvaW4oJycpOw0KICAgICAgICAgICAgYm9keS5pbm5lckhUTUwgPSBgPHN0eWxlPiR7aHRtbH08L3N0eWxlPmA7DQogICAgICAgICAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoYm9keSk7DQogICAgICAgICAgICByZXR1cm4gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShgLS1kZXZpY2UtJHt0eXBlfWApLnRyaW0oKTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2V0U2NyZWVuTWVkaWEgPSAoeyBib2R5LCB3aWR0aCwgaGVpZ2h0IH0pID0+IHsNCiAgICAgICAgICAgIGxldCB3aWR0aE1hdGNoID0gcXVlcnkoeyBib2R5LCB0eXBlOiAnd2lkdGgnLCByYW5nZVN0YXJ0OiB3aWR0aCwgcmFuZ2VMZW46IDEgfSk7DQogICAgICAgICAgICBsZXQgaGVpZ2h0TWF0Y2ggPSBxdWVyeSh7IGJvZHksIHR5cGU6ICdoZWlnaHQnLCByYW5nZVN0YXJ0OiBoZWlnaHQsIHJhbmdlTGVuOiAxIH0pOw0KICAgICAgICAgICAgaWYgKHdpZHRoTWF0Y2ggJiYgaGVpZ2h0TWF0Y2gpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4geyB3aWR0aCwgaGVpZ2h0IH07DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCByYW5nZUxlbiA9IDEwMDA7DQogICAgICAgICAgICBbLi4uQXJyYXkoMTApXS5maW5kKChzbG90LCBpKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCF3aWR0aE1hdGNoKSB7DQogICAgICAgICAgICAgICAgICAgIHdpZHRoTWF0Y2ggPSBxdWVyeSh7IGJvZHksIHR5cGU6ICd3aWR0aCcsIHJhbmdlU3RhcnQ6IGkgKiByYW5nZUxlbiwgcmFuZ2VMZW4gfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICghaGVpZ2h0TWF0Y2gpIHsNCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0TWF0Y2ggPSBxdWVyeSh7IGJvZHksIHR5cGU6ICdoZWlnaHQnLCByYW5nZVN0YXJ0OiBpICogcmFuZ2VMZW4sIHJhbmdlTGVuIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGhNYXRjaCAmJiBoZWlnaHRNYXRjaDsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6ICt3aWR0aE1hdGNoLCBoZWlnaHQ6ICtoZWlnaHRNYXRjaCB9Ow0KICAgICAgICB9Ow0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpOw0KICAgICAgICAgICAgdGltZXIuc3RhcnQoKTsNCiAgICAgICAgICAgIGNvbnN0IHdpbiA9IFBIQU5UT01fREFSS05FU1Mud2luZG93Ow0KICAgICAgICAgICAgY29uc3QgeyBib2R5IH0gPSB3aW4uZG9jdW1lbnQ7DQogICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBhdmFpbFdpZHRoLCBoZWlnaHQsIGF2YWlsSGVpZ2h0IH0gPSB3aW4uc2NyZWVuOw0KICAgICAgICAgICAgY29uc3Qgbm9UYXNrYmFyID0gISh3aWR0aCAtIGF2YWlsV2lkdGggfHwgaGVpZ2h0IC0gYXZhaWxIZWlnaHQpOw0KICAgICAgICAgICAgaWYgKHNjcmVlbi53aWR0aCAhPT0gd2lkdGggfHwgKHdpZHRoID4gODAwICYmIG5vVGFza2JhcikpIHsNCiAgICAgICAgICAgICAgICBMb3dlckVudHJvcHkuSUZSQU1FX1NDUkVFTiA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBkZXZpY2VBc3BlY3RSYXRpbyA9IGdldEFzcGVjdFJhdGlvKHdpZHRoLCBoZWlnaHQpOw0KICAgICAgICAgICAgY29uc3QgbWF0Y2hNZWRpYUNTUyA9IHsNCiAgICAgICAgICAgICAgICBbJ3ByZWZlcnMtcmVkdWNlZC1tb3Rpb24nXTogKHdpbi5tYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogbm8tcHJlZmVyZW5jZSknKS5tYXRjaGVzID8gJ25vLXByZWZlcmVuY2UnIDoNCiAgICAgICAgICAgICAgICAgICAgd2luLm1hdGNoTWVkaWEoJyhwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpJykubWF0Y2hlcyA/ICdyZWR1Y2UnIDogdW5kZWZpbmVkKSwNCiAgICAgICAgICAgICAgICBbJ3ByZWZlcnMtY29sb3Itc2NoZW1lJ106ICh3aW4ubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodCknKS5tYXRjaGVzID8gJ2xpZ2h0JyA6DQogICAgICAgICAgICAgICAgICAgIHdpbi5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcyA/ICdkYXJrJyA6IHVuZGVmaW5lZCksDQogICAgICAgICAgICAgICAgbW9ub2Nocm9tZTogKHdpbi5tYXRjaE1lZGlhKCcobW9ub2Nocm9tZSknKS5tYXRjaGVzID8gJ21vbm9jaHJvbWUnIDoNCiAgICAgICAgICAgICAgICAgICAgd2luLm1hdGNoTWVkaWEoJyhtb25vY2hyb21lOiAwKScpLm1hdGNoZXMgPyAnbm9uLW1vbm9jaHJvbWUnIDogdW5kZWZpbmVkKSwNCiAgICAgICAgICAgICAgICBbJ2ludmVydGVkLWNvbG9ycyddOiAod2luLm1hdGNoTWVkaWEoJyhpbnZlcnRlZC1jb2xvcnM6IGludmVydGVkKScpLm1hdGNoZXMgPyAnaW52ZXJ0ZWQnIDoNCiAgICAgICAgICAgICAgICAgICAgd2luLm1hdGNoTWVkaWEoJyhpbnZlcnRlZC1jb2xvcnM6IG5vbmUpJykubWF0Y2hlcyA/ICdub25lJyA6IHVuZGVmaW5lZCksDQogICAgICAgICAgICAgICAgWydmb3JjZWQtY29sb3JzJ106ICh3aW4ubWF0Y2hNZWRpYSgnKGZvcmNlZC1jb2xvcnM6IG5vbmUpJykubWF0Y2hlcyA/ICdub25lJyA6DQogICAgICAgICAgICAgICAgICAgIHdpbi5tYXRjaE1lZGlhKCcoZm9yY2VkLWNvbG9yczogYWN0aXZlKScpLm1hdGNoZXMgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZCksDQogICAgICAgICAgICAgICAgWydhbnktaG92ZXInXTogKHdpbi5tYXRjaE1lZGlhKCcoYW55LWhvdmVyOiBob3ZlciknKS5tYXRjaGVzID8gJ2hvdmVyJyA6DQogICAgICAgICAgICAgICAgICAgIHdpbi5tYXRjaE1lZGlhKCcoYW55LWhvdmVyOiBub25lKScpLm1hdGNoZXMgPyAnbm9uZScgOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIGhvdmVyOiAod2luLm1hdGNoTWVkaWEoJyhob3ZlcjogaG92ZXIpJykubWF0Y2hlcyA/ICdob3ZlcicgOg0KICAgICAgICAgICAgICAgICAgICB3aW4ubWF0Y2hNZWRpYSgnKGhvdmVyOiBub25lKScpLm1hdGNoZXMgPyAnbm9uZScgOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIFsnYW55LXBvaW50ZXInXTogKHdpbi5tYXRjaE1lZGlhKCcoYW55LXBvaW50ZXI6IGZpbmUpJykubWF0Y2hlcyA/ICdmaW5lJyA6DQogICAgICAgICAgICAgICAgICAgIHdpbi5tYXRjaE1lZGlhKCcoYW55LXBvaW50ZXI6IGNvYXJzZSknKS5tYXRjaGVzID8gJ2NvYXJzZScgOg0KICAgICAgICAgICAgICAgICAgICAgICAgd2luLm1hdGNoTWVkaWEoJyhhbnktcG9pbnRlcjogbm9uZSknKS5tYXRjaGVzID8gJ25vbmUnIDogdW5kZWZpbmVkKSwNCiAgICAgICAgICAgICAgICBwb2ludGVyOiAod2luLm1hdGNoTWVkaWEoJyhwb2ludGVyOiBmaW5lKScpLm1hdGNoZXMgPyAnZmluZScgOg0KICAgICAgICAgICAgICAgICAgICB3aW4ubWF0Y2hNZWRpYSgnKHBvaW50ZXI6IGNvYXJzZSknKS5tYXRjaGVzID8gJ2NvYXJzZScgOg0KICAgICAgICAgICAgICAgICAgICAgICAgd2luLm1hdGNoTWVkaWEoJyhwb2ludGVyOiBub25lKScpLm1hdGNoZXMgPyAnbm9uZScgOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIFsnZGV2aWNlLWFzcGVjdC1yYXRpbyddOiAod2luLm1hdGNoTWVkaWEoYChkZXZpY2UtYXNwZWN0LXJhdGlvOiAke2RldmljZUFzcGVjdFJhdGlvfSlgKS5tYXRjaGVzID8gZGV2aWNlQXNwZWN0UmF0aW8gOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIFsnZGV2aWNlLXNjcmVlbiddOiAod2luLm1hdGNoTWVkaWEoYChkZXZpY2Utd2lkdGg6ICR7d2lkdGh9cHgpIGFuZCAoZGV2aWNlLWhlaWdodDogJHtoZWlnaHR9cHgpYCkubWF0Y2hlcyA/IGAke3dpZHRofSB4ICR7aGVpZ2h0fWAgOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIFsnZGlzcGxheS1tb2RlJ106ICh3aW4ubWF0Y2hNZWRpYSgnKGRpc3BsYXktbW9kZTogZnVsbHNjcmVlbiknKS5tYXRjaGVzID8gJ2Z1bGxzY3JlZW4nIDoNCiAgICAgICAgICAgICAgICAgICAgd2luLm1hdGNoTWVkaWEoJyhkaXNwbGF5LW1vZGU6IHN0YW5kYWxvbmUpJykubWF0Y2hlcyA/ICdzdGFuZGFsb25lJyA6DQogICAgICAgICAgICAgICAgICAgICAgICB3aW4ubWF0Y2hNZWRpYSgnKGRpc3BsYXktbW9kZTogbWluaW1hbC11aSknKS5tYXRjaGVzID8gJ21pbmltYWwtdWknIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW4ubWF0Y2hNZWRpYSgnKGRpc3BsYXktbW9kZTogYnJvd3NlciknKS5tYXRjaGVzID8gJ2Jyb3dzZXInIDogdW5kZWZpbmVkKSwNCiAgICAgICAgICAgICAgICBbJ2NvbG9yLWdhbXV0J106ICh3aW4ubWF0Y2hNZWRpYSgnKGNvbG9yLWdhbXV0OiBzcmdiKScpLm1hdGNoZXMgPyAnc3JnYicgOg0KICAgICAgICAgICAgICAgICAgICB3aW4ubWF0Y2hNZWRpYSgnKGNvbG9yLWdhbXV0OiBwMyknKS5tYXRjaGVzID8gJ3AzJyA6DQogICAgICAgICAgICAgICAgICAgICAgICB3aW4ubWF0Y2hNZWRpYSgnKGNvbG9yLWdhbXV0OiByZWMyMDIwKScpLm1hdGNoZXMgPyAncmVjMjAyMCcgOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiAod2luLm1hdGNoTWVkaWEoJyhvcmllbnRhdGlvbjogbGFuZHNjYXBlKScpLm1hdGNoZXMgPyAnbGFuZHNjYXBlJyA6DQogICAgICAgICAgICAgICAgICAgIHdpbi5tYXRjaE1lZGlhKCcob3JpZW50YXRpb246IHBvcnRyYWl0KScpLm1hdGNoZXMgPyAncG9ydHJhaXQnIDogdW5kZWZpbmVkKSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBib2R5LmlubmVySFRNTCA9IGANCgkJPHN0eWxlPg0KCQlAbWVkaWEgKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IG5vLXByZWZlcmVuY2UpIHtib2R5IHstLXByZWZlcnMtcmVkdWNlZC1tb3Rpb246IG5vLXByZWZlcmVuY2V9fQ0KCQlAbWVkaWEgKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSkge2JvZHkgey0tcHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlfX0NCgkJQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpIHtib2R5IHstLXByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodH19DQoJCUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIHtib2R5IHstLXByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrfX0NCgkJQG1lZGlhIChtb25vY2hyb21lKSB7Ym9keSB7LS1tb25vY2hyb21lOiBtb25vY2hyb21lfX0NCgkJQG1lZGlhIChtb25vY2hyb21lOiAwKSB7Ym9keSB7LS1tb25vY2hyb21lOiBub24tbW9ub2Nocm9tZX19DQoJCUBtZWRpYSAoaW52ZXJ0ZWQtY29sb3JzOiBpbnZlcnRlZCkge2JvZHkgey0taW52ZXJ0ZWQtY29sb3JzOiBpbnZlcnRlZH19DQoJCUBtZWRpYSAoaW52ZXJ0ZWQtY29sb3JzOiBub25lKSB7Ym9keSB7LS1pbnZlcnRlZC1jb2xvcnM6IG5vbmV9fQ0KCQlAbWVkaWEgKGZvcmNlZC1jb2xvcnM6IG5vbmUpIHtib2R5IHstLWZvcmNlZC1jb2xvcnM6IG5vbmV9fQ0KCQlAbWVkaWEgKGZvcmNlZC1jb2xvcnM6IGFjdGl2ZSkge2JvZHkgey0tZm9yY2VkLWNvbG9yczogYWN0aXZlfX0NCgkJQG1lZGlhIChhbnktaG92ZXI6IGhvdmVyKSB7Ym9keSB7LS1hbnktaG92ZXI6IGhvdmVyfX0NCgkJQG1lZGlhIChhbnktaG92ZXI6IG5vbmUpIHtib2R5IHstLWFueS1ob3Zlcjogbm9uZX19DQoJCUBtZWRpYSAoaG92ZXI6IGhvdmVyKSB7Ym9keSB7LS1ob3ZlcjogaG92ZXJ9fQ0KCQlAbWVkaWEgKGhvdmVyOiBub25lKSB7Ym9keSB7LS1ob3Zlcjogbm9uZX19DQoJCUBtZWRpYSAoYW55LXBvaW50ZXI6IGZpbmUpIHtib2R5IHstLWFueS1wb2ludGVyOiBmaW5lfX0NCgkJQG1lZGlhIChhbnktcG9pbnRlcjogY29hcnNlKSB7Ym9keSB7LS1hbnktcG9pbnRlcjogY29hcnNlfX0NCgkJQG1lZGlhIChhbnktcG9pbnRlcjogbm9uZSkge2JvZHkgey0tYW55LXBvaW50ZXI6IG5vbmV9fQ0KCQlAbWVkaWEgKHBvaW50ZXI6IGZpbmUpIHtib2R5IHstLXBvaW50ZXI6IGZpbmV9fQ0KCQlAbWVkaWEgKHBvaW50ZXI6IGNvYXJzZSkge2JvZHkgey0tcG9pbnRlcjogY29hcnNlfX0NCgkJQG1lZGlhIChwb2ludGVyOiBub25lKSB7Ym9keSB7LS1wb2ludGVyOiBub25lfX0NCgkJQG1lZGlhIChkZXZpY2UtYXNwZWN0LXJhdGlvOiAke2RldmljZUFzcGVjdFJhdGlvfSkge2JvZHkgey0tZGV2aWNlLWFzcGVjdC1yYXRpbzogJHtkZXZpY2VBc3BlY3RSYXRpb319fQ0KCQlAbWVkaWEgKGRldmljZS13aWR0aDogJHt3aWR0aH1weCkgYW5kIChkZXZpY2UtaGVpZ2h0OiAke2hlaWdodH1weCkge2JvZHkgey0tZGV2aWNlLXNjcmVlbjogJHt3aWR0aH0geCAke2hlaWdodH19fQ0KCQlAbWVkaWEgKGRpc3BsYXktbW9kZTogZnVsbHNjcmVlbikge2JvZHkgey0tZGlzcGxheS1tb2RlOiBmdWxsc2NyZWVufX0NCgkJQG1lZGlhIChkaXNwbGF5LW1vZGU6IHN0YW5kYWxvbmUpIHtib2R5IHstLWRpc3BsYXktbW9kZTogc3RhbmRhbG9uZX19DQoJCUBtZWRpYSAoZGlzcGxheS1tb2RlOiBtaW5pbWFsLXVpKSB7Ym9keSB7LS1kaXNwbGF5LW1vZGU6IG1pbmltYWwtdWl9fQ0KCQlAbWVkaWEgKGRpc3BsYXktbW9kZTogYnJvd3Nlcikge2JvZHkgey0tZGlzcGxheS1tb2RlOiBicm93c2VyfX0NCgkJQG1lZGlhIChjb2xvci1nYW11dDogc3JnYikge2JvZHkgey0tY29sb3ItZ2FtdXQ6IHNyZ2J9fQ0KCQlAbWVkaWEgKGNvbG9yLWdhbXV0OiBwMykge2JvZHkgey0tY29sb3ItZ2FtdXQ6IHAzfX0NCgkJQG1lZGlhIChjb2xvci1nYW11dDogcmVjMjAyMCkge2JvZHkgey0tY29sb3ItZ2FtdXQ6IHJlYzIwMjB9fQ0KCQlAbWVkaWEgKG9yaWVudGF0aW9uOiBsYW5kc2NhcGUpIHtib2R5IHstLW9yaWVudGF0aW9uOiBsYW5kc2NhcGV9fQ0KCQlAbWVkaWEgKG9yaWVudGF0aW9uOiBwb3J0cmFpdCkge2JvZHkgey0tb3JpZW50YXRpb246IHBvcnRyYWl0fX0NCgkJPC9zdHlsZT4NCgkJYDsNCiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShib2R5KTsNCiAgICAgICAgICAgIGNvbnN0IG1lZGlhQ1NTID0gew0KICAgICAgICAgICAgICAgIFsncHJlZmVycy1yZWR1Y2VkLW1vdGlvbiddOiBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLXByZWZlcnMtcmVkdWNlZC1tb3Rpb24nKS50cmltKCkgfHwgdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgIFsncHJlZmVycy1jb2xvci1zY2hlbWUnXTogc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1wcmVmZXJzLWNvbG9yLXNjaGVtZScpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgbW9ub2Nocm9tZTogc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1tb25vY2hyb21lJykudHJpbSgpIHx8IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICBbJ2ludmVydGVkLWNvbG9ycyddOiBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWludmVydGVkLWNvbG9ycycpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgWydmb3JjZWQtY29sb3JzJ106IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tZm9yY2VkLWNvbG9ycycpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgWydhbnktaG92ZXInXTogc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1hbnktaG92ZXInKS50cmltKCkgfHwgdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgIGhvdmVyOiBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWhvdmVyJykudHJpbSgpIHx8IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICBbJ2FueS1wb2ludGVyJ106IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tYW55LXBvaW50ZXInKS50cmltKCkgfHwgdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgIHBvaW50ZXI6IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tcG9pbnRlcicpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgWydkZXZpY2UtYXNwZWN0LXJhdGlvJ106IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tZGV2aWNlLWFzcGVjdC1yYXRpbycpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgWydkZXZpY2Utc2NyZWVuJ106IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tZGV2aWNlLXNjcmVlbicpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgWydkaXNwbGF5LW1vZGUnXTogc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1kaXNwbGF5LW1vZGUnKS50cmltKCkgfHwgdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgIFsnY29sb3ItZ2FtdXQnXTogc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1jb2xvci1nYW11dCcpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgb3JpZW50YXRpb246IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tb3JpZW50YXRpb24nKS50cmltKCkgfHwgdW5kZWZpbmVkLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIC8vIGdldCBzY3JlZW4gcXVlcnkNCiAgICAgICAgICAgIGNvbnN0IHNjcmVlblF1ZXJ5ID0gZ2V0U2NyZWVuTWVkaWEoeyBib2R5LCB3aWR0aCwgaGVpZ2h0IH0pOw0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRpbWU6IHRpbWVyLnN0b3AoKSwgdGVzdDogJ2NzcyBtZWRpYScsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7IG1lZGlhQ1NTLCBtYXRjaE1lZGlhQ1NTLCBzY3JlZW5RdWVyeSB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdjc3MgbWVkaWEnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRIVE1MRWxlbWVudFZlcnNpb24oKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICB0aW1lci5zdGFydCgpOw0KICAgICAgICAgICAgY29uc3Qga2V5cyA9IFtdOw0KICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pbg0KICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7DQogICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGltZTogdGltZXIuc3RvcCgpLCB0ZXN0OiAnaHRtbCBlbGVtZW50JywgcGFzc2VkOiB0cnVlIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHsga2V5cyB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdodG1sIGVsZW1lbnQnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICAvLyBpbnNwaXJlZCBieQ0KICAgIC8vIGh0dHBzOi8vcHJpdmFjeWNoZWNrLnNlYy5scnouZGUvYWN0aXZlL2ZwX2djci9mcF9nZXRjbGllbnRyZWN0cy5odG1sDQogICAgLy8gaHR0cHM6Ly9wcml2YWN5Y2hlY2suc2VjLmxyei5kZS9hY3RpdmUvZnBfZS9mcF9lbW9qaS5odG1sDQogICAgYXN5bmMgZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdHMoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IHRvTmF0aXZlT2JqZWN0ID0gKGRvbVJlY3QpID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICBib3R0b206IGRvbVJlY3QuYm90dG9tLA0KICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGRvbVJlY3QuaGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICBsZWZ0OiBkb21SZWN0LmxlZnQsDQogICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBkb21SZWN0LnJpZ2h0LA0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogZG9tUmVjdC53aWR0aCwNCiAgICAgICAgICAgICAgICAgICAgdG9wOiBkb21SZWN0LnRvcCwNCiAgICAgICAgICAgICAgICAgICAgeDogZG9tUmVjdC54LA0KICAgICAgICAgICAgICAgICAgICB5OiBkb21SZWN0LnksDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBsZXQgbGllZCA9IChsaWVQcm9wc1snRWxlbWVudC5nZXRDbGllbnRSZWN0cyddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ0VsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snUmFuZ2UuZ2V0Q2xpZW50UmVjdHMnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydSYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydTdHJpbmcuZnJvbUNvZGVQb2ludCddKSB8fCBmYWxzZTsNCiAgICAgICAgICAgIGNvbnN0IERPQyA9IChQSEFOVE9NX0RBUktORVNTICYmDQogICAgICAgICAgICAgICAgUEhBTlRPTV9EQVJLTkVTUy5kb2N1bWVudCAmJg0KICAgICAgICAgICAgICAgIFBIQU5UT01fREFSS05FU1MuZG9jdW1lbnQuYm9keSA/IFBIQU5UT01fREFSS05FU1MuZG9jdW1lbnQgOg0KICAgICAgICAgICAgICAgIGRvY3VtZW50KTsNCiAgICAgICAgICAgIGNvbnN0IGdldEJlc3RSZWN0ID0gKGVsKSA9PiB7DQogICAgICAgICAgICAgICAgbGV0IHJhbmdlOw0KICAgICAgICAgICAgICAgIGlmICghbGllUHJvcHNbJ0VsZW1lbnQuZ2V0Q2xpZW50UmVjdHMnXSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwuZ2V0Q2xpZW50UmVjdHMoKVswXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoIWxpZVByb3BzWydFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCddKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoIWxpZVByb3BzWydSYW5nZS5nZXRDbGllbnRSZWN0cyddKSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlID0gRE9DLmNyZWF0ZVJhbmdlKCk7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGUoZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2UuZ2V0Q2xpZW50UmVjdHMoKVswXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmFuZ2UgPSBET0MuY3JlYXRlUmFuZ2UoKTsNCiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlKGVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgcmVjdHNJZCA9IGAke2luc3RhbmNlSWR9LWNsaWVudC1yZWN0cy1kaXZgOw0KICAgICAgICAgICAgY29uc3QgZGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgZGl2RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgcmVjdHNJZCk7DQogICAgICAgICAgICBET0MuYm9keS5hcHBlbmRDaGlsZChkaXZFbGVtZW50KTsNCiAgICAgICAgICAgIHBhdGNoKGRpdkVsZW1lbnQsIGh0bWwgYA0KCQk8ZGl2IGlkPSIke3JlY3RzSWR9Ij4NCgkJCTxzdHlsZT4NCgkJCS5yZWN0LWdob3N0LA0KCQkJLnJlY3Qta25vd24gew0KCQkJCXRvcDogMDsNCgkJCQlsZWZ0OiAwOw0KCQkJCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCgkJCQl2aXNpYmlsaXR5OiBoaWRkZW47DQoJCQl9DQoJCQkucmVjdC1rbm93biB7DQoJCQkJd2lkdGg6IDEwMHB4Ow0KCQkJCWhlaWdodDogMTAwcHg7DQoJCQkJdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpOw0KCQkJfQ0KCQkJLnJlY3QtZ2hvc3Qgew0KCQkJCXdpZHRoOiAwOw0KCQkJCWhlaWdodDogMDsNCgkJCX0NCgkJCTwvc3R5bGU+DQoJCQk8ZGl2IGNsYXNzPSJyZWN0LWtub3duIj48L2Rpdj4NCgkJCTxkaXYgY2xhc3M9InJlY3QtZ2hvc3QiPjwvZGl2Pg0KCQkJPGRpdiBzdHlsZT0icGVyc3BlY3RpdmU6MTAwcHg7d2lkdGg6MTAwMC4wOTklOyIgaWQ9InJlY3QtY29udGFpbmVyIj4NCgkJCQk8c3R5bGU+DQoJCQkJLnJlY3RzIHsNCgkJCQkJd2lkdGg6IDEwMDAlOw0KCQkJCQloZWlnaHQ6IDEwMDAlOw0KCQkJCQltYXgtd2lkdGg6IDEwMDAlOw0KCQkJCX0NCgkJCQkuYWJzb2x1dGUgew0KCQkJCQlwb3NpdGlvbjogYWJzb2x1dGU7DQoJCQkJfQ0KCQkJCSNjUmVjdDEgew0KCQkJCQlib3JkZXI6IHNvbGlkIDIuNzE1cHg7DQoJCQkJCWJvcmRlci1jb2xvcjogI0Y3MjU4NTsNCgkJCQkJcGFkZGluZzogMy45OHB4Ow0KCQkJCQltYXJnaW4tbGVmdDogMTIuMTJweDsNCgkJCQl9DQoJCQkJI2NSZWN0MiB7DQoJCQkJCWJvcmRlcjogc29saWQgMnB4Ow0KCQkJCQlib3JkZXItY29sb3I6ICM3MjA5Qjc7DQoJCQkJCWZvbnQtc2l6ZTogMzBweDsNCgkJCQkJbWFyZ2luLXRvcDogMjBweDsNCgkJCQkJcGFkZGluZzogMy45OHB4Ow0KCQkJCQl0cmFuc2Zvcm06IHNrZXdZKDIzLjE3NTMyMThkZWcpIHJvdGF0ZTNkKDEwLjAwMDk5LCA5MCwgMC4xMDAwMDAwMDAwMDAwMDksIDYwMDAwMDAwMDAwMDA4LjAwMDAwMDA5ZGVnKTsNCgkJCQl9DQoJCQkJI2NSZWN0MyB7DQoJCQkJCWJvcmRlcjogc29saWQgMi44OXB4Ow0KCQkJCQlib3JkZXItY29sb3I6ICMzQTBDQTM7DQoJCQkJCWZvbnQtc2l6ZTogNDVweDsNCgkJCQkJdHJhbnNmb3JtOiBza2V3WSgtMjMuMTc1MzIxOGRlZykgc2NhbGUoMTA5OS4wMDAwMDAwMDk5LCAxLjg5KSBtYXRyaXgoMS4xMSwgMi4wMDAxLCAtMS4wMDAxLCAxLjAwOSwgMTUwLCA5NC40KTsNCgkJCQkJbWFyZ2luLXRvcDogNTBweDsNCgkJCQl9DQoJCQkJI2NSZWN0NCB7DQoJCQkJCWJvcmRlcjogc29saWQgMnB4Ow0KCQkJCQlib3JkZXItY29sb3I6ICM0MzYxRUU7DQoJCQkJCXRyYW5zZm9ybTogbWF0cml4KDEuMTEsIDIuMDAwMSwgLTEuMDAwMSwgMS4wMDksIDE1MCwgOTQuNCk7DQoJCQkJCW1hcmdpbi10b3A6IDExLjEzMzFweDsNCgkJCQkJbWFyZ2luLWxlZnQ6IDEyLjEyMTJweDsNCgkJCQkJcGFkZGluZzogNC40NTQ1cHg7DQoJCQkJCWxlZnQ6IDIzOS40MTQxcHg7DQoJCQkJCXRvcDogOC41MDUwcHg7DQoJCQkJfQ0KCQkJCSNjUmVjdDUgew0KCQkJCQlib3JkZXI6IHNvbGlkIDJweDsNCgkJCQkJYm9yZGVyLWNvbG9yOiAjNENDOUYwOw0KCQkJCQltYXJnaW4tbGVmdDogNDIuMzk1cHQ7DQoJCQkJfQ0KCQkJCSNjUmVjdDYgew0KCQkJCQlib3JkZXI6IHNvbGlkIDJweDsNCgkJCQkJYm9yZGVyLWNvbG9yOiAjRjcyNTg1Ow0KCQkJCQl0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDEyODkwcHgpIHRyYW5zbGF0ZVooMTAxLjVweCk7DQoJCQkJCXBhZGRpbmc6IDEycHg7DQoJCQkJfQ0KCQkJCSNjUmVjdDcgew0KCQkJCQltYXJnaW4tdG9wOiAtMzUwLjU1MnB4Ow0KCQkJCQltYXJnaW4tbGVmdDogMC45MDk5cmVtOw0KCQkJCQlib3JkZXI6IHNvbGlkIDJweDsNCgkJCQkJYm9yZGVyLWNvbG9yOiAjNDM2MUVFOw0KCQkJCX0NCgkJCQkjY1JlY3Q4IHsNCgkJCQkJbWFyZ2luLXRvcDogLTE1MC41NTJweDsNCgkJCQkJbWFyZ2luLWxlZnQ6IDE1LjkwOTlyZW07DQoJCQkJCWJvcmRlcjogc29saWQgMnB4Ow0KCQkJCQlib3JkZXItY29sb3I6ICMzQTBDQTM7DQoJCQkJfQ0KCQkJCSNjUmVjdDkgew0KCQkJCQltYXJnaW4tdG9wOiAtMTEwLjU1MnB4Ow0KCQkJCQltYXJnaW4tbGVmdDogMTUuOTA5OXJlbTsNCgkJCQkJYm9yZGVyOiBzb2xpZCAycHg7DQoJCQkJCWJvcmRlci1jb2xvcjogIzcyMDlCNzsNCgkJCQl9DQoJCQkJI2NSZWN0MTAgew0KCQkJCQltYXJnaW4tdG9wOiAtMzE1LjU1MnB4Ow0KCQkJCQltYXJnaW4tbGVmdDogMTUuOTA5OXJlbTsNCgkJCQkJYm9yZGVyOiBzb2xpZCAycHg7DQoJCQkJCWJvcmRlci1jb2xvcjogI0Y3MjU4NTsNCgkJCQl9DQoJCQkJI2NSZWN0MTEgew0KCQkJCQl3aWR0aDogMTBweDsNCgkJCQkJaGVpZ2h0OiAxMHB4Ow0KCQkJCQltYXJnaW4tbGVmdDogMTUuMDAwMDAwOTA5OXJlbTsNCgkJCQkJYm9yZGVyOiBzb2xpZCAycHg7DQoJCQkJCWJvcmRlci1jb2xvcjogI0Y3MjU4NTsNCgkJCQl9DQoJCQkJI2NSZWN0MTIgew0KCQkJCQl3aWR0aDogMTBweDsNCgkJCQkJaGVpZ2h0OiAxMHB4Ow0KCQkJCQltYXJnaW4tbGVmdDogMTUuMDAwMDAwOTA5OXJlbTsNCgkJCQkJYm9yZGVyOiBzb2xpZCAycHg7DQoJCQkJCWJvcmRlci1jb2xvcjogI0Y3MjU4NTsNCgkJCQl9DQoJCQkJI3JlY3QtY29udGFpbmVyIC5zaGlmdC1kb20tcmVjdCB7DQoJCQkJCXRvcDogMXB4ICFpbXBvcnRhbnQ7DQoJCQkJCWxlZnQ6IDFweCAhaW1wb3J0YW50Ow0KCQkJCX0NCgkJCQk8L3N0eWxlPg0KCQkJCTxkaXYgaWQ9ImNSZWN0MSIgY2xhc3M9InJlY3RzIj48L2Rpdj4NCgkJCQk8ZGl2IGlkPSJjUmVjdDIiIGNsYXNzPSJyZWN0cyI+PC9kaXY+DQoJCQkJPGRpdiBpZD0iY1JlY3QzIiBjbGFzcz0icmVjdHMiPjwvZGl2Pg0KCQkJCTxkaXYgaWQ9ImNSZWN0NCIgY2xhc3M9InJlY3RzIGFic29sdXRlIj48L2Rpdj4NCgkJCQk8ZGl2IGlkPSJjUmVjdDUiIGNsYXNzPSJyZWN0cyI+PC9kaXY+DQoJCQkJPGRpdiBpZD0iY1JlY3Q2IiBjbGFzcz0icmVjdHMiPjwvZGl2Pg0KCQkJCTxkaXYgaWQ9ImNSZWN0NyIgY2xhc3M9InJlY3RzIGFic29sdXRlIj48L2Rpdj4NCgkJCQk8ZGl2IGlkPSJjUmVjdDgiIGNsYXNzPSJyZWN0cyBhYnNvbHV0ZSI+PC9kaXY+DQoJCQkJPGRpdiBpZD0iY1JlY3Q5IiBjbGFzcz0icmVjdHMgYWJzb2x1dGUiPjwvZGl2Pg0KCQkJCTxkaXYgaWQ9ImNSZWN0MTAiIGNsYXNzPSJyZWN0cyBhYnNvbHV0ZSI+PC9kaXY+DQoJCQkJPGRpdiBpZD0iY1JlY3QxMSIgY2xhc3M9InJlY3RzIj48L2Rpdj4NCgkJCQk8ZGl2IGlkPSJjUmVjdDEyIiBjbGFzcz0icmVjdHMiPjwvZGl2Pg0KCQkJCTxkaXYgaWQ9ImVtb2ppIiBjbGFzcz0iZW1vamlzIj48L2Rpdj4NCgkJCTwvZGl2Pg0KCQkJPGRpdiBpZD0iZW1vamktY29udGFpbmVyIj4NCgkJCQk8c3R5bGU+DQoJCQkJLmRvbXJlY3QtZW1vamkgew0KCQkJCQlmb250LWZhbWlseTogJHtDU1NfRk9OVF9GQU1JTFl9Ow0KCQkJCQlmb250LXNpemU6IDIwMHB4ICFpbXBvcnRhbnQ7DQoJCQkJCWhlaWdodDogYXV0bzsNCgkJCQkJcG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7DQoJCQkJCXRyYW5zZm9ybTogc2NhbGUoMS4wMDA5OTkpOw0KCQkJCX0NCgkJCQk8L3N0eWxlPg0KCQkJCSR7RU1PSklTLm1hcCgoZW1vamkpID0+IHsNCiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz0iZG9tcmVjdC1lbW9qaSI+JHtlbW9qaX08L2Rpdj5gOw0KICAgICAgICB9KS5qb2luKCcnKX0NCgkJCTwvZGl2Pg0KCQk8L2Rpdj4NCgkJYCk7DQogICAgICAgICAgICAvLyBnZXQgZW1vamkgc2V0IGFuZCBzeXN0ZW0NCiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgU2V0KCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IGVtb2ppRWxlbXMgPSBbLi4uRE9DLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RvbXJlY3QtZW1vamknKV07DQogICAgICAgICAgICBjb25zdCBlbW9qaVNldCA9IGVtb2ppRWxlbXMucmVkdWNlKChlbW9qaVNldCwgZWwsIGkpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBlbW9qaSA9IEVNT0pJU1tpXTsNCiAgICAgICAgICAgICAgICBjb25zdCB7IGhlaWdodCwgd2lkdGggfSA9IGdldEJlc3RSZWN0KGVsKTsNCiAgICAgICAgICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gYCR7d2lkdGh9LCR7aGVpZ2h0fWA7DQogICAgICAgICAgICAgICAgaWYgKCFwYXR0ZXJuLmhhcyhkaW1lbnNpb25zKSkgew0KICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLmFkZChkaW1lbnNpb25zKTsNCiAgICAgICAgICAgICAgICAgICAgZW1vamlTZXQuYWRkKGVtb2ppKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGVtb2ppU2V0Ow0KICAgICAgICAgICAgfSwgbmV3IFNldCgpKTsNCiAgICAgICAgICAgIGNvbnN0IGRvbXJlY3RTeXN0ZW1TdW0gPSAwLjAwMDAxICogWy4uLnBhdHRlcm5dLm1hcCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiB4LnNwbGl0KCcsJykucmVkdWNlKChhY2MsIHgpID0+IGFjYyArPSAoK3ggfHwgMCksIDApOw0KICAgICAgICAgICAgfSkucmVkdWNlKChhY2MsIHgpID0+IGFjYyArPSB4LCAwKTsNCiAgICAgICAgICAgIC8vIGdldCBjbGllbnRSZWN0cw0KICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpOw0KICAgICAgICAgICAgY29uc3QgcmVjdEVsZW1zID0gRE9DLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3JlY3RzJyk7DQogICAgICAgICAgICBjb25zdCBlbGVtZW50Q2xpZW50UmVjdHMgPSBbLi4ucmVjdEVsZW1zXS5tYXAoKGVsKSA9PiB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRvTmF0aXZlT2JqZWN0KGVsLmdldENsaWVudFJlY3RzKClbMF0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb25zdCBlbGVtZW50Qm91bmRpbmdDbGllbnRSZWN0ID0gWy4uLnJlY3RFbGVtc10ubWFwKChlbCkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiB0b05hdGl2ZU9iamVjdChlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IHJhbmdlQ2xpZW50UmVjdHMgPSBbLi4ucmVjdEVsZW1zXS5tYXAoKGVsKSA9PiB7DQogICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRvTmF0aXZlT2JqZWN0KHJhbmdlLmdldENsaWVudFJlY3RzKClbMF0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb25zdCByYW5nZUJvdW5kaW5nQ2xpZW50UmVjdCA9IFsuLi5yZWN0RWxlbXNdLm1hcCgoZWwpID0+IHsNCiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlKGVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdG9OYXRpdmVPYmplY3QoZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAvLyBkZXRlY3QgZmFpbGVkIHNoaWZ0IGNhbGN1bGF0aW9uDQogICAgICAgICAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2Fya2VuZm94LmdpdGh1Yi5pby9UWlANCiAgICAgICAgICAgIGNvbnN0IHJlY3Q0ID0gWy4uLnJlY3RFbGVtc11bM107DQogICAgICAgICAgICBjb25zdCB7IHRvcDogaW5pdGlhbFRvcCB9ID0gZWxlbWVudENsaWVudFJlY3RzWzNdOw0KICAgICAgICAgICAgcmVjdDQuY2xhc3NMaXN0LmFkZCgnc2hpZnQtZG9tLXJlY3QnKTsNCiAgICAgICAgICAgIGNvbnN0IHsgdG9wOiBzaGlmdGVkVG9wIH0gPSB0b05hdGl2ZU9iamVjdChyZWN0NC5nZXRDbGllbnRSZWN0cygpWzBdKTsNCiAgICAgICAgICAgIHJlY3Q0LmNsYXNzTGlzdC5yZW1vdmUoJ3NoaWZ0LWRvbS1yZWN0Jyk7DQogICAgICAgICAgICBjb25zdCB7IHRvcDogdW5zaGlmdGVkVG9wIH0gPSB0b05hdGl2ZU9iamVjdChyZWN0NC5nZXRDbGllbnRSZWN0cygpWzBdKTsNCiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBpbml0aWFsVG9wIC0gc2hpZnRlZFRvcDsNCiAgICAgICAgICAgIGNvbnN0IHVuc2hpZnRMaWUgPSBkaWZmICE9ICh1bnNoaWZ0ZWRUb3AgLSBzaGlmdGVkVG9wKTsNCiAgICAgICAgICAgIGlmICh1bnNoaWZ0TGllKSB7DQogICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ0VsZW1lbnQuZ2V0Q2xpZW50UmVjdHMnLCAnZmFpbGVkIHVuc2hpZnQgY2FsY3VsYXRpb24nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIGRldGVjdCBmYWlsZWQgbWF0aCBjYWxjdWxhdGlvbiBsaWUNCiAgICAgICAgICAgIGxldCBtYXRoTGllID0gZmFsc2U7DQogICAgICAgICAgICBlbGVtZW50Q2xpZW50UmVjdHMuZm9yRWFjaCgocmVjdCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHsgcmlnaHQsIGxlZnQsIHdpZHRoLCBib3R0b20sIHRvcCwgaGVpZ2h0LCB4LCB5IH0gPSByZWN0Ow0KICAgICAgICAgICAgICAgIGlmIChyaWdodCAtIGxlZnQgIT0gd2lkdGggfHwNCiAgICAgICAgICAgICAgICAgICAgYm90dG9tIC0gdG9wICE9IGhlaWdodCB8fA0KICAgICAgICAgICAgICAgICAgICByaWdodCAtIHggIT0gd2lkdGggfHwNCiAgICAgICAgICAgICAgICAgICAgYm90dG9tIC0geSAhPSBoZWlnaHQpIHsNCiAgICAgICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIG1hdGhMaWUgPSB0cnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGlmIChtYXRoTGllKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ0VsZW1lbnQuZ2V0Q2xpZW50UmVjdHMnLCAnZmFpbGVkIG1hdGggY2FsY3VsYXRpb24nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIGRldGVjdCBlcXVhbCBlbGVtZW50cyBtaXNtYXRjaCBsaWUNCiAgICAgICAgICAgIGNvbnN0IHsgcmlnaHQ6IHJpZ2h0MSwgbGVmdDogbGVmdDEgfSA9IGVsZW1lbnRDbGllbnRSZWN0c1sxMF07DQogICAgICAgICAgICBjb25zdCB7IHJpZ2h0OiByaWdodDIsIGxlZnQ6IGxlZnQyIH0gPSBlbGVtZW50Q2xpZW50UmVjdHNbMTFdOw0KICAgICAgICAgICAgaWYgKHJpZ2h0MSAhPSByaWdodDIgfHwgbGVmdDEgIT0gbGVmdDIpIHsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnRWxlbWVudC5nZXRDbGllbnRSZWN0cycsICdlcXVhbCBlbGVtZW50cyBtaXNtYXRjaCcpOw0KICAgICAgICAgICAgICAgIGxpZWQgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gZGV0ZWN0IHVua25vd24gcm90YXRlIGRpbWVuc2lvbnMNCiAgICAgICAgICAgIGNvbnN0IGtub3duRWwgPSBbLi4uRE9DLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3JlY3Qta25vd24nKV1bMF07DQogICAgICAgICAgICBjb25zdCBrbm93bkRpbWVuc2lvbnMgPSB0b05hdGl2ZU9iamVjdChrbm93bkVsLmdldENsaWVudFJlY3RzKClbMF0pOw0KICAgICAgICAgICAgY29uc3Qga25vd25IYXNoID0gaGFzaE1pbmkoa25vd25EaW1lbnNpb25zKTsNCiAgICAgICAgICAgIGlmIChJU19CTElOSykgew0KICAgICAgICAgICAgICAgIGNvbnN0IFJvdGF0ZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgJzlkOTIxNWNjJzogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgJzQ3ZGVkMzIyJzogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgJ2QwZWNlYWE4JzogdHJ1ZSwgLy8gOTANCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGlmICghUm90YXRlW2tub3duSGFzaF0pIHsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ0VsZW1lbnQuZ2V0Q2xpZW50UmVjdHMnLCAndW5rbm93biByb3RhdGUgZGltZW5zaW9ucycpOw0KICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChJU19HRUNLTykgew0KICAgICAgICAgICAgICAgIGNvbnN0IFJvdGF0ZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgJ2UzODQ1M2YwJzogdHJ1ZSwgLy8gMTAwLCBldGMNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGlmICghUm90YXRlW2tub3duSGFzaF0pIHsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ0VsZW1lbnQuZ2V0Q2xpZW50UmVjdHMnLCAndW5rbm93biByb3RhdGUgZGltZW5zaW9ucycpOw0KICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBkZXRlY3QgZ2hvc3QgZGltZW5zaW9ucw0KICAgICAgICAgICAgY29uc3QgZ2hvc3RFbCA9IFsuLi5ET0MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncmVjdC1naG9zdCcpXVswXTsNCiAgICAgICAgICAgIGNvbnN0IGdob3N0RGltZW5zaW9ucyA9IHRvTmF0aXZlT2JqZWN0KGdob3N0RWwuZ2V0Q2xpZW50UmVjdHMoKVswXSk7DQogICAgICAgICAgICBjb25zdCBoYXNHaG9zdERpbWVuc2lvbnMgPSBPYmplY3Qua2V5cyhnaG9zdERpbWVuc2lvbnMpDQogICAgICAgICAgICAgICAgLnNvbWUoKGtleSkgPT4gZ2hvc3REaW1lbnNpb25zW2tleV0gIT09IDApOw0KICAgICAgICAgICAgaWYgKGhhc0dob3N0RGltZW5zaW9ucykgew0KICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKCdFbGVtZW50LmdldENsaWVudFJlY3RzJywgJ3Vua25vd24gZ2hvc3QgZGltZW5zaW9ucycpOw0KICAgICAgICAgICAgICAgIGxpZWQgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgRE9DLmJvZHkucmVtb3ZlQ2hpbGQoRE9DLmdldEVsZW1lbnRCeUlkKHJlY3RzSWQpKTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdyZWN0cycsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgZWxlbWVudENsaWVudFJlY3RzLA0KICAgICAgICAgICAgICAgIGVsZW1lbnRCb3VuZGluZ0NsaWVudFJlY3QsDQogICAgICAgICAgICAgICAgcmFuZ2VDbGllbnRSZWN0cywNCiAgICAgICAgICAgICAgICByYW5nZUJvdW5kaW5nQ2xpZW50UmVjdCwNCiAgICAgICAgICAgICAgICBlbW9qaVNldDogWy4uLmVtb2ppU2V0XSwNCiAgICAgICAgICAgICAgICBkb21yZWN0U3lzdGVtU3VtLA0KICAgICAgICAgICAgICAgIGxpZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdyZWN0cycsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIGZ1bmN0aW9uIGdldEVycm9ycyhlcnJGbnMpIHsNCiAgICAgICAgY29uc3QgZXJyb3JzID0gW107DQogICAgICAgIGxldCBpOw0KICAgICAgICBjb25zdCBsZW4gPSBlcnJGbnMubGVuZ3RoOw0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgZXJyRm5zW2ldKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZXJyKSB7DQogICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyLm1lc3NhZ2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBlcnJvcnM7DQogICAgfQ0KICAgIGZ1bmN0aW9uIGdldENvbnNvbGVFcnJvcnMoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICB0aW1lci5zdGFydCgpOw0KICAgICAgICAgICAgY29uc3QgZXJyb3JUZXN0cyA9IFsNCiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgRnVuY3Rpb24oJ2FsZXJ0KCIpJykoKSwNCiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgRnVuY3Rpb24oJ2NvbnN0IGZvbztmb28uYmFyJykoKSwNCiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgRnVuY3Rpb24oJ251bGwuYmFyJykoKSwNCiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgRnVuY3Rpb24oJ2FiYy54eXogPSAxMjMnKSgpLA0KICAgICAgICAgICAgICAgICgpID0+IG5ldyBGdW5jdGlvbignY29uc3QgZm9vO2Zvby5iYXInKSgpLA0KICAgICAgICAgICAgICAgICgpID0+IG5ldyBGdW5jdGlvbignKDEpLnRvU3RyaW5nKDEwMDApJykoKSwNCiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgRnVuY3Rpb24oJ1suLi51bmRlZmluZWRdLmxlbmd0aCcpKCksDQogICAgICAgICAgICAgICAgKCkgPT4gbmV3IEZ1bmN0aW9uKCd2YXIgeCA9IG5ldyBBcnJheSgtMSknKSgpLA0KICAgICAgICAgICAgICAgICgpID0+IG5ldyBGdW5jdGlvbignY29uc3QgYT0xOyBjb25zdCBhPTI7JykoKSwNCiAgICAgICAgICAgIF07DQogICAgICAgICAgICBjb25zdCBlcnJvcnMgPSBnZXRFcnJvcnMoZXJyb3JUZXN0cyk7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGltZTogdGltZXIuc3RvcCgpLCB0ZXN0OiAnY29uc29sZSBlcnJvcnMnLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4geyBlcnJvcnMgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnY29uc29sZSBlcnJvcnMnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICAvKg0KICAgIFN0ZXBzIHRvIHVwZGF0ZToNCiAgICAwLiBnZXQgYmV0YSByZWxlYXNlIGRlc2t0b3AvbW9iaWxlDQogICAgMS4gZ2V0IGRpZmZzIGZyb20gdGVtcGxhdGUNCiAgICAyLiB1cGRhdGUgZmVhdHVyZSBsaXN0DQogICAgMy4gdXBkYXRlIHN0YWJsZSBmZWF0dXJlcyBvYmplY3QNCiAgICAqLw0KICAgIGNvbnN0IGdldFN0YWJsZUZlYXR1cmVzID0gKCkgPT4gKHsNCiAgICAgICAgJ0Nocm9tZSc6IHsNCiAgICAgICAgICAgIHZlcnNpb246IDEwOSwNCiAgICAgICAgICAgIHdpbmRvd0tleXM6IGBPYmplY3QsIEZ1bmN0aW9uLCBBcnJheSwgTnVtYmVyLCBwYXJzZUZsb2F0LCBwYXJzZUludCwgSW5maW5pdHksIE5hTiwgdW5kZWZpbmVkLCBCb29sZWFuLCBTdHJpbmcsIFN5bWJvbCwgRGF0ZSwgUHJvbWlzZSwgUmVnRXhwLCBFcnJvciwgQWdncmVnYXRlRXJyb3IsIEV2YWxFcnJvciwgUmFuZ2VFcnJvciwgUmVmZXJlbmNlRXJyb3IsIFN5bnRheEVycm9yLCBUeXBlRXJyb3IsIFVSSUVycm9yLCBnbG9iYWxUaGlzLCBKU09OLCBNYXRoLCBJbnRsLCBBcnJheUJ1ZmZlciwgVWludDhBcnJheSwgSW50OEFycmF5LCBVaW50MTZBcnJheSwgSW50MTZBcnJheSwgVWludDMyQXJyYXksIEludDMyQXJyYXksIEZsb2F0MzJBcnJheSwgRmxvYXQ2NEFycmF5LCBVaW50OENsYW1wZWRBcnJheSwgQmlnVWludDY0QXJyYXksIEJpZ0ludDY0QXJyYXksIERhdGFWaWV3LCBNYXAsIEJpZ0ludCwgU2V0LCBXZWFrTWFwLCBXZWFrU2V0LCBQcm94eSwgUmVmbGVjdCwgRmluYWxpemF0aW9uUmVnaXN0cnksIFdlYWtSZWYsIGRlY29kZVVSSSwgZGVjb2RlVVJJQ29tcG9uZW50LCBlbmNvZGVVUkksIGVuY29kZVVSSUNvbXBvbmVudCwgZXNjYXBlLCB1bmVzY2FwZSwgZXZhbCwgaXNGaW5pdGUsIGlzTmFOLCBjb25zb2xlLCBPcHRpb24sIEltYWdlLCBBdWRpbywgd2Via2l0VVJMLCB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbiwgd2Via2l0TWVkaWFTdHJlYW0sIFdlYktpdE11dGF0aW9uT2JzZXJ2ZXIsIFdlYktpdENTU01hdHJpeCwgWFNMVFByb2Nlc3NvciwgWFBhdGhSZXN1bHQsIFhQYXRoRXhwcmVzc2lvbiwgWFBhdGhFdmFsdWF0b3IsIFhNTFNlcmlhbGl6ZXIsIFhNTEh0dHBSZXF1ZXN0VXBsb2FkLCBYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0LCBYTUxIdHRwUmVxdWVzdCwgWE1MRG9jdW1lbnQsIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlciwgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlciwgV3JpdGFibGVTdHJlYW0sIFdvcmtlciwgV2luZG93LCBXaGVlbEV2ZW50LCBXZWJTb2NrZXQsIFdlYkdMVmVydGV4QXJyYXlPYmplY3QsIFdlYkdMVW5pZm9ybUxvY2F0aW9uLCBXZWJHTFRyYW5zZm9ybUZlZWRiYWNrLCBXZWJHTFRleHR1cmUsIFdlYkdMU3luYywgV2ViR0xTaGFkZXJQcmVjaXNpb25Gb3JtYXQsIFdlYkdMU2hhZGVyLCBXZWJHTFNhbXBsZXIsIFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgV2ViR0xSZW5kZXJidWZmZXIsIFdlYkdMUXVlcnksIFdlYkdMUHJvZ3JhbSwgV2ViR0xGcmFtZWJ1ZmZlciwgV2ViR0xDb250ZXh0RXZlbnQsIFdlYkdMQnVmZmVyLCBXZWJHTEFjdGl2ZUluZm8sIFdlYkdMMlJlbmRlcmluZ0NvbnRleHQsIFdhdmVTaGFwZXJOb2RlLCBWaXN1YWxWaWV3cG9ydCwgVmlydHVhbEtleWJvYXJkR2VvbWV0cnlDaGFuZ2VFdmVudCwgVmFsaWRpdHlTdGF0ZSwgVlRUQ3VlLCBVc2VyQWN0aXZhdGlvbiwgVVJMU2VhcmNoUGFyYW1zLCBVUkxQYXR0ZXJuLCBVUkwsIFVJRXZlbnQsIFRydXN0ZWRUeXBlUG9saWN5RmFjdG9yeSwgVHJ1c3RlZFR5cGVQb2xpY3ksIFRydXN0ZWRTY3JpcHRVUkwsIFRydXN0ZWRTY3JpcHQsIFRydXN0ZWRIVE1MLCBUcmVlV2Fsa2VyLCBUcmFuc2l0aW9uRXZlbnQsIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyLCBUcmFuc2Zvcm1TdHJlYW0sIFRyYWNrRXZlbnQsIFRvdWNoTGlzdCwgVG91Y2hFdmVudCwgVG91Y2gsIFRpbWVSYW5nZXMsIFRleHRUcmFja0xpc3QsIFRleHRUcmFja0N1ZUxpc3QsIFRleHRUcmFja0N1ZSwgVGV4dFRyYWNrLCBUZXh0TWV0cmljcywgVGV4dEV2ZW50LCBUZXh0RW5jb2RlclN0cmVhbSwgVGV4dEVuY29kZXIsIFRleHREZWNvZGVyU3RyZWFtLCBUZXh0RGVjb2RlciwgVGV4dCwgVGFza1NpZ25hbCwgVGFza1ByaW9yaXR5Q2hhbmdlRXZlbnQsIFRhc2tDb250cm9sbGVyLCBUYXNrQXR0cmlidXRpb25UaW1pbmcsIFN5bmNNYW5hZ2VyLCBTdWJtaXRFdmVudCwgU3R5bGVTaGVldExpc3QsIFN0eWxlU2hlZXQsIFN0eWxlUHJvcGVydHlNYXBSZWFkT25seSwgU3R5bGVQcm9wZXJ0eU1hcCwgU3RvcmFnZUV2ZW50LCBTdG9yYWdlLCBTdGVyZW9QYW5uZXJOb2RlLCBTdGF0aWNSYW5nZSwgU2hhZG93Um9vdCwgU2VsZWN0aW9uLCBTZWN1cml0eVBvbGljeVZpb2xhdGlvbkV2ZW50LCBTY3JpcHRQcm9jZXNzb3JOb2RlLCBTY3JlZW5PcmllbnRhdGlvbiwgU2NyZWVuLCBTY2hlZHVsaW5nLCBTY2hlZHVsZXIsIFNWR1ZpZXdFbGVtZW50LCBTVkdVc2VFbGVtZW50LCBTVkdVbml0VHlwZXMsIFNWR1RyYW5zZm9ybUxpc3QsIFNWR1RyYW5zZm9ybSwgU1ZHVGl0bGVFbGVtZW50LCBTVkdUZXh0UG9zaXRpb25pbmdFbGVtZW50LCBTVkdUZXh0UGF0aEVsZW1lbnQsIFNWR1RleHRFbGVtZW50LCBTVkdUZXh0Q29udGVudEVsZW1lbnQsIFNWR1RTcGFuRWxlbWVudCwgU1ZHU3ltYm9sRWxlbWVudCwgU1ZHU3dpdGNoRWxlbWVudCwgU1ZHU3R5bGVFbGVtZW50LCBTVkdTdHJpbmdMaXN0LCBTVkdTdG9wRWxlbWVudCwgU1ZHU2V0RWxlbWVudCwgU1ZHU2NyaXB0RWxlbWVudCwgU1ZHU1ZHRWxlbWVudCwgU1ZHUmVjdEVsZW1lbnQsIFNWR1JlY3QsIFNWR1JhZGlhbEdyYWRpZW50RWxlbWVudCwgU1ZHUHJlc2VydmVBc3BlY3RSYXRpbywgU1ZHUG9seWxpbmVFbGVtZW50LCBTVkdQb2x5Z29uRWxlbWVudCwgU1ZHUG9pbnRMaXN0LCBTVkdQb2ludCwgU1ZHUGF0dGVybkVsZW1lbnQsIFNWR1BhdGhFbGVtZW50LCBTVkdOdW1iZXJMaXN0LCBTVkdOdW1iZXIsIFNWR01ldGFkYXRhRWxlbWVudCwgU1ZHTWF0cml4LCBTVkdNYXNrRWxlbWVudCwgU1ZHTWFya2VyRWxlbWVudCwgU1ZHTVBhdGhFbGVtZW50LCBTVkdMaW5lYXJHcmFkaWVudEVsZW1lbnQsIFNWR0xpbmVFbGVtZW50LCBTVkdMZW5ndGhMaXN0LCBTVkdMZW5ndGgsIFNWR0ltYWdlRWxlbWVudCwgU1ZHR3JhcGhpY3NFbGVtZW50LCBTVkdHcmFkaWVudEVsZW1lbnQsIFNWR0dlb21ldHJ5RWxlbWVudCwgU1ZHR0VsZW1lbnQsIFNWR0ZvcmVpZ25PYmplY3RFbGVtZW50LCBTVkdGaWx0ZXJFbGVtZW50LCBTVkdGRVR1cmJ1bGVuY2VFbGVtZW50LCBTVkdGRVRpbGVFbGVtZW50LCBTVkdGRVNwb3RMaWdodEVsZW1lbnQsIFNWR0ZFU3BlY3VsYXJMaWdodGluZ0VsZW1lbnQsIFNWR0ZFUG9pbnRMaWdodEVsZW1lbnQsIFNWR0ZFT2Zmc2V0RWxlbWVudCwgU1ZHRkVNb3JwaG9sb2d5RWxlbWVudCwgU1ZHRkVNZXJnZU5vZGVFbGVtZW50LCBTVkdGRU1lcmdlRWxlbWVudCwgU1ZHRkVJbWFnZUVsZW1lbnQsIFNWR0ZFR2F1c3NpYW5CbHVyRWxlbWVudCwgU1ZHRkVGdW5jUkVsZW1lbnQsIFNWR0ZFRnVuY0dFbGVtZW50LCBTVkdGRUZ1bmNCRWxlbWVudCwgU1ZHRkVGdW5jQUVsZW1lbnQsIFNWR0ZFRmxvb2RFbGVtZW50LCBTVkdGRURyb3BTaGFkb3dFbGVtZW50LCBTVkdGRURpc3RhbnRMaWdodEVsZW1lbnQsIFNWR0ZFRGlzcGxhY2VtZW50TWFwRWxlbWVudCwgU1ZHRkVEaWZmdXNlTGlnaHRpbmdFbGVtZW50LCBTVkdGRUNvbnZvbHZlTWF0cml4RWxlbWVudCwgU1ZHRkVDb21wb3NpdGVFbGVtZW50LCBTVkdGRUNvbXBvbmVudFRyYW5zZmVyRWxlbWVudCwgU1ZHRkVDb2xvck1hdHJpeEVsZW1lbnQsIFNWR0ZFQmxlbmRFbGVtZW50LCBTVkdFbGxpcHNlRWxlbWVudCwgU1ZHRWxlbWVudCwgU1ZHRGVzY0VsZW1lbnQsIFNWR0RlZnNFbGVtZW50LCBTVkdDb21wb25lbnRUcmFuc2ZlckZ1bmN0aW9uRWxlbWVudCwgU1ZHQ2xpcFBhdGhFbGVtZW50LCBTVkdDaXJjbGVFbGVtZW50LCBTVkdBbmltYXRpb25FbGVtZW50LCBTVkdBbmltYXRlZFRyYW5zZm9ybUxpc3QsIFNWR0FuaW1hdGVkU3RyaW5nLCBTVkdBbmltYXRlZFJlY3QsIFNWR0FuaW1hdGVkUHJlc2VydmVBc3BlY3RSYXRpbywgU1ZHQW5pbWF0ZWROdW1iZXJMaXN0LCBTVkdBbmltYXRlZE51bWJlciwgU1ZHQW5pbWF0ZWRMZW5ndGhMaXN0LCBTVkdBbmltYXRlZExlbmd0aCwgU1ZHQW5pbWF0ZWRJbnRlZ2VyLCBTVkdBbmltYXRlZEVudW1lcmF0aW9uLCBTVkdBbmltYXRlZEJvb2xlYW4sIFNWR0FuaW1hdGVkQW5nbGUsIFNWR0FuaW1hdGVUcmFuc2Zvcm1FbGVtZW50LCBTVkdBbmltYXRlTW90aW9uRWxlbWVudCwgU1ZHQW5pbWF0ZUVsZW1lbnQsIFNWR0FuZ2xlLCBTVkdBRWxlbWVudCwgUmVzcG9uc2UsIFJlc2l6ZU9ic2VydmVyU2l6ZSwgUmVzaXplT2JzZXJ2ZXJFbnRyeSwgUmVzaXplT2JzZXJ2ZXIsIFJlcXVlc3QsIFJlcG9ydGluZ09ic2VydmVyLCBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIsIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIsIFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QsIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlciwgUmVhZGFibGVTdHJlYW0sIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsIFJhbmdlLCBSYWRpb05vZGVMaXN0LCBSVENUcmFja0V2ZW50LCBSVENTdGF0c1JlcG9ydCwgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uLCBSVENTY3RwVHJhbnNwb3J0LCBSVENSdHBUcmFuc2NlaXZlciwgUlRDUnRwU2VuZGVyLCBSVENSdHBSZWNlaXZlciwgUlRDUGVlckNvbm5lY3Rpb25JY2VFdmVudCwgUlRDUGVlckNvbm5lY3Rpb25JY2VFcnJvckV2ZW50LCBSVENQZWVyQ29ubmVjdGlvbiwgUlRDSWNlVHJhbnNwb3J0LCBSVENJY2VDYW5kaWRhdGUsIFJUQ0Vycm9yRXZlbnQsIFJUQ0Vycm9yLCBSVENFbmNvZGVkVmlkZW9GcmFtZSwgUlRDRW5jb2RlZEF1ZGlvRnJhbWUsIFJUQ0R0bHNUcmFuc3BvcnQsIFJUQ0RhdGFDaGFubmVsRXZlbnQsIFJUQ0RhdGFDaGFubmVsLCBSVENEVE1GVG9uZUNoYW5nZUV2ZW50LCBSVENEVE1GU2VuZGVyLCBSVENDZXJ0aWZpY2F0ZSwgUHJvbWlzZVJlamVjdGlvbkV2ZW50LCBQcm9ncmVzc0V2ZW50LCBQcm9maWxlciwgUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBQb3BTdGF0ZUV2ZW50LCBQb2ludGVyRXZlbnQsIFBsdWdpbkFycmF5LCBQbHVnaW4sIFBlcmlvZGljV2F2ZSwgUGVyZm9ybWFuY2VUaW1pbmcsIFBlcmZvcm1hbmNlU2VydmVyVGltaW5nLCBQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nLCBQZXJmb3JtYW5jZVBhaW50VGltaW5nLCBQZXJmb3JtYW5jZU9ic2VydmVyRW50cnlMaXN0LCBQZXJmb3JtYW5jZU9ic2VydmVyLCBQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmcsIFBlcmZvcm1hbmNlTmF2aWdhdGlvbiwgUGVyZm9ybWFuY2VNZWFzdXJlLCBQZXJmb3JtYW5jZU1hcmssIFBlcmZvcm1hbmNlTG9uZ1Rhc2tUaW1pbmcsIFBlcmZvcm1hbmNlRXZlbnRUaW1pbmcsIFBlcmZvcm1hbmNlRW50cnksIFBlcmZvcm1hbmNlRWxlbWVudFRpbWluZywgUGVyZm9ybWFuY2UsIFBhdGgyRCwgUGFubmVyTm9kZSwgUGFnZVRyYW5zaXRpb25FdmVudCwgT3ZlcmNvbnN0cmFpbmVkRXJyb3IsIE9zY2lsbGF0b3JOb2RlLCBPZmZzY3JlZW5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIE9mZnNjcmVlbkNhbnZhcywgT2ZmbGluZUF1ZGlvQ29udGV4dCwgT2ZmbGluZUF1ZGlvQ29tcGxldGlvbkV2ZW50LCBOb2RlTGlzdCwgTm9kZUl0ZXJhdG9yLCBOb2RlRmlsdGVyLCBOb2RlLCBOZXR3b3JrSW5mb3JtYXRpb24sIE5hdmlnYXRvciwgTmFtZWROb2RlTWFwLCBNdXRhdGlvblJlY29yZCwgTXV0YXRpb25PYnNlcnZlciwgTXV0YXRpb25FdmVudCwgTW91c2VFdmVudCwgTWltZVR5cGVBcnJheSwgTWltZVR5cGUsIE1lc3NhZ2VQb3J0LCBNZXNzYWdlRXZlbnQsIE1lc3NhZ2VDaGFubmVsLCBNZWRpYVN0cmVhbVRyYWNrUHJvY2Vzc29yLCBNZWRpYVN0cmVhbVRyYWNrRXZlbnQsIE1lZGlhU3RyZWFtRXZlbnQsIE1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlLCBNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlLCBNZWRpYVN0cmVhbSwgTWVkaWFSZWNvcmRlciwgTWVkaWFRdWVyeUxpc3RFdmVudCwgTWVkaWFRdWVyeUxpc3QsIE1lZGlhTGlzdCwgTWVkaWFFcnJvciwgTWVkaWFFbmNyeXB0ZWRFdmVudCwgTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlLCBNZWRpYUNhcGFiaWxpdGllcywgTG9jYXRpb24sIExheW91dFNoaWZ0QXR0cmlidXRpb24sIExheW91dFNoaWZ0LCBMYXJnZXN0Q29udGVudGZ1bFBhaW50LCBLZXlmcmFtZUVmZmVjdCwgS2V5Ym9hcmRFdmVudCwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsIElucHV0RXZlbnQsIElucHV0RGV2aWNlSW5mbywgSW5wdXREZXZpY2VDYXBhYmlsaXRpZXMsIEltYWdlRGF0YSwgSW1hZ2VDYXB0dXJlLCBJbWFnZUJpdG1hcFJlbmRlcmluZ0NvbnRleHQsIEltYWdlQml0bWFwLCBJZGxlRGVhZGxpbmUsIElJUkZpbHRlck5vZGUsIElEQlZlcnNpb25DaGFuZ2VFdmVudCwgSURCVHJhbnNhY3Rpb24sIElEQlJlcXVlc3QsIElEQk9wZW5EQlJlcXVlc3QsIElEQk9iamVjdFN0b3JlLCBJREJLZXlSYW5nZSwgSURCSW5kZXgsIElEQkZhY3RvcnksIElEQkRhdGFiYXNlLCBJREJDdXJzb3JXaXRoVmFsdWUsIElEQkN1cnNvciwgSGlzdG9yeSwgSGVhZGVycywgSGFzaENoYW5nZUV2ZW50LCBIVE1MVmlkZW9FbGVtZW50LCBIVE1MVW5rbm93bkVsZW1lbnQsIEhUTUxVTGlzdEVsZW1lbnQsIEhUTUxUcmFja0VsZW1lbnQsIEhUTUxUaXRsZUVsZW1lbnQsIEhUTUxUaW1lRWxlbWVudCwgSFRNTFRleHRBcmVhRWxlbWVudCwgSFRNTFRlbXBsYXRlRWxlbWVudCwgSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQsIEhUTUxUYWJsZVJvd0VsZW1lbnQsIEhUTUxUYWJsZUVsZW1lbnQsIEhUTUxUYWJsZUNvbEVsZW1lbnQsIEhUTUxUYWJsZUNlbGxFbGVtZW50LCBIVE1MVGFibGVDYXB0aW9uRWxlbWVudCwgSFRNTFN0eWxlRWxlbWVudCwgSFRNTFNwYW5FbGVtZW50LCBIVE1MU291cmNlRWxlbWVudCwgSFRNTFNsb3RFbGVtZW50LCBIVE1MU2VsZWN0RWxlbWVudCwgSFRNTFNjcmlwdEVsZW1lbnQsIEhUTUxRdW90ZUVsZW1lbnQsIEhUTUxQcm9ncmVzc0VsZW1lbnQsIEhUTUxQcmVFbGVtZW50LCBIVE1MUGljdHVyZUVsZW1lbnQsIEhUTUxQYXJhbUVsZW1lbnQsIEhUTUxQYXJhZ3JhcGhFbGVtZW50LCBIVE1MT3V0cHV0RWxlbWVudCwgSFRNTE9wdGlvbnNDb2xsZWN0aW9uLCBIVE1MT3B0aW9uRWxlbWVudCwgSFRNTE9wdEdyb3VwRWxlbWVudCwgSFRNTE9iamVjdEVsZW1lbnQsIEhUTUxPTGlzdEVsZW1lbnQsIEhUTUxNb2RFbGVtZW50LCBIVE1MTWV0ZXJFbGVtZW50LCBIVE1MTWV0YUVsZW1lbnQsIEhUTUxNZW51RWxlbWVudCwgSFRNTE1lZGlhRWxlbWVudCwgSFRNTE1hcnF1ZWVFbGVtZW50LCBIVE1MTWFwRWxlbWVudCwgSFRNTExpbmtFbGVtZW50LCBIVE1MTGVnZW5kRWxlbWVudCwgSFRNTExhYmVsRWxlbWVudCwgSFRNTExJRWxlbWVudCwgSFRNTElucHV0RWxlbWVudCwgSFRNTEltYWdlRWxlbWVudCwgSFRNTElGcmFtZUVsZW1lbnQsIEhUTUxIdG1sRWxlbWVudCwgSFRNTEhlYWRpbmdFbGVtZW50LCBIVE1MSGVhZEVsZW1lbnQsIEhUTUxIUkVsZW1lbnQsIEhUTUxGcmFtZVNldEVsZW1lbnQsIEhUTUxGcmFtZUVsZW1lbnQsIEhUTUxGb3JtRWxlbWVudCwgSFRNTEZvcm1Db250cm9sc0NvbGxlY3Rpb24sIEhUTUxGb250RWxlbWVudCwgSFRNTEZpZWxkU2V0RWxlbWVudCwgSFRNTEVtYmVkRWxlbWVudCwgSFRNTEVsZW1lbnQsIEhUTUxEb2N1bWVudCwgSFRNTERpdkVsZW1lbnQsIEhUTUxEaXJlY3RvcnlFbGVtZW50LCBIVE1MRGlhbG9nRWxlbWVudCwgSFRNTERldGFpbHNFbGVtZW50LCBIVE1MRGF0YUxpc3RFbGVtZW50LCBIVE1MRGF0YUVsZW1lbnQsIEhUTUxETGlzdEVsZW1lbnQsIEhUTUxDb2xsZWN0aW9uLCBIVE1MQ2FudmFzRWxlbWVudCwgSFRNTEJ1dHRvbkVsZW1lbnQsIEhUTUxCb2R5RWxlbWVudCwgSFRNTEJhc2VFbGVtZW50LCBIVE1MQlJFbGVtZW50LCBIVE1MQXVkaW9FbGVtZW50LCBIVE1MQXJlYUVsZW1lbnQsIEhUTUxBbmNob3JFbGVtZW50LCBIVE1MQWxsQ29sbGVjdGlvbiwgR2VvbG9jYXRpb25Qb3NpdGlvbkVycm9yLCBHZW9sb2NhdGlvblBvc2l0aW9uLCBHZW9sb2NhdGlvbkNvb3JkaW5hdGVzLCBHZW9sb2NhdGlvbiwgR2FtZXBhZEhhcHRpY0FjdHVhdG9yLCBHYW1lcGFkRXZlbnQsIEdhbWVwYWRCdXR0b24sIEdhbWVwYWQsIEdhaW5Ob2RlLCBGb3JtRGF0YUV2ZW50LCBGb3JtRGF0YSwgRm9udEZhY2VTZXRMb2FkRXZlbnQsIEZvbnRGYWNlLCBGb2N1c0V2ZW50LCBGaWxlUmVhZGVyLCBGaWxlTGlzdCwgRmlsZSwgRmVhdHVyZVBvbGljeSwgRXh0ZXJuYWwsIEV2ZW50VGFyZ2V0LCBFdmVudFNvdXJjZSwgRXZlbnRDb3VudHMsIEV2ZW50LCBFcnJvckV2ZW50LCBFbGVtZW50SW50ZXJuYWxzLCBFbGVtZW50LCBEeW5hbWljc0NvbXByZXNzb3JOb2RlLCBEcmFnRXZlbnQsIERvY3VtZW50VHlwZSwgRG9jdW1lbnRGcmFnbWVudCwgRG9jdW1lbnQsIERlbGF5Tm9kZSwgRGVjb21wcmVzc2lvblN0cmVhbSwgRGF0YVRyYW5zZmVySXRlbUxpc3QsIERhdGFUcmFuc2Zlckl0ZW0sIERhdGFUcmFuc2ZlciwgRE9NVG9rZW5MaXN0LCBET01TdHJpbmdNYXAsIERPTVN0cmluZ0xpc3QsIERPTVJlY3RSZWFkT25seSwgRE9NUmVjdExpc3QsIERPTVJlY3QsIERPTVF1YWQsIERPTVBvaW50UmVhZE9ubHksIERPTVBvaW50LCBET01QYXJzZXIsIERPTU1hdHJpeFJlYWRPbmx5LCBET01NYXRyaXgsIERPTUltcGxlbWVudGF0aW9uLCBET01FeGNlcHRpb24sIERPTUVycm9yLCBDdXN0b21TdGF0ZVNldCwgQ3VzdG9tRXZlbnQsIEN1c3RvbUVsZW1lbnRSZWdpc3RyeSwgQ3J5cHRvLCBDb3VudFF1ZXVpbmdTdHJhdGVneSwgQ29udm9sdmVyTm9kZSwgQ29uc3RhbnRTb3VyY2VOb2RlLCBDb21wcmVzc2lvblN0cmVhbSwgQ29tcG9zaXRpb25FdmVudCwgQ29tbWVudCwgQ2xvc2VFdmVudCwgQ2xpcGJvYXJkRXZlbnQsIENoYXJhY3RlckRhdGEsIENoYW5uZWxTcGxpdHRlck5vZGUsIENoYW5uZWxNZXJnZXJOb2RlLCBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIENhbnZhc1BhdHRlcm4sIENhbnZhc0dyYWRpZW50LCBDYW52YXNGaWx0ZXIsIENhbnZhc0NhcHR1cmVNZWRpYVN0cmVhbVRyYWNrLCBDU1NWYXJpYWJsZVJlZmVyZW5jZVZhbHVlLCBDU1NVbnBhcnNlZFZhbHVlLCBDU1NVbml0VmFsdWUsIENTU1RyYW5zbGF0ZSwgQ1NTVHJhbnNmb3JtVmFsdWUsIENTU1RyYW5zZm9ybUNvbXBvbmVudCwgQ1NTU3VwcG9ydHNSdWxlLCBDU1NTdHlsZVZhbHVlLCBDU1NTdHlsZVNoZWV0LCBDU1NTdHlsZVJ1bGUsIENTU1N0eWxlRGVjbGFyYXRpb24sIENTU1NrZXdZLCBDU1NTa2V3WCwgQ1NTU2tldywgQ1NTU2NhbGUsIENTU1J1bGVMaXN0LCBDU1NSdWxlLCBDU1NSb3RhdGUsIENTU1Byb3BlcnR5UnVsZSwgQ1NTUG9zaXRpb25WYWx1ZSwgQ1NTUGVyc3BlY3RpdmUsIENTU1BhZ2VSdWxlLCBDU1NOdW1lcmljVmFsdWUsIENTU051bWVyaWNBcnJheSwgQ1NTTmFtZXNwYWNlUnVsZSwgQ1NTTWVkaWFSdWxlLCBDU1NNYXRyaXhDb21wb25lbnQsIENTU01hdGhWYWx1ZSwgQ1NTTWF0aFN1bSwgQ1NTTWF0aFByb2R1Y3QsIENTU01hdGhOZWdhdGUsIENTU01hdGhNaW4sIENTU01hdGhNYXgsIENTU01hdGhJbnZlcnQsIENTU01hdGhDbGFtcCwgQ1NTTGF5ZXJTdGF0ZW1lbnRSdWxlLCBDU1NMYXllckJsb2NrUnVsZSwgQ1NTS2V5d29yZFZhbHVlLCBDU1NLZXlmcmFtZXNSdWxlLCBDU1NLZXlmcmFtZVJ1bGUsIENTU0ltcG9ydFJ1bGUsIENTU0ltYWdlVmFsdWUsIENTU0dyb3VwaW5nUnVsZSwgQ1NTRm9udEZhY2VSdWxlLCBDU1NDb3VudGVyU3R5bGVSdWxlLCBDU1NDb25kaXRpb25SdWxlLCBDU1MsIENEQVRBU2VjdGlvbiwgQnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneSwgQnJvYWRjYXN0Q2hhbm5lbCwgQmxvYkV2ZW50LCBCbG9iLCBCaXF1YWRGaWx0ZXJOb2RlLCBCZWZvcmVVbmxvYWRFdmVudCwgQmVmb3JlSW5zdGFsbFByb21wdEV2ZW50LCBCYXNlQXVkaW9Db250ZXh0LCBCYXJQcm9wLCBBdWRpb1dvcmtsZXROb2RlLCBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUsIEF1ZGlvUHJvY2Vzc2luZ0V2ZW50LCBBdWRpb1BhcmFtTWFwLCBBdWRpb1BhcmFtLCBBdWRpb05vZGUsIEF1ZGlvTGlzdGVuZXIsIEF1ZGlvRGVzdGluYXRpb25Ob2RlLCBBdWRpb0NvbnRleHQsIEF1ZGlvQnVmZmVyU291cmNlTm9kZSwgQXVkaW9CdWZmZXIsIEF0dHIsIEFuaW1hdGlvbkV2ZW50LCBBbmltYXRpb25FZmZlY3QsIEFuaW1hdGlvbiwgQW5hbHlzZXJOb2RlLCBBYnN0cmFjdFJhbmdlLCBBYm9ydFNpZ25hbCwgQWJvcnRDb250cm9sbGVyLCB3aW5kb3csIHNlbGYsIGRvY3VtZW50LCBuYW1lLCBsb2NhdGlvbiwgY3VzdG9tRWxlbWVudHMsIGhpc3RvcnksIGxvY2F0aW9uYmFyLCBtZW51YmFyLCBwZXJzb25hbGJhciwgc2Nyb2xsYmFycywgc3RhdHVzYmFyLCB0b29sYmFyLCBzdGF0dXMsIGNsb3NlZCwgZnJhbWVzLCBsZW5ndGgsIHRvcCwgb3BlbmVyLCBwYXJlbnQsIGZyYW1lRWxlbWVudCwgbmF2aWdhdG9yLCBvcmlnaW4sIGV4dGVybmFsLCBzY3JlZW4sIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0LCBzY3JvbGxYLCBwYWdlWE9mZnNldCwgc2Nyb2xsWSwgcGFnZVlPZmZzZXQsIHZpc3VhbFZpZXdwb3J0LCBzY3JlZW5YLCBzY3JlZW5ZLCBvdXRlcldpZHRoLCBvdXRlckhlaWdodCwgZGV2aWNlUGl4ZWxSYXRpbywgZXZlbnQsIGNsaWVudEluZm9ybWF0aW9uLCBvZmZzY3JlZW5CdWZmZXJpbmcsIHNjcmVlbkxlZnQsIHNjcmVlblRvcCwgc3R5bGVNZWRpYSwgb25zZWFyY2gsIGlzU2VjdXJlQ29udGV4dCwgdHJ1c3RlZFR5cGVzLCBwZXJmb3JtYW5jZSwgb25hcHBpbnN0YWxsZWQsIG9uYmVmb3JlaW5zdGFsbHByb21wdCwgY3J5cHRvLCBpbmRleGVkREIsIHNlc3Npb25TdG9yYWdlLCBsb2NhbFN0b3JhZ2UsIG9uYmVmb3JleHJzZWxlY3QsIG9uYWJvcnQsIG9uYmVmb3JlaW5wdXQsIG9uYmx1ciwgb25jYW5jZWwsIG9uY2FucGxheSwgb25jYW5wbGF5dGhyb3VnaCwgb25jaGFuZ2UsIG9uY2xpY2ssIG9uY2xvc2UsIG9uY29udGV4dGxvc3QsIG9uY29udGV4dG1lbnUsIG9uY29udGV4dHJlc3RvcmVkLCBvbmN1ZWNoYW5nZSwgb25kYmxjbGljaywgb25kcmFnLCBvbmRyYWdlbmQsIG9uZHJhZ2VudGVyLCBvbmRyYWdsZWF2ZSwgb25kcmFnb3Zlciwgb25kcmFnc3RhcnQsIG9uZHJvcCwgb25kdXJhdGlvbmNoYW5nZSwgb25lbXB0aWVkLCBvbmVuZGVkLCBvbmVycm9yLCBvbmZvY3VzLCBvbmZvcm1kYXRhLCBvbmlucHV0LCBvbmludmFsaWQsIG9ua2V5ZG93biwgb25rZXlwcmVzcywgb25rZXl1cCwgb25sb2FkLCBvbmxvYWRlZGRhdGEsIG9ubG9hZGVkbWV0YWRhdGEsIG9ubG9hZHN0YXJ0LCBvbm1vdXNlZG93biwgb25tb3VzZWVudGVyLCBvbm1vdXNlbGVhdmUsIG9ubW91c2Vtb3ZlLCBvbm1vdXNlb3V0LCBvbm1vdXNlb3Zlciwgb25tb3VzZXVwLCBvbm1vdXNld2hlZWwsIG9ucGF1c2UsIG9ucGxheSwgb25wbGF5aW5nLCBvbnByb2dyZXNzLCBvbnJhdGVjaGFuZ2UsIG9ucmVzZXQsIG9ucmVzaXplLCBvbnNjcm9sbCwgb25zZWN1cml0eXBvbGljeXZpb2xhdGlvbiwgb25zZWVrZWQsIG9uc2Vla2luZywgb25zZWxlY3QsIG9uc2xvdGNoYW5nZSwgb25zdGFsbGVkLCBvbnN1Ym1pdCwgb25zdXNwZW5kLCBvbnRpbWV1cGRhdGUsIG9udG9nZ2xlLCBvbnZvbHVtZWNoYW5nZSwgb253YWl0aW5nLCBvbndlYmtpdGFuaW1hdGlvbmVuZCwgb253ZWJraXRhbmltYXRpb25pdGVyYXRpb24sIG9ud2Via2l0YW5pbWF0aW9uc3RhcnQsIG9ud2Via2l0dHJhbnNpdGlvbmVuZCwgb253aGVlbCwgb25hdXhjbGljaywgb25nb3Rwb2ludGVyY2FwdHVyZSwgb25sb3N0cG9pbnRlcmNhcHR1cmUsIG9ucG9pbnRlcmRvd24sIG9ucG9pbnRlcm1vdmUsIG9ucG9pbnRlcnJhd3VwZGF0ZSwgb25wb2ludGVydXAsIG9ucG9pbnRlcmNhbmNlbCwgb25wb2ludGVyb3Zlciwgb25wb2ludGVyb3V0LCBvbnBvaW50ZXJlbnRlciwgb25wb2ludGVybGVhdmUsIG9uc2VsZWN0c3RhcnQsIG9uc2VsZWN0aW9uY2hhbmdlLCBvbmFuaW1hdGlvbmVuZCwgb25hbmltYXRpb25pdGVyYXRpb24sIG9uYW5pbWF0aW9uc3RhcnQsIG9udHJhbnNpdGlvbnJ1biwgb250cmFuc2l0aW9uc3RhcnQsIG9udHJhbnNpdGlvbmVuZCwgb250cmFuc2l0aW9uY2FuY2VsLCBvbmFmdGVycHJpbnQsIG9uYmVmb3JlcHJpbnQsIG9uYmVmb3JldW5sb2FkLCBvbmhhc2hjaGFuZ2UsIG9ubGFuZ3VhZ2VjaGFuZ2UsIG9ubWVzc2FnZSwgb25tZXNzYWdlZXJyb3IsIG9ub2ZmbGluZSwgb25vbmxpbmUsIG9ucGFnZWhpZGUsIG9ucGFnZXNob3csIG9ucG9wc3RhdGUsIG9ucmVqZWN0aW9uaGFuZGxlZCwgb25zdG9yYWdlLCBvbnVuaGFuZGxlZHJlamVjdGlvbiwgb251bmxvYWQsIGNyb3NzT3JpZ2luSXNvbGF0ZWQsIHNjaGVkdWxlciwgYWxlcnQsIGF0b2IsIGJsdXIsIGJ0b2EsIGNhbmNlbEFuaW1hdGlvbkZyYW1lLCBjYW5jZWxJZGxlQ2FsbGJhY2ssIGNhcHR1cmVFdmVudHMsIGNsZWFySW50ZXJ2YWwsIGNsZWFyVGltZW91dCwgY2xvc2UsIGNvbmZpcm0sIGNyZWF0ZUltYWdlQml0bWFwLCBmZXRjaCwgZmluZCwgZm9jdXMsIGdldENvbXB1dGVkU3R5bGUsIGdldFNlbGVjdGlvbiwgbWF0Y2hNZWRpYSwgbW92ZUJ5LCBtb3ZlVG8sIG9wZW4sIHBvc3RNZXNzYWdlLCBwcmludCwgcHJvbXB0LCBxdWV1ZU1pY3JvdGFzaywgcmVsZWFzZUV2ZW50cywgcmVwb3J0RXJyb3IsIHJlcXVlc3RBbmltYXRpb25GcmFtZSwgcmVxdWVzdElkbGVDYWxsYmFjaywgcmVzaXplQnksIHJlc2l6ZVRvLCBzY3JvbGwsIHNjcm9sbEJ5LCBzY3JvbGxUbywgc2V0SW50ZXJ2YWwsIHNldFRpbWVvdXQsIHN0b3AsIHN0cnVjdHVyZWRDbG9uZSwgd2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUsIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSwgQXRvbWljcywgY2hyb21lLCBXZWJBc3NlbWJseSwgY2FjaGVzLCBjb29raWVTdG9yZSwgb25kZXZpY2Vtb3Rpb24sIG9uZGV2aWNlb3JpZW50YXRpb24sIG9uZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZSwgbGF1bmNoUXVldWUsIG9uYmVmb3JlbWF0Y2gsIEFic29sdXRlT3JpZW50YXRpb25TZW5zb3IsIEFjY2VsZXJvbWV0ZXIsIEF1ZGlvV29ya2xldCwgQmF0dGVyeU1hbmFnZXIsIENhY2hlLCBDYWNoZVN0b3JhZ2UsIENsaXBib2FyZCwgQ2xpcGJvYXJkSXRlbSwgQ29va2llQ2hhbmdlRXZlbnQsIENvb2tpZVN0b3JlLCBDb29raWVTdG9yZU1hbmFnZXIsIENyZWRlbnRpYWwsIENyZWRlbnRpYWxzQ29udGFpbmVyLCBDcnlwdG9LZXksIERldmljZU1vdGlvbkV2ZW50LCBEZXZpY2VNb3Rpb25FdmVudEFjY2VsZXJhdGlvbiwgRGV2aWNlTW90aW9uRXZlbnRSb3RhdGlvblJhdGUsIERldmljZU9yaWVudGF0aW9uRXZlbnQsIEZlZGVyYXRlZENyZWRlbnRpYWwsIEdyYXZpdHlTZW5zb3IsIEd5cm9zY29wZSwgS2V5Ym9hcmQsIEtleWJvYXJkTGF5b3V0TWFwLCBMaW5lYXJBY2NlbGVyYXRpb25TZW5zb3IsIExvY2ssIExvY2tNYW5hZ2VyLCBNSURJQWNjZXNzLCBNSURJQ29ubmVjdGlvbkV2ZW50LCBNSURJSW5wdXQsIE1JRElJbnB1dE1hcCwgTUlESU1lc3NhZ2VFdmVudCwgTUlESU91dHB1dCwgTUlESU91dHB1dE1hcCwgTUlESVBvcnQsIE1lZGlhRGV2aWNlSW5mbywgTWVkaWFEZXZpY2VzLCBNZWRpYUtleU1lc3NhZ2VFdmVudCwgTWVkaWFLZXlTZXNzaW9uLCBNZWRpYUtleVN0YXR1c01hcCwgTWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIE1lZGlhS2V5cywgTmF2aWdhdGlvblByZWxvYWRNYW5hZ2VyLCBOYXZpZ2F0b3JNYW5hZ2VkRGF0YSwgT3JpZW50YXRpb25TZW5zb3IsIFBhc3N3b3JkQ3JlZGVudGlhbCwgUmVsYXRpdmVPcmllbnRhdGlvblNlbnNvciwgU2NyZWVuRGV0YWlsZWQsIFNjcmVlbkRldGFpbHMsIFNlbnNvciwgU2Vuc29yRXJyb3JFdmVudCwgU2VydmljZVdvcmtlciwgU2VydmljZVdvcmtlckNvbnRhaW5lciwgU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiwgU3RvcmFnZU1hbmFnZXIsIFN1YnRsZUNyeXB0bywgVmlydHVhbEtleWJvYXJkLCBXZWJUcmFuc3BvcnQsIFdlYlRyYW5zcG9ydEJpZGlyZWN0aW9uYWxTdHJlYW0sIFdlYlRyYW5zcG9ydERhdGFncmFtRHVwbGV4U3RyZWFtLCBXZWJUcmFuc3BvcnRFcnJvciwgV29ya2xldCwgWFJET01PdmVybGF5U3RhdGUsIFhSTGF5ZXIsIFhSV2ViR0xCaW5kaW5nLCBBdWRpb0RhdGEsIEVuY29kZWRBdWRpb0NodW5rLCBFbmNvZGVkVmlkZW9DaHVuaywgSW1hZ2VUcmFjaywgSW1hZ2VUcmFja0xpc3QsIFZpZGVvQ29sb3JTcGFjZSwgVmlkZW9GcmFtZSwgQXVkaW9EZWNvZGVyLCBBdWRpb0VuY29kZXIsIEltYWdlRGVjb2RlciwgVmlkZW9EZWNvZGVyLCBWaWRlb0VuY29kZXIsIEF1dGhlbnRpY2F0b3JBc3NlcnRpb25SZXNwb25zZSwgQXV0aGVudGljYXRvckF0dGVzdGF0aW9uUmVzcG9uc2UsIEF1dGhlbnRpY2F0b3JSZXNwb25zZSwgUHVibGljS2V5Q3JlZGVudGlhbCwgQmx1ZXRvb3RoLCBCbHVldG9vdGhDaGFyYWN0ZXJpc3RpY1Byb3BlcnRpZXMsIEJsdWV0b290aERldmljZSwgQmx1ZXRvb3RoUmVtb3RlR0FUVENoYXJhY3RlcmlzdGljLCBCbHVldG9vdGhSZW1vdGVHQVRURGVzY3JpcHRvciwgQmx1ZXRvb3RoUmVtb3RlR0FUVFNlcnZlciwgQmx1ZXRvb3RoUmVtb3RlR0FUVFNlcnZpY2UsIENhcHR1cmVDb250cm9sbGVyLCBFeWVEcm9wcGVyLCBGaWxlU3lzdGVtRGlyZWN0b3J5SGFuZGxlLCBGaWxlU3lzdGVtRmlsZUhhbmRsZSwgRmlsZVN5c3RlbUhhbmRsZSwgRmlsZVN5c3RlbVdyaXRhYmxlRmlsZVN0cmVhbSwgRm9udERhdGEsIEZyYWdtZW50RGlyZWN0aXZlLCBISUQsIEhJRENvbm5lY3Rpb25FdmVudCwgSElERGV2aWNlLCBISURJbnB1dFJlcG9ydEV2ZW50LCBJZGVudGl0eUNyZWRlbnRpYWwsIElkbGVEZXRlY3RvciwgTGF1bmNoUGFyYW1zLCBMYXVuY2hRdWV1ZSwgT1RQQ3JlZGVudGlhbCwgUGF5bWVudEFkZHJlc3MsIFBheW1lbnRSZXF1ZXN0LCBQYXltZW50UmVzcG9uc2UsIFBheW1lbnRNZXRob2RDaGFuZ2VFdmVudCwgUHJlc2VudGF0aW9uLCBQcmVzZW50YXRpb25BdmFpbGFiaWxpdHksIFByZXNlbnRhdGlvbkNvbm5lY3Rpb24sIFByZXNlbnRhdGlvbkNvbm5lY3Rpb25BdmFpbGFibGVFdmVudCwgUHJlc2VudGF0aW9uQ29ubmVjdGlvbkNsb3NlRXZlbnQsIFByZXNlbnRhdGlvbkNvbm5lY3Rpb25MaXN0LCBQcmVzZW50YXRpb25SZWNlaXZlciwgUHJlc2VudGF0aW9uUmVxdWVzdCwgU2FuaXRpemVyLCBTZXJpYWwsIFNlcmlhbFBvcnQsIFVTQiwgVVNCQWx0ZXJuYXRlSW50ZXJmYWNlLCBVU0JDb25maWd1cmF0aW9uLCBVU0JDb25uZWN0aW9uRXZlbnQsIFVTQkRldmljZSwgVVNCRW5kcG9pbnQsIFVTQkluVHJhbnNmZXJSZXN1bHQsIFVTQkludGVyZmFjZSwgVVNCSXNvY2hyb25vdXNJblRyYW5zZmVyUGFja2V0LCBVU0JJc29jaHJvbm91c0luVHJhbnNmZXJSZXN1bHQsIFVTQklzb2Nocm9ub3VzT3V0VHJhbnNmZXJQYWNrZXQsIFVTQklzb2Nocm9ub3VzT3V0VHJhbnNmZXJSZXN1bHQsIFVTQk91dFRyYW5zZmVyUmVzdWx0LCBXYWtlTG9jaywgV2FrZUxvY2tTZW50aW5lbCwgV2luZG93Q29udHJvbHNPdmVybGF5LCBXaW5kb3dDb250cm9sc092ZXJsYXlHZW9tZXRyeUNoYW5nZUV2ZW50LCBYUkFuY2hvciwgWFJBbmNob3JTZXQsIFhSQm91bmRlZFJlZmVyZW5jZVNwYWNlLCBYUkZyYW1lLCBYUklucHV0U291cmNlLCBYUklucHV0U291cmNlQXJyYXksIFhSSW5wdXRTb3VyY2VFdmVudCwgWFJJbnB1dFNvdXJjZXNDaGFuZ2VFdmVudCwgWFJQb3NlLCBYUlJlZmVyZW5jZVNwYWNlLCBYUlJlZmVyZW5jZVNwYWNlRXZlbnQsIFhSUmVuZGVyU3RhdGUsIFhSUmlnaWRUcmFuc2Zvcm0sIFhSU2Vzc2lvbiwgWFJTZXNzaW9uRXZlbnQsIFhSU3BhY2UsIFhSU3lzdGVtLCBYUlZpZXcsIFhSVmlld2VyUG9zZSwgWFJWaWV3cG9ydCwgWFJXZWJHTExheWVyLCBYUkNQVURlcHRoSW5mb3JtYXRpb24sIFhSRGVwdGhJbmZvcm1hdGlvbiwgWFJXZWJHTERlcHRoSW5mb3JtYXRpb24sIFhSQ2FtZXJhLCBYUkhpdFRlc3RSZXN1bHQsIFhSSGl0VGVzdFNvdXJjZSwgWFJSYXksIFhSVHJhbnNpZW50SW5wdXRIaXRUZXN0UmVzdWx0LCBYUlRyYW5zaWVudElucHV0SGl0VGVzdFNvdXJjZSwgWFJMaWdodEVzdGltYXRlLCBYUkxpZ2h0UHJvYmUsIGdldFNjcmVlbkRldGFpbHMsIHF1ZXJ5TG9jYWxGb250cywgc2hvd0RpcmVjdG9yeVBpY2tlciwgc2hvd09wZW5GaWxlUGlja2VyLCBzaG93U2F2ZUZpbGVQaWNrZXIsIG9yaWdpbkFnZW50Q2x1c3RlciwgbmF2aWdhdGlvbiwgd2Via2l0U3RvcmFnZUluZm8sIHNwZWVjaFN5bnRoZXNpcywgb25jb250ZW50dmlzaWJpbGl0eWF1dG9zdGF0ZWNoYW5nZSwgQW5pbWF0aW9uUGxheWJhY2tFdmVudCwgQW5pbWF0aW9uVGltZWxpbmUsIENTU0FuaW1hdGlvbiwgQ1NTVHJhbnNpdGlvbiwgRG9jdW1lbnRUaW1lbGluZSwgQmFja2dyb3VuZEZldGNoTWFuYWdlciwgQmFja2dyb3VuZEZldGNoUmVjb3JkLCBCYWNrZ3JvdW5kRmV0Y2hSZWdpc3RyYXRpb24sIEJsdWV0b290aFVVSUQsIEJyb3dzZXJDYXB0dXJlTWVkaWFTdHJlYW1UcmFjaywgQ3JvcFRhcmdldCwgQ1NTQ29udGFpbmVyUnVsZSwgQ1NTRm9udFBhbGV0dGVWYWx1ZXNSdWxlLCBDb250ZW50VmlzaWJpbGl0eUF1dG9TdGF0ZUNoYW5nZUV2ZW50LCBEZWxlZ2F0ZWRJbmtUcmFpbFByZXNlbnRlciwgSW5rLCBIaWdobGlnaHQsIEhpZ2hsaWdodFJlZ2lzdHJ5LCBNYXRoTUxFbGVtZW50LCBNZWRpYU1ldGFkYXRhLCBNZWRpYVNlc3Npb24sIE1lZGlhU291cmNlLCBTb3VyY2VCdWZmZXIsIFNvdXJjZUJ1ZmZlckxpc3QsIE1lZGlhU291cmNlSGFuZGxlLCBNZWRpYVN0cmVhbVRyYWNrLCBNZWRpYVN0cmVhbVRyYWNrR2VuZXJhdG9yLCBOYXZpZ2F0ZUV2ZW50LCBOYXZpZ2F0aW9uLCBOYXZpZ2F0aW9uQ3VycmVudEVudHJ5Q2hhbmdlRXZlbnQsIE5hdmlnYXRpb25EZXN0aW5hdGlvbiwgTmF2aWdhdGlvbkhpc3RvcnlFbnRyeSwgTmF2aWdhdGlvblRyYW5zaXRpb24sIE5hdmlnYXRvclVBRGF0YSwgTm90aWZpY2F0aW9uLCBQYXltZW50SW5zdHJ1bWVudHMsIFBheW1lbnRNYW5hZ2VyLCBQYXltZW50UmVxdWVzdFVwZGF0ZUV2ZW50LCBQZXJpb2RpY1N5bmNNYW5hZ2VyLCBQZXJtaXNzaW9uU3RhdHVzLCBQZXJtaXNzaW9ucywgUGljdHVyZUluUGljdHVyZUV2ZW50LCBQaWN0dXJlSW5QaWN0dXJlV2luZG93LCBQdXNoTWFuYWdlciwgUHVzaFN1YnNjcmlwdGlvbiwgUHVzaFN1YnNjcmlwdGlvbk9wdGlvbnMsIFJlbW90ZVBsYXliYWNrLCBTaGFyZWRXb3JrZXIsIFNwZWVjaFN5bnRoZXNpc0Vycm9yRXZlbnQsIFNwZWVjaFN5bnRoZXNpc0V2ZW50LCBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UsIFZpZGVvUGxheWJhY2tRdWFsaXR5LCB3ZWJraXRTcGVlY2hHcmFtbWFyLCB3ZWJraXRTcGVlY2hHcmFtbWFyTGlzdCwgd2Via2l0U3BlZWNoUmVjb2duaXRpb24sIHdlYmtpdFNwZWVjaFJlY29nbml0aW9uRXJyb3IsIHdlYmtpdFNwZWVjaFJlY29nbml0aW9uRXZlbnQsIG9wZW5EYXRhYmFzZSwgd2Via2l0UmVxdWVzdEZpbGVTeXN0ZW0sIHdlYmtpdFJlc29sdmVMb2NhbEZpbGVTeXN0ZW1VUkxgLA0KICAgICAgICAgICAgY3NzS2V5czogYGNzc1RleHQsIGxlbmd0aCwgcGFyZW50UnVsZSwgY3NzRmxvYXQsIGdldFByb3BlcnR5UHJpb3JpdHksIGdldFByb3BlcnR5VmFsdWUsIGl0ZW0sIHJlbW92ZVByb3BlcnR5LCBzZXRQcm9wZXJ0eSwgY29uc3RydWN0b3IsIGFjY2VudC1jb2xvciwgYWxpZ24tY29udGVudCwgYWxpZ24taXRlbXMsIGFsaWduLXNlbGYsIGFsaWdubWVudC1iYXNlbGluZSwgYW5pbWF0aW9uLWRlbGF5LCBhbmltYXRpb24tZGlyZWN0aW9uLCBhbmltYXRpb24tZHVyYXRpb24sIGFuaW1hdGlvbi1maWxsLW1vZGUsIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQsIGFuaW1hdGlvbi1uYW1lLCBhbmltYXRpb24tcGxheS1zdGF0ZSwgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbiwgYXBwLXJlZ2lvbiwgYXBwZWFyYW5jZSwgYmFja2Ryb3AtZmlsdGVyLCBiYWNrZmFjZS12aXNpYmlsaXR5LCBiYWNrZ3JvdW5kLWF0dGFjaG1lbnQsIGJhY2tncm91bmQtYmxlbmQtbW9kZSwgYmFja2dyb3VuZC1jbGlwLCBiYWNrZ3JvdW5kLWNvbG9yLCBiYWNrZ3JvdW5kLWltYWdlLCBiYWNrZ3JvdW5kLW9yaWdpbiwgYmFja2dyb3VuZC1wb3NpdGlvbiwgYmFja2dyb3VuZC1yZXBlYXQsIGJhY2tncm91bmQtc2l6ZSwgYmFzZWxpbmUtc2hpZnQsIGJsb2NrLXNpemUsIGJvcmRlci1ibG9jay1lbmQtY29sb3IsIGJvcmRlci1ibG9jay1lbmQtc3R5bGUsIGJvcmRlci1ibG9jay1lbmQtd2lkdGgsIGJvcmRlci1ibG9jay1zdGFydC1jb2xvciwgYm9yZGVyLWJsb2NrLXN0YXJ0LXN0eWxlLCBib3JkZXItYmxvY2stc3RhcnQtd2lkdGgsIGJvcmRlci1ib3R0b20tY29sb3IsIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMsIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzLCBib3JkZXItYm90dG9tLXN0eWxlLCBib3JkZXItYm90dG9tLXdpZHRoLCBib3JkZXItY29sbGFwc2UsIGJvcmRlci1lbmQtZW5kLXJhZGl1cywgYm9yZGVyLWVuZC1zdGFydC1yYWRpdXMsIGJvcmRlci1pbWFnZS1vdXRzZXQsIGJvcmRlci1pbWFnZS1yZXBlYXQsIGJvcmRlci1pbWFnZS1zbGljZSwgYm9yZGVyLWltYWdlLXNvdXJjZSwgYm9yZGVyLWltYWdlLXdpZHRoLCBib3JkZXItaW5saW5lLWVuZC1jb2xvciwgYm9yZGVyLWlubGluZS1lbmQtc3R5bGUsIGJvcmRlci1pbmxpbmUtZW5kLXdpZHRoLCBib3JkZXItaW5saW5lLXN0YXJ0LWNvbG9yLCBib3JkZXItaW5saW5lLXN0YXJ0LXN0eWxlLCBib3JkZXItaW5saW5lLXN0YXJ0LXdpZHRoLCBib3JkZXItbGVmdC1jb2xvciwgYm9yZGVyLWxlZnQtc3R5bGUsIGJvcmRlci1sZWZ0LXdpZHRoLCBib3JkZXItcmlnaHQtY29sb3IsIGJvcmRlci1yaWdodC1zdHlsZSwgYm9yZGVyLXJpZ2h0LXdpZHRoLCBib3JkZXItc3RhcnQtZW5kLXJhZGl1cywgYm9yZGVyLXN0YXJ0LXN0YXJ0LXJhZGl1cywgYm9yZGVyLXRvcC1jb2xvciwgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1cywgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXMsIGJvcmRlci10b3Atc3R5bGUsIGJvcmRlci10b3Atd2lkdGgsIGJvdHRvbSwgYm94LXNoYWRvdywgYm94LXNpemluZywgYnJlYWstYWZ0ZXIsIGJyZWFrLWJlZm9yZSwgYnJlYWstaW5zaWRlLCBidWZmZXJlZC1yZW5kZXJpbmcsIGNhcHRpb24tc2lkZSwgY2FyZXQtY29sb3IsIGNsZWFyLCBjbGlwLCBjbGlwLXBhdGgsIGNsaXAtcnVsZSwgY29sb3IsIGNvbG9yLWludGVycG9sYXRpb24sIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycywgY29sb3ItcmVuZGVyaW5nLCBjb2x1bW4tY291bnQsIGNvbHVtbi1nYXAsIGNvbHVtbi1ydWxlLWNvbG9yLCBjb2x1bW4tcnVsZS1zdHlsZSwgY29sdW1uLXJ1bGUtd2lkdGgsIGNvbHVtbi1zcGFuLCBjb2x1bW4td2lkdGgsIGNvbnRhaW4taW50cmluc2ljLWJsb2NrLXNpemUsIGNvbnRhaW4taW50cmluc2ljLWhlaWdodCwgY29udGFpbi1pbnRyaW5zaWMtaW5saW5lLXNpemUsIGNvbnRhaW4taW50cmluc2ljLXNpemUsIGNvbnRhaW4taW50cmluc2ljLXdpZHRoLCBjb250YWluZXItbmFtZSwgY29udGFpbmVyLXR5cGUsIGNvbnRlbnQsIGN1cnNvciwgY3gsIGN5LCBkLCBkaXJlY3Rpb24sIGRpc3BsYXksIGRvbWluYW50LWJhc2VsaW5lLCBlbXB0eS1jZWxscywgZmlsbCwgZmlsbC1vcGFjaXR5LCBmaWxsLXJ1bGUsIGZpbHRlciwgZmxleC1iYXNpcywgZmxleC1kaXJlY3Rpb24sIGZsZXgtZ3JvdywgZmxleC1zaHJpbmssIGZsZXgtd3JhcCwgZmxvYXQsIGZsb29kLWNvbG9yLCBmbG9vZC1vcGFjaXR5LCBmb250LWZhbWlseSwgZm9udC1rZXJuaW5nLCBmb250LW9wdGljYWwtc2l6aW5nLCBmb250LXBhbGV0dGUsIGZvbnQtc2l6ZSwgZm9udC1zdHJldGNoLCBmb250LXN0eWxlLCBmb250LXN5bnRoZXNpcy1zbWFsbC1jYXBzLCBmb250LXN5bnRoZXNpcy1zdHlsZSwgZm9udC1zeW50aGVzaXMtd2VpZ2h0LCBmb250LXZhcmlhbnQsIGZvbnQtdmFyaWFudC1jYXBzLCBmb250LXZhcmlhbnQtZWFzdC1hc2lhbiwgZm9udC12YXJpYW50LWxpZ2F0dXJlcywgZm9udC12YXJpYW50LW51bWVyaWMsIGZvbnQtd2VpZ2h0LCBncmlkLWF1dG8tY29sdW1ucywgZ3JpZC1hdXRvLWZsb3csIGdyaWQtYXV0by1yb3dzLCBncmlkLWNvbHVtbi1lbmQsIGdyaWQtY29sdW1uLXN0YXJ0LCBncmlkLXJvdy1lbmQsIGdyaWQtcm93LXN0YXJ0LCBncmlkLXRlbXBsYXRlLWFyZWFzLCBncmlkLXRlbXBsYXRlLWNvbHVtbnMsIGdyaWQtdGVtcGxhdGUtcm93cywgaGVpZ2h0LCBoeXBoZW5hdGUtY2hhcmFjdGVyLCBoeXBoZW5hdGUtbGltaXQtY2hhcnMsIGh5cGhlbnMsIGltYWdlLW9yaWVudGF0aW9uLCBpbWFnZS1yZW5kZXJpbmcsIGlubGluZS1zaXplLCBpbnNldC1ibG9jay1lbmQsIGluc2V0LWJsb2NrLXN0YXJ0LCBpbnNldC1pbmxpbmUtZW5kLCBpbnNldC1pbmxpbmUtc3RhcnQsIGlzb2xhdGlvbiwganVzdGlmeS1jb250ZW50LCBqdXN0aWZ5LWl0ZW1zLCBqdXN0aWZ5LXNlbGYsIGxlZnQsIGxldHRlci1zcGFjaW5nLCBsaWdodGluZy1jb2xvciwgbGluZS1icmVhaywgbGluZS1oZWlnaHQsIGxpc3Qtc3R5bGUtaW1hZ2UsIGxpc3Qtc3R5bGUtcG9zaXRpb24sIGxpc3Qtc3R5bGUtdHlwZSwgbWFyZ2luLWJsb2NrLWVuZCwgbWFyZ2luLWJsb2NrLXN0YXJ0LCBtYXJnaW4tYm90dG9tLCBtYXJnaW4taW5saW5lLWVuZCwgbWFyZ2luLWlubGluZS1zdGFydCwgbWFyZ2luLWxlZnQsIG1hcmdpbi1yaWdodCwgbWFyZ2luLXRvcCwgbWFya2VyLWVuZCwgbWFya2VyLW1pZCwgbWFya2VyLXN0YXJ0LCBtYXNrLXR5cGUsIG1hdGgtZGVwdGgsIG1hdGgtc2hpZnQsIG1hdGgtc3R5bGUsIG1heC1ibG9jay1zaXplLCBtYXgtaGVpZ2h0LCBtYXgtaW5saW5lLXNpemUsIG1heC13aWR0aCwgbWluLWJsb2NrLXNpemUsIG1pbi1oZWlnaHQsIG1pbi1pbmxpbmUtc2l6ZSwgbWluLXdpZHRoLCBtaXgtYmxlbmQtbW9kZSwgb2JqZWN0LWZpdCwgb2JqZWN0LXBvc2l0aW9uLCBvYmplY3Qtdmlldy1ib3gsIG9mZnNldC1kaXN0YW5jZSwgb2Zmc2V0LXBhdGgsIG9mZnNldC1yb3RhdGUsIG9wYWNpdHksIG9yZGVyLCBvcnBoYW5zLCBvdXRsaW5lLWNvbG9yLCBvdXRsaW5lLW9mZnNldCwgb3V0bGluZS1zdHlsZSwgb3V0bGluZS13aWR0aCwgb3ZlcmZsb3ctYW5jaG9yLCBvdmVyZmxvdy1jbGlwLW1hcmdpbiwgb3ZlcmZsb3ctd3JhcCwgb3ZlcmZsb3cteCwgb3ZlcmZsb3cteSwgb3ZlcnNjcm9sbC1iZWhhdmlvci1ibG9jaywgb3ZlcnNjcm9sbC1iZWhhdmlvci1pbmxpbmUsIHBhZGRpbmctYmxvY2stZW5kLCBwYWRkaW5nLWJsb2NrLXN0YXJ0LCBwYWRkaW5nLWJvdHRvbSwgcGFkZGluZy1pbmxpbmUtZW5kLCBwYWRkaW5nLWlubGluZS1zdGFydCwgcGFkZGluZy1sZWZ0LCBwYWRkaW5nLXJpZ2h0LCBwYWRkaW5nLXRvcCwgcGFpbnQtb3JkZXIsIHBlcnNwZWN0aXZlLCBwZXJzcGVjdGl2ZS1vcmlnaW4sIHBvaW50ZXItZXZlbnRzLCBwb3NpdGlvbiwgciwgcmVzaXplLCByaWdodCwgcm90YXRlLCByb3ctZ2FwLCBydWJ5LXBvc2l0aW9uLCByeCwgcnksIHNjYWxlLCBzY3JvbGwtYmVoYXZpb3IsIHNjcm9sbC1tYXJnaW4tYmxvY2stZW5kLCBzY3JvbGwtbWFyZ2luLWJsb2NrLXN0YXJ0LCBzY3JvbGwtbWFyZ2luLWlubGluZS1lbmQsIHNjcm9sbC1tYXJnaW4taW5saW5lLXN0YXJ0LCBzY3JvbGwtcGFkZGluZy1ibG9jay1lbmQsIHNjcm9sbC1wYWRkaW5nLWJsb2NrLXN0YXJ0LCBzY3JvbGwtcGFkZGluZy1pbmxpbmUtZW5kLCBzY3JvbGwtcGFkZGluZy1pbmxpbmUtc3RhcnQsIHNjcm9sbGJhci1ndXR0ZXIsIHNoYXBlLWltYWdlLXRocmVzaG9sZCwgc2hhcGUtbWFyZ2luLCBzaGFwZS1vdXRzaWRlLCBzaGFwZS1yZW5kZXJpbmcsIHNwZWFrLCBzdG9wLWNvbG9yLCBzdG9wLW9wYWNpdHksIHN0cm9rZSwgc3Ryb2tlLWRhc2hhcnJheSwgc3Ryb2tlLWRhc2hvZmZzZXQsIHN0cm9rZS1saW5lY2FwLCBzdHJva2UtbGluZWpvaW4sIHN0cm9rZS1taXRlcmxpbWl0LCBzdHJva2Utb3BhY2l0eSwgc3Ryb2tlLXdpZHRoLCB0YWItc2l6ZSwgdGFibGUtbGF5b3V0LCB0ZXh0LWFsaWduLCB0ZXh0LWFsaWduLWxhc3QsIHRleHQtYW5jaG9yLCB0ZXh0LWRlY29yYXRpb24sIHRleHQtZGVjb3JhdGlvbi1jb2xvciwgdGV4dC1kZWNvcmF0aW9uLWxpbmUsIHRleHQtZGVjb3JhdGlvbi1za2lwLWluaywgdGV4dC1kZWNvcmF0aW9uLXN0eWxlLCB0ZXh0LWVtcGhhc2lzLWNvbG9yLCB0ZXh0LWVtcGhhc2lzLXBvc2l0aW9uLCB0ZXh0LWVtcGhhc2lzLXN0eWxlLCB0ZXh0LWluZGVudCwgdGV4dC1vdmVyZmxvdywgdGV4dC1yZW5kZXJpbmcsIHRleHQtc2hhZG93LCB0ZXh0LXNpemUtYWRqdXN0LCB0ZXh0LXRyYW5zZm9ybSwgdGV4dC11bmRlcmxpbmUtcG9zaXRpb24sIHRvcCwgdG91Y2gtYWN0aW9uLCB0cmFuc2Zvcm0sIHRyYW5zZm9ybS1vcmlnaW4sIHRyYW5zZm9ybS1zdHlsZSwgdHJhbnNpdGlvbi1kZWxheSwgdHJhbnNpdGlvbi1kdXJhdGlvbiwgdHJhbnNpdGlvbi1wcm9wZXJ0eSwgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24sIHRyYW5zbGF0ZSwgdW5pY29kZS1iaWRpLCB1c2VyLXNlbGVjdCwgdmVjdG9yLWVmZmVjdCwgdmVydGljYWwtYWxpZ24sIHZpc2liaWxpdHksIHdoaXRlLXNwYWNlLCB3aWRvd3MsIHdpZHRoLCB3aWxsLWNoYW5nZSwgd29yZC1icmVhaywgd29yZC1zcGFjaW5nLCB3cml0aW5nLW1vZGUsIHgsIHksIHotaW5kZXgsIHpvb20sIC13ZWJraXQtYm9yZGVyLWhvcml6b250YWwtc3BhY2luZywgLXdlYmtpdC1ib3JkZXItaW1hZ2UsIC13ZWJraXQtYm9yZGVyLXZlcnRpY2FsLXNwYWNpbmcsIC13ZWJraXQtYm94LWFsaWduLCAtd2Via2l0LWJveC1kZWNvcmF0aW9uLWJyZWFrLCAtd2Via2l0LWJveC1kaXJlY3Rpb24sIC13ZWJraXQtYm94LWZsZXgsIC13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXAsIC13ZWJraXQtYm94LW9yaWVudCwgLXdlYmtpdC1ib3gtcGFjaywgLXdlYmtpdC1ib3gtcmVmbGVjdCwgLXdlYmtpdC1mb250LXNtb290aGluZywgLXdlYmtpdC1oaWdobGlnaHQsIC13ZWJraXQtbGluZS1icmVhaywgLXdlYmtpdC1saW5lLWNsYW1wLCAtd2Via2l0LWxvY2FsZSwgLXdlYmtpdC1tYXNrLWJveC1pbWFnZSwgLXdlYmtpdC1tYXNrLWJveC1pbWFnZS1vdXRzZXQsIC13ZWJraXQtbWFzay1ib3gtaW1hZ2UtcmVwZWF0LCAtd2Via2l0LW1hc2stYm94LWltYWdlLXNsaWNlLCAtd2Via2l0LW1hc2stYm94LWltYWdlLXNvdXJjZSwgLXdlYmtpdC1tYXNrLWJveC1pbWFnZS13aWR0aCwgLXdlYmtpdC1tYXNrLWNsaXAsIC13ZWJraXQtbWFzay1jb21wb3NpdGUsIC13ZWJraXQtbWFzay1pbWFnZSwgLXdlYmtpdC1tYXNrLW9yaWdpbiwgLXdlYmtpdC1tYXNrLXBvc2l0aW9uLCAtd2Via2l0LW1hc2stcmVwZWF0LCAtd2Via2l0LW1hc2stc2l6ZSwgLXdlYmtpdC1wcmludC1jb2xvci1hZGp1c3QsIC13ZWJraXQtcnRsLW9yZGVyaW5nLCAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3IsIC13ZWJraXQtdGV4dC1jb21iaW5lLCAtd2Via2l0LXRleHQtZGVjb3JhdGlvbnMtaW4tZWZmZWN0LCAtd2Via2l0LXRleHQtZmlsbC1jb2xvciwgLXdlYmtpdC10ZXh0LW9yaWVudGF0aW9uLCAtd2Via2l0LXRleHQtc2VjdXJpdHksIC13ZWJraXQtdGV4dC1zdHJva2UtY29sb3IsIC13ZWJraXQtdGV4dC1zdHJva2Utd2lkdGgsIC13ZWJraXQtdXNlci1kcmFnLCAtd2Via2l0LXVzZXItbW9kaWZ5LCAtd2Via2l0LXdyaXRpbmctbW9kZSwgYWNjZW50Q29sb3IsIGFkZGl0aXZlU3ltYm9scywgYWxpZ25Db250ZW50LCBhbGlnbkl0ZW1zLCBhbGlnblNlbGYsIGFsaWdubWVudEJhc2VsaW5lLCBhbGwsIGFuaW1hdGlvbiwgYW5pbWF0aW9uRGVsYXksIGFuaW1hdGlvbkRpcmVjdGlvbiwgYW5pbWF0aW9uRHVyYXRpb24sIGFuaW1hdGlvbkZpbGxNb2RlLCBhbmltYXRpb25JdGVyYXRpb25Db3VudCwgYW5pbWF0aW9uTmFtZSwgYW5pbWF0aW9uUGxheVN0YXRlLCBhbmltYXRpb25UaW1pbmdGdW5jdGlvbiwgYXBwUmVnaW9uLCBhc2NlbnRPdmVycmlkZSwgYXNwZWN0UmF0aW8sIGJhY2tkcm9wRmlsdGVyLCBiYWNrZmFjZVZpc2liaWxpdHksIGJhY2tncm91bmQsIGJhY2tncm91bmRBdHRhY2htZW50LCBiYWNrZ3JvdW5kQmxlbmRNb2RlLCBiYWNrZ3JvdW5kQ2xpcCwgYmFja2dyb3VuZENvbG9yLCBiYWNrZ3JvdW5kSW1hZ2UsIGJhY2tncm91bmRPcmlnaW4sIGJhY2tncm91bmRQb3NpdGlvbiwgYmFja2dyb3VuZFBvc2l0aW9uWCwgYmFja2dyb3VuZFBvc2l0aW9uWSwgYmFja2dyb3VuZFJlcGVhdCwgYmFja2dyb3VuZFJlcGVhdFgsIGJhY2tncm91bmRSZXBlYXRZLCBiYWNrZ3JvdW5kU2l6ZSwgYmFzZVBhbGV0dGUsIGJhc2VsaW5lU2hpZnQsIGJsb2NrU2l6ZSwgYm9yZGVyLCBib3JkZXJCbG9jaywgYm9yZGVyQmxvY2tDb2xvciwgYm9yZGVyQmxvY2tFbmQsIGJvcmRlckJsb2NrRW5kQ29sb3IsIGJvcmRlckJsb2NrRW5kU3R5bGUsIGJvcmRlckJsb2NrRW5kV2lkdGgsIGJvcmRlckJsb2NrU3RhcnQsIGJvcmRlckJsb2NrU3RhcnRDb2xvciwgYm9yZGVyQmxvY2tTdGFydFN0eWxlLCBib3JkZXJCbG9ja1N0YXJ0V2lkdGgsIGJvcmRlckJsb2NrU3R5bGUsIGJvcmRlckJsb2NrV2lkdGgsIGJvcmRlckJvdHRvbSwgYm9yZGVyQm90dG9tQ29sb3IsIGJvcmRlckJvdHRvbUxlZnRSYWRpdXMsIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzLCBib3JkZXJCb3R0b21TdHlsZSwgYm9yZGVyQm90dG9tV2lkdGgsIGJvcmRlckNvbGxhcHNlLCBib3JkZXJDb2xvciwgYm9yZGVyRW5kRW5kUmFkaXVzLCBib3JkZXJFbmRTdGFydFJhZGl1cywgYm9yZGVySW1hZ2UsIGJvcmRlckltYWdlT3V0c2V0LCBib3JkZXJJbWFnZVJlcGVhdCwgYm9yZGVySW1hZ2VTbGljZSwgYm9yZGVySW1hZ2VTb3VyY2UsIGJvcmRlckltYWdlV2lkdGgsIGJvcmRlcklubGluZSwgYm9yZGVySW5saW5lQ29sb3IsIGJvcmRlcklubGluZUVuZCwgYm9yZGVySW5saW5lRW5kQ29sb3IsIGJvcmRlcklubGluZUVuZFN0eWxlLCBib3JkZXJJbmxpbmVFbmRXaWR0aCwgYm9yZGVySW5saW5lU3RhcnQsIGJvcmRlcklubGluZVN0YXJ0Q29sb3IsIGJvcmRlcklubGluZVN0YXJ0U3R5bGUsIGJvcmRlcklubGluZVN0YXJ0V2lkdGgsIGJvcmRlcklubGluZVN0eWxlLCBib3JkZXJJbmxpbmVXaWR0aCwgYm9yZGVyTGVmdCwgYm9yZGVyTGVmdENvbG9yLCBib3JkZXJMZWZ0U3R5bGUsIGJvcmRlckxlZnRXaWR0aCwgYm9yZGVyUmFkaXVzLCBib3JkZXJSaWdodCwgYm9yZGVyUmlnaHRDb2xvciwgYm9yZGVyUmlnaHRTdHlsZSwgYm9yZGVyUmlnaHRXaWR0aCwgYm9yZGVyU3BhY2luZywgYm9yZGVyU3RhcnRFbmRSYWRpdXMsIGJvcmRlclN0YXJ0U3RhcnRSYWRpdXMsIGJvcmRlclN0eWxlLCBib3JkZXJUb3AsIGJvcmRlclRvcENvbG9yLCBib3JkZXJUb3BMZWZ0UmFkaXVzLCBib3JkZXJUb3BSaWdodFJhZGl1cywgYm9yZGVyVG9wU3R5bGUsIGJvcmRlclRvcFdpZHRoLCBib3JkZXJXaWR0aCwgYm94U2hhZG93LCBib3hTaXppbmcsIGJyZWFrQWZ0ZXIsIGJyZWFrQmVmb3JlLCBicmVha0luc2lkZSwgYnVmZmVyZWRSZW5kZXJpbmcsIGNhcHRpb25TaWRlLCBjYXJldENvbG9yLCBjbGlwUGF0aCwgY2xpcFJ1bGUsIGNvbG9ySW50ZXJwb2xhdGlvbiwgY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVycywgY29sb3JSZW5kZXJpbmcsIGNvbG9yU2NoZW1lLCBjb2x1bW5Db3VudCwgY29sdW1uRmlsbCwgY29sdW1uR2FwLCBjb2x1bW5SdWxlLCBjb2x1bW5SdWxlQ29sb3IsIGNvbHVtblJ1bGVTdHlsZSwgY29sdW1uUnVsZVdpZHRoLCBjb2x1bW5TcGFuLCBjb2x1bW5XaWR0aCwgY29sdW1ucywgY29udGFpbiwgY29udGFpbkludHJpbnNpY0Jsb2NrU2l6ZSwgY29udGFpbkludHJpbnNpY0hlaWdodCwgY29udGFpbkludHJpbnNpY0lubGluZVNpemUsIGNvbnRhaW5JbnRyaW5zaWNTaXplLCBjb250YWluSW50cmluc2ljV2lkdGgsIGNvbnRhaW5lciwgY29udGFpbmVyTmFtZSwgY29udGFpbmVyVHlwZSwgY29udGVudFZpc2liaWxpdHksIGNvdW50ZXJJbmNyZW1lbnQsIGNvdW50ZXJSZXNldCwgY291bnRlclNldCwgZGVzY2VudE92ZXJyaWRlLCBkb21pbmFudEJhc2VsaW5lLCBlbXB0eUNlbGxzLCBmYWxsYmFjaywgZmlsbE9wYWNpdHksIGZpbGxSdWxlLCBmbGV4LCBmbGV4QmFzaXMsIGZsZXhEaXJlY3Rpb24sIGZsZXhGbG93LCBmbGV4R3JvdywgZmxleFNocmluaywgZmxleFdyYXAsIGZsb29kQ29sb3IsIGZsb29kT3BhY2l0eSwgZm9udCwgZm9udERpc3BsYXksIGZvbnRGYW1pbHksIGZvbnRGZWF0dXJlU2V0dGluZ3MsIGZvbnRLZXJuaW5nLCBmb250T3B0aWNhbFNpemluZywgZm9udFBhbGV0dGUsIGZvbnRTaXplLCBmb250U3RyZXRjaCwgZm9udFN0eWxlLCBmb250U3ludGhlc2lzLCBmb250U3ludGhlc2lzU21hbGxDYXBzLCBmb250U3ludGhlc2lzU3R5bGUsIGZvbnRTeW50aGVzaXNXZWlnaHQsIGZvbnRWYXJpYW50LCBmb250VmFyaWFudENhcHMsIGZvbnRWYXJpYW50RWFzdEFzaWFuLCBmb250VmFyaWFudExpZ2F0dXJlcywgZm9udFZhcmlhbnROdW1lcmljLCBmb250VmFyaWF0aW9uU2V0dGluZ3MsIGZvbnRXZWlnaHQsIGZvcmNlZENvbG9yQWRqdXN0LCBnYXAsIGdyaWQsIGdyaWRBcmVhLCBncmlkQXV0b0NvbHVtbnMsIGdyaWRBdXRvRmxvdywgZ3JpZEF1dG9Sb3dzLCBncmlkQ29sdW1uLCBncmlkQ29sdW1uRW5kLCBncmlkQ29sdW1uR2FwLCBncmlkQ29sdW1uU3RhcnQsIGdyaWRHYXAsIGdyaWRSb3csIGdyaWRSb3dFbmQsIGdyaWRSb3dHYXAsIGdyaWRSb3dTdGFydCwgZ3JpZFRlbXBsYXRlLCBncmlkVGVtcGxhdGVBcmVhcywgZ3JpZFRlbXBsYXRlQ29sdW1ucywgZ3JpZFRlbXBsYXRlUm93cywgaHlwaGVuYXRlQ2hhcmFjdGVyLCBoeXBoZW5hdGVMaW1pdENoYXJzLCBpbWFnZU9yaWVudGF0aW9uLCBpbWFnZVJlbmRlcmluZywgaW5oZXJpdHMsIGluaXRpYWxWYWx1ZSwgaW5saW5lU2l6ZSwgaW5zZXQsIGluc2V0QmxvY2ssIGluc2V0QmxvY2tFbmQsIGluc2V0QmxvY2tTdGFydCwgaW5zZXRJbmxpbmUsIGluc2V0SW5saW5lRW5kLCBpbnNldElubGluZVN0YXJ0LCBqdXN0aWZ5Q29udGVudCwganVzdGlmeUl0ZW1zLCBqdXN0aWZ5U2VsZiwgbGV0dGVyU3BhY2luZywgbGlnaHRpbmdDb2xvciwgbGluZUJyZWFrLCBsaW5lR2FwT3ZlcnJpZGUsIGxpbmVIZWlnaHQsIGxpc3RTdHlsZSwgbGlzdFN0eWxlSW1hZ2UsIGxpc3RTdHlsZVBvc2l0aW9uLCBsaXN0U3R5bGVUeXBlLCBtYXJnaW4sIG1hcmdpbkJsb2NrLCBtYXJnaW5CbG9ja0VuZCwgbWFyZ2luQmxvY2tTdGFydCwgbWFyZ2luQm90dG9tLCBtYXJnaW5JbmxpbmUsIG1hcmdpbklubGluZUVuZCwgbWFyZ2luSW5saW5lU3RhcnQsIG1hcmdpbkxlZnQsIG1hcmdpblJpZ2h0LCBtYXJnaW5Ub3AsIG1hcmtlciwgbWFya2VyRW5kLCBtYXJrZXJNaWQsIG1hcmtlclN0YXJ0LCBtYXNrLCBtYXNrVHlwZSwgbWF0aERlcHRoLCBtYXRoU2hpZnQsIG1hdGhTdHlsZSwgbWF4QmxvY2tTaXplLCBtYXhIZWlnaHQsIG1heElubGluZVNpemUsIG1heFdpZHRoLCBtaW5CbG9ja1NpemUsIG1pbkhlaWdodCwgbWluSW5saW5lU2l6ZSwgbWluV2lkdGgsIG1peEJsZW5kTW9kZSwgbmVnYXRpdmUsIG9iamVjdEZpdCwgb2JqZWN0UG9zaXRpb24sIG9iamVjdFZpZXdCb3gsIG9mZnNldCwgb2Zmc2V0RGlzdGFuY2UsIG9mZnNldFBhdGgsIG9mZnNldFJvdGF0ZSwgb3V0bGluZSwgb3V0bGluZUNvbG9yLCBvdXRsaW5lT2Zmc2V0LCBvdXRsaW5lU3R5bGUsIG91dGxpbmVXaWR0aCwgb3ZlcmZsb3csIG92ZXJmbG93QW5jaG9yLCBvdmVyZmxvd0NsaXBNYXJnaW4sIG92ZXJmbG93V3JhcCwgb3ZlcmZsb3dYLCBvdmVyZmxvd1ksIG92ZXJyaWRlQ29sb3JzLCBvdmVyc2Nyb2xsQmVoYXZpb3IsIG92ZXJzY3JvbGxCZWhhdmlvckJsb2NrLCBvdmVyc2Nyb2xsQmVoYXZpb3JJbmxpbmUsIG92ZXJzY3JvbGxCZWhhdmlvclgsIG92ZXJzY3JvbGxCZWhhdmlvclksIHBhZCwgcGFkZGluZywgcGFkZGluZ0Jsb2NrLCBwYWRkaW5nQmxvY2tFbmQsIHBhZGRpbmdCbG9ja1N0YXJ0LCBwYWRkaW5nQm90dG9tLCBwYWRkaW5nSW5saW5lLCBwYWRkaW5nSW5saW5lRW5kLCBwYWRkaW5nSW5saW5lU3RhcnQsIHBhZGRpbmdMZWZ0LCBwYWRkaW5nUmlnaHQsIHBhZGRpbmdUb3AsIHBhZ2UsIHBhZ2VCcmVha0FmdGVyLCBwYWdlQnJlYWtCZWZvcmUsIHBhZ2VCcmVha0luc2lkZSwgcGFnZU9yaWVudGF0aW9uLCBwYWludE9yZGVyLCBwZXJzcGVjdGl2ZU9yaWdpbiwgcGxhY2VDb250ZW50LCBwbGFjZUl0ZW1zLCBwbGFjZVNlbGYsIHBvaW50ZXJFdmVudHMsIHByZWZpeCwgcXVvdGVzLCByYW5nZSwgcm93R2FwLCBydWJ5UG9zaXRpb24sIHNjcm9sbEJlaGF2aW9yLCBzY3JvbGxNYXJnaW4sIHNjcm9sbE1hcmdpbkJsb2NrLCBzY3JvbGxNYXJnaW5CbG9ja0VuZCwgc2Nyb2xsTWFyZ2luQmxvY2tTdGFydCwgc2Nyb2xsTWFyZ2luQm90dG9tLCBzY3JvbGxNYXJnaW5JbmxpbmUsIHNjcm9sbE1hcmdpbklubGluZUVuZCwgc2Nyb2xsTWFyZ2luSW5saW5lU3RhcnQsIHNjcm9sbE1hcmdpbkxlZnQsIHNjcm9sbE1hcmdpblJpZ2h0LCBzY3JvbGxNYXJnaW5Ub3AsIHNjcm9sbFBhZGRpbmcsIHNjcm9sbFBhZGRpbmdCbG9jaywgc2Nyb2xsUGFkZGluZ0Jsb2NrRW5kLCBzY3JvbGxQYWRkaW5nQmxvY2tTdGFydCwgc2Nyb2xsUGFkZGluZ0JvdHRvbSwgc2Nyb2xsUGFkZGluZ0lubGluZSwgc2Nyb2xsUGFkZGluZ0lubGluZUVuZCwgc2Nyb2xsUGFkZGluZ0lubGluZVN0YXJ0LCBzY3JvbGxQYWRkaW5nTGVmdCwgc2Nyb2xsUGFkZGluZ1JpZ2h0LCBzY3JvbGxQYWRkaW5nVG9wLCBzY3JvbGxTbmFwQWxpZ24sIHNjcm9sbFNuYXBTdG9wLCBzY3JvbGxTbmFwVHlwZSwgc2Nyb2xsYmFyR3V0dGVyLCBzaGFwZUltYWdlVGhyZXNob2xkLCBzaGFwZU1hcmdpbiwgc2hhcGVPdXRzaWRlLCBzaGFwZVJlbmRlcmluZywgc2l6ZSwgc2l6ZUFkanVzdCwgc3BlYWtBcywgc3JjLCBzdG9wQ29sb3IsIHN0b3BPcGFjaXR5LCBzdHJva2VEYXNoYXJyYXksIHN0cm9rZURhc2hvZmZzZXQsIHN0cm9rZUxpbmVjYXAsIHN0cm9rZUxpbmVqb2luLCBzdHJva2VNaXRlcmxpbWl0LCBzdHJva2VPcGFjaXR5LCBzdHJva2VXaWR0aCwgc3VmZml4LCBzeW1ib2xzLCBzeW50YXgsIHN5c3RlbSwgdGFiU2l6ZSwgdGFibGVMYXlvdXQsIHRleHRBbGlnbiwgdGV4dEFsaWduTGFzdCwgdGV4dEFuY2hvciwgdGV4dENvbWJpbmVVcHJpZ2h0LCB0ZXh0RGVjb3JhdGlvbiwgdGV4dERlY29yYXRpb25Db2xvciwgdGV4dERlY29yYXRpb25MaW5lLCB0ZXh0RGVjb3JhdGlvblNraXBJbmssIHRleHREZWNvcmF0aW9uU3R5bGUsIHRleHREZWNvcmF0aW9uVGhpY2tuZXNzLCB0ZXh0RW1waGFzaXMsIHRleHRFbXBoYXNpc0NvbG9yLCB0ZXh0RW1waGFzaXNQb3NpdGlvbiwgdGV4dEVtcGhhc2lzU3R5bGUsIHRleHRJbmRlbnQsIHRleHRPcmllbnRhdGlvbiwgdGV4dE92ZXJmbG93LCB0ZXh0UmVuZGVyaW5nLCB0ZXh0U2hhZG93LCB0ZXh0U2l6ZUFkanVzdCwgdGV4dFRyYW5zZm9ybSwgdGV4dFVuZGVybGluZU9mZnNldCwgdGV4dFVuZGVybGluZVBvc2l0aW9uLCB0b3VjaEFjdGlvbiwgdHJhbnNmb3JtQm94LCB0cmFuc2Zvcm1PcmlnaW4sIHRyYW5zZm9ybVN0eWxlLCB0cmFuc2l0aW9uLCB0cmFuc2l0aW9uRGVsYXksIHRyYW5zaXRpb25EdXJhdGlvbiwgdHJhbnNpdGlvblByb3BlcnR5LCB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24sIHVuaWNvZGVCaWRpLCB1bmljb2RlUmFuZ2UsIHVzZXJTZWxlY3QsIHZlY3RvckVmZmVjdCwgdmVydGljYWxBbGlnbiwgd2Via2l0QWxpZ25Db250ZW50LCB3ZWJraXRBbGlnbkl0ZW1zLCB3ZWJraXRBbGlnblNlbGYsIHdlYmtpdEFuaW1hdGlvbiwgd2Via2l0QW5pbWF0aW9uRGVsYXksIHdlYmtpdEFuaW1hdGlvbkRpcmVjdGlvbiwgd2Via2l0QW5pbWF0aW9uRHVyYXRpb24sIHdlYmtpdEFuaW1hdGlvbkZpbGxNb2RlLCB3ZWJraXRBbmltYXRpb25JdGVyYXRpb25Db3VudCwgd2Via2l0QW5pbWF0aW9uTmFtZSwgd2Via2l0QW5pbWF0aW9uUGxheVN0YXRlLCB3ZWJraXRBbmltYXRpb25UaW1pbmdGdW5jdGlvbiwgd2Via2l0QXBwUmVnaW9uLCB3ZWJraXRBcHBlYXJhbmNlLCB3ZWJraXRCYWNrZmFjZVZpc2liaWxpdHksIHdlYmtpdEJhY2tncm91bmRDbGlwLCB3ZWJraXRCYWNrZ3JvdW5kT3JpZ2luLCB3ZWJraXRCYWNrZ3JvdW5kU2l6ZSwgd2Via2l0Qm9yZGVyQWZ0ZXIsIHdlYmtpdEJvcmRlckFmdGVyQ29sb3IsIHdlYmtpdEJvcmRlckFmdGVyU3R5bGUsIHdlYmtpdEJvcmRlckFmdGVyV2lkdGgsIHdlYmtpdEJvcmRlckJlZm9yZSwgd2Via2l0Qm9yZGVyQmVmb3JlQ29sb3IsIHdlYmtpdEJvcmRlckJlZm9yZVN0eWxlLCB3ZWJraXRCb3JkZXJCZWZvcmVXaWR0aCwgd2Via2l0Qm9yZGVyQm90dG9tTGVmdFJhZGl1cywgd2Via2l0Qm9yZGVyQm90dG9tUmlnaHRSYWRpdXMsIHdlYmtpdEJvcmRlckVuZCwgd2Via2l0Qm9yZGVyRW5kQ29sb3IsIHdlYmtpdEJvcmRlckVuZFN0eWxlLCB3ZWJraXRCb3JkZXJFbmRXaWR0aCwgd2Via2l0Qm9yZGVySG9yaXpvbnRhbFNwYWNpbmcsIHdlYmtpdEJvcmRlckltYWdlLCB3ZWJraXRCb3JkZXJSYWRpdXMsIHdlYmtpdEJvcmRlclN0YXJ0LCB3ZWJraXRCb3JkZXJTdGFydENvbG9yLCB3ZWJraXRCb3JkZXJTdGFydFN0eWxlLCB3ZWJraXRCb3JkZXJTdGFydFdpZHRoLCB3ZWJraXRCb3JkZXJUb3BMZWZ0UmFkaXVzLCB3ZWJraXRCb3JkZXJUb3BSaWdodFJhZGl1cywgd2Via2l0Qm9yZGVyVmVydGljYWxTcGFjaW5nLCB3ZWJraXRCb3hBbGlnbiwgd2Via2l0Qm94RGVjb3JhdGlvbkJyZWFrLCB3ZWJraXRCb3hEaXJlY3Rpb24sIHdlYmtpdEJveEZsZXgsIHdlYmtpdEJveE9yZGluYWxHcm91cCwgd2Via2l0Qm94T3JpZW50LCB3ZWJraXRCb3hQYWNrLCB3ZWJraXRCb3hSZWZsZWN0LCB3ZWJraXRCb3hTaGFkb3csIHdlYmtpdEJveFNpemluZywgd2Via2l0Q2xpcFBhdGgsIHdlYmtpdENvbHVtbkJyZWFrQWZ0ZXIsIHdlYmtpdENvbHVtbkJyZWFrQmVmb3JlLCB3ZWJraXRDb2x1bW5CcmVha0luc2lkZSwgd2Via2l0Q29sdW1uQ291bnQsIHdlYmtpdENvbHVtbkdhcCwgd2Via2l0Q29sdW1uUnVsZSwgd2Via2l0Q29sdW1uUnVsZUNvbG9yLCB3ZWJraXRDb2x1bW5SdWxlU3R5bGUsIHdlYmtpdENvbHVtblJ1bGVXaWR0aCwgd2Via2l0Q29sdW1uU3Bhbiwgd2Via2l0Q29sdW1uV2lkdGgsIHdlYmtpdENvbHVtbnMsIHdlYmtpdEZpbHRlciwgd2Via2l0RmxleCwgd2Via2l0RmxleEJhc2lzLCB3ZWJraXRGbGV4RGlyZWN0aW9uLCB3ZWJraXRGbGV4Rmxvdywgd2Via2l0RmxleEdyb3csIHdlYmtpdEZsZXhTaHJpbmssIHdlYmtpdEZsZXhXcmFwLCB3ZWJraXRGb250RmVhdHVyZVNldHRpbmdzLCB3ZWJraXRGb250U21vb3RoaW5nLCB3ZWJraXRIaWdobGlnaHQsIHdlYmtpdEh5cGhlbmF0ZUNoYXJhY3Rlciwgd2Via2l0SnVzdGlmeUNvbnRlbnQsIHdlYmtpdExpbmVCcmVhaywgd2Via2l0TGluZUNsYW1wLCB3ZWJraXRMb2NhbGUsIHdlYmtpdExvZ2ljYWxIZWlnaHQsIHdlYmtpdExvZ2ljYWxXaWR0aCwgd2Via2l0TWFyZ2luQWZ0ZXIsIHdlYmtpdE1hcmdpbkJlZm9yZSwgd2Via2l0TWFyZ2luRW5kLCB3ZWJraXRNYXJnaW5TdGFydCwgd2Via2l0TWFzaywgd2Via2l0TWFza0JveEltYWdlLCB3ZWJraXRNYXNrQm94SW1hZ2VPdXRzZXQsIHdlYmtpdE1hc2tCb3hJbWFnZVJlcGVhdCwgd2Via2l0TWFza0JveEltYWdlU2xpY2UsIHdlYmtpdE1hc2tCb3hJbWFnZVNvdXJjZSwgd2Via2l0TWFza0JveEltYWdlV2lkdGgsIHdlYmtpdE1hc2tDbGlwLCB3ZWJraXRNYXNrQ29tcG9zaXRlLCB3ZWJraXRNYXNrSW1hZ2UsIHdlYmtpdE1hc2tPcmlnaW4sIHdlYmtpdE1hc2tQb3NpdGlvbiwgd2Via2l0TWFza1Bvc2l0aW9uWCwgd2Via2l0TWFza1Bvc2l0aW9uWSwgd2Via2l0TWFza1JlcGVhdCwgd2Via2l0TWFza1JlcGVhdFgsIHdlYmtpdE1hc2tSZXBlYXRZLCB3ZWJraXRNYXNrU2l6ZSwgd2Via2l0TWF4TG9naWNhbEhlaWdodCwgd2Via2l0TWF4TG9naWNhbFdpZHRoLCB3ZWJraXRNaW5Mb2dpY2FsSGVpZ2h0LCB3ZWJraXRNaW5Mb2dpY2FsV2lkdGgsIHdlYmtpdE9wYWNpdHksIHdlYmtpdE9yZGVyLCB3ZWJraXRQYWRkaW5nQWZ0ZXIsIHdlYmtpdFBhZGRpbmdCZWZvcmUsIHdlYmtpdFBhZGRpbmdFbmQsIHdlYmtpdFBhZGRpbmdTdGFydCwgd2Via2l0UGVyc3BlY3RpdmUsIHdlYmtpdFBlcnNwZWN0aXZlT3JpZ2luLCB3ZWJraXRQZXJzcGVjdGl2ZU9yaWdpblgsIHdlYmtpdFBlcnNwZWN0aXZlT3JpZ2luWSwgd2Via2l0UHJpbnRDb2xvckFkanVzdCwgd2Via2l0UnRsT3JkZXJpbmcsIHdlYmtpdFJ1YnlQb3NpdGlvbiwgd2Via2l0U2hhcGVJbWFnZVRocmVzaG9sZCwgd2Via2l0U2hhcGVNYXJnaW4sIHdlYmtpdFNoYXBlT3V0c2lkZSwgd2Via2l0VGFwSGlnaGxpZ2h0Q29sb3IsIHdlYmtpdFRleHRDb21iaW5lLCB3ZWJraXRUZXh0RGVjb3JhdGlvbnNJbkVmZmVjdCwgd2Via2l0VGV4dEVtcGhhc2lzLCB3ZWJraXRUZXh0RW1waGFzaXNDb2xvciwgd2Via2l0VGV4dEVtcGhhc2lzUG9zaXRpb24sIHdlYmtpdFRleHRFbXBoYXNpc1N0eWxlLCB3ZWJraXRUZXh0RmlsbENvbG9yLCB3ZWJraXRUZXh0T3JpZW50YXRpb24sIHdlYmtpdFRleHRTZWN1cml0eSwgd2Via2l0VGV4dFNpemVBZGp1c3QsIHdlYmtpdFRleHRTdHJva2UsIHdlYmtpdFRleHRTdHJva2VDb2xvciwgd2Via2l0VGV4dFN0cm9rZVdpZHRoLCB3ZWJraXRUcmFuc2Zvcm0sIHdlYmtpdFRyYW5zZm9ybU9yaWdpbiwgd2Via2l0VHJhbnNmb3JtT3JpZ2luWCwgd2Via2l0VHJhbnNmb3JtT3JpZ2luWSwgd2Via2l0VHJhbnNmb3JtT3JpZ2luWiwgd2Via2l0VHJhbnNmb3JtU3R5bGUsIHdlYmtpdFRyYW5zaXRpb24sIHdlYmtpdFRyYW5zaXRpb25EZWxheSwgd2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uLCB3ZWJraXRUcmFuc2l0aW9uUHJvcGVydHksIHdlYmtpdFRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiwgd2Via2l0VXNlckRyYWcsIHdlYmtpdFVzZXJNb2RpZnksIHdlYmtpdFVzZXJTZWxlY3QsIHdlYmtpdFdyaXRpbmdNb2RlLCB3aGl0ZVNwYWNlLCB3aWxsQ2hhbmdlLCB3b3JkQnJlYWssIHdvcmRTcGFjaW5nLCB3b3JkV3JhcCwgd3JpdGluZ01vZGUsIHpJbmRleCwgYWRkaXRpdmUtc3ltYm9scywgYXNjZW50LW92ZXJyaWRlLCBhc3BlY3QtcmF0aW8sIGJhY2tncm91bmQtcG9zaXRpb24teCwgYmFja2dyb3VuZC1wb3NpdGlvbi15LCBiYWNrZ3JvdW5kLXJlcGVhdC14LCBiYWNrZ3JvdW5kLXJlcGVhdC15LCBiYXNlLXBhbGV0dGUsIGJvcmRlci1ibG9jaywgYm9yZGVyLWJsb2NrLWNvbG9yLCBib3JkZXItYmxvY2stZW5kLCBib3JkZXItYmxvY2stc3RhcnQsIGJvcmRlci1ibG9jay1zdHlsZSwgYm9yZGVyLWJsb2NrLXdpZHRoLCBib3JkZXItYm90dG9tLCBib3JkZXItY29sb3IsIGJvcmRlci1pbWFnZSwgYm9yZGVyLWlubGluZSwgYm9yZGVyLWlubGluZS1jb2xvciwgYm9yZGVyLWlubGluZS1lbmQsIGJvcmRlci1pbmxpbmUtc3RhcnQsIGJvcmRlci1pbmxpbmUtc3R5bGUsIGJvcmRlci1pbmxpbmUtd2lkdGgsIGJvcmRlci1sZWZ0LCBib3JkZXItcmFkaXVzLCBib3JkZXItcmlnaHQsIGJvcmRlci1zcGFjaW5nLCBib3JkZXItc3R5bGUsIGJvcmRlci10b3AsIGJvcmRlci13aWR0aCwgY29sb3Itc2NoZW1lLCBjb2x1bW4tZmlsbCwgY29sdW1uLXJ1bGUsIGNvbnRlbnQtdmlzaWJpbGl0eSwgY291bnRlci1pbmNyZW1lbnQsIGNvdW50ZXItcmVzZXQsIGNvdW50ZXItc2V0LCBkZXNjZW50LW92ZXJyaWRlLCBmbGV4LWZsb3csIGZvbnQtZGlzcGxheSwgZm9udC1mZWF0dXJlLXNldHRpbmdzLCBmb250LXN5bnRoZXNpcywgZm9udC12YXJpYXRpb24tc2V0dGluZ3MsIGZvcmNlZC1jb2xvci1hZGp1c3QsIGdyaWQtYXJlYSwgZ3JpZC1jb2x1bW4sIGdyaWQtY29sdW1uLWdhcCwgZ3JpZC1nYXAsIGdyaWQtcm93LCBncmlkLXJvdy1nYXAsIGdyaWQtdGVtcGxhdGUsIGluaXRpYWwtdmFsdWUsIGluc2V0LWJsb2NrLCBpbnNldC1pbmxpbmUsIGxpbmUtZ2FwLW92ZXJyaWRlLCBsaXN0LXN0eWxlLCBtYXJnaW4tYmxvY2ssIG1hcmdpbi1pbmxpbmUsIG92ZXJyaWRlLWNvbG9ycywgb3ZlcnNjcm9sbC1iZWhhdmlvciwgb3ZlcnNjcm9sbC1iZWhhdmlvci14LCBvdmVyc2Nyb2xsLWJlaGF2aW9yLXksIHBhZGRpbmctYmxvY2ssIHBhZGRpbmctaW5saW5lLCBwYWdlLWJyZWFrLWFmdGVyLCBwYWdlLWJyZWFrLWJlZm9yZSwgcGFnZS1icmVhay1pbnNpZGUsIHBhZ2Utb3JpZW50YXRpb24sIHBsYWNlLWNvbnRlbnQsIHBsYWNlLWl0ZW1zLCBwbGFjZS1zZWxmLCBzY3JvbGwtbWFyZ2luLCBzY3JvbGwtbWFyZ2luLWJsb2NrLCBzY3JvbGwtbWFyZ2luLWJvdHRvbSwgc2Nyb2xsLW1hcmdpbi1pbmxpbmUsIHNjcm9sbC1tYXJnaW4tbGVmdCwgc2Nyb2xsLW1hcmdpbi1yaWdodCwgc2Nyb2xsLW1hcmdpbi10b3AsIHNjcm9sbC1wYWRkaW5nLCBzY3JvbGwtcGFkZGluZy1ibG9jaywgc2Nyb2xsLXBhZGRpbmctYm90dG9tLCBzY3JvbGwtcGFkZGluZy1pbmxpbmUsIHNjcm9sbC1wYWRkaW5nLWxlZnQsIHNjcm9sbC1wYWRkaW5nLXJpZ2h0LCBzY3JvbGwtcGFkZGluZy10b3AsIHNjcm9sbC1zbmFwLWFsaWduLCBzY3JvbGwtc25hcC1zdG9wLCBzY3JvbGwtc25hcC10eXBlLCBzaXplLWFkanVzdCwgc3BlYWstYXMsIHRleHQtY29tYmluZS11cHJpZ2h0LCB0ZXh0LWRlY29yYXRpb24tdGhpY2tuZXNzLCB0ZXh0LWVtcGhhc2lzLCB0ZXh0LW9yaWVudGF0aW9uLCB0ZXh0LXVuZGVybGluZS1vZmZzZXQsIHRyYW5zZm9ybS1ib3gsIHVuaWNvZGUtcmFuZ2UsIC13ZWJraXQtYWxpZ24tY29udGVudCwgLXdlYmtpdC1hbGlnbi1pdGVtcywgLXdlYmtpdC1hbGlnbi1zZWxmLCAtd2Via2l0LWFuaW1hdGlvbiwgLXdlYmtpdC1hbmltYXRpb24tZGVsYXksIC13ZWJraXQtYW5pbWF0aW9uLWRpcmVjdGlvbiwgLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb24sIC13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZSwgLXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50LCAtd2Via2l0LWFuaW1hdGlvbi1uYW1lLCAtd2Via2l0LWFuaW1hdGlvbi1wbGF5LXN0YXRlLCAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24sIC13ZWJraXQtYXBwLXJlZ2lvbiwgLXdlYmtpdC1hcHBlYXJhbmNlLCAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHksIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwLCAtd2Via2l0LWJhY2tncm91bmQtb3JpZ2luLCAtd2Via2l0LWJhY2tncm91bmQtc2l6ZSwgLXdlYmtpdC1ib3JkZXItYWZ0ZXIsIC13ZWJraXQtYm9yZGVyLWFmdGVyLWNvbG9yLCAtd2Via2l0LWJvcmRlci1hZnRlci1zdHlsZSwgLXdlYmtpdC1ib3JkZXItYWZ0ZXItd2lkdGgsIC13ZWJraXQtYm9yZGVyLWJlZm9yZSwgLXdlYmtpdC1ib3JkZXItYmVmb3JlLWNvbG9yLCAtd2Via2l0LWJvcmRlci1iZWZvcmUtc3R5bGUsIC13ZWJraXQtYm9yZGVyLWJlZm9yZS13aWR0aCwgLXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzLCAtd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzLCAtd2Via2l0LWJvcmRlci1lbmQsIC13ZWJraXQtYm9yZGVyLWVuZC1jb2xvciwgLXdlYmtpdC1ib3JkZXItZW5kLXN0eWxlLCAtd2Via2l0LWJvcmRlci1lbmQtd2lkdGgsIC13ZWJraXQtYm9yZGVyLXJhZGl1cywgLXdlYmtpdC1ib3JkZXItc3RhcnQsIC13ZWJraXQtYm9yZGVyLXN0YXJ0LWNvbG9yLCAtd2Via2l0LWJvcmRlci1zdGFydC1zdHlsZSwgLXdlYmtpdC1ib3JkZXItc3RhcnQtd2lkdGgsIC13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1cywgLXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1cywgLXdlYmtpdC1ib3gtc2hhZG93LCAtd2Via2l0LWJveC1zaXppbmcsIC13ZWJraXQtY2xpcC1wYXRoLCAtd2Via2l0LWNvbHVtbi1icmVhay1hZnRlciwgLXdlYmtpdC1jb2x1bW4tYnJlYWstYmVmb3JlLCAtd2Via2l0LWNvbHVtbi1icmVhay1pbnNpZGUsIC13ZWJraXQtY29sdW1uLWNvdW50LCAtd2Via2l0LWNvbHVtbi1nYXAsIC13ZWJraXQtY29sdW1uLXJ1bGUsIC13ZWJraXQtY29sdW1uLXJ1bGUtY29sb3IsIC13ZWJraXQtY29sdW1uLXJ1bGUtc3R5bGUsIC13ZWJraXQtY29sdW1uLXJ1bGUtd2lkdGgsIC13ZWJraXQtY29sdW1uLXNwYW4sIC13ZWJraXQtY29sdW1uLXdpZHRoLCAtd2Via2l0LWNvbHVtbnMsIC13ZWJraXQtZmlsdGVyLCAtd2Via2l0LWZsZXgsIC13ZWJraXQtZmxleC1iYXNpcywgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbiwgLXdlYmtpdC1mbGV4LWZsb3csIC13ZWJraXQtZmxleC1ncm93LCAtd2Via2l0LWZsZXgtc2hyaW5rLCAtd2Via2l0LWZsZXgtd3JhcCwgLXdlYmtpdC1mb250LWZlYXR1cmUtc2V0dGluZ3MsIC13ZWJraXQtaHlwaGVuYXRlLWNoYXJhY3RlciwgLXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQsIC13ZWJraXQtbG9naWNhbC1oZWlnaHQsIC13ZWJraXQtbG9naWNhbC13aWR0aCwgLXdlYmtpdC1tYXJnaW4tYWZ0ZXIsIC13ZWJraXQtbWFyZ2luLWJlZm9yZSwgLXdlYmtpdC1tYXJnaW4tZW5kLCAtd2Via2l0LW1hcmdpbi1zdGFydCwgLXdlYmtpdC1tYXNrLCAtd2Via2l0LW1hc2stcG9zaXRpb24teCwgLXdlYmtpdC1tYXNrLXBvc2l0aW9uLXksIC13ZWJraXQtbWFzay1yZXBlYXQteCwgLXdlYmtpdC1tYXNrLXJlcGVhdC15LCAtd2Via2l0LW1heC1sb2dpY2FsLWhlaWdodCwgLXdlYmtpdC1tYXgtbG9naWNhbC13aWR0aCwgLXdlYmtpdC1taW4tbG9naWNhbC1oZWlnaHQsIC13ZWJraXQtbWluLWxvZ2ljYWwtd2lkdGgsIC13ZWJraXQtb3BhY2l0eSwgLXdlYmtpdC1vcmRlciwgLXdlYmtpdC1wYWRkaW5nLWFmdGVyLCAtd2Via2l0LXBhZGRpbmctYmVmb3JlLCAtd2Via2l0LXBhZGRpbmctZW5kLCAtd2Via2l0LXBhZGRpbmctc3RhcnQsIC13ZWJraXQtcGVyc3BlY3RpdmUsIC13ZWJraXQtcGVyc3BlY3RpdmUtb3JpZ2luLCAtd2Via2l0LXBlcnNwZWN0aXZlLW9yaWdpbi14LCAtd2Via2l0LXBlcnNwZWN0aXZlLW9yaWdpbi15LCAtd2Via2l0LXJ1YnktcG9zaXRpb24sIC13ZWJraXQtc2hhcGUtaW1hZ2UtdGhyZXNob2xkLCAtd2Via2l0LXNoYXBlLW1hcmdpbiwgLXdlYmtpdC1zaGFwZS1vdXRzaWRlLCAtd2Via2l0LXRleHQtZW1waGFzaXMsIC13ZWJraXQtdGV4dC1lbXBoYXNpcy1jb2xvciwgLXdlYmtpdC10ZXh0LWVtcGhhc2lzLXBvc2l0aW9uLCAtd2Via2l0LXRleHQtZW1waGFzaXMtc3R5bGUsIC13ZWJraXQtdGV4dC1zaXplLWFkanVzdCwgLXdlYmtpdC10ZXh0LXN0cm9rZSwgLXdlYmtpdC10cmFuc2Zvcm0sIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbiwgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXgsIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbi15LCAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW4teiwgLXdlYmtpdC10cmFuc2Zvcm0tc3R5bGUsIC13ZWJraXQtdHJhbnNpdGlvbiwgLXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5LCAtd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb24sIC13ZWJraXQtdHJhbnNpdGlvbi1wcm9wZXJ0eSwgLXdlYmtpdC10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiwgLXdlYmtpdC11c2VyLXNlbGVjdCwgd29yZC13cmFwYCwNCiAgICAgICAgICAgIGpzS2V5czogJ09iamVjdC5hc3NpZ24sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcywgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scywgT2JqZWN0Lmhhc093biwgT2JqZWN0LmlzLCBPYmplY3QucHJldmVudEV4dGVuc2lvbnMsIE9iamVjdC5zZWFsLCBPYmplY3QuY3JlYXRlLCBPYmplY3QuZGVmaW5lUHJvcGVydGllcywgT2JqZWN0LmRlZmluZVByb3BlcnR5LCBPYmplY3QuZnJlZXplLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdC5zZXRQcm90b3R5cGVPZiwgT2JqZWN0LmlzRXh0ZW5zaWJsZSwgT2JqZWN0LmlzRnJvemVuLCBPYmplY3QuaXNTZWFsZWQsIE9iamVjdC5rZXlzLCBPYmplY3QuZW50cmllcywgT2JqZWN0LmZyb21FbnRyaWVzLCBPYmplY3QudmFsdWVzLCBPYmplY3QuX19kZWZpbmVHZXR0ZXJfXywgT2JqZWN0Ll9fZGVmaW5lU2V0dGVyX18sIE9iamVjdC5oYXNPd25Qcm9wZXJ0eSwgT2JqZWN0Ll9fbG9va3VwR2V0dGVyX18sIE9iamVjdC5fX2xvb2t1cFNldHRlcl9fLCBPYmplY3QuaXNQcm90b3R5cGVPZiwgT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlLCBPYmplY3QudG9TdHJpbmcsIE9iamVjdC52YWx1ZU9mLCBPYmplY3QuX19wcm90b19fLCBPYmplY3QudG9Mb2NhbGVTdHJpbmcsIEZ1bmN0aW9uLmFwcGx5LCBGdW5jdGlvbi5iaW5kLCBGdW5jdGlvbi5jYWxsLCBGdW5jdGlvbi50b1N0cmluZywgQm9vbGVhbi50b1N0cmluZywgQm9vbGVhbi52YWx1ZU9mLCBTeW1ib2wuZm9yLCBTeW1ib2wua2V5Rm9yLCBTeW1ib2wuYXN5bmNJdGVyYXRvciwgU3ltYm9sLmhhc0luc3RhbmNlLCBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlLCBTeW1ib2wuaXRlcmF0b3IsIFN5bWJvbC5tYXRjaCwgU3ltYm9sLm1hdGNoQWxsLCBTeW1ib2wucmVwbGFjZSwgU3ltYm9sLnNlYXJjaCwgU3ltYm9sLnNwZWNpZXMsIFN5bWJvbC5zcGxpdCwgU3ltYm9sLnRvUHJpbWl0aXZlLCBTeW1ib2wudG9TdHJpbmdUYWcsIFN5bWJvbC51bnNjb3BhYmxlcywgU3ltYm9sLnRvU3RyaW5nLCBTeW1ib2wudmFsdWVPZiwgU3ltYm9sLmRlc2NyaXB0aW9uLCBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSwgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0LCBFcnJvci5tZXNzYWdlLCBFcnJvci50b1N0cmluZywgTnVtYmVyLmlzRmluaXRlLCBOdW1iZXIuaXNJbnRlZ2VyLCBOdW1iZXIuaXNOYU4sIE51bWJlci5pc1NhZmVJbnRlZ2VyLCBOdW1iZXIucGFyc2VGbG9hdCwgTnVtYmVyLnBhcnNlSW50LCBOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUlOX1ZBTFVFLCBOdW1iZXIuTmFOLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsIE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLCBOdW1iZXIuRVBTSUxPTiwgTnVtYmVyLnRvRXhwb25lbnRpYWwsIE51bWJlci50b0ZpeGVkLCBOdW1iZXIudG9QcmVjaXNpb24sIE51bWJlci50b1N0cmluZywgTnVtYmVyLnZhbHVlT2YsIE51bWJlci50b0xvY2FsZVN0cmluZywgQmlnSW50LmFzVWludE4sIEJpZ0ludC5hc0ludE4sIEJpZ0ludC50b0xvY2FsZVN0cmluZywgQmlnSW50LnRvU3RyaW5nLCBCaWdJbnQudmFsdWVPZiwgTWF0aC5hYnMsIE1hdGguYWNvcywgTWF0aC5hY29zaCwgTWF0aC5hc2luLCBNYXRoLmFzaW5oLCBNYXRoLmF0YW4sIE1hdGguYXRhbmgsIE1hdGguYXRhbjIsIE1hdGguY2VpbCwgTWF0aC5jYnJ0LCBNYXRoLmV4cG0xLCBNYXRoLmNsejMyLCBNYXRoLmNvcywgTWF0aC5jb3NoLCBNYXRoLmV4cCwgTWF0aC5mbG9vciwgTWF0aC5mcm91bmQsIE1hdGguaHlwb3QsIE1hdGguaW11bCwgTWF0aC5sb2csIE1hdGgubG9nMXAsIE1hdGgubG9nMiwgTWF0aC5sb2cxMCwgTWF0aC5tYXgsIE1hdGgubWluLCBNYXRoLnBvdywgTWF0aC5yYW5kb20sIE1hdGgucm91bmQsIE1hdGguc2lnbiwgTWF0aC5zaW4sIE1hdGguc2luaCwgTWF0aC5zcXJ0LCBNYXRoLnRhbiwgTWF0aC50YW5oLCBNYXRoLnRydW5jLCBNYXRoLkUsIE1hdGguTE4xMCwgTWF0aC5MTjIsIE1hdGguTE9HMTBFLCBNYXRoLkxPRzJFLCBNYXRoLlBJLCBNYXRoLlNRUlQxXzIsIE1hdGguU1FSVDIsIERhdGUubm93LCBEYXRlLnBhcnNlLCBEYXRlLlVUQywgRGF0ZS50b1N0cmluZywgRGF0ZS50b0RhdGVTdHJpbmcsIERhdGUudG9UaW1lU3RyaW5nLCBEYXRlLnRvSVNPU3RyaW5nLCBEYXRlLnRvVVRDU3RyaW5nLCBEYXRlLnRvR01UU3RyaW5nLCBEYXRlLmdldERhdGUsIERhdGUuc2V0RGF0ZSwgRGF0ZS5nZXREYXksIERhdGUuZ2V0RnVsbFllYXIsIERhdGUuc2V0RnVsbFllYXIsIERhdGUuZ2V0SG91cnMsIERhdGUuc2V0SG91cnMsIERhdGUuZ2V0TWlsbGlzZWNvbmRzLCBEYXRlLnNldE1pbGxpc2Vjb25kcywgRGF0ZS5nZXRNaW51dGVzLCBEYXRlLnNldE1pbnV0ZXMsIERhdGUuZ2V0TW9udGgsIERhdGUuc2V0TW9udGgsIERhdGUuZ2V0U2Vjb25kcywgRGF0ZS5zZXRTZWNvbmRzLCBEYXRlLmdldFRpbWUsIERhdGUuc2V0VGltZSwgRGF0ZS5nZXRUaW1lem9uZU9mZnNldCwgRGF0ZS5nZXRVVENEYXRlLCBEYXRlLnNldFVUQ0RhdGUsIERhdGUuZ2V0VVRDRGF5LCBEYXRlLmdldFVUQ0Z1bGxZZWFyLCBEYXRlLnNldFVUQ0Z1bGxZZWFyLCBEYXRlLmdldFVUQ0hvdXJzLCBEYXRlLnNldFVUQ0hvdXJzLCBEYXRlLmdldFVUQ01pbGxpc2Vjb25kcywgRGF0ZS5zZXRVVENNaWxsaXNlY29uZHMsIERhdGUuZ2V0VVRDTWludXRlcywgRGF0ZS5zZXRVVENNaW51dGVzLCBEYXRlLmdldFVUQ01vbnRoLCBEYXRlLnNldFVUQ01vbnRoLCBEYXRlLmdldFVUQ1NlY29uZHMsIERhdGUuc2V0VVRDU2Vjb25kcywgRGF0ZS52YWx1ZU9mLCBEYXRlLmdldFllYXIsIERhdGUuc2V0WWVhciwgRGF0ZS50b0pTT04sIERhdGUudG9Mb2NhbGVTdHJpbmcsIERhdGUudG9Mb2NhbGVEYXRlU3RyaW5nLCBEYXRlLnRvTG9jYWxlVGltZVN0cmluZywgU3RyaW5nLmZyb21DaGFyQ29kZSwgU3RyaW5nLmZyb21Db2RlUG9pbnQsIFN0cmluZy5yYXcsIFN0cmluZy5hbmNob3IsIFN0cmluZy5hdCwgU3RyaW5nLmJpZywgU3RyaW5nLmJsaW5rLCBTdHJpbmcuYm9sZCwgU3RyaW5nLmNoYXJBdCwgU3RyaW5nLmNoYXJDb2RlQXQsIFN0cmluZy5jb2RlUG9pbnRBdCwgU3RyaW5nLmNvbmNhdCwgU3RyaW5nLmVuZHNXaXRoLCBTdHJpbmcuZm9udGNvbG9yLCBTdHJpbmcuZm9udHNpemUsIFN0cmluZy5maXhlZCwgU3RyaW5nLmluY2x1ZGVzLCBTdHJpbmcuaW5kZXhPZiwgU3RyaW5nLml0YWxpY3MsIFN0cmluZy5sYXN0SW5kZXhPZiwgU3RyaW5nLmxpbmssIFN0cmluZy5sb2NhbGVDb21wYXJlLCBTdHJpbmcubWF0Y2gsIFN0cmluZy5tYXRjaEFsbCwgU3RyaW5nLm5vcm1hbGl6ZSwgU3RyaW5nLnBhZEVuZCwgU3RyaW5nLnBhZFN0YXJ0LCBTdHJpbmcucmVwZWF0LCBTdHJpbmcucmVwbGFjZSwgU3RyaW5nLnJlcGxhY2VBbGwsIFN0cmluZy5zZWFyY2gsIFN0cmluZy5zbGljZSwgU3RyaW5nLnNtYWxsLCBTdHJpbmcuc3BsaXQsIFN0cmluZy5zdHJpa2UsIFN0cmluZy5zdWIsIFN0cmluZy5zdWJzdHIsIFN0cmluZy5zdWJzdHJpbmcsIFN0cmluZy5zdXAsIFN0cmluZy5zdGFydHNXaXRoLCBTdHJpbmcudG9TdHJpbmcsIFN0cmluZy50cmltLCBTdHJpbmcudHJpbVN0YXJ0LCBTdHJpbmcudHJpbUxlZnQsIFN0cmluZy50cmltRW5kLCBTdHJpbmcudHJpbVJpZ2h0LCBTdHJpbmcudG9Mb2NhbGVMb3dlckNhc2UsIFN0cmluZy50b0xvY2FsZVVwcGVyQ2FzZSwgU3RyaW5nLnRvTG93ZXJDYXNlLCBTdHJpbmcudG9VcHBlckNhc2UsIFN0cmluZy52YWx1ZU9mLCBSZWdFeHAuaW5wdXQsIFJlZ0V4cC4kXywgUmVnRXhwLmxhc3RNYXRjaCwgUmVnRXhwLiQmLCBSZWdFeHAubGFzdFBhcmVuLCBSZWdFeHAuJCssIFJlZ0V4cC5sZWZ0Q29udGV4dCwgUmVnRXhwLiRgLCBSZWdFeHAucmlnaHRDb250ZXh0LCBSZWdFeHAuJFwnLCBSZWdFeHAuJDEsIFJlZ0V4cC4kMiwgUmVnRXhwLiQzLCBSZWdFeHAuJDQsIFJlZ0V4cC4kNSwgUmVnRXhwLiQ2LCBSZWdFeHAuJDcsIFJlZ0V4cC4kOCwgUmVnRXhwLiQ5LCBSZWdFeHAuZXhlYywgUmVnRXhwLmRvdEFsbCwgUmVnRXhwLmZsYWdzLCBSZWdFeHAuZ2xvYmFsLCBSZWdFeHAuaGFzSW5kaWNlcywgUmVnRXhwLmlnbm9yZUNhc2UsIFJlZ0V4cC5tdWx0aWxpbmUsIFJlZ0V4cC5zb3VyY2UsIFJlZ0V4cC5zdGlja3ksIFJlZ0V4cC51bmljb2RlLCBSZWdFeHAuY29tcGlsZSwgUmVnRXhwLnRvU3RyaW5nLCBSZWdFeHAudGVzdCwgQXJyYXkuaXNBcnJheSwgQXJyYXkuZnJvbSwgQXJyYXkub2YsIEFycmF5LmF0LCBBcnJheS5jb25jYXQsIEFycmF5LmNvcHlXaXRoaW4sIEFycmF5LmZpbGwsIEFycmF5LmZpbmQsIEFycmF5LmZpbmRJbmRleCwgQXJyYXkubGFzdEluZGV4T2YsIEFycmF5LnBvcCwgQXJyYXkucHVzaCwgQXJyYXkucmV2ZXJzZSwgQXJyYXkuc2hpZnQsIEFycmF5LnVuc2hpZnQsIEFycmF5LnNsaWNlLCBBcnJheS5zb3J0LCBBcnJheS5zcGxpY2UsIEFycmF5LmluY2x1ZGVzLCBBcnJheS5pbmRleE9mLCBBcnJheS5qb2luLCBBcnJheS5rZXlzLCBBcnJheS5lbnRyaWVzLCBBcnJheS52YWx1ZXMsIEFycmF5LmZvckVhY2gsIEFycmF5LmZpbHRlciwgQXJyYXkuZmxhdCwgQXJyYXkuZmxhdE1hcCwgQXJyYXkubWFwLCBBcnJheS5ldmVyeSwgQXJyYXkuc29tZSwgQXJyYXkucmVkdWNlLCBBcnJheS5yZWR1Y2VSaWdodCwgQXJyYXkudG9Mb2NhbGVTdHJpbmcsIEFycmF5LnRvU3RyaW5nLCBBcnJheS5maW5kTGFzdCwgQXJyYXkuZmluZExhc3RJbmRleCwgTWFwLmdldCwgTWFwLnNldCwgTWFwLmhhcywgTWFwLmRlbGV0ZSwgTWFwLmNsZWFyLCBNYXAuZW50cmllcywgTWFwLmZvckVhY2gsIE1hcC5rZXlzLCBNYXAuc2l6ZSwgTWFwLnZhbHVlcywgU2V0LmhhcywgU2V0LmFkZCwgU2V0LmRlbGV0ZSwgU2V0LmNsZWFyLCBTZXQuZW50cmllcywgU2V0LmZvckVhY2gsIFNldC5zaXplLCBTZXQudmFsdWVzLCBTZXQua2V5cywgV2Vha01hcC5kZWxldGUsIFdlYWtNYXAuZ2V0LCBXZWFrTWFwLnNldCwgV2Vha01hcC5oYXMsIFdlYWtTZXQuZGVsZXRlLCBXZWFrU2V0LmhhcywgV2Vha1NldC5hZGQsIEF0b21pY3MubG9hZCwgQXRvbWljcy5zdG9yZSwgQXRvbWljcy5hZGQsIEF0b21pY3Muc3ViLCBBdG9taWNzLmFuZCwgQXRvbWljcy5vciwgQXRvbWljcy54b3IsIEF0b21pY3MuZXhjaGFuZ2UsIEF0b21pY3MuY29tcGFyZUV4Y2hhbmdlLCBBdG9taWNzLmlzTG9ja0ZyZWUsIEF0b21pY3Mud2FpdCwgQXRvbWljcy53YWl0QXN5bmMsIEF0b21pY3Mubm90aWZ5LCBKU09OLnBhcnNlLCBKU09OLnN0cmluZ2lmeSwgUHJvbWlzZS5hbGwsIFByb21pc2UuYWxsU2V0dGxlZCwgUHJvbWlzZS5hbnksIFByb21pc2UucmFjZSwgUHJvbWlzZS5yZXNvbHZlLCBQcm9taXNlLnJlamVjdCwgUHJvbWlzZS50aGVuLCBQcm9taXNlLmNhdGNoLCBQcm9taXNlLmZpbmFsbHksIFJlZmxlY3QuZGVmaW5lUHJvcGVydHksIFJlZmxlY3QuZGVsZXRlUHJvcGVydHksIFJlZmxlY3QuYXBwbHksIFJlZmxlY3QuY29uc3RydWN0LCBSZWZsZWN0LmdldCwgUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsIFJlZmxlY3QuZ2V0UHJvdG90eXBlT2YsIFJlZmxlY3QuaGFzLCBSZWZsZWN0LmlzRXh0ZW5zaWJsZSwgUmVmbGVjdC5vd25LZXlzLCBSZWZsZWN0LnByZXZlbnRFeHRlbnNpb25zLCBSZWZsZWN0LnNldCwgUmVmbGVjdC5zZXRQcm90b3R5cGVPZiwgUHJveHkucmV2b2NhYmxlLCBJbnRsLmdldENhbm9uaWNhbExvY2FsZXMsIEludGwuc3VwcG9ydGVkVmFsdWVzT2YsIEludGwuRGF0ZVRpbWVGb3JtYXQsIEludGwuTnVtYmVyRm9ybWF0LCBJbnRsLkNvbGxhdG9yLCBJbnRsLnY4QnJlYWtJdGVyYXRvciwgSW50bC5QbHVyYWxSdWxlcywgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQsIEludGwuTGlzdEZvcm1hdCwgSW50bC5Mb2NhbGUsIEludGwuRGlzcGxheU5hbWVzLCBJbnRsLlNlZ21lbnRlciwgV2ViQXNzZW1ibHkuY29tcGlsZSwgV2ViQXNzZW1ibHkudmFsaWRhdGUsIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlLCBXZWJBc3NlbWJseS5jb21waWxlU3RyZWFtaW5nLCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZywgV2ViQXNzZW1ibHkuTW9kdWxlLCBXZWJBc3NlbWJseS5JbnN0YW5jZSwgV2ViQXNzZW1ibHkuVGFibGUsIFdlYkFzc2VtYmx5Lk1lbW9yeSwgV2ViQXNzZW1ibHkuR2xvYmFsLCBXZWJBc3NlbWJseS5UYWcsIFdlYkFzc2VtYmx5LkV4Y2VwdGlvbiwgV2ViQXNzZW1ibHkuQ29tcGlsZUVycm9yLCBXZWJBc3NlbWJseS5MaW5rRXJyb3IsIFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvciwgRG9jdW1lbnQuaW1wbGVtZW50YXRpb24sIERvY3VtZW50LlVSTCwgRG9jdW1lbnQuZG9jdW1lbnRVUkksIERvY3VtZW50LmNvbXBhdE1vZGUsIERvY3VtZW50LmNoYXJhY3RlclNldCwgRG9jdW1lbnQuY2hhcnNldCwgRG9jdW1lbnQuaW5wdXRFbmNvZGluZywgRG9jdW1lbnQuY29udGVudFR5cGUsIERvY3VtZW50LmRvY3R5cGUsIERvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgRG9jdW1lbnQueG1sRW5jb2RpbmcsIERvY3VtZW50LnhtbFZlcnNpb24sIERvY3VtZW50LnhtbFN0YW5kYWxvbmUsIERvY3VtZW50LmRvbWFpbiwgRG9jdW1lbnQucmVmZXJyZXIsIERvY3VtZW50LmNvb2tpZSwgRG9jdW1lbnQubGFzdE1vZGlmaWVkLCBEb2N1bWVudC5yZWFkeVN0YXRlLCBEb2N1bWVudC50aXRsZSwgRG9jdW1lbnQuZGlyLCBEb2N1bWVudC5ib2R5LCBEb2N1bWVudC5oZWFkLCBEb2N1bWVudC5pbWFnZXMsIERvY3VtZW50LmVtYmVkcywgRG9jdW1lbnQucGx1Z2lucywgRG9jdW1lbnQubGlua3MsIERvY3VtZW50LmZvcm1zLCBEb2N1bWVudC5zY3JpcHRzLCBEb2N1bWVudC5jdXJyZW50U2NyaXB0LCBEb2N1bWVudC5kZWZhdWx0VmlldywgRG9jdW1lbnQuZGVzaWduTW9kZSwgRG9jdW1lbnQub25yZWFkeXN0YXRlY2hhbmdlLCBEb2N1bWVudC5hbmNob3JzLCBEb2N1bWVudC5hcHBsZXRzLCBEb2N1bWVudC5mZ0NvbG9yLCBEb2N1bWVudC5saW5rQ29sb3IsIERvY3VtZW50LnZsaW5rQ29sb3IsIERvY3VtZW50LmFsaW5rQ29sb3IsIERvY3VtZW50LmJnQ29sb3IsIERvY3VtZW50LmFsbCwgRG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCwgRG9jdW1lbnQub25wb2ludGVybG9ja2NoYW5nZSwgRG9jdW1lbnQub25wb2ludGVybG9ja2Vycm9yLCBEb2N1bWVudC5oaWRkZW4sIERvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSwgRG9jdW1lbnQud2FzRGlzY2FyZGVkLCBEb2N1bWVudC5mZWF0dXJlUG9saWN5LCBEb2N1bWVudC53ZWJraXRWaXNpYmlsaXR5U3RhdGUsIERvY3VtZW50LndlYmtpdEhpZGRlbiwgRG9jdW1lbnQub25iZWZvcmVjb3B5LCBEb2N1bWVudC5vbmJlZm9yZWN1dCwgRG9jdW1lbnQub25iZWZvcmVwYXN0ZSwgRG9jdW1lbnQub25mcmVlemUsIERvY3VtZW50Lm9ucmVzdW1lLCBEb2N1bWVudC5vbnNlYXJjaCwgRG9jdW1lbnQub252aXNpYmlsaXR5Y2hhbmdlLCBEb2N1bWVudC5mdWxsc2NyZWVuRW5hYmxlZCwgRG9jdW1lbnQuZnVsbHNjcmVlbiwgRG9jdW1lbnQub25mdWxsc2NyZWVuY2hhbmdlLCBEb2N1bWVudC5vbmZ1bGxzY3JlZW5lcnJvciwgRG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVuLCBEb2N1bWVudC53ZWJraXRDdXJyZW50RnVsbFNjcmVlbkVsZW1lbnQsIERvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkLCBEb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCwgRG9jdW1lbnQub253ZWJraXRmdWxsc2NyZWVuY2hhbmdlLCBEb2N1bWVudC5vbndlYmtpdGZ1bGxzY3JlZW5lcnJvciwgRG9jdW1lbnQucm9vdEVsZW1lbnQsIERvY3VtZW50Lm9uYmVmb3JleHJzZWxlY3QsIERvY3VtZW50Lm9uYWJvcnQsIERvY3VtZW50Lm9uYmVmb3JlaW5wdXQsIERvY3VtZW50Lm9uYmx1ciwgRG9jdW1lbnQub25jYW5jZWwsIERvY3VtZW50Lm9uY2FucGxheSwgRG9jdW1lbnQub25jYW5wbGF5dGhyb3VnaCwgRG9jdW1lbnQub25jaGFuZ2UsIERvY3VtZW50Lm9uY2xpY2ssIERvY3VtZW50Lm9uY2xvc2UsIERvY3VtZW50Lm9uY29udGV4dGxvc3QsIERvY3VtZW50Lm9uY29udGV4dG1lbnUsIERvY3VtZW50Lm9uY29udGV4dHJlc3RvcmVkLCBEb2N1bWVudC5vbmN1ZWNoYW5nZSwgRG9jdW1lbnQub25kYmxjbGljaywgRG9jdW1lbnQub25kcmFnLCBEb2N1bWVudC5vbmRyYWdlbmQsIERvY3VtZW50Lm9uZHJhZ2VudGVyLCBEb2N1bWVudC5vbmRyYWdsZWF2ZSwgRG9jdW1lbnQub25kcmFnb3ZlciwgRG9jdW1lbnQub25kcmFnc3RhcnQsIERvY3VtZW50Lm9uZHJvcCwgRG9jdW1lbnQub25kdXJhdGlvbmNoYW5nZSwgRG9jdW1lbnQub25lbXB0aWVkLCBEb2N1bWVudC5vbmVuZGVkLCBEb2N1bWVudC5vbmVycm9yLCBEb2N1bWVudC5vbmZvY3VzLCBEb2N1bWVudC5vbmZvcm1kYXRhLCBEb2N1bWVudC5vbmlucHV0LCBEb2N1bWVudC5vbmludmFsaWQsIERvY3VtZW50Lm9ua2V5ZG93biwgRG9jdW1lbnQub25rZXlwcmVzcywgRG9jdW1lbnQub25rZXl1cCwgRG9jdW1lbnQub25sb2FkLCBEb2N1bWVudC5vbmxvYWRlZGRhdGEsIERvY3VtZW50Lm9ubG9hZGVkbWV0YWRhdGEsIERvY3VtZW50Lm9ubG9hZHN0YXJ0LCBEb2N1bWVudC5vbm1vdXNlZG93biwgRG9jdW1lbnQub25tb3VzZWVudGVyLCBEb2N1bWVudC5vbm1vdXNlbGVhdmUsIERvY3VtZW50Lm9ubW91c2Vtb3ZlLCBEb2N1bWVudC5vbm1vdXNlb3V0LCBEb2N1bWVudC5vbm1vdXNlb3ZlciwgRG9jdW1lbnQub25tb3VzZXVwLCBEb2N1bWVudC5vbm1vdXNld2hlZWwsIERvY3VtZW50Lm9ucGF1c2UsIERvY3VtZW50Lm9ucGxheSwgRG9jdW1lbnQub25wbGF5aW5nLCBEb2N1bWVudC5vbnByb2dyZXNzLCBEb2N1bWVudC5vbnJhdGVjaGFuZ2UsIERvY3VtZW50Lm9ucmVzZXQsIERvY3VtZW50Lm9ucmVzaXplLCBEb2N1bWVudC5vbnNjcm9sbCwgRG9jdW1lbnQub25zZWN1cml0eXBvbGljeXZpb2xhdGlvbiwgRG9jdW1lbnQub25zZWVrZWQsIERvY3VtZW50Lm9uc2Vla2luZywgRG9jdW1lbnQub25zZWxlY3QsIERvY3VtZW50Lm9uc2xvdGNoYW5nZSwgRG9jdW1lbnQub25zdGFsbGVkLCBEb2N1bWVudC5vbnN1Ym1pdCwgRG9jdW1lbnQub25zdXNwZW5kLCBEb2N1bWVudC5vbnRpbWV1cGRhdGUsIERvY3VtZW50Lm9udG9nZ2xlLCBEb2N1bWVudC5vbnZvbHVtZWNoYW5nZSwgRG9jdW1lbnQub253YWl0aW5nLCBEb2N1bWVudC5vbndlYmtpdGFuaW1hdGlvbmVuZCwgRG9jdW1lbnQub253ZWJraXRhbmltYXRpb25pdGVyYXRpb24sIERvY3VtZW50Lm9ud2Via2l0YW5pbWF0aW9uc3RhcnQsIERvY3VtZW50Lm9ud2Via2l0dHJhbnNpdGlvbmVuZCwgRG9jdW1lbnQub253aGVlbCwgRG9jdW1lbnQub25hdXhjbGljaywgRG9jdW1lbnQub25nb3Rwb2ludGVyY2FwdHVyZSwgRG9jdW1lbnQub25sb3N0cG9pbnRlcmNhcHR1cmUsIERvY3VtZW50Lm9ucG9pbnRlcmRvd24sIERvY3VtZW50Lm9ucG9pbnRlcm1vdmUsIERvY3VtZW50Lm9ucG9pbnRlcnJhd3VwZGF0ZSwgRG9jdW1lbnQub25wb2ludGVydXAsIERvY3VtZW50Lm9ucG9pbnRlcmNhbmNlbCwgRG9jdW1lbnQub25wb2ludGVyb3ZlciwgRG9jdW1lbnQub25wb2ludGVyb3V0LCBEb2N1bWVudC5vbnBvaW50ZXJlbnRlciwgRG9jdW1lbnQub25wb2ludGVybGVhdmUsIERvY3VtZW50Lm9uc2VsZWN0c3RhcnQsIERvY3VtZW50Lm9uc2VsZWN0aW9uY2hhbmdlLCBEb2N1bWVudC5vbmFuaW1hdGlvbmVuZCwgRG9jdW1lbnQub25hbmltYXRpb25pdGVyYXRpb24sIERvY3VtZW50Lm9uYW5pbWF0aW9uc3RhcnQsIERvY3VtZW50Lm9udHJhbnNpdGlvbnJ1biwgRG9jdW1lbnQub250cmFuc2l0aW9uc3RhcnQsIERvY3VtZW50Lm9udHJhbnNpdGlvbmVuZCwgRG9jdW1lbnQub250cmFuc2l0aW9uY2FuY2VsLCBEb2N1bWVudC5vbmNvcHksIERvY3VtZW50Lm9uY3V0LCBEb2N1bWVudC5vbnBhc3RlLCBEb2N1bWVudC5jaGlsZHJlbiwgRG9jdW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQsIERvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQsIERvY3VtZW50LmNoaWxkRWxlbWVudENvdW50LCBEb2N1bWVudC5hY3RpdmVFbGVtZW50LCBEb2N1bWVudC5zdHlsZVNoZWV0cywgRG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50LCBEb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCwgRG9jdW1lbnQuYWRvcHRlZFN0eWxlU2hlZXRzLCBEb2N1bWVudC5mb250cywgRG9jdW1lbnQuYWRvcHROb2RlLCBEb2N1bWVudC5hcHBlbmQsIERvY3VtZW50LmNhcHR1cmVFdmVudHMsIERvY3VtZW50LmNhcmV0UmFuZ2VGcm9tUG9pbnQsIERvY3VtZW50LmNsZWFyLCBEb2N1bWVudC5jbG9zZSwgRG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlLCBEb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGVOUywgRG9jdW1lbnQuY3JlYXRlQ0RBVEFTZWN0aW9uLCBEb2N1bWVudC5jcmVhdGVDb21tZW50LCBEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50LCBEb2N1bWVudC5jcmVhdGVFbGVtZW50LCBEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMsIERvY3VtZW50LmNyZWF0ZUV2ZW50LCBEb2N1bWVudC5jcmVhdGVFeHByZXNzaW9uLCBEb2N1bWVudC5jcmVhdGVOU1Jlc29sdmVyLCBEb2N1bWVudC5jcmVhdGVOb2RlSXRlcmF0b3IsIERvY3VtZW50LmNyZWF0ZVByb2Nlc3NpbmdJbnN0cnVjdGlvbiwgRG9jdW1lbnQuY3JlYXRlUmFuZ2UsIERvY3VtZW50LmNyZWF0ZVRleHROb2RlLCBEb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyLCBEb2N1bWVudC5lbGVtZW50RnJvbVBvaW50LCBEb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludCwgRG9jdW1lbnQuZXZhbHVhdGUsIERvY3VtZW50LmV4ZWNDb21tYW5kLCBEb2N1bWVudC5leGl0RnVsbHNjcmVlbiwgRG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrLCBEb2N1bWVudC5nZXRFbGVtZW50QnlJZCwgRG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSwgRG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUsIERvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lLCBEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZU5TLCBEb2N1bWVudC5nZXRTZWxlY3Rpb24sIERvY3VtZW50Lmhhc0ZvY3VzLCBEb2N1bWVudC5pbXBvcnROb2RlLCBEb2N1bWVudC5vcGVuLCBEb2N1bWVudC5wcmVwZW5kLCBEb2N1bWVudC5xdWVyeUNvbW1hbmRFbmFibGVkLCBEb2N1bWVudC5xdWVyeUNvbW1hbmRJbmRldGVybSwgRG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUsIERvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCwgRG9jdW1lbnQucXVlcnlDb21tYW5kVmFsdWUsIERvY3VtZW50LnF1ZXJ5U2VsZWN0b3IsIERvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwsIERvY3VtZW50LnJlbGVhc2VFdmVudHMsIERvY3VtZW50LnJlcGxhY2VDaGlsZHJlbiwgRG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbiwgRG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4sIERvY3VtZW50LndyaXRlLCBEb2N1bWVudC53cml0ZWxuLCBEb2N1bWVudC5wcmVyZW5kZXJpbmcsIERvY3VtZW50Lm9ucHJlcmVuZGVyaW5nY2hhbmdlLCBEb2N1bWVudC5mcmFnbWVudERpcmVjdGl2ZSwgRG9jdW1lbnQub25iZWZvcmVtYXRjaCwgRG9jdW1lbnQudGltZWxpbmUsIERvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbmFibGVkLCBEb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRWxlbWVudCwgRG9jdW1lbnQub25jb250ZW50dmlzaWJpbGl0eWF1dG9zdGF0ZWNoYW5nZSwgRG9jdW1lbnQuZXhpdFBpY3R1cmVJblBpY3R1cmUsIERvY3VtZW50LmdldEFuaW1hdGlvbnMsIEVsZW1lbnQubmFtZXNwYWNlVVJJLCBFbGVtZW50LnByZWZpeCwgRWxlbWVudC5sb2NhbE5hbWUsIEVsZW1lbnQudGFnTmFtZSwgRWxlbWVudC5pZCwgRWxlbWVudC5jbGFzc05hbWUsIEVsZW1lbnQuY2xhc3NMaXN0LCBFbGVtZW50LnNsb3QsIEVsZW1lbnQuYXR0cmlidXRlcywgRWxlbWVudC5zaGFkb3dSb290LCBFbGVtZW50LnBhcnQsIEVsZW1lbnQuYXNzaWduZWRTbG90LCBFbGVtZW50LmlubmVySFRNTCwgRWxlbWVudC5vdXRlckhUTUwsIEVsZW1lbnQuc2Nyb2xsVG9wLCBFbGVtZW50LnNjcm9sbExlZnQsIEVsZW1lbnQuc2Nyb2xsV2lkdGgsIEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LCBFbGVtZW50LmNsaWVudFRvcCwgRWxlbWVudC5jbGllbnRMZWZ0LCBFbGVtZW50LmNsaWVudFdpZHRoLCBFbGVtZW50LmNsaWVudEhlaWdodCwgRWxlbWVudC5vbmJlZm9yZWNvcHksIEVsZW1lbnQub25iZWZvcmVjdXQsIEVsZW1lbnQub25iZWZvcmVwYXN0ZSwgRWxlbWVudC5vbnNlYXJjaCwgRWxlbWVudC5lbGVtZW50VGltaW5nLCBFbGVtZW50Lm9uZnVsbHNjcmVlbmNoYW5nZSwgRWxlbWVudC5vbmZ1bGxzY3JlZW5lcnJvciwgRWxlbWVudC5vbndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UsIEVsZW1lbnQub253ZWJraXRmdWxsc2NyZWVuZXJyb3IsIEVsZW1lbnQucm9sZSwgRWxlbWVudC5hcmlhQXRvbWljLCBFbGVtZW50LmFyaWFBdXRvQ29tcGxldGUsIEVsZW1lbnQuYXJpYUJ1c3ksIEVsZW1lbnQuYXJpYUJyYWlsbGVMYWJlbCwgRWxlbWVudC5hcmlhQnJhaWxsZVJvbGVEZXNjcmlwdGlvbiwgRWxlbWVudC5hcmlhQ2hlY2tlZCwgRWxlbWVudC5hcmlhQ29sQ291bnQsIEVsZW1lbnQuYXJpYUNvbEluZGV4LCBFbGVtZW50LmFyaWFDb2xTcGFuLCBFbGVtZW50LmFyaWFDdXJyZW50LCBFbGVtZW50LmFyaWFEZXNjcmlwdGlvbiwgRWxlbWVudC5hcmlhRGlzYWJsZWQsIEVsZW1lbnQuYXJpYUV4cGFuZGVkLCBFbGVtZW50LmFyaWFIYXNQb3B1cCwgRWxlbWVudC5hcmlhSGlkZGVuLCBFbGVtZW50LmFyaWFJbnZhbGlkLCBFbGVtZW50LmFyaWFLZXlTaG9ydGN1dHMsIEVsZW1lbnQuYXJpYUxhYmVsLCBFbGVtZW50LmFyaWFMZXZlbCwgRWxlbWVudC5hcmlhTGl2ZSwgRWxlbWVudC5hcmlhTW9kYWwsIEVsZW1lbnQuYXJpYU11bHRpTGluZSwgRWxlbWVudC5hcmlhTXVsdGlTZWxlY3RhYmxlLCBFbGVtZW50LmFyaWFPcmllbnRhdGlvbiwgRWxlbWVudC5hcmlhUGxhY2Vob2xkZXIsIEVsZW1lbnQuYXJpYVBvc0luU2V0LCBFbGVtZW50LmFyaWFQcmVzc2VkLCBFbGVtZW50LmFyaWFSZWFkT25seSwgRWxlbWVudC5hcmlhUmVsZXZhbnQsIEVsZW1lbnQuYXJpYVJlcXVpcmVkLCBFbGVtZW50LmFyaWFSb2xlRGVzY3JpcHRpb24sIEVsZW1lbnQuYXJpYVJvd0NvdW50LCBFbGVtZW50LmFyaWFSb3dJbmRleCwgRWxlbWVudC5hcmlhUm93U3BhbiwgRWxlbWVudC5hcmlhU2VsZWN0ZWQsIEVsZW1lbnQuYXJpYVNldFNpemUsIEVsZW1lbnQuYXJpYVNvcnQsIEVsZW1lbnQuYXJpYVZhbHVlTWF4LCBFbGVtZW50LmFyaWFWYWx1ZU1pbiwgRWxlbWVudC5hcmlhVmFsdWVOb3csIEVsZW1lbnQuYXJpYVZhbHVlVGV4dCwgRWxlbWVudC5jaGlsZHJlbiwgRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCwgRWxlbWVudC5sYXN0RWxlbWVudENoaWxkLCBFbGVtZW50LmNoaWxkRWxlbWVudENvdW50LCBFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcsIEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLCBFbGVtZW50LmFmdGVyLCBFbGVtZW50LmFuaW1hdGUsIEVsZW1lbnQuYXBwZW5kLCBFbGVtZW50LmF0dGFjaFNoYWRvdywgRWxlbWVudC5iZWZvcmUsIEVsZW1lbnQuY2xvc2VzdCwgRWxlbWVudC5jb21wdXRlZFN0eWxlTWFwLCBFbGVtZW50LmdldEF0dHJpYnV0ZSwgRWxlbWVudC5nZXRBdHRyaWJ1dGVOUywgRWxlbWVudC5nZXRBdHRyaWJ1dGVOYW1lcywgRWxlbWVudC5nZXRBdHRyaWJ1dGVOb2RlLCBFbGVtZW50LmdldEF0dHJpYnV0ZU5vZGVOUywgRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QsIEVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMsIEVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSwgRWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSwgRWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZU5TLCBFbGVtZW50LmdldElubmVySFRNTCwgRWxlbWVudC5oYXNBdHRyaWJ1dGUsIEVsZW1lbnQuaGFzQXR0cmlidXRlTlMsIEVsZW1lbnQuaGFzQXR0cmlidXRlcywgRWxlbWVudC5oYXNQb2ludGVyQ2FwdHVyZSwgRWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQsIEVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MLCBFbGVtZW50Lmluc2VydEFkamFjZW50VGV4dCwgRWxlbWVudC5tYXRjaGVzLCBFbGVtZW50LnByZXBlbmQsIEVsZW1lbnQucXVlcnlTZWxlY3RvciwgRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsLCBFbGVtZW50LnJlbGVhc2VQb2ludGVyQ2FwdHVyZSwgRWxlbWVudC5yZW1vdmUsIEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlLCBFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZU5TLCBFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZU5vZGUsIEVsZW1lbnQucmVwbGFjZUNoaWxkcmVuLCBFbGVtZW50LnJlcGxhY2VXaXRoLCBFbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuLCBFbGVtZW50LnJlcXVlc3RQb2ludGVyTG9jaywgRWxlbWVudC5zY3JvbGwsIEVsZW1lbnQuc2Nyb2xsQnksIEVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcsIEVsZW1lbnQuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCwgRWxlbWVudC5zY3JvbGxUbywgRWxlbWVudC5zZXRBdHRyaWJ1dGUsIEVsZW1lbnQuc2V0QXR0cmlidXRlTlMsIEVsZW1lbnQuc2V0QXR0cmlidXRlTm9kZSwgRWxlbWVudC5zZXRBdHRyaWJ1dGVOb2RlTlMsIEVsZW1lbnQuc2V0UG9pbnRlckNhcHR1cmUsIEVsZW1lbnQudG9nZ2xlQXR0cmlidXRlLCBFbGVtZW50LndlYmtpdE1hdGNoZXNTZWxlY3RvciwgRWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiwgRWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiwgRWxlbWVudC5jaGVja1Zpc2liaWxpdHksIEVsZW1lbnQuZ2V0QW5pbWF0aW9ucywgRWxlbWVudC5zZXRIVE1MJywNCiAgICAgICAgfSwNCiAgICAgICAgJ0ZpcmVmb3gnOiB7DQogICAgICAgICAgICB2ZXJzaW9uOiAxMDgsDQogICAgICAgICAgICB3aW5kb3dLZXlzOiBgdW5kZWZpbmVkLCBnbG9iYWxUaGlzLCBBcnJheSwgQm9vbGVhbiwgSlNPTiwgRGF0ZSwgTWF0aCwgTnVtYmVyLCBTdHJpbmcsIFJlZ0V4cCwgRXJyb3IsIEludGVybmFsRXJyb3IsIEFnZ3JlZ2F0ZUVycm9yLCBFdmFsRXJyb3IsIFJhbmdlRXJyb3IsIFJlZmVyZW5jZUVycm9yLCBTeW50YXhFcnJvciwgVHlwZUVycm9yLCBVUklFcnJvciwgQXJyYXlCdWZmZXIsIEludDhBcnJheSwgVWludDhBcnJheSwgSW50MTZBcnJheSwgVWludDE2QXJyYXksIEludDMyQXJyYXksIFVpbnQzMkFycmF5LCBGbG9hdDMyQXJyYXksIEZsb2F0NjRBcnJheSwgVWludDhDbGFtcGVkQXJyYXksIEJpZ0ludDY0QXJyYXksIEJpZ1VpbnQ2NEFycmF5LCBCaWdJbnQsIFByb3h5LCBXZWFrTWFwLCBTZXQsIERhdGFWaWV3LCBTeW1ib2wsIEludGwsIFJlZmxlY3QsIFdlYWtTZXQsIEF0b21pY3MsIFByb21pc2UsIFdlYkFzc2VtYmx5LCBGaW5hbGl6YXRpb25SZWdpc3RyeSwgV2Vha1JlZiwgTmFOLCBJbmZpbml0eSwgaXNOYU4sIGlzRmluaXRlLCBwYXJzZUZsb2F0LCBwYXJzZUludCwgZXNjYXBlLCB1bmVzY2FwZSwgZGVjb2RlVVJJLCBlbmNvZGVVUkksIGRlY29kZVVSSUNvbXBvbmVudCwgZW5jb2RlVVJJQ29tcG9uZW50LCBSZXNpemVPYnNlcnZlckVudHJ5LCBCcm9hZGNhc3RDaGFubmVsLCBBYm9ydENvbnRyb2xsZXIsIERPTVJlY3RMaXN0LCBTVkdBbmltYXRlZEVudW1lcmF0aW9uLCBET01Qb2ludFJlYWRPbmx5LCBSVENEdGxzVHJhbnNwb3J0LCBNZWRpYVN0cmVhbVRyYWNrRXZlbnQsIEhUTUxNZWRpYUVsZW1lbnQsIE1lZGlhRGV2aWNlcywgVGV4dE1ldHJpY3MsIE1JRElBY2Nlc3MsIEdhbWVwYWRCdXR0b24sIElJUkZpbHRlck5vZGUsIFJlc3BvbnNlLCBQdXNoU3Vic2NyaXB0aW9uLCBEb2N1bWVudFRpbWVsaW5lLCBTVkdBbmltYXRlZE51bWJlckxpc3QsIEhUTUxJbWFnZUVsZW1lbnQsIEhUTUxGb250RWxlbWVudCwgU291cmNlQnVmZmVyTGlzdCwgU1ZHRmlsdGVyRWxlbWVudCwgSFRNTFBpY3R1cmVFbGVtZW50LCBDU1NHcm91cGluZ1J1bGUsIEhUTUxTbG90RWxlbWVudCwgRGV2aWNlT3JpZW50YXRpb25FdmVudCwgU1ZHRGVmc0VsZW1lbnQsIFhQYXRoUmVzdWx0LCBTVkdGRURpZmZ1c2VMaWdodGluZ0VsZW1lbnQsIFZUVEN1ZSwgTm9kZUZpbHRlciwgV2ViR0xUZXh0dXJlLCBHYWluTm9kZSwgVGV4dERlY29kZXIsIEdhbWVwYWRQb3NlLCBGaWxlU3lzdGVtRmlsZUVudHJ5LCBTVkdSYWRpYWxHcmFkaWVudEVsZW1lbnQsIFdlYkdMU2hhZGVyUHJlY2lzaW9uRm9ybWF0LCBTVkdTY3JpcHRFbGVtZW50LCBJREJPcGVuREJSZXF1ZXN0LCBDdXN0b21FdmVudCwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSwgRE9NUmVjdFJlYWRPbmx5LCBEYXRhVHJhbnNmZXJJdGVtLCBNSURJSW5wdXQsIFRleHREZWNvZGVyU3RyZWFtLCBTVkdDb21wb25lbnRUcmFuc2ZlckZ1bmN0aW9uRWxlbWVudCwgSW1hZ2UsIE5vdGlmaWNhdGlvbiwgUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LCBIVE1MSGVhZGluZ0VsZW1lbnQsIEZvbnRGYWNlLCBNSURJT3V0cHV0TWFwLCBTVkdGRU1lcmdlTm9kZUVsZW1lbnQsIFBvcFN0YXRlRXZlbnQsIEhUTUxUcmFja0VsZW1lbnQsIFBsdWdpbkFycmF5LCBNSURJUG9ydCwgRm9jdXNFdmVudCwgU1ZHQW5pbWF0ZVRyYW5zZm9ybUVsZW1lbnQsIERhdGFUcmFuc2ZlciwgSFRNTFNwYW5FbGVtZW50LCBIVE1MTWV0ZXJFbGVtZW50LCBBdWRpb1Byb2Nlc3NpbmdFdmVudCwgSFRNTFRpbWVFbGVtZW50LCBJREJEYXRhYmFzZSwgU1ZHQW5pbWF0ZWRJbnRlZ2VyLCBDaGFubmVsTWVyZ2VyTm9kZSwgSFRNTEZvcm1FbGVtZW50LCBYTUxEb2N1bWVudCwgTmF2aWdhdGlvblByZWxvYWRNYW5hZ2VyLCBGaWxlUmVhZGVyLCBSYW5nZSwgVGV4dEVuY29kZXJTdHJlYW0sIEhUTUxCb2R5RWxlbWVudCwgSFRNTFRpdGxlRWxlbWVudCwgQ29tbWVudCwgRmlsZVN5c3RlbURpcmVjdG9yeVJlYWRlciwgUHVibGljS2V5Q3JlZGVudGlhbCwgSW1hZ2VCaXRtYXAsIGNvbnNvbGUsIEZvbnRGYWNlU2V0LCBIVE1MUHJvZ3Jlc3NFbGVtZW50LCBSVENUcmFja0V2ZW50LCBQb2ludGVyRXZlbnQsIEhUTUxGaWVsZFNldEVsZW1lbnQsIE1lZGlhU291cmNlLCBTVkdGRURpc3BsYWNlbWVudE1hcEVsZW1lbnQsIENhY2hlLCBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIsIE1lc3NhZ2VFdmVudCwgV2ViR0xQcm9ncmFtLCBTdGF0aWNSYW5nZSwgWFBhdGhFdmFsdWF0b3IsIEhUTUxBcmVhRWxlbWVudCwgSFRNTEZvcm1Db250cm9sc0NvbGxlY3Rpb24sIFBhaW50UmVxdWVzdCwgQ2hhbm5lbFNwbGl0dGVyTm9kZSwgTWVkaWFTZXNzaW9uLCBET01SZWN0LCBTVkdGRVNwZWN1bGFyTGlnaHRpbmdFbGVtZW50LCBTVkdEZXNjRWxlbWVudCwgQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLCBIVE1MVW5rbm93bkVsZW1lbnQsIFNWR0ZFVGlsZUVsZW1lbnQsIEhUTUxNZW51RWxlbWVudCwgU3RvcmFnZSwgQ29uc3RhbnRTb3VyY2VOb2RlLCBDYWNoZVN0b3JhZ2UsIFNWR0FuaW1hdGVkUHJlc2VydmVBc3BlY3RSYXRpbywgU1ZHRkVGdW5jR0VsZW1lbnQsIFNjcm9sbEFyZWFFdmVudCwgQ1NTTWVkaWFSdWxlLCBTVkdTZXRFbGVtZW50LCBTVkdHRWxlbWVudCwgU1ZHTWV0YWRhdGFFbGVtZW50LCBDbGlwYm9hcmRFdmVudCwgQXVkaW9Db250ZXh0LCBXZWJHTFJlbmRlcmJ1ZmZlciwgQXVkaW9QYXJhbU1hcCwgV2ViR0xRdWVyeSwgTWVkaWFLZXlTZXNzaW9uLCBIVE1MVmlkZW9FbGVtZW50LCBTVkdGRVR1cmJ1bGVuY2VFbGVtZW50LCBCZWZvcmVVbmxvYWRFdmVudCwgQ1NTVHJhbnNpdGlvbiwgU1ZHVGV4dFBvc2l0aW9uaW5nRWxlbWVudCwgUlRDUGVlckNvbm5lY3Rpb25JY2VFdmVudCwgU1ZHVHJhbnNmb3JtLCBQZXJmb3JtYW5jZUV2ZW50VGltaW5nLCBIVE1MQlJFbGVtZW50LCBTVkdUU3BhbkVsZW1lbnQsIFNWR01hc2tFbGVtZW50LCBTVkdNYXJrZXJFbGVtZW50LCBVMkYsIE11dGF0aW9uUmVjb3JkLCBBdWRpb0Rlc3RpbmF0aW9uTm9kZSwgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciwgVUlFdmVudCwgV2ViR0xCdWZmZXIsIElEQlRyYW5zYWN0aW9uLCBPZmZsaW5lUmVzb3VyY2VMaXN0LCBIVE1MSW5wdXRFbGVtZW50LCBIVE1MTGVnZW5kRWxlbWVudCwgbW96UlRDU2Vzc2lvbkRlc2NyaXB0aW9uLCBTVkdBbmltYXRpb25FbGVtZW50LCBTVkdWaWV3RWxlbWVudCwgQ2FyZXRQb3NpdGlvbiwgRXZlbnRTb3VyY2UsIFNoYXJlZFdvcmtlciwgU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiwgRGVsYXlOb2RlLCBDcnlwdG9LZXksIFNWR01QYXRoRWxlbWVudCwgTm9kZUxpc3QsIFNWR0ZFUG9pbnRMaWdodEVsZW1lbnQsIE1lZGlhRXJyb3IsIFNWR0ZFRmxvb2RFbGVtZW50LCBNZWRpYUtleU1lc3NhZ2VFdmVudCwgSFRNTFRleHRBcmVhRWxlbWVudCwgTWVkaWFEZXZpY2VJbmZvLCBDU1NDb3VudGVyU3R5bGVSdWxlLCBIVE1MVGFibGVSb3dFbGVtZW50LCBBdWRpb1dvcmtsZXROb2RlLCBBdXRoZW50aWNhdG9yUmVzcG9uc2UsIEF1ZGlvTm9kZSwgU3RvcmFnZU1hbmFnZXIsIFBlcm1pc3Npb25zLCBJREJLZXlSYW5nZSwgU1ZHRkVDb21wb25lbnRUcmFuc2ZlckVsZW1lbnQsIEhUTUxPdXRwdXRFbGVtZW50LCBXZWJHTDJSZW5kZXJpbmdDb250ZXh0LCBTVkdUaXRsZUVsZW1lbnQsIEFuaW1hdGlvblBsYXliYWNrRXZlbnQsIFByb21pc2VSZWplY3Rpb25FdmVudCwgUGVyZm9ybWFuY2VQYWludFRpbWluZywgU1ZHVW5pdFR5cGVzLCBTVkdVc2VFbGVtZW50LCBQZXJmb3JtYW5jZVRpbWluZywgTWF0aE1MRWxlbWVudCwgR2FtZXBhZEhhcHRpY0FjdHVhdG9yLCBOYXZpZ2F0b3IsIG1velJUQ1BlZXJDb25uZWN0aW9uLCBQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nLCBBbmltYXRpb25UaW1lbGluZSwgTUlESUNvbm5lY3Rpb25FdmVudCwgQ2FudmFzQ2FwdHVyZU1lZGlhU3RyZWFtLCBIVE1MRGlyZWN0b3J5RWxlbWVudCwgR2FtZXBhZCwgTG9jaywgRE9NUXVhZCwgTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZSwgUG9wdXBCbG9ja2VkRXZlbnQsIE1vdXNlU2Nyb2xsRXZlbnQsIFNWR0ZFRnVuY0FFbGVtZW50LCBEYXRhVHJhbnNmZXJJdGVtTGlzdCwgQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBXZWJHTENvbnRleHRFdmVudCwgWFNMVFByb2Nlc3NvciwgU1ZHRkVDb21wb3NpdGVFbGVtZW50LCBUZXh0VHJhY2ssIE9mZmxpbmVBdWRpb0NvbXBsZXRpb25FdmVudCwgSFRNTEhSRWxlbWVudCwgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlLCBDcmVkZW50aWFsc0NvbnRhaW5lciwgUlRDUnRwVHJhbnNjZWl2ZXIsIFNWR1RleHRFbGVtZW50LCBJbWFnZUJpdG1hcFJlbmRlcmluZ0NvbnRleHQsIE1lZGlhTGlzdCwgSFRNTERpdkVsZW1lbnQsIFNWR0dyYXBoaWNzRWxlbWVudCwgQ2FudmFzUGF0dGVybiwgUmVzaXplT2JzZXJ2ZXIsIEhUTUxCYXNlRWxlbWVudCwgTWltZVR5cGVBcnJheSwgTWVkaWFDYXBhYmlsaXRpZXNJbmZvLCBIVE1MVGFibGVTZWN0aW9uRWxlbWVudCwgSFRNTFNlbGVjdEVsZW1lbnQsIFZpZGVvUGxheWJhY2tRdWFsaXR5LCBSVENEYXRhQ2hhbm5lbEV2ZW50LCBIZWFkZXJzLCBJZGxlRGVhZGxpbmUsIFdlYkdMU2FtcGxlciwgSFRNTEZyYW1lRWxlbWVudCwgV2ViR0xTaGFkZXIsIE9wdGlvbiwgUGFpbnRSZXF1ZXN0TGlzdCwgQmFyUHJvcCwgU1ZHTWF0cml4LCBJbWFnZURhdGEsIENTU0ZvbnRGZWF0dXJlVmFsdWVzUnVsZSwgU1ZHUG9seWxpbmVFbGVtZW50LCBDU1NJbXBvcnRSdWxlLCBNZWRpYVN0cmVhbUV2ZW50LCBIVE1MTGFiZWxFbGVtZW50LCBSZWFkYWJsZVN0cmVhbSwgSFRNTERpYWxvZ0VsZW1lbnQsIFNWR0FuaW1hdGVkU3RyaW5nLCBNaW1lVHlwZSwgU3RvcmFnZUV2ZW50LCBJREJPYmplY3RTdG9yZSwgSFRNTFBhcmFtRWxlbWVudCwgQ1NTUnVsZUxpc3QsIElEQkN1cnNvciwgQ1NTTmFtZXNwYWNlUnVsZSwgV29ya2VyLCBTVkdBbmltYXRlZFRyYW5zZm9ybUxpc3QsIEdlb2xvY2F0aW9uUG9zaXRpb24sIFBhZ2VUcmFuc2l0aW9uRXZlbnQsIERpcmVjdG9yeSwgUGVyZm9ybWFuY2VPYnNlcnZlckVudHJ5TGlzdCwgUGVyZm9ybWFuY2VNYXJrLCBBbmFseXNlck5vZGUsIENsb3NlRXZlbnQsIERvY3VtZW50VHlwZSwgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIsIFNWR1BhdGhFbGVtZW50LCBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLCBQZXJpb2RpY1dhdmUsIEJpcXVhZEZpbHRlck5vZGUsIFN1Ym1pdEV2ZW50LCBXZWJHTFZlcnRleEFycmF5T2JqZWN0LCBIVE1MUXVvdGVFbGVtZW50LCBSZXF1ZXN0LCBTVkdDbGlwUGF0aEVsZW1lbnQsIFJhZGlvTm9kZUxpc3QsIFJUQ1BlZXJDb25uZWN0aW9uLCBCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5LCBXZWJHTFRyYW5zZm9ybUZlZWRiYWNrLCBIVE1MSGVhZEVsZW1lbnQsIENTU0xheWVyU3RhdGVtZW50UnVsZSwgU1ZHQUVsZW1lbnQsIFNlcnZpY2VXb3JrZXIsIEF1ZGlvUGFyYW0sIElEQlZlcnNpb25DaGFuZ2VFdmVudCwgQmxvYkV2ZW50LCBUcmFja0V2ZW50LCBUZXh0LCBNZWRpYUtleXMsIE1lZGlhTWV0YWRhdGEsIERPTVRva2VuTGlzdCwgU3BlZWNoU3ludGhlc2lzLCBSVENSdHBSZWNlaXZlciwgUmVzaXplT2JzZXJ2ZXJTaXplLCBGb3JtRGF0YSwgTWVkaWFTdHJlYW0sIEhUTUxNZXRhRWxlbWVudCwgV29ya2xldCwgRmlsZVN5c3RlbSwgU1ZHTGluZWFyR3JhZGllbnRFbGVtZW50LCBFbGVtZW50LCBTVkdBbmltYXRlZFJlY3QsIFNWR1RleHRQYXRoRWxlbWVudCwgQ1NTS2V5ZnJhbWVSdWxlLCBUaW1lRXZlbnQsIElucHV0RXZlbnQsIEFic3RyYWN0UmFuZ2UsIEFib3J0U2lnbmFsLCBEZXZpY2VNb3Rpb25FdmVudCwgU1ZHQW5pbWF0ZWRMZW5ndGhMaXN0LCBQZXJmb3JtYW5jZU1lYXN1cmUsIElEQkZhY3RvcnksIE1lZGlhUmVjb3JkZXIsIENTU0NvbmRpdGlvblJ1bGUsIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiwgQ1NTS2V5ZnJhbWVzUnVsZSwgTm9kZUl0ZXJhdG9yLCBHZW9sb2NhdGlvbiwgUlRDSWNlQ2FuZGlkYXRlLCBNZWRpYUtleUVycm9yLCBBbmltYXRpb25FdmVudCwgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5LCBIVE1MT2JqZWN0RWxlbWVudCwgRmlsZSwgRXJyb3JFdmVudCwgTWVkaWFRdWVyeUxpc3RFdmVudCwgVmFsaWRpdHlTdGF0ZSwgUGFubmVyTm9kZSwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsIERPTVN0cmluZ0xpc3QsIFNWR0ZFT2Zmc2V0RWxlbWVudCwgUGx1Z2luLCBET01QYXJzZXIsIFNWR0ZFQ29udm9sdmVNYXRyaXhFbGVtZW50LCBTcGVlY2hTeW50aGVzaXNFdmVudCwgVHJlZVdhbGtlciwgSFRNTEFsbENvbGxlY3Rpb24sIFNWR0NpcmNsZUVsZW1lbnQsIFNWR0ZFRGlzdGFudExpZ2h0RWxlbWVudCwgU3BlZWNoU3ludGhlc2lzRXJyb3JFdmVudCwgV2F2ZVNoYXBlck5vZGUsIENTU0FuaW1hdGlvbiwgVVJMLCBTVkdMZW5ndGhMaXN0LCBTdWJ0bGVDcnlwdG8sIFNWR1BvaW50TGlzdCwgSFRNTEF1ZGlvRWxlbWVudCwgTWVzc2FnZUNoYW5uZWwsIE1lc3NhZ2VQb3J0LCBXZWJHTEFjdGl2ZUluZm8sIFNjcmVlbiwgWFBhdGhFeHByZXNzaW9uLCBNZWRpYVJlY29yZGVyRXJyb3JFdmVudCwgSFRNTEJ1dHRvbkVsZW1lbnQsIExvY2F0aW9uLCBNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSwgQW5pbWF0aW9uRWZmZWN0LCBQZXJmb3JtYW5jZU9ic2VydmVyLCBTVkdSZWN0RWxlbWVudCwgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLCBET01Qb2ludCwgTWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIFNWR0ZFRHJvcFNoYWRvd0VsZW1lbnQsIEhUTUxEYXRhRWxlbWVudCwgU1ZHVGV4dENvbnRlbnRFbGVtZW50LCBTVkdGRU1vcnBob2xvZ3lFbGVtZW50LCBTVkdFbGVtZW50LCBIVE1MTW9kRWxlbWVudCwgQmxvYiwgQ0RBVEFTZWN0aW9uLCBGb250RmFjZVNldExvYWRFdmVudCwgQXV0aGVudGljYXRvckF0dGVzdGF0aW9uUmVzcG9uc2UsIFRleHRUcmFja0N1ZSwgQ1NTRm9udEZhY2VSdWxlLCBNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlLCBTVkdJbWFnZUVsZW1lbnQsIFNWR1JlY3QsIFNWR1N0b3BFbGVtZW50LCBWVFRSZWdpb24sIFNWR0ZFU3BvdExpZ2h0RWxlbWVudCwgU2VsZWN0aW9uLCBCYXNlQXVkaW9Db250ZXh0LCBTVkdQb2ludCwgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBBdHRyLCBYTUxIdHRwUmVxdWVzdCwgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLCBBdWRpbywgSFRNTFN0eWxlRWxlbWVudCwgU1ZHRWxsaXBzZUVsZW1lbnQsIE11dGF0aW9uRXZlbnQsIFByb2dyZXNzRXZlbnQsIEhUTUxQcmVFbGVtZW50LCBET01JbXBsZW1lbnRhdGlvbiwgSFRNTE1hcnF1ZWVFbGVtZW50LCBYTUxTZXJpYWxpemVyLCBTVkdBbmltYXRlTW90aW9uRWxlbWVudCwgU1ZHR2VvbWV0cnlFbGVtZW50LCBJREJSZXF1ZXN0LCBQdXNoTWFuYWdlciwgQ1NTTW96RG9jdW1lbnRSdWxlLCBIVE1MTWFwRWxlbWVudCwgQXVkaW9MaXN0ZW5lciwgR2FtZXBhZEV2ZW50LCBNSURJTWVzc2FnZUV2ZW50LCBFbGVtZW50SW50ZXJuYWxzLCBUZXh0RW5jb2Rlciwgd2Via2l0VVJMLCBDU1NTdHlsZVJ1bGUsIFNWR0dyYWRpZW50RWxlbWVudCwgSFRNTERldGFpbHNFbGVtZW50LCBTVkdGb3JlaWduT2JqZWN0RWxlbWVudCwgQ2hhcmFjdGVyRGF0YSwgUlRDQ2VydGlmaWNhdGUsIEhUTUxDYW52YXNFbGVtZW50LCBSVENEVE1GVG9uZUNoYW5nZUV2ZW50LCBDU1NTdHlsZVNoZWV0LCBTY3JlZW5PcmllbnRhdGlvbiwgU2hhZG93Um9vdCwgRHluYW1pY3NDb21wcmVzc29yTm9kZSwgV3JpdGFibGVTdHJlYW0sIEhUTUxGcmFtZVNldEVsZW1lbnQsIFRpbWVSYW5nZXMsIEtleWZyYW1lRWZmZWN0LCBTVkdTVkdFbGVtZW50LCBLZXlFdmVudCwgQ2xpcGJvYXJkLCBIVE1MRExpc3RFbGVtZW50LCBDb3VudFF1ZXVpbmdTdHJhdGVneSwgRG9jdW1lbnRGcmFnbWVudCwgRHJhZ0V2ZW50LCBtb3pSVENJY2VDYW5kaWRhdGUsIE1lZGlhU3RyZWFtVHJhY2ssIFNWR0xlbmd0aCwgTWVkaWFRdWVyeUxpc3QsIFVSTFNlYXJjaFBhcmFtcywgSFRNTFNvdXJjZUVsZW1lbnQsIEtleWJvYXJkRXZlbnQsIFNjcmlwdFByb2Nlc3Nvck5vZGUsIERPTVN0cmluZ01hcCwgSFRNTE9wdEdyb3VwRWxlbWVudCwgV2ViR0xVbmlmb3JtTG9jYXRpb24sIE9mZnNjcmVlbkNhbnZhcywgU1ZHUG9seWdvbkVsZW1lbnQsIEhUTUxDb2xsZWN0aW9uLCBTVkdOdW1iZXIsIE1lZGlhQ2FwYWJpbGl0aWVzLCBTb3VyY2VCdWZmZXIsIFZpc3VhbFZpZXdwb3J0LCBDU1NQYWdlUnVsZSwgR2VvbG9jYXRpb25Qb3NpdGlvbkVycm9yLCBIVE1MVGFibGVDb2xFbGVtZW50LCBTVkdUcmFuc2Zvcm1MaXN0LCBTVkdBbmltYXRlZE51bWJlciwgQ2FudmFzR3JhZGllbnQsIFB1c2hTdWJzY3JpcHRpb25PcHRpb25zLCBIaXN0b3J5LCBXZWJLaXRDU1NNYXRyaXgsIEhUTUxUYWJsZUNlbGxFbGVtZW50LCBIVE1MT3B0aW9uRWxlbWVudCwgTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlLCBGb3JtRGF0YUV2ZW50LCBUZXh0VHJhY2tDdWVMaXN0LCBTVkdTd2l0Y2hFbGVtZW50LCBQYXRoMkQsIFN0eWxlU2hlZXQsIFBlcmZvcm1hbmNlU2VydmVyVGltaW5nLCBQZXJmb3JtYW5jZU5hdmlnYXRpb24sIE11dGF0aW9uT2JzZXJ2ZXIsIFhNTEh0dHBSZXF1ZXN0VXBsb2FkLCBDU1NMYXllckJsb2NrUnVsZSwgU1ZHUHJlc2VydmVBc3BlY3RSYXRpbywgSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQsIFNWR1BhdHRlcm5FbGVtZW50LCBIVE1MRW1iZWRFbGVtZW50LCBYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0LCBUcmFuc2l0aW9uRXZlbnQsIEhUTUxBbmNob3JFbGVtZW50LCBIVE1MRGF0YUxpc3RFbGVtZW50LCBTVkdBbmdsZSwgU1ZHTGluZUVsZW1lbnQsIEF1ZGlvQnVmZmVyLCBIYXNoQ2hhbmdlRXZlbnQsIE1lZGlhS2V5U3RhdHVzTWFwLCBJREJJbmRleCwgQ1NTLCBTVkdGRUdhdXNzaWFuQmx1ckVsZW1lbnQsIENyeXB0bywgTmFtZWROb2RlTWFwLCBDU1NTdHlsZURlY2xhcmF0aW9uLCBNb3VzZUV2ZW50LCBGaWxlU3lzdGVtRW50cnksIERPTU1hdHJpeCwgU1ZHQW5pbWF0ZWRBbmdsZSwgT2ZmbGluZUF1ZGlvQ29udGV4dCwgSFRNTFNjcmlwdEVsZW1lbnQsIFN0eWxlU2hlZXRMaXN0LCBSVENEVE1GU2VuZGVyLCBIVE1MT0xpc3RFbGVtZW50LCBTVkdTeW1ib2xFbGVtZW50LCBTcGVlY2hTeW50aGVzaXNWb2ljZSwgU1ZHRkVDb2xvck1hdHJpeEVsZW1lbnQsIFRyYW5zZm9ybVN0cmVhbSwgU1ZHRkVGdW5jQkVsZW1lbnQsIERPTVJlcXVlc3QsIFJUQ1J0cFNlbmRlciwgQ1NTUnVsZSwgT3NjaWxsYXRvck5vZGUsIFNlcnZpY2VXb3JrZXJDb250YWluZXIsIEhUTUxQYXJhZ3JhcGhFbGVtZW50LCBDb252b2x2ZXJOb2RlLCBBdWRpb1dvcmtsZXQsIEhUTUxMaW5rRWxlbWVudCwgTUlESUlucHV0TWFwLCBQZXJmb3JtYW5jZUVudHJ5LCBBdXRoZW50aWNhdG9yQXNzZXJ0aW9uUmVzcG9uc2UsIFRleHRUcmFja0xpc3QsIERPTUV4Y2VwdGlvbiwgU1ZHQW5pbWF0ZUVsZW1lbnQsIEhUTUxPcHRpb25zQ29sbGVjdGlvbiwgSFRNTFVMaXN0RWxlbWVudCwgV2hlZWxFdmVudCwgU1ZHQW5pbWF0ZWRCb29sZWFuLCBTZWN1cml0eVBvbGljeVZpb2xhdGlvbkV2ZW50LCBSVENTdGF0c1JlcG9ydCwgT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBQZXJtaXNzaW9uU3RhdHVzLCBDb21wb3NpdGlvbkV2ZW50LCBTVkdGRUZ1bmNSRWxlbWVudCwgRmlsZUxpc3QsIFNWR1N0cmluZ0xpc3QsIFNWR0ZFSW1hZ2VFbGVtZW50LCBIVE1MRWxlbWVudCwgRE9NTWF0cml4UmVhZE9ubHksIExvY2tNYW5hZ2VyLCBIVE1MTElFbGVtZW50LCBTVkdGRUJsZW5kRWxlbWVudCwgQW5pbWF0aW9uLCBSVENEYXRhQ2hhbm5lbCwgTWVkaWFFbmNyeXB0ZWRFdmVudCwgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlciwgV2ViR0xGcmFtZWJ1ZmZlciwgU1ZHU3R5bGVFbGVtZW50LCBTVkdBbmltYXRlZExlbmd0aCwgQ1NTRm9udFBhbGV0dGVWYWx1ZXNSdWxlLCBDU1NTdXBwb3J0c1J1bGUsIEhUTUxJRnJhbWVFbGVtZW50LCBTVkdOdW1iZXJMaXN0LCBNSURJT3V0cHV0LCBXZWJTb2NrZXQsIENTUzJQcm9wZXJ0aWVzLCBIVE1MVGFibGVFbGVtZW50LCBGaWxlU3lzdGVtRGlyZWN0b3J5RW50cnksIFNWR0ZFTWVyZ2VFbGVtZW50LCBHZW9sb2NhdGlvbkNvb3JkaW5hdGVzLCBTdGVyZW9QYW5uZXJOb2RlLCBDcmVkZW50aWFsLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIFdlYkdMU3luYywgSFRNTEh0bWxFbGVtZW50LCBIVE1MVGVtcGxhdGVFbGVtZW50LCBJREJDdXJzb3JXaXRoVmFsdWUsIEZ1bmN0aW9uLCBPYmplY3QsIGV2YWwsIEV2ZW50VGFyZ2V0LCBXaW5kb3csIGNsb3NlLCBzdG9wLCBmb2N1cywgYmx1ciwgb3BlbiwgYWxlcnQsIGNvbmZpcm0sIHByb21wdCwgcHJpbnQsIHBvc3RNZXNzYWdlLCBjYXB0dXJlRXZlbnRzLCByZWxlYXNlRXZlbnRzLCBnZXRTZWxlY3Rpb24sIGdldENvbXB1dGVkU3R5bGUsIG1hdGNoTWVkaWEsIG1vdmVUbywgbW92ZUJ5LCByZXNpemVUbywgcmVzaXplQnksIHNjcm9sbCwgc2Nyb2xsVG8sIHNjcm9sbEJ5LCBnZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSwgc2Nyb2xsQnlMaW5lcywgc2Nyb2xsQnlQYWdlcywgc2l6ZVRvQ29udGVudCwgdXBkYXRlQ29tbWFuZHMsIGZpbmQsIGR1bXAsIHNldFJlc2l6YWJsZSwgcmVxdWVzdElkbGVDYWxsYmFjaywgY2FuY2VsSWRsZUNhbGxiYWNrLCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUsIGNhbmNlbEFuaW1hdGlvbkZyYW1lLCByZXBvcnRFcnJvciwgYnRvYSwgYXRvYiwgc2V0VGltZW91dCwgY2xlYXJUaW1lb3V0LCBzZXRJbnRlcnZhbCwgY2xlYXJJbnRlcnZhbCwgcXVldWVNaWNyb3Rhc2ssIGNyZWF0ZUltYWdlQml0bWFwLCBzdHJ1Y3R1cmVkQ2xvbmUsIGZldGNoLCBzZWxmLCBuYW1lLCBoaXN0b3J5LCBjdXN0b21FbGVtZW50cywgbG9jYXRpb25iYXIsIG1lbnViYXIsIHBlcnNvbmFsYmFyLCBzY3JvbGxiYXJzLCBzdGF0dXNiYXIsIHRvb2xiYXIsIHN0YXR1cywgY2xvc2VkLCBldmVudCwgZnJhbWVzLCBsZW5ndGgsIG9wZW5lciwgcGFyZW50LCBmcmFtZUVsZW1lbnQsIG5hdmlnYXRvciwgY2xpZW50SW5mb3JtYXRpb24sIGV4dGVybmFsLCBhcHBsaWNhdGlvbkNhY2hlLCBzY3JlZW4sIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0LCBzY3JvbGxYLCBwYWdlWE9mZnNldCwgc2Nyb2xsWSwgcGFnZVlPZmZzZXQsIHNjcmVlbkxlZnQsIHNjcmVlblRvcCwgc2NyZWVuWCwgc2NyZWVuWSwgb3V0ZXJXaWR0aCwgb3V0ZXJIZWlnaHQsIHBlcmZvcm1hbmNlLCBtb3pJbm5lclNjcmVlblgsIG1veklubmVyU2NyZWVuWSwgZGV2aWNlUGl4ZWxSYXRpbywgc2Nyb2xsTWF4WCwgc2Nyb2xsTWF4WSwgZnVsbFNjcmVlbiwgb25kZXZpY2Vtb3Rpb24sIG9uZGV2aWNlb3JpZW50YXRpb24sIG9uYWJzb2x1dGVkZXZpY2VvcmllbnRhdGlvbiwgSW5zdGFsbFRyaWdnZXIsIHZpc3VhbFZpZXdwb3J0LCBjcnlwdG8sIG9uYWJvcnQsIG9uYmx1ciwgb25mb2N1cywgb25hdXhjbGljaywgb25iZWZvcmVpbnB1dCwgb25jYW5wbGF5LCBvbmNhbnBsYXl0aHJvdWdoLCBvbmNoYW5nZSwgb25jbGljaywgb25jbG9zZSwgb25jb250ZXh0bWVudSwgb25jdWVjaGFuZ2UsIG9uZGJsY2xpY2ssIG9uZHJhZywgb25kcmFnZW5kLCBvbmRyYWdlbnRlciwgb25kcmFnZXhpdCwgb25kcmFnbGVhdmUsIG9uZHJhZ292ZXIsIG9uZHJhZ3N0YXJ0LCBvbmRyb3AsIG9uZHVyYXRpb25jaGFuZ2UsIG9uZW1wdGllZCwgb25lbmRlZCwgb25mb3JtZGF0YSwgb25pbnB1dCwgb25pbnZhbGlkLCBvbmtleWRvd24sIG9ua2V5cHJlc3MsIG9ua2V5dXAsIG9ubG9hZCwgb25sb2FkZWRkYXRhLCBvbmxvYWRlZG1ldGFkYXRhLCBvbmxvYWRzdGFydCwgb25tb3VzZWRvd24sIG9ubW91c2VlbnRlciwgb25tb3VzZWxlYXZlLCBvbm1vdXNlbW92ZSwgb25tb3VzZW91dCwgb25tb3VzZW92ZXIsIG9ubW91c2V1cCwgb253aGVlbCwgb25wYXVzZSwgb25wbGF5LCBvbnBsYXlpbmcsIG9ucHJvZ3Jlc3MsIG9ucmF0ZWNoYW5nZSwgb25yZXNldCwgb25yZXNpemUsIG9uc2Nyb2xsLCBvbnNlY3VyaXR5cG9saWN5dmlvbGF0aW9uLCBvbnNlZWtlZCwgb25zZWVraW5nLCBvbnNlbGVjdCwgb25zbG90Y2hhbmdlLCBvbnN0YWxsZWQsIG9uc3VibWl0LCBvbnN1c3BlbmQsIG9udGltZXVwZGF0ZSwgb252b2x1bWVjaGFuZ2UsIG9ud2FpdGluZywgb25zZWxlY3RzdGFydCwgb25zZWxlY3Rpb25jaGFuZ2UsIG9udG9nZ2xlLCBvbnBvaW50ZXJjYW5jZWwsIG9ucG9pbnRlcmRvd24sIG9ucG9pbnRlcnVwLCBvbnBvaW50ZXJtb3ZlLCBvbnBvaW50ZXJvdXQsIG9ucG9pbnRlcm92ZXIsIG9ucG9pbnRlcmVudGVyLCBvbnBvaW50ZXJsZWF2ZSwgb25nb3Rwb2ludGVyY2FwdHVyZSwgb25sb3N0cG9pbnRlcmNhcHR1cmUsIG9ubW96ZnVsbHNjcmVlbmNoYW5nZSwgb25tb3pmdWxsc2NyZWVuZXJyb3IsIG9uYW5pbWF0aW9uY2FuY2VsLCBvbmFuaW1hdGlvbmVuZCwgb25hbmltYXRpb25pdGVyYXRpb24sIG9uYW5pbWF0aW9uc3RhcnQsIG9udHJhbnNpdGlvbmNhbmNlbCwgb250cmFuc2l0aW9uZW5kLCBvbnRyYW5zaXRpb25ydW4sIG9udHJhbnNpdGlvbnN0YXJ0LCBvbndlYmtpdGFuaW1hdGlvbmVuZCwgb253ZWJraXRhbmltYXRpb25pdGVyYXRpb24sIG9ud2Via2l0YW5pbWF0aW9uc3RhcnQsIG9ud2Via2l0dHJhbnNpdGlvbmVuZCwgdTJmLCBvbmVycm9yLCBzcGVlY2hTeW50aGVzaXMsIG9uYWZ0ZXJwcmludCwgb25iZWZvcmVwcmludCwgb25iZWZvcmV1bmxvYWQsIG9uaGFzaGNoYW5nZSwgb25sYW5ndWFnZWNoYW5nZSwgb25tZXNzYWdlLCBvbm1lc3NhZ2VlcnJvciwgb25vZmZsaW5lLCBvbm9ubGluZSwgb25wYWdlaGlkZSwgb25wYWdlc2hvdywgb25wb3BzdGF0ZSwgb25yZWplY3Rpb25oYW5kbGVkLCBvbnN0b3JhZ2UsIG9udW5oYW5kbGVkcmVqZWN0aW9uLCBvbnVubG9hZCwgb25nYW1lcGFkY29ubmVjdGVkLCBvbmdhbWVwYWRkaXNjb25uZWN0ZWQsIGxvY2FsU3RvcmFnZSwgb3JpZ2luLCBjcm9zc09yaWdpbklzb2xhdGVkLCBpc1NlY3VyZUNvbnRleHQsIGluZGV4ZWREQiwgY2FjaGVzLCBzZXNzaW9uU3RvcmFnZSwgd2luZG93LCBkb2N1bWVudCwgbG9jYXRpb24sIHRvcCwgbmV0c2NhcGUsIE5vZGUsIERvY3VtZW50LCBIVE1MRG9jdW1lbnQsIEV2ZW50Q291bnRzLCBNYXAsIEV2ZW50YCwNCiAgICAgICAgICAgIGNzc0tleXM6IGBhbGlnbkNvbnRlbnQsIGFsaWduLWNvbnRlbnQsIGFsaWduSXRlbXMsIGFsaWduLWl0ZW1zLCBhbGlnblNlbGYsIGFsaWduLXNlbGYsIGFzcGVjdFJhdGlvLCBhc3BlY3QtcmF0aW8sIGJhY2tmYWNlVmlzaWJpbGl0eSwgYmFja2ZhY2UtdmlzaWJpbGl0eSwgYm9yZGVyQ29sbGFwc2UsIGJvcmRlci1jb2xsYXBzZSwgYm9yZGVySW1hZ2VSZXBlYXQsIGJvcmRlci1pbWFnZS1yZXBlYXQsIGJveERlY29yYXRpb25CcmVhaywgYm94LWRlY29yYXRpb24tYnJlYWssIGJveFNpemluZywgYm94LXNpemluZywgYnJlYWtJbnNpZGUsIGJyZWFrLWluc2lkZSwgY2FwdGlvblNpZGUsIGNhcHRpb24tc2lkZSwgY2xlYXIsIGNvbG9ySW50ZXJwb2xhdGlvbiwgY29sb3ItaW50ZXJwb2xhdGlvbiwgY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVycywgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzLCBjb2x1bW5Db3VudCwgY29sdW1uLWNvdW50LCBjb2x1bW5GaWxsLCBjb2x1bW4tZmlsbCwgY29sdW1uU3BhbiwgY29sdW1uLXNwYW4sIGNvbnRhaW4sIGRpcmVjdGlvbiwgZGlzcGxheSwgZG9taW5hbnRCYXNlbGluZSwgZG9taW5hbnQtYmFzZWxpbmUsIGVtcHR5Q2VsbHMsIGVtcHR5LWNlbGxzLCBmbGV4RGlyZWN0aW9uLCBmbGV4LWRpcmVjdGlvbiwgZmxleFdyYXAsIGZsZXgtd3JhcCwgY3NzRmxvYXQsIGZsb2F0LCBmb250S2VybmluZywgZm9udC1rZXJuaW5nLCBmb250T3B0aWNhbFNpemluZywgZm9udC1vcHRpY2FsLXNpemluZywgZm9udFNpemVBZGp1c3QsIGZvbnQtc2l6ZS1hZGp1c3QsIGZvbnRTdHJldGNoLCBmb250LXN0cmV0Y2gsIGZvbnRTdHlsZSwgZm9udC1zdHlsZSwgZm9udFN5bnRoZXNpcywgZm9udC1zeW50aGVzaXMsIGZvbnRWYXJpYW50Q2FwcywgZm9udC12YXJpYW50LWNhcHMsIGZvbnRWYXJpYW50RWFzdEFzaWFuLCBmb250LXZhcmlhbnQtZWFzdC1hc2lhbiwgZm9udFZhcmlhbnRMaWdhdHVyZXMsIGZvbnQtdmFyaWFudC1saWdhdHVyZXMsIGZvbnRWYXJpYW50TnVtZXJpYywgZm9udC12YXJpYW50LW51bWVyaWMsIGZvbnRWYXJpYW50UG9zaXRpb24sIGZvbnQtdmFyaWFudC1wb3NpdGlvbiwgZm9udFdlaWdodCwgZm9udC13ZWlnaHQsIGdyaWRBdXRvRmxvdywgZ3JpZC1hdXRvLWZsb3csIGh5cGhlbnMsIGltYWdlT3JpZW50YXRpb24sIGltYWdlLW9yaWVudGF0aW9uLCBpbWFnZVJlbmRlcmluZywgaW1hZ2UtcmVuZGVyaW5nLCBpbWVNb2RlLCBpbWUtbW9kZSwgaXNvbGF0aW9uLCBqdXN0aWZ5Q29udGVudCwganVzdGlmeS1jb250ZW50LCBqdXN0aWZ5SXRlbXMsIGp1c3RpZnktaXRlbXMsIGp1c3RpZnlTZWxmLCBqdXN0aWZ5LXNlbGYsIGxpbmVCcmVhaywgbGluZS1icmVhaywgbGlzdFN0eWxlUG9zaXRpb24sIGxpc3Qtc3R5bGUtcG9zaXRpb24sIG1hc2tUeXBlLCBtYXNrLXR5cGUsIG1peEJsZW5kTW9kZSwgbWl4LWJsZW5kLW1vZGUsIE1vekJveEFsaWduLCAtbW96LWJveC1hbGlnbiwgTW96Qm94RGlyZWN0aW9uLCAtbW96LWJveC1kaXJlY3Rpb24sIE1vekJveE9yaWVudCwgLW1vei1ib3gtb3JpZW50LCBNb3pCb3hQYWNrLCAtbW96LWJveC1wYWNrLCBNb3pGbG9hdEVkZ2UsIC1tb3otZmxvYXQtZWRnZSwgTW96T3JpZW50LCAtbW96LW9yaWVudCwgTW96VGV4dFNpemVBZGp1c3QsIC1tb3otdGV4dC1zaXplLWFkanVzdCwgTW96VXNlckZvY3VzLCAtbW96LXVzZXItZm9jdXMsIE1velVzZXJJbnB1dCwgLW1vei11c2VyLWlucHV0LCBNb3pVc2VyTW9kaWZ5LCAtbW96LXVzZXItbW9kaWZ5LCBNb3pXaW5kb3dEcmFnZ2luZywgLW1vei13aW5kb3ctZHJhZ2dpbmcsIG9iamVjdEZpdCwgb2JqZWN0LWZpdCwgb2Zmc2V0Um90YXRlLCBvZmZzZXQtcm90YXRlLCBvdXRsaW5lU3R5bGUsIG91dGxpbmUtc3R5bGUsIG92ZXJmbG93QW5jaG9yLCBvdmVyZmxvdy1hbmNob3IsIG92ZXJmbG93V3JhcCwgb3ZlcmZsb3ctd3JhcCwgcGFpbnRPcmRlciwgcGFpbnQtb3JkZXIsIHBvaW50ZXJFdmVudHMsIHBvaW50ZXItZXZlbnRzLCBwb3NpdGlvbiwgcHJpbnRDb2xvckFkanVzdCwgcHJpbnQtY29sb3ItYWRqdXN0LCByZXNpemUsIHJ1YnlBbGlnbiwgcnVieS1hbGlnbiwgcnVieVBvc2l0aW9uLCBydWJ5LXBvc2l0aW9uLCBzY3JvbGxCZWhhdmlvciwgc2Nyb2xsLWJlaGF2aW9yLCBzY3JvbGxTbmFwQWxpZ24sIHNjcm9sbC1zbmFwLWFsaWduLCBzY3JvbGxTbmFwU3RvcCwgc2Nyb2xsLXNuYXAtc3RvcCwgc2Nyb2xsU25hcFR5cGUsIHNjcm9sbC1zbmFwLXR5cGUsIHNjcm9sbGJhckd1dHRlciwgc2Nyb2xsYmFyLWd1dHRlciwgc2Nyb2xsYmFyV2lkdGgsIHNjcm9sbGJhci13aWR0aCwgc2hhcGVSZW5kZXJpbmcsIHNoYXBlLXJlbmRlcmluZywgc3Ryb2tlTGluZWNhcCwgc3Ryb2tlLWxpbmVjYXAsIHN0cm9rZUxpbmVqb2luLCBzdHJva2UtbGluZWpvaW4sIHRhYmxlTGF5b3V0LCB0YWJsZS1sYXlvdXQsIHRleHRBbGlnbiwgdGV4dC1hbGlnbiwgdGV4dEFsaWduTGFzdCwgdGV4dC1hbGlnbi1sYXN0LCB0ZXh0QW5jaG9yLCB0ZXh0LWFuY2hvciwgdGV4dENvbWJpbmVVcHJpZ2h0LCB0ZXh0LWNvbWJpbmUtdXByaWdodCwgdGV4dERlY29yYXRpb25MaW5lLCB0ZXh0LWRlY29yYXRpb24tbGluZSwgdGV4dERlY29yYXRpb25Ta2lwSW5rLCB0ZXh0LWRlY29yYXRpb24tc2tpcC1pbmssIHRleHREZWNvcmF0aW9uU3R5bGUsIHRleHQtZGVjb3JhdGlvbi1zdHlsZSwgdGV4dEVtcGhhc2lzUG9zaXRpb24sIHRleHQtZW1waGFzaXMtcG9zaXRpb24sIHRleHRKdXN0aWZ5LCB0ZXh0LWp1c3RpZnksIHRleHRPcmllbnRhdGlvbiwgdGV4dC1vcmllbnRhdGlvbiwgdGV4dFJlbmRlcmluZywgdGV4dC1yZW5kZXJpbmcsIHRleHRUcmFuc2Zvcm0sIHRleHQtdHJhbnNmb3JtLCB0ZXh0VW5kZXJsaW5lUG9zaXRpb24sIHRleHQtdW5kZXJsaW5lLXBvc2l0aW9uLCB0b3VjaEFjdGlvbiwgdG91Y2gtYWN0aW9uLCB0cmFuc2Zvcm1Cb3gsIHRyYW5zZm9ybS1ib3gsIHRyYW5zZm9ybVN0eWxlLCB0cmFuc2Zvcm0tc3R5bGUsIHVuaWNvZGVCaWRpLCB1bmljb2RlLWJpZGksIHVzZXJTZWxlY3QsIHVzZXItc2VsZWN0LCB2ZWN0b3JFZmZlY3QsIHZlY3Rvci1lZmZlY3QsIHZpc2liaWxpdHksIHdlYmtpdExpbmVDbGFtcCwgV2Via2l0TGluZUNsYW1wLCAtd2Via2l0LWxpbmUtY2xhbXAsIHdoaXRlU3BhY2UsIHdoaXRlLXNwYWNlLCB3b3JkQnJlYWssIHdvcmQtYnJlYWssIHdyaXRpbmdNb2RlLCB3cml0aW5nLW1vZGUsIHpJbmRleCwgei1pbmRleCwgYXBwZWFyYW5jZSwgTW96Rm9yY2VCcm9rZW5JbWFnZUljb24sIC1tb3otZm9yY2UtYnJva2VuLWltYWdlLWljb24sIGJyZWFrQWZ0ZXIsIGJyZWFrLWFmdGVyLCBicmVha0JlZm9yZSwgYnJlYWstYmVmb3JlLCBjbGlwUnVsZSwgY2xpcC1ydWxlLCBmaWxsUnVsZSwgZmlsbC1ydWxlLCBmaWxsT3BhY2l0eSwgZmlsbC1vcGFjaXR5LCBzdHJva2VPcGFjaXR5LCBzdHJva2Utb3BhY2l0eSwgTW96Qm94T3JkaW5hbEdyb3VwLCAtbW96LWJveC1vcmRpbmFsLWdyb3VwLCBvcmRlciwgZmxleEdyb3csIGZsZXgtZ3JvdywgZmxleFNocmluaywgZmxleC1zaHJpbmssIE1vekJveEZsZXgsIC1tb3otYm94LWZsZXgsIHN0cm9rZU1pdGVybGltaXQsIHN0cm9rZS1taXRlcmxpbWl0LCBvdmVyZmxvd0Jsb2NrLCBvdmVyZmxvdy1ibG9jaywgb3ZlcmZsb3dJbmxpbmUsIG92ZXJmbG93LWlubGluZSwgb3ZlcmZsb3dYLCBvdmVyZmxvdy14LCBvdmVyZmxvd1ksIG92ZXJmbG93LXksIG92ZXJzY3JvbGxCZWhhdmlvckJsb2NrLCBvdmVyc2Nyb2xsLWJlaGF2aW9yLWJsb2NrLCBvdmVyc2Nyb2xsQmVoYXZpb3JJbmxpbmUsIG92ZXJzY3JvbGwtYmVoYXZpb3ItaW5saW5lLCBvdmVyc2Nyb2xsQmVoYXZpb3JYLCBvdmVyc2Nyb2xsLWJlaGF2aW9yLXgsIG92ZXJzY3JvbGxCZWhhdmlvclksIG92ZXJzY3JvbGwtYmVoYXZpb3IteSwgZmxvb2RPcGFjaXR5LCBmbG9vZC1vcGFjaXR5LCBvcGFjaXR5LCBzaGFwZUltYWdlVGhyZXNob2xkLCBzaGFwZS1pbWFnZS10aHJlc2hvbGQsIHN0b3BPcGFjaXR5LCBzdG9wLW9wYWNpdHksIGJvcmRlckJsb2NrRW5kU3R5bGUsIGJvcmRlci1ibG9jay1lbmQtc3R5bGUsIGJvcmRlckJsb2NrU3RhcnRTdHlsZSwgYm9yZGVyLWJsb2NrLXN0YXJ0LXN0eWxlLCBib3JkZXJCb3R0b21TdHlsZSwgYm9yZGVyLWJvdHRvbS1zdHlsZSwgYm9yZGVySW5saW5lRW5kU3R5bGUsIGJvcmRlci1pbmxpbmUtZW5kLXN0eWxlLCBib3JkZXJJbmxpbmVTdGFydFN0eWxlLCBib3JkZXItaW5saW5lLXN0YXJ0LXN0eWxlLCBib3JkZXJMZWZ0U3R5bGUsIGJvcmRlci1sZWZ0LXN0eWxlLCBib3JkZXJSaWdodFN0eWxlLCBib3JkZXItcmlnaHQtc3R5bGUsIGJvcmRlclRvcFN0eWxlLCBib3JkZXItdG9wLXN0eWxlLCBjb2x1bW5SdWxlU3R5bGUsIGNvbHVtbi1ydWxlLXN0eWxlLCBhY2NlbnRDb2xvciwgYWNjZW50LWNvbG9yLCBhbmltYXRpb25EZWxheSwgYW5pbWF0aW9uLWRlbGF5LCBhbmltYXRpb25EaXJlY3Rpb24sIGFuaW1hdGlvbi1kaXJlY3Rpb24sIGFuaW1hdGlvbkR1cmF0aW9uLCBhbmltYXRpb24tZHVyYXRpb24sIGFuaW1hdGlvbkZpbGxNb2RlLCBhbmltYXRpb24tZmlsbC1tb2RlLCBhbmltYXRpb25JdGVyYXRpb25Db3VudCwgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCwgYW5pbWF0aW9uTmFtZSwgYW5pbWF0aW9uLW5hbWUsIGFuaW1hdGlvblBsYXlTdGF0ZSwgYW5pbWF0aW9uLXBsYXktc3RhdGUsIGFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uLCBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uLCBiYWNrZHJvcEZpbHRlciwgYmFja2Ryb3AtZmlsdGVyLCBiYWNrZ3JvdW5kQXR0YWNobWVudCwgYmFja2dyb3VuZC1hdHRhY2htZW50LCBiYWNrZ3JvdW5kQmxlbmRNb2RlLCBiYWNrZ3JvdW5kLWJsZW5kLW1vZGUsIGJhY2tncm91bmRDbGlwLCBiYWNrZ3JvdW5kLWNsaXAsIGJhY2tncm91bmRJbWFnZSwgYmFja2dyb3VuZC1pbWFnZSwgYmFja2dyb3VuZE9yaWdpbiwgYmFja2dyb3VuZC1vcmlnaW4sIGJhY2tncm91bmRQb3NpdGlvblgsIGJhY2tncm91bmQtcG9zaXRpb24teCwgYmFja2dyb3VuZFBvc2l0aW9uWSwgYmFja2dyb3VuZC1wb3NpdGlvbi15LCBiYWNrZ3JvdW5kUmVwZWF0LCBiYWNrZ3JvdW5kLXJlcGVhdCwgYmFja2dyb3VuZFNpemUsIGJhY2tncm91bmQtc2l6ZSwgYm9yZGVySW1hZ2VPdXRzZXQsIGJvcmRlci1pbWFnZS1vdXRzZXQsIGJvcmRlckltYWdlU2xpY2UsIGJvcmRlci1pbWFnZS1zbGljZSwgYm9yZGVySW1hZ2VXaWR0aCwgYm9yZGVyLWltYWdlLXdpZHRoLCBib3JkZXJTcGFjaW5nLCBib3JkZXItc3BhY2luZywgYm94U2hhZG93LCBib3gtc2hhZG93LCBjYXJldENvbG9yLCBjYXJldC1jb2xvciwgY2xpcFBhdGgsIGNsaXAtcGF0aCwgY29sb3IsIGNvbG9yU2NoZW1lLCBjb2xvci1zY2hlbWUsIGNvbHVtbldpZHRoLCBjb2x1bW4td2lkdGgsIGNvbnRlbnQsIGNvdW50ZXJJbmNyZW1lbnQsIGNvdW50ZXItaW5jcmVtZW50LCBjb3VudGVyUmVzZXQsIGNvdW50ZXItcmVzZXQsIGNvdW50ZXJTZXQsIGNvdW50ZXItc2V0LCBjdXJzb3IsIGQsIGZpbHRlciwgZmxleEJhc2lzLCBmbGV4LWJhc2lzLCBmb250RmFtaWx5LCBmb250LWZhbWlseSwgZm9udEZlYXR1cmVTZXR0aW5ncywgZm9udC1mZWF0dXJlLXNldHRpbmdzLCBmb250TGFuZ3VhZ2VPdmVycmlkZSwgZm9udC1sYW5ndWFnZS1vdmVycmlkZSwgZm9udFBhbGV0dGUsIGZvbnQtcGFsZXR0ZSwgZm9udFNpemUsIGZvbnQtc2l6ZSwgZm9udFZhcmlhbnRBbHRlcm5hdGVzLCBmb250LXZhcmlhbnQtYWx0ZXJuYXRlcywgZm9udFZhcmlhdGlvblNldHRpbmdzLCBmb250LXZhcmlhdGlvbi1zZXR0aW5ncywgZ3JpZFRlbXBsYXRlQXJlYXMsIGdyaWQtdGVtcGxhdGUtYXJlYXMsIGh5cGhlbmF0ZUNoYXJhY3RlciwgaHlwaGVuYXRlLWNoYXJhY3RlciwgbGV0dGVyU3BhY2luZywgbGV0dGVyLXNwYWNpbmcsIGxpbmVIZWlnaHQsIGxpbmUtaGVpZ2h0LCBsaXN0U3R5bGVUeXBlLCBsaXN0LXN0eWxlLXR5cGUsIG1hc2tDbGlwLCBtYXNrLWNsaXAsIG1hc2tDb21wb3NpdGUsIG1hc2stY29tcG9zaXRlLCBtYXNrSW1hZ2UsIG1hc2staW1hZ2UsIG1hc2tNb2RlLCBtYXNrLW1vZGUsIG1hc2tPcmlnaW4sIG1hc2stb3JpZ2luLCBtYXNrUG9zaXRpb25YLCBtYXNrLXBvc2l0aW9uLXgsIG1hc2tQb3NpdGlvblksIG1hc2stcG9zaXRpb24teSwgbWFza1JlcGVhdCwgbWFzay1yZXBlYXQsIG1hc2tTaXplLCBtYXNrLXNpemUsIG9mZnNldEFuY2hvciwgb2Zmc2V0LWFuY2hvciwgb2Zmc2V0UGF0aCwgb2Zmc2V0LXBhdGgsIHBlcnNwZWN0aXZlLCBxdW90ZXMsIHJvdGF0ZSwgc2NhbGUsIHNjcm9sbGJhckNvbG9yLCBzY3JvbGxiYXItY29sb3IsIHNoYXBlT3V0c2lkZSwgc2hhcGUtb3V0c2lkZSwgc3Ryb2tlRGFzaGFycmF5LCBzdHJva2UtZGFzaGFycmF5LCBzdHJva2VEYXNob2Zmc2V0LCBzdHJva2UtZGFzaG9mZnNldCwgc3Ryb2tlV2lkdGgsIHN0cm9rZS13aWR0aCwgdGFiU2l6ZSwgdGFiLXNpemUsIHRleHREZWNvcmF0aW9uVGhpY2tuZXNzLCB0ZXh0LWRlY29yYXRpb24tdGhpY2tuZXNzLCB0ZXh0RW1waGFzaXNTdHlsZSwgdGV4dC1lbXBoYXNpcy1zdHlsZSwgdGV4dE92ZXJmbG93LCB0ZXh0LW92ZXJmbG93LCB0ZXh0U2hhZG93LCB0ZXh0LXNoYWRvdywgdHJhbnNpdGlvbkRlbGF5LCB0cmFuc2l0aW9uLWRlbGF5LCB0cmFuc2l0aW9uRHVyYXRpb24sIHRyYW5zaXRpb24tZHVyYXRpb24sIHRyYW5zaXRpb25Qcm9wZXJ0eSwgdHJhbnNpdGlvbi1wcm9wZXJ0eSwgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uLCB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiwgdHJhbnNsYXRlLCB2ZXJ0aWNhbEFsaWduLCB2ZXJ0aWNhbC1hbGlnbiwgd2lsbENoYW5nZSwgd2lsbC1jaGFuZ2UsIHdvcmRTcGFjaW5nLCB3b3JkLXNwYWNpbmcsIGNsaXAsIE1vekltYWdlUmVnaW9uLCAtbW96LWltYWdlLXJlZ2lvbiwgb2JqZWN0UG9zaXRpb24sIG9iamVjdC1wb3NpdGlvbiwgcGVyc3BlY3RpdmVPcmlnaW4sIHBlcnNwZWN0aXZlLW9yaWdpbiwgZmlsbCwgc3Ryb2tlLCB0cmFuc2Zvcm1PcmlnaW4sIHRyYW5zZm9ybS1vcmlnaW4sIGdyaWRUZW1wbGF0ZUNvbHVtbnMsIGdyaWQtdGVtcGxhdGUtY29sdW1ucywgZ3JpZFRlbXBsYXRlUm93cywgZ3JpZC10ZW1wbGF0ZS1yb3dzLCBib3JkZXJJbWFnZVNvdXJjZSwgYm9yZGVyLWltYWdlLXNvdXJjZSwgbGlzdFN0eWxlSW1hZ2UsIGxpc3Qtc3R5bGUtaW1hZ2UsIGdyaWRBdXRvQ29sdW1ucywgZ3JpZC1hdXRvLWNvbHVtbnMsIGdyaWRBdXRvUm93cywgZ3JpZC1hdXRvLXJvd3MsIHRyYW5zZm9ybSwgY29sdW1uR2FwLCBjb2x1bW4tZ2FwLCByb3dHYXAsIHJvdy1nYXAsIG1hcmtlckVuZCwgbWFya2VyLWVuZCwgbWFya2VyTWlkLCBtYXJrZXItbWlkLCBtYXJrZXJTdGFydCwgbWFya2VyLXN0YXJ0LCBjb250YWluSW50cmluc2ljQmxvY2tTaXplLCBjb250YWluLWludHJpbnNpYy1ibG9jay1zaXplLCBjb250YWluSW50cmluc2ljSGVpZ2h0LCBjb250YWluLWludHJpbnNpYy1oZWlnaHQsIGNvbnRhaW5JbnRyaW5zaWNJbmxpbmVTaXplLCBjb250YWluLWludHJpbnNpYy1pbmxpbmUtc2l6ZSwgY29udGFpbkludHJpbnNpY1dpZHRoLCBjb250YWluLWludHJpbnNpYy13aWR0aCwgZ3JpZENvbHVtbkVuZCwgZ3JpZC1jb2x1bW4tZW5kLCBncmlkQ29sdW1uU3RhcnQsIGdyaWQtY29sdW1uLXN0YXJ0LCBncmlkUm93RW5kLCBncmlkLXJvdy1lbmQsIGdyaWRSb3dTdGFydCwgZ3JpZC1yb3ctc3RhcnQsIG1heEJsb2NrU2l6ZSwgbWF4LWJsb2NrLXNpemUsIG1heEhlaWdodCwgbWF4LWhlaWdodCwgbWF4SW5saW5lU2l6ZSwgbWF4LWlubGluZS1zaXplLCBtYXhXaWR0aCwgbWF4LXdpZHRoLCBjeCwgY3ksIG9mZnNldERpc3RhbmNlLCBvZmZzZXQtZGlzdGFuY2UsIHRleHRJbmRlbnQsIHRleHQtaW5kZW50LCB4LCB5LCBib3JkZXJCb3R0b21MZWZ0UmFkaXVzLCBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzLCBib3JkZXJCb3R0b21SaWdodFJhZGl1cywgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXMsIGJvcmRlckVuZEVuZFJhZGl1cywgYm9yZGVyLWVuZC1lbmQtcmFkaXVzLCBib3JkZXJFbmRTdGFydFJhZGl1cywgYm9yZGVyLWVuZC1zdGFydC1yYWRpdXMsIGJvcmRlclN0YXJ0RW5kUmFkaXVzLCBib3JkZXItc3RhcnQtZW5kLXJhZGl1cywgYm9yZGVyU3RhcnRTdGFydFJhZGl1cywgYm9yZGVyLXN0YXJ0LXN0YXJ0LXJhZGl1cywgYm9yZGVyVG9wTGVmdFJhZGl1cywgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1cywgYm9yZGVyVG9wUmlnaHRSYWRpdXMsIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzLCBibG9ja1NpemUsIGJsb2NrLXNpemUsIGhlaWdodCwgaW5saW5lU2l6ZSwgaW5saW5lLXNpemUsIG1pbkJsb2NrU2l6ZSwgbWluLWJsb2NrLXNpemUsIG1pbkhlaWdodCwgbWluLWhlaWdodCwgbWluSW5saW5lU2l6ZSwgbWluLWlubGluZS1zaXplLCBtaW5XaWR0aCwgbWluLXdpZHRoLCB3aWR0aCwgcGFkZGluZ0Jsb2NrRW5kLCBwYWRkaW5nLWJsb2NrLWVuZCwgcGFkZGluZ0Jsb2NrU3RhcnQsIHBhZGRpbmctYmxvY2stc3RhcnQsIHBhZGRpbmdCb3R0b20sIHBhZGRpbmctYm90dG9tLCBwYWRkaW5nSW5saW5lRW5kLCBwYWRkaW5nLWlubGluZS1lbmQsIHBhZGRpbmdJbmxpbmVTdGFydCwgcGFkZGluZy1pbmxpbmUtc3RhcnQsIHBhZGRpbmdMZWZ0LCBwYWRkaW5nLWxlZnQsIHBhZGRpbmdSaWdodCwgcGFkZGluZy1yaWdodCwgcGFkZGluZ1RvcCwgcGFkZGluZy10b3AsIHIsIHNoYXBlTWFyZ2luLCBzaGFwZS1tYXJnaW4sIHJ4LCByeSwgc2Nyb2xsUGFkZGluZ0Jsb2NrRW5kLCBzY3JvbGwtcGFkZGluZy1ibG9jay1lbmQsIHNjcm9sbFBhZGRpbmdCbG9ja1N0YXJ0LCBzY3JvbGwtcGFkZGluZy1ibG9jay1zdGFydCwgc2Nyb2xsUGFkZGluZ0JvdHRvbSwgc2Nyb2xsLXBhZGRpbmctYm90dG9tLCBzY3JvbGxQYWRkaW5nSW5saW5lRW5kLCBzY3JvbGwtcGFkZGluZy1pbmxpbmUtZW5kLCBzY3JvbGxQYWRkaW5nSW5saW5lU3RhcnQsIHNjcm9sbC1wYWRkaW5nLWlubGluZS1zdGFydCwgc2Nyb2xsUGFkZGluZ0xlZnQsIHNjcm9sbC1wYWRkaW5nLWxlZnQsIHNjcm9sbFBhZGRpbmdSaWdodCwgc2Nyb2xsLXBhZGRpbmctcmlnaHQsIHNjcm9sbFBhZGRpbmdUb3AsIHNjcm9sbC1wYWRkaW5nLXRvcCwgYm9yZGVyQmxvY2tFbmRXaWR0aCwgYm9yZGVyLWJsb2NrLWVuZC13aWR0aCwgYm9yZGVyQmxvY2tTdGFydFdpZHRoLCBib3JkZXItYmxvY2stc3RhcnQtd2lkdGgsIGJvcmRlckJvdHRvbVdpZHRoLCBib3JkZXItYm90dG9tLXdpZHRoLCBib3JkZXJJbmxpbmVFbmRXaWR0aCwgYm9yZGVyLWlubGluZS1lbmQtd2lkdGgsIGJvcmRlcklubGluZVN0YXJ0V2lkdGgsIGJvcmRlci1pbmxpbmUtc3RhcnQtd2lkdGgsIGJvcmRlckxlZnRXaWR0aCwgYm9yZGVyLWxlZnQtd2lkdGgsIGJvcmRlclJpZ2h0V2lkdGgsIGJvcmRlci1yaWdodC13aWR0aCwgYm9yZGVyVG9wV2lkdGgsIGJvcmRlci10b3Atd2lkdGgsIGNvbHVtblJ1bGVXaWR0aCwgY29sdW1uLXJ1bGUtd2lkdGgsIG91dGxpbmVXaWR0aCwgb3V0bGluZS13aWR0aCwgd2Via2l0VGV4dFN0cm9rZVdpZHRoLCBXZWJraXRUZXh0U3Ryb2tlV2lkdGgsIC13ZWJraXQtdGV4dC1zdHJva2Utd2lkdGgsIG91dGxpbmVPZmZzZXQsIG91dGxpbmUtb2Zmc2V0LCBvdmVyZmxvd0NsaXBNYXJnaW4sIG92ZXJmbG93LWNsaXAtbWFyZ2luLCBzY3JvbGxNYXJnaW5CbG9ja0VuZCwgc2Nyb2xsLW1hcmdpbi1ibG9jay1lbmQsIHNjcm9sbE1hcmdpbkJsb2NrU3RhcnQsIHNjcm9sbC1tYXJnaW4tYmxvY2stc3RhcnQsIHNjcm9sbE1hcmdpbkJvdHRvbSwgc2Nyb2xsLW1hcmdpbi1ib3R0b20sIHNjcm9sbE1hcmdpbklubGluZUVuZCwgc2Nyb2xsLW1hcmdpbi1pbmxpbmUtZW5kLCBzY3JvbGxNYXJnaW5JbmxpbmVTdGFydCwgc2Nyb2xsLW1hcmdpbi1pbmxpbmUtc3RhcnQsIHNjcm9sbE1hcmdpbkxlZnQsIHNjcm9sbC1tYXJnaW4tbGVmdCwgc2Nyb2xsTWFyZ2luUmlnaHQsIHNjcm9sbC1tYXJnaW4tcmlnaHQsIHNjcm9sbE1hcmdpblRvcCwgc2Nyb2xsLW1hcmdpbi10b3AsIGJvdHRvbSwgaW5zZXRCbG9ja0VuZCwgaW5zZXQtYmxvY2stZW5kLCBpbnNldEJsb2NrU3RhcnQsIGluc2V0LWJsb2NrLXN0YXJ0LCBpbnNldElubGluZUVuZCwgaW5zZXQtaW5saW5lLWVuZCwgaW5zZXRJbmxpbmVTdGFydCwgaW5zZXQtaW5saW5lLXN0YXJ0LCBsZWZ0LCBtYXJnaW5CbG9ja0VuZCwgbWFyZ2luLWJsb2NrLWVuZCwgbWFyZ2luQmxvY2tTdGFydCwgbWFyZ2luLWJsb2NrLXN0YXJ0LCBtYXJnaW5Cb3R0b20sIG1hcmdpbi1ib3R0b20sIG1hcmdpbklubGluZUVuZCwgbWFyZ2luLWlubGluZS1lbmQsIG1hcmdpbklubGluZVN0YXJ0LCBtYXJnaW4taW5saW5lLXN0YXJ0LCBtYXJnaW5MZWZ0LCBtYXJnaW4tbGVmdCwgbWFyZ2luUmlnaHQsIG1hcmdpbi1yaWdodCwgbWFyZ2luVG9wLCBtYXJnaW4tdG9wLCByaWdodCwgdGV4dFVuZGVybGluZU9mZnNldCwgdGV4dC11bmRlcmxpbmUtb2Zmc2V0LCB0b3AsIGJhY2tncm91bmRDb2xvciwgYmFja2dyb3VuZC1jb2xvciwgYm9yZGVyQmxvY2tFbmRDb2xvciwgYm9yZGVyLWJsb2NrLWVuZC1jb2xvciwgYm9yZGVyQmxvY2tTdGFydENvbG9yLCBib3JkZXItYmxvY2stc3RhcnQtY29sb3IsIGJvcmRlckJvdHRvbUNvbG9yLCBib3JkZXItYm90dG9tLWNvbG9yLCBib3JkZXJJbmxpbmVFbmRDb2xvciwgYm9yZGVyLWlubGluZS1lbmQtY29sb3IsIGJvcmRlcklubGluZVN0YXJ0Q29sb3IsIGJvcmRlci1pbmxpbmUtc3RhcnQtY29sb3IsIGJvcmRlckxlZnRDb2xvciwgYm9yZGVyLWxlZnQtY29sb3IsIGJvcmRlclJpZ2h0Q29sb3IsIGJvcmRlci1yaWdodC1jb2xvciwgYm9yZGVyVG9wQ29sb3IsIGJvcmRlci10b3AtY29sb3IsIGNvbHVtblJ1bGVDb2xvciwgY29sdW1uLXJ1bGUtY29sb3IsIGZsb29kQ29sb3IsIGZsb29kLWNvbG9yLCBsaWdodGluZ0NvbG9yLCBsaWdodGluZy1jb2xvciwgb3V0bGluZUNvbG9yLCBvdXRsaW5lLWNvbG9yLCBzdG9wQ29sb3IsIHN0b3AtY29sb3IsIHRleHREZWNvcmF0aW9uQ29sb3IsIHRleHQtZGVjb3JhdGlvbi1jb2xvciwgdGV4dEVtcGhhc2lzQ29sb3IsIHRleHQtZW1waGFzaXMtY29sb3IsIHdlYmtpdFRleHRGaWxsQ29sb3IsIFdlYmtpdFRleHRGaWxsQ29sb3IsIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yLCB3ZWJraXRUZXh0U3Ryb2tlQ29sb3IsIFdlYmtpdFRleHRTdHJva2VDb2xvciwgLXdlYmtpdC10ZXh0LXN0cm9rZS1jb2xvciwgYmFja2dyb3VuZCwgYmFja2dyb3VuZFBvc2l0aW9uLCBiYWNrZ3JvdW5kLXBvc2l0aW9uLCBib3JkZXJDb2xvciwgYm9yZGVyLWNvbG9yLCBib3JkZXJTdHlsZSwgYm9yZGVyLXN0eWxlLCBib3JkZXJXaWR0aCwgYm9yZGVyLXdpZHRoLCBib3JkZXJUb3AsIGJvcmRlci10b3AsIGJvcmRlclJpZ2h0LCBib3JkZXItcmlnaHQsIGJvcmRlckJvdHRvbSwgYm9yZGVyLWJvdHRvbSwgYm9yZGVyTGVmdCwgYm9yZGVyLWxlZnQsIGJvcmRlckJsb2NrU3RhcnQsIGJvcmRlci1ibG9jay1zdGFydCwgYm9yZGVyQmxvY2tFbmQsIGJvcmRlci1ibG9jay1lbmQsIGJvcmRlcklubGluZVN0YXJ0LCBib3JkZXItaW5saW5lLXN0YXJ0LCBib3JkZXJJbmxpbmVFbmQsIGJvcmRlci1pbmxpbmUtZW5kLCBib3JkZXIsIGJvcmRlclJhZGl1cywgYm9yZGVyLXJhZGl1cywgYm9yZGVySW1hZ2UsIGJvcmRlci1pbWFnZSwgYm9yZGVyQmxvY2tXaWR0aCwgYm9yZGVyLWJsb2NrLXdpZHRoLCBib3JkZXJCbG9ja1N0eWxlLCBib3JkZXItYmxvY2stc3R5bGUsIGJvcmRlckJsb2NrQ29sb3IsIGJvcmRlci1ibG9jay1jb2xvciwgYm9yZGVySW5saW5lV2lkdGgsIGJvcmRlci1pbmxpbmUtd2lkdGgsIGJvcmRlcklubGluZVN0eWxlLCBib3JkZXItaW5saW5lLXN0eWxlLCBib3JkZXJJbmxpbmVDb2xvciwgYm9yZGVyLWlubGluZS1jb2xvciwgYm9yZGVyQmxvY2ssIGJvcmRlci1ibG9jaywgYm9yZGVySW5saW5lLCBib3JkZXItaW5saW5lLCBvdmVyZmxvdywgb3ZlcnNjcm9sbEJlaGF2aW9yLCBvdmVyc2Nyb2xsLWJlaGF2aW9yLCBwYWdlQnJlYWtCZWZvcmUsIHBhZ2UtYnJlYWstYmVmb3JlLCBwYWdlQnJlYWtBZnRlciwgcGFnZS1icmVhay1hZnRlciwgcGFnZUJyZWFrSW5zaWRlLCBwYWdlLWJyZWFrLWluc2lkZSwgb2Zmc2V0LCBjb2x1bW5zLCBjb2x1bW5SdWxlLCBjb2x1bW4tcnVsZSwgZm9udCwgZm9udFZhcmlhbnQsIGZvbnQtdmFyaWFudCwgbWFya2VyLCB0ZXh0RW1waGFzaXMsIHRleHQtZW1waGFzaXMsIHdlYmtpdFRleHRTdHJva2UsIFdlYmtpdFRleHRTdHJva2UsIC13ZWJraXQtdGV4dC1zdHJva2UsIGxpc3RTdHlsZSwgbGlzdC1zdHlsZSwgbWFyZ2luLCBtYXJnaW5CbG9jaywgbWFyZ2luLWJsb2NrLCBtYXJnaW5JbmxpbmUsIG1hcmdpbi1pbmxpbmUsIHNjcm9sbE1hcmdpbiwgc2Nyb2xsLW1hcmdpbiwgc2Nyb2xsTWFyZ2luQmxvY2ssIHNjcm9sbC1tYXJnaW4tYmxvY2ssIHNjcm9sbE1hcmdpbklubGluZSwgc2Nyb2xsLW1hcmdpbi1pbmxpbmUsIG91dGxpbmUsIHBhZGRpbmcsIHBhZGRpbmdCbG9jaywgcGFkZGluZy1ibG9jaywgcGFkZGluZ0lubGluZSwgcGFkZGluZy1pbmxpbmUsIHNjcm9sbFBhZGRpbmcsIHNjcm9sbC1wYWRkaW5nLCBzY3JvbGxQYWRkaW5nQmxvY2ssIHNjcm9sbC1wYWRkaW5nLWJsb2NrLCBzY3JvbGxQYWRkaW5nSW5saW5lLCBzY3JvbGwtcGFkZGluZy1pbmxpbmUsIGZsZXhGbG93LCBmbGV4LWZsb3csIGZsZXgsIGdhcCwgZ3JpZFJvdywgZ3JpZC1yb3csIGdyaWRDb2x1bW4sIGdyaWQtY29sdW1uLCBncmlkQXJlYSwgZ3JpZC1hcmVhLCBncmlkVGVtcGxhdGUsIGdyaWQtdGVtcGxhdGUsIGdyaWQsIHBsYWNlQ29udGVudCwgcGxhY2UtY29udGVudCwgcGxhY2VTZWxmLCBwbGFjZS1zZWxmLCBwbGFjZUl0ZW1zLCBwbGFjZS1pdGVtcywgaW5zZXQsIGluc2V0QmxvY2ssIGluc2V0LWJsb2NrLCBpbnNldElubGluZSwgaW5zZXQtaW5saW5lLCBjb250YWluSW50cmluc2ljU2l6ZSwgY29udGFpbi1pbnRyaW5zaWMtc2l6ZSwgbWFzaywgbWFza1Bvc2l0aW9uLCBtYXNrLXBvc2l0aW9uLCB0ZXh0RGVjb3JhdGlvbiwgdGV4dC1kZWNvcmF0aW9uLCB0cmFuc2l0aW9uLCBhbmltYXRpb24sIGFsbCwgd2Via2l0QmFja2dyb3VuZENsaXAsIFdlYmtpdEJhY2tncm91bmRDbGlwLCAtd2Via2l0LWJhY2tncm91bmQtY2xpcCwgd2Via2l0QmFja2dyb3VuZE9yaWdpbiwgV2Via2l0QmFja2dyb3VuZE9yaWdpbiwgLXdlYmtpdC1iYWNrZ3JvdW5kLW9yaWdpbiwgd2Via2l0QmFja2dyb3VuZFNpemUsIFdlYmtpdEJhY2tncm91bmRTaXplLCAtd2Via2l0LWJhY2tncm91bmQtc2l6ZSwgTW96Qm9yZGVyU3RhcnRDb2xvciwgLW1vei1ib3JkZXItc3RhcnQtY29sb3IsIE1vekJvcmRlclN0YXJ0U3R5bGUsIC1tb3otYm9yZGVyLXN0YXJ0LXN0eWxlLCBNb3pCb3JkZXJTdGFydFdpZHRoLCAtbW96LWJvcmRlci1zdGFydC13aWR0aCwgTW96Qm9yZGVyRW5kQ29sb3IsIC1tb3otYm9yZGVyLWVuZC1jb2xvciwgTW96Qm9yZGVyRW5kU3R5bGUsIC1tb3otYm9yZGVyLWVuZC1zdHlsZSwgTW96Qm9yZGVyRW5kV2lkdGgsIC1tb3otYm9yZGVyLWVuZC13aWR0aCwgd2Via2l0Qm9yZGVyVG9wTGVmdFJhZGl1cywgV2Via2l0Qm9yZGVyVG9wTGVmdFJhZGl1cywgLXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzLCB3ZWJraXRCb3JkZXJUb3BSaWdodFJhZGl1cywgV2Via2l0Qm9yZGVyVG9wUmlnaHRSYWRpdXMsIC13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXMsIHdlYmtpdEJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzLCBXZWJraXRCb3JkZXJCb3R0b21SaWdodFJhZGl1cywgLXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1cywgd2Via2l0Qm9yZGVyQm90dG9tTGVmdFJhZGl1cywgV2Via2l0Qm9yZGVyQm90dG9tTGVmdFJhZGl1cywgLXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzLCBNb3pUcmFuc2Zvcm0sIC1tb3otdHJhbnNmb3JtLCB3ZWJraXRUcmFuc2Zvcm0sIFdlYmtpdFRyYW5zZm9ybSwgLXdlYmtpdC10cmFuc2Zvcm0sIE1velBlcnNwZWN0aXZlLCAtbW96LXBlcnNwZWN0aXZlLCB3ZWJraXRQZXJzcGVjdGl2ZSwgV2Via2l0UGVyc3BlY3RpdmUsIC13ZWJraXQtcGVyc3BlY3RpdmUsIE1velBlcnNwZWN0aXZlT3JpZ2luLCAtbW96LXBlcnNwZWN0aXZlLW9yaWdpbiwgd2Via2l0UGVyc3BlY3RpdmVPcmlnaW4sIFdlYmtpdFBlcnNwZWN0aXZlT3JpZ2luLCAtd2Via2l0LXBlcnNwZWN0aXZlLW9yaWdpbiwgTW96QmFja2ZhY2VWaXNpYmlsaXR5LCAtbW96LWJhY2tmYWNlLXZpc2liaWxpdHksIHdlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eSwgV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5LCAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHksIE1velRyYW5zZm9ybVN0eWxlLCAtbW96LXRyYW5zZm9ybS1zdHlsZSwgd2Via2l0VHJhbnNmb3JtU3R5bGUsIFdlYmtpdFRyYW5zZm9ybVN0eWxlLCAtd2Via2l0LXRyYW5zZm9ybS1zdHlsZSwgTW96VHJhbnNmb3JtT3JpZ2luLCAtbW96LXRyYW5zZm9ybS1vcmlnaW4sIHdlYmtpdFRyYW5zZm9ybU9yaWdpbiwgV2Via2l0VHJhbnNmb3JtT3JpZ2luLCAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW4sIE1vekFwcGVhcmFuY2UsIC1tb3otYXBwZWFyYW5jZSwgd2Via2l0QXBwZWFyYW5jZSwgV2Via2l0QXBwZWFyYW5jZSwgLXdlYmtpdC1hcHBlYXJhbmNlLCB3ZWJraXRCb3hTaGFkb3csIFdlYmtpdEJveFNoYWRvdywgLXdlYmtpdC1ib3gtc2hhZG93LCB3ZWJraXRGaWx0ZXIsIFdlYmtpdEZpbHRlciwgLXdlYmtpdC1maWx0ZXIsIE1vekZvbnRGZWF0dXJlU2V0dGluZ3MsIC1tb3otZm9udC1mZWF0dXJlLXNldHRpbmdzLCBNb3pGb250TGFuZ3VhZ2VPdmVycmlkZSwgLW1vei1mb250LWxhbmd1YWdlLW92ZXJyaWRlLCBjb2xvckFkanVzdCwgY29sb3ItYWRqdXN0LCBNb3pIeXBoZW5zLCAtbW96LWh5cGhlbnMsIHdlYmtpdFRleHRTaXplQWRqdXN0LCBXZWJraXRUZXh0U2l6ZUFkanVzdCwgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0LCB3b3JkV3JhcCwgd29yZC13cmFwLCBNb3pUYWJTaXplLCAtbW96LXRhYi1zaXplLCBNb3pNYXJnaW5TdGFydCwgLW1vei1tYXJnaW4tc3RhcnQsIE1vek1hcmdpbkVuZCwgLW1vei1tYXJnaW4tZW5kLCBNb3pQYWRkaW5nU3RhcnQsIC1tb3otcGFkZGluZy1zdGFydCwgTW96UGFkZGluZ0VuZCwgLW1vei1wYWRkaW5nLWVuZCwgd2Via2l0RmxleERpcmVjdGlvbiwgV2Via2l0RmxleERpcmVjdGlvbiwgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbiwgd2Via2l0RmxleFdyYXAsIFdlYmtpdEZsZXhXcmFwLCAtd2Via2l0LWZsZXgtd3JhcCwgd2Via2l0SnVzdGlmeUNvbnRlbnQsIFdlYmtpdEp1c3RpZnlDb250ZW50LCAtd2Via2l0LWp1c3RpZnktY29udGVudCwgd2Via2l0QWxpZ25Db250ZW50LCBXZWJraXRBbGlnbkNvbnRlbnQsIC13ZWJraXQtYWxpZ24tY29udGVudCwgd2Via2l0QWxpZ25JdGVtcywgV2Via2l0QWxpZ25JdGVtcywgLXdlYmtpdC1hbGlnbi1pdGVtcywgd2Via2l0RmxleEdyb3csIFdlYmtpdEZsZXhHcm93LCAtd2Via2l0LWZsZXgtZ3Jvdywgd2Via2l0RmxleFNocmluaywgV2Via2l0RmxleFNocmluaywgLXdlYmtpdC1mbGV4LXNocmluaywgd2Via2l0QWxpZ25TZWxmLCBXZWJraXRBbGlnblNlbGYsIC13ZWJraXQtYWxpZ24tc2VsZiwgd2Via2l0T3JkZXIsIFdlYmtpdE9yZGVyLCAtd2Via2l0LW9yZGVyLCB3ZWJraXRGbGV4QmFzaXMsIFdlYmtpdEZsZXhCYXNpcywgLXdlYmtpdC1mbGV4LWJhc2lzLCBNb3pCb3hTaXppbmcsIC1tb3otYm94LXNpemluZywgd2Via2l0Qm94U2l6aW5nLCBXZWJraXRCb3hTaXppbmcsIC13ZWJraXQtYm94LXNpemluZywgZ3JpZENvbHVtbkdhcCwgZ3JpZC1jb2x1bW4tZ2FwLCBncmlkUm93R2FwLCBncmlkLXJvdy1nYXAsIHdlYmtpdE1hc2tSZXBlYXQsIFdlYmtpdE1hc2tSZXBlYXQsIC13ZWJraXQtbWFzay1yZXBlYXQsIHdlYmtpdE1hc2tQb3NpdGlvblgsIFdlYmtpdE1hc2tQb3NpdGlvblgsIC13ZWJraXQtbWFzay1wb3NpdGlvbi14LCB3ZWJraXRNYXNrUG9zaXRpb25ZLCBXZWJraXRNYXNrUG9zaXRpb25ZLCAtd2Via2l0LW1hc2stcG9zaXRpb24teSwgd2Via2l0TWFza0NsaXAsIFdlYmtpdE1hc2tDbGlwLCAtd2Via2l0LW1hc2stY2xpcCwgd2Via2l0TWFza09yaWdpbiwgV2Via2l0TWFza09yaWdpbiwgLXdlYmtpdC1tYXNrLW9yaWdpbiwgd2Via2l0TWFza1NpemUsIFdlYmtpdE1hc2tTaXplLCAtd2Via2l0LW1hc2stc2l6ZSwgd2Via2l0TWFza0NvbXBvc2l0ZSwgV2Via2l0TWFza0NvbXBvc2l0ZSwgLXdlYmtpdC1tYXNrLWNvbXBvc2l0ZSwgd2Via2l0TWFza0ltYWdlLCBXZWJraXRNYXNrSW1hZ2UsIC13ZWJraXQtbWFzay1pbWFnZSwgTW96VXNlclNlbGVjdCwgLW1vei11c2VyLXNlbGVjdCwgd2Via2l0VXNlclNlbGVjdCwgV2Via2l0VXNlclNlbGVjdCwgLXdlYmtpdC11c2VyLXNlbGVjdCwgTW96VHJhbnNpdGlvbkR1cmF0aW9uLCAtbW96LXRyYW5zaXRpb24tZHVyYXRpb24sIHdlYmtpdFRyYW5zaXRpb25EdXJhdGlvbiwgV2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uLCAtd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb24sIE1velRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiwgLW1vei10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiwgd2Via2l0VHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uLCBXZWJraXRUcmFuc2l0aW9uVGltaW5nRnVuY3Rpb24sIC13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24sIE1velRyYW5zaXRpb25Qcm9wZXJ0eSwgLW1vei10cmFuc2l0aW9uLXByb3BlcnR5LCB3ZWJraXRUcmFuc2l0aW9uUHJvcGVydHksIFdlYmtpdFRyYW5zaXRpb25Qcm9wZXJ0eSwgLXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5LCBNb3pUcmFuc2l0aW9uRGVsYXksIC1tb3otdHJhbnNpdGlvbi1kZWxheSwgd2Via2l0VHJhbnNpdGlvbkRlbGF5LCBXZWJraXRUcmFuc2l0aW9uRGVsYXksIC13ZWJraXQtdHJhbnNpdGlvbi1kZWxheSwgTW96QW5pbWF0aW9uTmFtZSwgLW1vei1hbmltYXRpb24tbmFtZSwgd2Via2l0QW5pbWF0aW9uTmFtZSwgV2Via2l0QW5pbWF0aW9uTmFtZSwgLXdlYmtpdC1hbmltYXRpb24tbmFtZSwgTW96QW5pbWF0aW9uRHVyYXRpb24sIC1tb3otYW5pbWF0aW9uLWR1cmF0aW9uLCB3ZWJraXRBbmltYXRpb25EdXJhdGlvbiwgV2Via2l0QW5pbWF0aW9uRHVyYXRpb24sIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uLCBNb3pBbmltYXRpb25UaW1pbmdGdW5jdGlvbiwgLW1vei1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uLCB3ZWJraXRBbmltYXRpb25UaW1pbmdGdW5jdGlvbiwgV2Via2l0QW5pbWF0aW9uVGltaW5nRnVuY3Rpb24sIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbiwgTW96QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQsIC1tb3otYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCwgd2Via2l0QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQsIFdlYmtpdEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50LCAtd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQsIE1vekFuaW1hdGlvbkRpcmVjdGlvbiwgLW1vei1hbmltYXRpb24tZGlyZWN0aW9uLCB3ZWJraXRBbmltYXRpb25EaXJlY3Rpb24sIFdlYmtpdEFuaW1hdGlvbkRpcmVjdGlvbiwgLXdlYmtpdC1hbmltYXRpb24tZGlyZWN0aW9uLCBNb3pBbmltYXRpb25QbGF5U3RhdGUsIC1tb3otYW5pbWF0aW9uLXBsYXktc3RhdGUsIHdlYmtpdEFuaW1hdGlvblBsYXlTdGF0ZSwgV2Via2l0QW5pbWF0aW9uUGxheVN0YXRlLCAtd2Via2l0LWFuaW1hdGlvbi1wbGF5LXN0YXRlLCBNb3pBbmltYXRpb25GaWxsTW9kZSwgLW1vei1hbmltYXRpb24tZmlsbC1tb2RlLCB3ZWJraXRBbmltYXRpb25GaWxsTW9kZSwgV2Via2l0QW5pbWF0aW9uRmlsbE1vZGUsIC13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZSwgTW96QW5pbWF0aW9uRGVsYXksIC1tb3otYW5pbWF0aW9uLWRlbGF5LCB3ZWJraXRBbmltYXRpb25EZWxheSwgV2Via2l0QW5pbWF0aW9uRGVsYXksIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5LCB3ZWJraXRCb3hBbGlnbiwgV2Via2l0Qm94QWxpZ24sIC13ZWJraXQtYm94LWFsaWduLCB3ZWJraXRCb3hEaXJlY3Rpb24sIFdlYmtpdEJveERpcmVjdGlvbiwgLXdlYmtpdC1ib3gtZGlyZWN0aW9uLCB3ZWJraXRCb3hGbGV4LCBXZWJraXRCb3hGbGV4LCAtd2Via2l0LWJveC1mbGV4LCB3ZWJraXRCb3hPcmllbnQsIFdlYmtpdEJveE9yaWVudCwgLXdlYmtpdC1ib3gtb3JpZW50LCB3ZWJraXRCb3hQYWNrLCBXZWJraXRCb3hQYWNrLCAtd2Via2l0LWJveC1wYWNrLCB3ZWJraXRCb3hPcmRpbmFsR3JvdXAsIFdlYmtpdEJveE9yZGluYWxHcm91cCwgLXdlYmtpdC1ib3gtb3JkaW5hbC1ncm91cCwgTW96Qm9yZGVyU3RhcnQsIC1tb3otYm9yZGVyLXN0YXJ0LCBNb3pCb3JkZXJFbmQsIC1tb3otYm9yZGVyLWVuZCwgd2Via2l0Qm9yZGVyUmFkaXVzLCBXZWJraXRCb3JkZXJSYWRpdXMsIC13ZWJraXQtYm9yZGVyLXJhZGl1cywgTW96Qm9yZGVySW1hZ2UsIC1tb3otYm9yZGVyLWltYWdlLCB3ZWJraXRCb3JkZXJJbWFnZSwgV2Via2l0Qm9yZGVySW1hZ2UsIC13ZWJraXQtYm9yZGVyLWltYWdlLCB3ZWJraXRGbGV4RmxvdywgV2Via2l0RmxleEZsb3csIC13ZWJraXQtZmxleC1mbG93LCB3ZWJraXRGbGV4LCBXZWJraXRGbGV4LCAtd2Via2l0LWZsZXgsIGdyaWRHYXAsIGdyaWQtZ2FwLCB3ZWJraXRNYXNrLCBXZWJraXRNYXNrLCAtd2Via2l0LW1hc2ssIHdlYmtpdE1hc2tQb3NpdGlvbiwgV2Via2l0TWFza1Bvc2l0aW9uLCAtd2Via2l0LW1hc2stcG9zaXRpb24sIE1velRyYW5zaXRpb24sIC1tb3otdHJhbnNpdGlvbiwgd2Via2l0VHJhbnNpdGlvbiwgV2Via2l0VHJhbnNpdGlvbiwgLXdlYmtpdC10cmFuc2l0aW9uLCBNb3pBbmltYXRpb24sIC1tb3otYW5pbWF0aW9uLCB3ZWJraXRBbmltYXRpb24sIFdlYmtpdEFuaW1hdGlvbiwgLXdlYmtpdC1hbmltYXRpb24sIGNvbnN0cnVjdG9yYCwNCiAgICAgICAgICAgIGpzS2V5czogJ09iamVjdC5hc3NpZ24sIE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0LnNldFByb3RvdHlwZU9mLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycywgT2JqZWN0LmtleXMsIE9iamVjdC52YWx1ZXMsIE9iamVjdC5lbnRyaWVzLCBPYmplY3QuaXMsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsIE9iamVjdC5jcmVhdGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLCBPYmplY3QuaXNFeHRlbnNpYmxlLCBPYmplY3QucHJldmVudEV4dGVuc2lvbnMsIE9iamVjdC5mcmVlemUsIE9iamVjdC5pc0Zyb3plbiwgT2JqZWN0LnNlYWwsIE9iamVjdC5pc1NlYWxlZCwgT2JqZWN0LmZyb21FbnRyaWVzLCBPYmplY3QuaGFzT3duLCBPYmplY3QudG9TdHJpbmcsIE9iamVjdC50b0xvY2FsZVN0cmluZywgT2JqZWN0LnZhbHVlT2YsIE9iamVjdC5oYXNPd25Qcm9wZXJ0eSwgT2JqZWN0LmlzUHJvdG90eXBlT2YsIE9iamVjdC5wcm9wZXJ0eUlzRW51bWVyYWJsZSwgT2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18sIE9iamVjdC5fX2RlZmluZVNldHRlcl9fLCBPYmplY3QuX19sb29rdXBHZXR0ZXJfXywgT2JqZWN0Ll9fbG9va3VwU2V0dGVyX18sIE9iamVjdC5fX3Byb3RvX18sIEZ1bmN0aW9uLnRvU3RyaW5nLCBGdW5jdGlvbi5hcHBseSwgRnVuY3Rpb24uY2FsbCwgRnVuY3Rpb24uYmluZCwgQm9vbGVhbi50b1N0cmluZywgQm9vbGVhbi52YWx1ZU9mLCBTeW1ib2wuZm9yLCBTeW1ib2wua2V5Rm9yLCBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlLCBTeW1ib2wuaXRlcmF0b3IsIFN5bWJvbC5tYXRjaCwgU3ltYm9sLnJlcGxhY2UsIFN5bWJvbC5zZWFyY2gsIFN5bWJvbC5zcGVjaWVzLCBTeW1ib2wuaGFzSW5zdGFuY2UsIFN5bWJvbC5zcGxpdCwgU3ltYm9sLnRvUHJpbWl0aXZlLCBTeW1ib2wudG9TdHJpbmdUYWcsIFN5bWJvbC51bnNjb3BhYmxlcywgU3ltYm9sLmFzeW5jSXRlcmF0b3IsIFN5bWJvbC5tYXRjaEFsbCwgU3ltYm9sLnRvU3RyaW5nLCBTeW1ib2wudmFsdWVPZiwgU3ltYm9sLmRlc2NyaXB0aW9uLCBFcnJvci50b1N0cmluZywgRXJyb3IubWVzc2FnZSwgRXJyb3Iuc3RhY2ssIE51bWJlci5pc0Zpbml0ZSwgTnVtYmVyLmlzSW50ZWdlciwgTnVtYmVyLmlzTmFOLCBOdW1iZXIuaXNTYWZlSW50ZWdlciwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NSU5fVkFMVUUsIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLCBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUiwgTnVtYmVyLkVQU0lMT04sIE51bWJlci5wYXJzZUludCwgTnVtYmVyLnBhcnNlRmxvYXQsIE51bWJlci5OYU4sIE51bWJlci50b1N0cmluZywgTnVtYmVyLnRvTG9jYWxlU3RyaW5nLCBOdW1iZXIudmFsdWVPZiwgTnVtYmVyLnRvRml4ZWQsIE51bWJlci50b0V4cG9uZW50aWFsLCBOdW1iZXIudG9QcmVjaXNpb24sIEJpZ0ludC5hc1VpbnROLCBCaWdJbnQuYXNJbnROLCBCaWdJbnQudmFsdWVPZiwgQmlnSW50LnRvU3RyaW5nLCBCaWdJbnQudG9Mb2NhbGVTdHJpbmcsIE1hdGguYWJzLCBNYXRoLmFjb3MsIE1hdGguYXNpbiwgTWF0aC5hdGFuLCBNYXRoLmF0YW4yLCBNYXRoLmNlaWwsIE1hdGguY2x6MzIsIE1hdGguY29zLCBNYXRoLmV4cCwgTWF0aC5mbG9vciwgTWF0aC5pbXVsLCBNYXRoLmZyb3VuZCwgTWF0aC5sb2csIE1hdGgubWF4LCBNYXRoLm1pbiwgTWF0aC5wb3csIE1hdGgucmFuZG9tLCBNYXRoLnJvdW5kLCBNYXRoLnNpbiwgTWF0aC5zcXJ0LCBNYXRoLnRhbiwgTWF0aC5sb2cxMCwgTWF0aC5sb2cyLCBNYXRoLmxvZzFwLCBNYXRoLmV4cG0xLCBNYXRoLmNvc2gsIE1hdGguc2luaCwgTWF0aC50YW5oLCBNYXRoLmFjb3NoLCBNYXRoLmFzaW5oLCBNYXRoLmF0YW5oLCBNYXRoLmh5cG90LCBNYXRoLnRydW5jLCBNYXRoLnNpZ24sIE1hdGguY2JydCwgTWF0aC5FLCBNYXRoLkxPRzJFLCBNYXRoLkxPRzEwRSwgTWF0aC5MTjIsIE1hdGguTE4xMCwgTWF0aC5QSSwgTWF0aC5TUVJUMiwgTWF0aC5TUVJUMV8yLCBEYXRlLlVUQywgRGF0ZS5wYXJzZSwgRGF0ZS5ub3csIERhdGUuZ2V0VGltZSwgRGF0ZS5nZXRUaW1lem9uZU9mZnNldCwgRGF0ZS5nZXRZZWFyLCBEYXRlLmdldEZ1bGxZZWFyLCBEYXRlLmdldFVUQ0Z1bGxZZWFyLCBEYXRlLmdldE1vbnRoLCBEYXRlLmdldFVUQ01vbnRoLCBEYXRlLmdldERhdGUsIERhdGUuZ2V0VVRDRGF0ZSwgRGF0ZS5nZXREYXksIERhdGUuZ2V0VVRDRGF5LCBEYXRlLmdldEhvdXJzLCBEYXRlLmdldFVUQ0hvdXJzLCBEYXRlLmdldE1pbnV0ZXMsIERhdGUuZ2V0VVRDTWludXRlcywgRGF0ZS5nZXRTZWNvbmRzLCBEYXRlLmdldFVUQ1NlY29uZHMsIERhdGUuZ2V0TWlsbGlzZWNvbmRzLCBEYXRlLmdldFVUQ01pbGxpc2Vjb25kcywgRGF0ZS5zZXRUaW1lLCBEYXRlLnNldFllYXIsIERhdGUuc2V0RnVsbFllYXIsIERhdGUuc2V0VVRDRnVsbFllYXIsIERhdGUuc2V0TW9udGgsIERhdGUuc2V0VVRDTW9udGgsIERhdGUuc2V0RGF0ZSwgRGF0ZS5zZXRVVENEYXRlLCBEYXRlLnNldEhvdXJzLCBEYXRlLnNldFVUQ0hvdXJzLCBEYXRlLnNldE1pbnV0ZXMsIERhdGUuc2V0VVRDTWludXRlcywgRGF0ZS5zZXRTZWNvbmRzLCBEYXRlLnNldFVUQ1NlY29uZHMsIERhdGUuc2V0TWlsbGlzZWNvbmRzLCBEYXRlLnNldFVUQ01pbGxpc2Vjb25kcywgRGF0ZS50b1VUQ1N0cmluZywgRGF0ZS50b0xvY2FsZVN0cmluZywgRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcsIERhdGUudG9Mb2NhbGVUaW1lU3RyaW5nLCBEYXRlLnRvRGF0ZVN0cmluZywgRGF0ZS50b1RpbWVTdHJpbmcsIERhdGUudG9JU09TdHJpbmcsIERhdGUudG9KU09OLCBEYXRlLnRvU3RyaW5nLCBEYXRlLnZhbHVlT2YsIERhdGUudG9HTVRTdHJpbmcsIFN0cmluZy5mcm9tQ2hhckNvZGUsIFN0cmluZy5mcm9tQ29kZVBvaW50LCBTdHJpbmcucmF3LCBTdHJpbmcudG9TdHJpbmcsIFN0cmluZy52YWx1ZU9mLCBTdHJpbmcudG9Mb3dlckNhc2UsIFN0cmluZy50b1VwcGVyQ2FzZSwgU3RyaW5nLmNoYXJBdCwgU3RyaW5nLmNoYXJDb2RlQXQsIFN0cmluZy5zdWJzdHJpbmcsIFN0cmluZy5wYWRTdGFydCwgU3RyaW5nLnBhZEVuZCwgU3RyaW5nLmNvZGVQb2ludEF0LCBTdHJpbmcuaW5jbHVkZXMsIFN0cmluZy5pbmRleE9mLCBTdHJpbmcubGFzdEluZGV4T2YsIFN0cmluZy5zdGFydHNXaXRoLCBTdHJpbmcuZW5kc1dpdGgsIFN0cmluZy50cmltLCBTdHJpbmcudHJpbVN0YXJ0LCBTdHJpbmcudHJpbUVuZCwgU3RyaW5nLnRvTG9jYWxlTG93ZXJDYXNlLCBTdHJpbmcudG9Mb2NhbGVVcHBlckNhc2UsIFN0cmluZy5sb2NhbGVDb21wYXJlLCBTdHJpbmcucmVwZWF0LCBTdHJpbmcubm9ybWFsaXplLCBTdHJpbmcubWF0Y2gsIFN0cmluZy5tYXRjaEFsbCwgU3RyaW5nLnNlYXJjaCwgU3RyaW5nLnJlcGxhY2UsIFN0cmluZy5yZXBsYWNlQWxsLCBTdHJpbmcuc3BsaXQsIFN0cmluZy5zdWJzdHIsIFN0cmluZy5jb25jYXQsIFN0cmluZy5zbGljZSwgU3RyaW5nLmF0LCBTdHJpbmcuYm9sZCwgU3RyaW5nLml0YWxpY3MsIFN0cmluZy5maXhlZCwgU3RyaW5nLnN0cmlrZSwgU3RyaW5nLnNtYWxsLCBTdHJpbmcuYmlnLCBTdHJpbmcuYmxpbmssIFN0cmluZy5zdXAsIFN0cmluZy5zdWIsIFN0cmluZy5hbmNob3IsIFN0cmluZy5saW5rLCBTdHJpbmcuZm9udGNvbG9yLCBTdHJpbmcuZm9udHNpemUsIFN0cmluZy50cmltTGVmdCwgU3RyaW5nLnRyaW1SaWdodCwgUmVnRXhwLmlucHV0LCBSZWdFeHAubGFzdE1hdGNoLCBSZWdFeHAubGFzdFBhcmVuLCBSZWdFeHAubGVmdENvbnRleHQsIFJlZ0V4cC5yaWdodENvbnRleHQsIFJlZ0V4cC4kMSwgUmVnRXhwLiQyLCBSZWdFeHAuJDMsIFJlZ0V4cC4kNCwgUmVnRXhwLiQ1LCBSZWdFeHAuJDYsIFJlZ0V4cC4kNywgUmVnRXhwLiQ4LCBSZWdFeHAuJDksIFJlZ0V4cC4kXywgUmVnRXhwLiQmLCBSZWdFeHAuJCssIFJlZ0V4cC4kYCwgUmVnRXhwLiRcJywgUmVnRXhwLnRvU3RyaW5nLCBSZWdFeHAuY29tcGlsZSwgUmVnRXhwLmV4ZWMsIFJlZ0V4cC50ZXN0LCBSZWdFeHAuZmxhZ3MsIFJlZ0V4cC5oYXNJbmRpY2VzLCBSZWdFeHAuZ2xvYmFsLCBSZWdFeHAuaWdub3JlQ2FzZSwgUmVnRXhwLm11bHRpbGluZSwgUmVnRXhwLmRvdEFsbCwgUmVnRXhwLnNvdXJjZSwgUmVnRXhwLnN0aWNreSwgUmVnRXhwLnVuaWNvZGUsIEFycmF5LmlzQXJyYXksIEFycmF5LmZyb20sIEFycmF5Lm9mLCBBcnJheS50b1N0cmluZywgQXJyYXkudG9Mb2NhbGVTdHJpbmcsIEFycmF5LmpvaW4sIEFycmF5LnJldmVyc2UsIEFycmF5LnNvcnQsIEFycmF5LnB1c2gsIEFycmF5LnBvcCwgQXJyYXkuc2hpZnQsIEFycmF5LnVuc2hpZnQsIEFycmF5LnNwbGljZSwgQXJyYXkuY29uY2F0LCBBcnJheS5zbGljZSwgQXJyYXkubGFzdEluZGV4T2YsIEFycmF5LmluZGV4T2YsIEFycmF5LmZvckVhY2gsIEFycmF5Lm1hcCwgQXJyYXkuZmlsdGVyLCBBcnJheS5yZWR1Y2UsIEFycmF5LnJlZHVjZVJpZ2h0LCBBcnJheS5zb21lLCBBcnJheS5ldmVyeSwgQXJyYXkuZmluZCwgQXJyYXkuZmluZEluZGV4LCBBcnJheS5jb3B5V2l0aGluLCBBcnJheS5maWxsLCBBcnJheS5lbnRyaWVzLCBBcnJheS5rZXlzLCBBcnJheS52YWx1ZXMsIEFycmF5LmluY2x1ZGVzLCBBcnJheS5mbGF0TWFwLCBBcnJheS5mbGF0LCBBcnJheS5hdCwgQXJyYXkuZmluZExhc3QsIEFycmF5LmZpbmRMYXN0SW5kZXgsIE1hcC5nZXQsIE1hcC5oYXMsIE1hcC5zZXQsIE1hcC5kZWxldGUsIE1hcC5rZXlzLCBNYXAudmFsdWVzLCBNYXAuY2xlYXIsIE1hcC5mb3JFYWNoLCBNYXAuZW50cmllcywgTWFwLnNpemUsIFNldC5oYXMsIFNldC5hZGQsIFNldC5kZWxldGUsIFNldC5lbnRyaWVzLCBTZXQuY2xlYXIsIFNldC5mb3JFYWNoLCBTZXQudmFsdWVzLCBTZXQua2V5cywgU2V0LnNpemUsIFdlYWtNYXAuaGFzLCBXZWFrTWFwLmdldCwgV2Vha01hcC5kZWxldGUsIFdlYWtNYXAuc2V0LCBXZWFrU2V0LmFkZCwgV2Vha1NldC5kZWxldGUsIFdlYWtTZXQuaGFzLCBBdG9taWNzLmNvbXBhcmVFeGNoYW5nZSwgQXRvbWljcy5sb2FkLCBBdG9taWNzLnN0b3JlLCBBdG9taWNzLmV4Y2hhbmdlLCBBdG9taWNzLmFkZCwgQXRvbWljcy5zdWIsIEF0b21pY3MuYW5kLCBBdG9taWNzLm9yLCBBdG9taWNzLnhvciwgQXRvbWljcy5pc0xvY2tGcmVlLCBBdG9taWNzLndhaXQsIEF0b21pY3Mubm90aWZ5LCBBdG9taWNzLndha2UsIEpTT04ucGFyc2UsIEpTT04uc3RyaW5naWZ5LCBQcm9taXNlLmFsbCwgUHJvbWlzZS5hbGxTZXR0bGVkLCBQcm9taXNlLmFueSwgUHJvbWlzZS5yYWNlLCBQcm9taXNlLnJlamVjdCwgUHJvbWlzZS5yZXNvbHZlLCBQcm9taXNlLnRoZW4sIFByb21pc2UuY2F0Y2gsIFByb21pc2UuZmluYWxseSwgUmVmbGVjdC5hcHBseSwgUmVmbGVjdC5jb25zdHJ1Y3QsIFJlZmxlY3QuZGVmaW5lUHJvcGVydHksIFJlZmxlY3QuZGVsZXRlUHJvcGVydHksIFJlZmxlY3QuZ2V0LCBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciwgUmVmbGVjdC5nZXRQcm90b3R5cGVPZiwgUmVmbGVjdC5oYXMsIFJlZmxlY3QuaXNFeHRlbnNpYmxlLCBSZWZsZWN0Lm93bktleXMsIFJlZmxlY3QucHJldmVudEV4dGVuc2lvbnMsIFJlZmxlY3Quc2V0LCBSZWZsZWN0LnNldFByb3RvdHlwZU9mLCBQcm94eS5yZXZvY2FibGUsIEludGwuZ2V0Q2Fub25pY2FsTG9jYWxlcywgSW50bC5zdXBwb3J0ZWRWYWx1ZXNPZiwgSW50bC5Db2xsYXRvciwgSW50bC5EYXRlVGltZUZvcm1hdCwgSW50bC5EaXNwbGF5TmFtZXMsIEludGwuTGlzdEZvcm1hdCwgSW50bC5Mb2NhbGUsIEludGwuTnVtYmVyRm9ybWF0LCBJbnRsLlBsdXJhbFJ1bGVzLCBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdCwgV2ViQXNzZW1ibHkuY29tcGlsZSwgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUsIFdlYkFzc2VtYmx5LnZhbGlkYXRlLCBXZWJBc3NlbWJseS5jb21waWxlU3RyZWFtaW5nLCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZywgV2ViQXNzZW1ibHkuTW9kdWxlLCBXZWJBc3NlbWJseS5JbnN0YW5jZSwgV2ViQXNzZW1ibHkuTWVtb3J5LCBXZWJBc3NlbWJseS5UYWJsZSwgV2ViQXNzZW1ibHkuR2xvYmFsLCBXZWJBc3NlbWJseS5Db21waWxlRXJyb3IsIFdlYkFzc2VtYmx5LkxpbmtFcnJvciwgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yLCBXZWJBc3NlbWJseS5UYWcsIFdlYkFzc2VtYmx5LkV4Y2VwdGlvbiwgRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUsIERvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lTlMsIERvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUsIERvY3VtZW50LmdldEVsZW1lbnRCeUlkLCBEb2N1bWVudC5jcmVhdGVFbGVtZW50LCBEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMsIERvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQsIERvY3VtZW50LmNyZWF0ZVRleHROb2RlLCBEb2N1bWVudC5jcmVhdGVDb21tZW50LCBEb2N1bWVudC5jcmVhdGVQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sIERvY3VtZW50LmltcG9ydE5vZGUsIERvY3VtZW50LmFkb3B0Tm9kZSwgRG9jdW1lbnQuY3JlYXRlRXZlbnQsIERvY3VtZW50LmNyZWF0ZVJhbmdlLCBEb2N1bWVudC5jcmVhdGVOb2RlSXRlcmF0b3IsIERvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIsIERvY3VtZW50LmNyZWF0ZUNEQVRBU2VjdGlvbiwgRG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlLCBEb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGVOUywgRG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUsIERvY3VtZW50Lm9wZW4sIERvY3VtZW50LmNsb3NlLCBEb2N1bWVudC53cml0ZSwgRG9jdW1lbnQud3JpdGVsbiwgRG9jdW1lbnQuaGFzRm9jdXMsIERvY3VtZW50LmV4ZWNDb21tYW5kLCBEb2N1bWVudC5xdWVyeUNvbW1hbmRFbmFibGVkLCBEb2N1bWVudC5xdWVyeUNvbW1hbmRJbmRldGVybSwgRG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUsIERvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCwgRG9jdW1lbnQucXVlcnlDb21tYW5kVmFsdWUsIERvY3VtZW50LnJlbGVhc2VDYXB0dXJlLCBEb2N1bWVudC5tb3pTZXRJbWFnZUVsZW1lbnQsIERvY3VtZW50LmNsZWFyLCBEb2N1bWVudC5jYXB0dXJlRXZlbnRzLCBEb2N1bWVudC5yZWxlYXNlRXZlbnRzLCBEb2N1bWVudC5leGl0RnVsbHNjcmVlbiwgRG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbiwgRG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrLCBEb2N1bWVudC5lbmFibGVTdHlsZVNoZWV0c0ZvclNldCwgRG9jdW1lbnQuY2FyZXRQb3NpdGlvbkZyb21Qb2ludCwgRG9jdW1lbnQucXVlcnlTZWxlY3RvciwgRG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCwgRG9jdW1lbnQuZ2V0U2VsZWN0aW9uLCBEb2N1bWVudC5oYXNTdG9yYWdlQWNjZXNzLCBEb2N1bWVudC5yZXF1ZXN0U3RvcmFnZUFjY2VzcywgRG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCwgRG9jdW1lbnQuZWxlbWVudHNGcm9tUG9pbnQsIERvY3VtZW50LmdldEFuaW1hdGlvbnMsIERvY3VtZW50LnByZXBlbmQsIERvY3VtZW50LmFwcGVuZCwgRG9jdW1lbnQucmVwbGFjZUNoaWxkcmVuLCBEb2N1bWVudC5jcmVhdGVFeHByZXNzaW9uLCBEb2N1bWVudC5jcmVhdGVOU1Jlc29sdmVyLCBEb2N1bWVudC5ldmFsdWF0ZSwgRG9jdW1lbnQuaW1wbGVtZW50YXRpb24sIERvY3VtZW50LlVSTCwgRG9jdW1lbnQuZG9jdW1lbnRVUkksIERvY3VtZW50LmNvbXBhdE1vZGUsIERvY3VtZW50LmNoYXJhY3RlclNldCwgRG9jdW1lbnQuY2hhcnNldCwgRG9jdW1lbnQuaW5wdXRFbmNvZGluZywgRG9jdW1lbnQuY29udGVudFR5cGUsIERvY3VtZW50LmRvY3R5cGUsIERvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgRG9jdW1lbnQuZG9tYWluLCBEb2N1bWVudC5yZWZlcnJlciwgRG9jdW1lbnQuY29va2llLCBEb2N1bWVudC5sYXN0TW9kaWZpZWQsIERvY3VtZW50LnJlYWR5U3RhdGUsIERvY3VtZW50LnRpdGxlLCBEb2N1bWVudC5kaXIsIERvY3VtZW50LmJvZHksIERvY3VtZW50LmhlYWQsIERvY3VtZW50LmltYWdlcywgRG9jdW1lbnQuZW1iZWRzLCBEb2N1bWVudC5wbHVnaW5zLCBEb2N1bWVudC5saW5rcywgRG9jdW1lbnQuZm9ybXMsIERvY3VtZW50LnNjcmlwdHMsIERvY3VtZW50LmRlZmF1bHRWaWV3LCBEb2N1bWVudC5kZXNpZ25Nb2RlLCBEb2N1bWVudC5vbnJlYWR5c3RhdGVjaGFuZ2UsIERvY3VtZW50Lm9uYmVmb3Jlc2NyaXB0ZXhlY3V0ZSwgRG9jdW1lbnQub25hZnRlcnNjcmlwdGV4ZWN1dGUsIERvY3VtZW50LmN1cnJlbnRTY3JpcHQsIERvY3VtZW50LmZnQ29sb3IsIERvY3VtZW50LmxpbmtDb2xvciwgRG9jdW1lbnQudmxpbmtDb2xvciwgRG9jdW1lbnQuYWxpbmtDb2xvciwgRG9jdW1lbnQuYmdDb2xvciwgRG9jdW1lbnQuYW5jaG9ycywgRG9jdW1lbnQuYXBwbGV0cywgRG9jdW1lbnQuYWxsLCBEb2N1bWVudC5mdWxsc2NyZWVuLCBEb2N1bWVudC5tb3pGdWxsU2NyZWVuLCBEb2N1bWVudC5mdWxsc2NyZWVuRW5hYmxlZCwgRG9jdW1lbnQubW96RnVsbFNjcmVlbkVuYWJsZWQsIERvY3VtZW50Lm9uZnVsbHNjcmVlbmNoYW5nZSwgRG9jdW1lbnQub25mdWxsc2NyZWVuZXJyb3IsIERvY3VtZW50Lm9ucG9pbnRlcmxvY2tjaGFuZ2UsIERvY3VtZW50Lm9ucG9pbnRlcmxvY2tlcnJvciwgRG9jdW1lbnQuaGlkZGVuLCBEb2N1bWVudC52aXNpYmlsaXR5U3RhdGUsIERvY3VtZW50Lm9udmlzaWJpbGl0eWNoYW5nZSwgRG9jdW1lbnQuc2VsZWN0ZWRTdHlsZVNoZWV0U2V0LCBEb2N1bWVudC5sYXN0U3R5bGVTaGVldFNldCwgRG9jdW1lbnQucHJlZmVycmVkU3R5bGVTaGVldFNldCwgRG9jdW1lbnQuc3R5bGVTaGVldFNldHMsIERvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQsIERvY3VtZW50LnRpbWVsaW5lLCBEb2N1bWVudC5yb290RWxlbWVudCwgRG9jdW1lbnQub25jb3B5LCBEb2N1bWVudC5vbmN1dCwgRG9jdW1lbnQub25wYXN0ZSwgRG9jdW1lbnQuYWN0aXZlRWxlbWVudCwgRG9jdW1lbnQuc3R5bGVTaGVldHMsIERvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCwgRG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQsIERvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50LCBEb2N1bWVudC5hZG9wdGVkU3R5bGVTaGVldHMsIERvY3VtZW50LmZvbnRzLCBEb2N1bWVudC5vbmFib3J0LCBEb2N1bWVudC5vbmJsdXIsIERvY3VtZW50Lm9uZm9jdXMsIERvY3VtZW50Lm9uYXV4Y2xpY2ssIERvY3VtZW50Lm9uYmVmb3JlaW5wdXQsIERvY3VtZW50Lm9uY2FucGxheSwgRG9jdW1lbnQub25jYW5wbGF5dGhyb3VnaCwgRG9jdW1lbnQub25jaGFuZ2UsIERvY3VtZW50Lm9uY2xpY2ssIERvY3VtZW50Lm9uY2xvc2UsIERvY3VtZW50Lm9uY29udGV4dG1lbnUsIERvY3VtZW50Lm9uY3VlY2hhbmdlLCBEb2N1bWVudC5vbmRibGNsaWNrLCBEb2N1bWVudC5vbmRyYWcsIERvY3VtZW50Lm9uZHJhZ2VuZCwgRG9jdW1lbnQub25kcmFnZW50ZXIsIERvY3VtZW50Lm9uZHJhZ2V4aXQsIERvY3VtZW50Lm9uZHJhZ2xlYXZlLCBEb2N1bWVudC5vbmRyYWdvdmVyLCBEb2N1bWVudC5vbmRyYWdzdGFydCwgRG9jdW1lbnQub25kcm9wLCBEb2N1bWVudC5vbmR1cmF0aW9uY2hhbmdlLCBEb2N1bWVudC5vbmVtcHRpZWQsIERvY3VtZW50Lm9uZW5kZWQsIERvY3VtZW50Lm9uZm9ybWRhdGEsIERvY3VtZW50Lm9uaW5wdXQsIERvY3VtZW50Lm9uaW52YWxpZCwgRG9jdW1lbnQub25rZXlkb3duLCBEb2N1bWVudC5vbmtleXByZXNzLCBEb2N1bWVudC5vbmtleXVwLCBEb2N1bWVudC5vbmxvYWQsIERvY3VtZW50Lm9ubG9hZGVkZGF0YSwgRG9jdW1lbnQub25sb2FkZWRtZXRhZGF0YSwgRG9jdW1lbnQub25sb2Fkc3RhcnQsIERvY3VtZW50Lm9ubW91c2Vkb3duLCBEb2N1bWVudC5vbm1vdXNlZW50ZXIsIERvY3VtZW50Lm9ubW91c2VsZWF2ZSwgRG9jdW1lbnQub25tb3VzZW1vdmUsIERvY3VtZW50Lm9ubW91c2VvdXQsIERvY3VtZW50Lm9ubW91c2VvdmVyLCBEb2N1bWVudC5vbm1vdXNldXAsIERvY3VtZW50Lm9ud2hlZWwsIERvY3VtZW50Lm9ucGF1c2UsIERvY3VtZW50Lm9ucGxheSwgRG9jdW1lbnQub25wbGF5aW5nLCBEb2N1bWVudC5vbnByb2dyZXNzLCBEb2N1bWVudC5vbnJhdGVjaGFuZ2UsIERvY3VtZW50Lm9ucmVzZXQsIERvY3VtZW50Lm9ucmVzaXplLCBEb2N1bWVudC5vbnNjcm9sbCwgRG9jdW1lbnQub25zZWN1cml0eXBvbGljeXZpb2xhdGlvbiwgRG9jdW1lbnQub25zZWVrZWQsIERvY3VtZW50Lm9uc2Vla2luZywgRG9jdW1lbnQub25zZWxlY3QsIERvY3VtZW50Lm9uc2xvdGNoYW5nZSwgRG9jdW1lbnQub25zdGFsbGVkLCBEb2N1bWVudC5vbnN1Ym1pdCwgRG9jdW1lbnQub25zdXNwZW5kLCBEb2N1bWVudC5vbnRpbWV1cGRhdGUsIERvY3VtZW50Lm9udm9sdW1lY2hhbmdlLCBEb2N1bWVudC5vbndhaXRpbmcsIERvY3VtZW50Lm9uc2VsZWN0c3RhcnQsIERvY3VtZW50Lm9uc2VsZWN0aW9uY2hhbmdlLCBEb2N1bWVudC5vbnRvZ2dsZSwgRG9jdW1lbnQub25wb2ludGVyY2FuY2VsLCBEb2N1bWVudC5vbnBvaW50ZXJkb3duLCBEb2N1bWVudC5vbnBvaW50ZXJ1cCwgRG9jdW1lbnQub25wb2ludGVybW92ZSwgRG9jdW1lbnQub25wb2ludGVyb3V0LCBEb2N1bWVudC5vbnBvaW50ZXJvdmVyLCBEb2N1bWVudC5vbnBvaW50ZXJlbnRlciwgRG9jdW1lbnQub25wb2ludGVybGVhdmUsIERvY3VtZW50Lm9uZ290cG9pbnRlcmNhcHR1cmUsIERvY3VtZW50Lm9ubG9zdHBvaW50ZXJjYXB0dXJlLCBEb2N1bWVudC5vbm1vemZ1bGxzY3JlZW5jaGFuZ2UsIERvY3VtZW50Lm9ubW96ZnVsbHNjcmVlbmVycm9yLCBEb2N1bWVudC5vbmFuaW1hdGlvbmNhbmNlbCwgRG9jdW1lbnQub25hbmltYXRpb25lbmQsIERvY3VtZW50Lm9uYW5pbWF0aW9uaXRlcmF0aW9uLCBEb2N1bWVudC5vbmFuaW1hdGlvbnN0YXJ0LCBEb2N1bWVudC5vbnRyYW5zaXRpb25jYW5jZWwsIERvY3VtZW50Lm9udHJhbnNpdGlvbmVuZCwgRG9jdW1lbnQub250cmFuc2l0aW9ucnVuLCBEb2N1bWVudC5vbnRyYW5zaXRpb25zdGFydCwgRG9jdW1lbnQub253ZWJraXRhbmltYXRpb25lbmQsIERvY3VtZW50Lm9ud2Via2l0YW5pbWF0aW9uaXRlcmF0aW9uLCBEb2N1bWVudC5vbndlYmtpdGFuaW1hdGlvbnN0YXJ0LCBEb2N1bWVudC5vbndlYmtpdHRyYW5zaXRpb25lbmQsIERvY3VtZW50Lm9uZXJyb3IsIERvY3VtZW50LmNoaWxkcmVuLCBEb2N1bWVudC5maXJzdEVsZW1lbnRDaGlsZCwgRG9jdW1lbnQubGFzdEVsZW1lbnRDaGlsZCwgRG9jdW1lbnQuY2hpbGRFbGVtZW50Q291bnQsIEVsZW1lbnQuZ2V0QXR0cmlidXRlTmFtZXMsIEVsZW1lbnQuZ2V0QXR0cmlidXRlLCBFbGVtZW50LmdldEF0dHJpYnV0ZU5TLCBFbGVtZW50LnRvZ2dsZUF0dHJpYnV0ZSwgRWxlbWVudC5zZXRBdHRyaWJ1dGUsIEVsZW1lbnQuc2V0QXR0cmlidXRlTlMsIEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlLCBFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZU5TLCBFbGVtZW50Lmhhc0F0dHJpYnV0ZSwgRWxlbWVudC5oYXNBdHRyaWJ1dGVOUywgRWxlbWVudC5oYXNBdHRyaWJ1dGVzLCBFbGVtZW50LmNsb3Nlc3QsIEVsZW1lbnQubWF0Y2hlcywgRWxlbWVudC53ZWJraXRNYXRjaGVzU2VsZWN0b3IsIEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUsIEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUywgRWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lLCBFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudCwgRWxlbWVudC5pbnNlcnRBZGphY2VudFRleHQsIEVsZW1lbnQubW96TWF0Y2hlc1NlbGVjdG9yLCBFbGVtZW50LnNldFBvaW50ZXJDYXB0dXJlLCBFbGVtZW50LnJlbGVhc2VQb2ludGVyQ2FwdHVyZSwgRWxlbWVudC5oYXNQb2ludGVyQ2FwdHVyZSwgRWxlbWVudC5zZXRDYXB0dXJlLCBFbGVtZW50LnJlbGVhc2VDYXB0dXJlLCBFbGVtZW50LmdldEF0dHJpYnV0ZU5vZGUsIEVsZW1lbnQuc2V0QXR0cmlidXRlTm9kZSwgRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGVOb2RlLCBFbGVtZW50LmdldEF0dHJpYnV0ZU5vZGVOUywgRWxlbWVudC5zZXRBdHRyaWJ1dGVOb2RlTlMsIEVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMsIEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0LCBFbGVtZW50LmNoZWNrVmlzaWJpbGl0eSwgRWxlbWVudC5zY3JvbGxJbnRvVmlldywgRWxlbWVudC5zY3JvbGwsIEVsZW1lbnQuc2Nyb2xsVG8sIEVsZW1lbnQuc2Nyb2xsQnksIEVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MLCBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IsIEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCwgRWxlbWVudC5hdHRhY2hTaGFkb3csIEVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4sIEVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4sIEVsZW1lbnQucmVxdWVzdFBvaW50ZXJMb2NrLCBFbGVtZW50LmFuaW1hdGUsIEVsZW1lbnQuZ2V0QW5pbWF0aW9ucywgRWxlbWVudC5iZWZvcmUsIEVsZW1lbnQuYWZ0ZXIsIEVsZW1lbnQucmVwbGFjZVdpdGgsIEVsZW1lbnQucmVtb3ZlLCBFbGVtZW50LnByZXBlbmQsIEVsZW1lbnQuYXBwZW5kLCBFbGVtZW50LnJlcGxhY2VDaGlsZHJlbiwgRWxlbWVudC5uYW1lc3BhY2VVUkksIEVsZW1lbnQucHJlZml4LCBFbGVtZW50LmxvY2FsTmFtZSwgRWxlbWVudC50YWdOYW1lLCBFbGVtZW50LmlkLCBFbGVtZW50LmNsYXNzTmFtZSwgRWxlbWVudC5jbGFzc0xpc3QsIEVsZW1lbnQucGFydCwgRWxlbWVudC5hdHRyaWJ1dGVzLCBFbGVtZW50LnNjcm9sbFRvcCwgRWxlbWVudC5zY3JvbGxMZWZ0LCBFbGVtZW50LnNjcm9sbFdpZHRoLCBFbGVtZW50LnNjcm9sbEhlaWdodCwgRWxlbWVudC5jbGllbnRUb3AsIEVsZW1lbnQuY2xpZW50TGVmdCwgRWxlbWVudC5jbGllbnRXaWR0aCwgRWxlbWVudC5jbGllbnRIZWlnaHQsIEVsZW1lbnQuc2Nyb2xsVG9wTWF4LCBFbGVtZW50LnNjcm9sbExlZnRNYXgsIEVsZW1lbnQuaW5uZXJIVE1MLCBFbGVtZW50Lm91dGVySFRNTCwgRWxlbWVudC5zaGFkb3dSb290LCBFbGVtZW50LmFzc2lnbmVkU2xvdCwgRWxlbWVudC5zbG90LCBFbGVtZW50Lm9uZnVsbHNjcmVlbmNoYW5nZSwgRWxlbWVudC5vbmZ1bGxzY3JlZW5lcnJvciwgRWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLCBFbGVtZW50Lm5leHRFbGVtZW50U2libGluZywgRWxlbWVudC5jaGlsZHJlbiwgRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCwgRWxlbWVudC5sYXN0RWxlbWVudENoaWxkLCBFbGVtZW50LmNoaWxkRWxlbWVudENvdW50JywNCiAgICAgICAgfSwNCiAgICB9KTsNCiAgICBjb25zdCBCUk9XU0VSID0gKElTX0JMSU5LID8gJ0Nocm9tZScgOiBJU19HRUNLTyA/ICdGaXJlZm94JyA6ICcnKTsNCiAgICBjb25zdCBnZXRFbmdpbmVNYXBzID0gKGJyb3dzZXIpID0+IHsNCiAgICAgICAgY29uc3QgZ2Vja29DU1MgPSB7DQogICAgICAgICAgICAnNzEnOiBbJy1tb3otY29sdW1uLXNwYW4nXSwNCiAgICAgICAgICAgICc3Mic6IFsnb2Zmc2V0JywgJ29mZnNldC1hbmNob3InLCAnb2Zmc2V0LWRpc3RhbmNlJywgJ29mZnNldC1wYXRoJywgJ29mZnNldC1yb3RhdGUnLCAncm90YXRlJywgJ3NjYWxlJywgJ3RyYW5zbGF0ZSddLA0KICAgICAgICAgICAgJzczJzogWydvdmVyc2Nyb2xsLWJlaGF2aW9yLWJsb2NrJywgJ292ZXJzY3JvbGwtYmVoYXZpb3ItaW5saW5lJ10sDQogICAgICAgICAgICAnNzQtNzknOiBbJyEtbW96LXN0YWNrLXNpemluZycsICd0ZXh0LXVuZGVybGluZS1wb3NpdGlvbiddLA0KICAgICAgICAgICAgJzgwLTg4JzogWydhcHBlYXJhbmNlJ10sDQogICAgICAgICAgICAnODktOTAnOiBbJyEtbW96LW91dGxpbmUtcmFkaXVzJywgJyEtbW96LW91dGxpbmUtcmFkaXVzLWJvdHRvbWxlZnQnLCAnIS1tb3otb3V0bGluZS1yYWRpdXMtYm90dG9tcmlnaHQnLCAnIS1tb3otb3V0bGluZS1yYWRpdXMtdG9wbGVmdCcsICchLW1vei1vdXRsaW5lLXJhZGl1cy10b3ByaWdodCcsICdhc3BlY3QtcmF0aW8nXSwNCiAgICAgICAgICAgICc5MSc6IFsndGFiLXNpemUnXSwNCiAgICAgICAgICAgICc5Mi05NSc6IFsnYWNjZW50LWNvbG9yJ10sDQogICAgICAgICAgICAnOTYnOiBbJ2NvbG9yLXNjaGVtZSddLA0KICAgICAgICAgICAgJzk3JzogWydwcmludC1jb2xvci1hZGp1c3QnLCAnc2Nyb2xsYmFyLWd1dHRlcicsICdkJ10sDQogICAgICAgICAgICAnOTgtMTAxJzogWydoeXBoZW5hdGUtY2hhcmFjdGVyJ10sDQogICAgICAgICAgICAnMTAyJzogWydvdmVyZmxvdy1jbGlwLW1hcmdpbiddLA0KICAgICAgICAgICAgJzEwMy0xMDYnOiBbJ3Njcm9sbC1zbmFwLXN0b3AnXSwNCiAgICAgICAgICAgICcxMDctMTA4JzogWydiYWNrZHJvcC1maWx0ZXInLCAnZm9udC1wYWxldHRlJywgJ2NvbnRhaW4taW50cmluc2ljLWJsb2NrLXNpemUnLCAnY29udGFpbi1pbnRyaW5zaWMtaGVpZ2h0JywgJ2NvbnRhaW4taW50cmluc2ljLWlubGluZS1zaXplJywgJ2NvbnRhaW4taW50cmluc2ljLXdpZHRoJywgJ2NvbnRhaW4taW50cmluc2ljLXNpemUnXSwNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgYmxpbmtDU1MgPSB7DQogICAgICAgICAgICAnNzYnOiBbJ2JhY2tkcm9wLWZpbHRlciddLA0KICAgICAgICAgICAgJzc3LTgwJzogWydvdmVyc2Nyb2xsLWJlaGF2aW9yLWJsb2NrJywgJ292ZXJzY3JvbGwtYmVoYXZpb3ItaW5saW5lJ10sDQogICAgICAgICAgICAnODEnOiBbJ2NvbG9yLXNjaGVtZScsICdpbWFnZS1vcmllbnRhdGlvbiddLA0KICAgICAgICAgICAgJzgzJzogWydjb250YWluLWludHJpbnNpYy1zaXplJ10sDQogICAgICAgICAgICAnODQnOiBbJ2FwcGVhcmFuY2UnLCAncnVieS1wb3NpdGlvbiddLA0KICAgICAgICAgICAgJzg1LTg2JzogWydjb250ZW50LXZpc2liaWxpdHknLCAnY291bnRlci1zZXQnLCAnaW5oZXJpdHMnLCAnaW5pdGlhbC12YWx1ZScsICdwYWdlLW9yaWVudGF0aW9uJywgJ3N5bnRheCddLA0KICAgICAgICAgICAgJzg3JzogWydhc2NlbnQtb3ZlcnJpZGUnLCAnYm9yZGVyLWJsb2NrJywgJ2JvcmRlci1ibG9jay1jb2xvcicsICdib3JkZXItYmxvY2stc3R5bGUnLCAnYm9yZGVyLWJsb2NrLXdpZHRoJywgJ2JvcmRlci1pbmxpbmUnLCAnYm9yZGVyLWlubGluZS1jb2xvcicsICdib3JkZXItaW5saW5lLXN0eWxlJywgJ2JvcmRlci1pbmxpbmUtd2lkdGgnLCAnZGVzY2VudC1vdmVycmlkZScsICdpbnNldCcsICdpbnNldC1ibG9jaycsICdpbnNldC1ibG9jay1lbmQnLCAnaW5zZXQtYmxvY2stc3RhcnQnLCAnaW5zZXQtaW5saW5lJywgJ2luc2V0LWlubGluZS1lbmQnLCAnaW5zZXQtaW5saW5lLXN0YXJ0JywgJ2xpbmUtZ2FwLW92ZXJyaWRlJywgJ21hcmdpbi1ibG9jaycsICdtYXJnaW4taW5saW5lJywgJ3BhZGRpbmctYmxvY2snLCAncGFkZGluZy1pbmxpbmUnLCAndGV4dC1kZWNvcmF0aW9uLXRoaWNrbmVzcycsICd0ZXh0LXVuZGVybGluZS1vZmZzZXQnXSwNCiAgICAgICAgICAgICc4OCc6IFsnYXNwZWN0LXJhdGlvJ10sDQogICAgICAgICAgICAnODknOiBbJ2JvcmRlci1lbmQtZW5kLXJhZGl1cycsICdib3JkZXItZW5kLXN0YXJ0LXJhZGl1cycsICdib3JkZXItc3RhcnQtZW5kLXJhZGl1cycsICdib3JkZXItc3RhcnQtc3RhcnQtcmFkaXVzJywgJ2ZvcmNlZC1jb2xvci1hZGp1c3QnXSwNCiAgICAgICAgICAgICc5MCc6IFsnb3ZlcmZsb3ctY2xpcC1tYXJnaW4nXSwNCiAgICAgICAgICAgICc5MSc6IFsnYWRkaXRpdmUtc3ltYm9scycsICdmYWxsYmFjaycsICduZWdhdGl2ZScsICdwYWQnLCAncHJlZml4JywgJ3JhbmdlJywgJ3NwZWFrLWFzJywgJ3N1ZmZpeCcsICdzeW1ib2xzJywgJ3N5c3RlbSddLA0KICAgICAgICAgICAgJzkyJzogWydzaXplLWFkanVzdCddLA0KICAgICAgICAgICAgJzkzJzogWydhY2NlbnQtY29sb3InXSwNCiAgICAgICAgICAgICc5NCc6IFsnc2Nyb2xsYmFyLWd1dHRlciddLA0KICAgICAgICAgICAgJzk1LTk2JzogWydhcHAtcmVnaW9uJywgJ2NvbnRhaW4taW50cmluc2ljLWJsb2NrLXNpemUnLCAnY29udGFpbi1pbnRyaW5zaWMtaGVpZ2h0JywgJ2NvbnRhaW4taW50cmluc2ljLWlubGluZS1zaXplJywgJ2NvbnRhaW4taW50cmluc2ljLXdpZHRoJ10sDQogICAgICAgICAgICAnOTctOTgnOiBbJ2ZvbnQtc3ludGhlc2lzLXNtYWxsLWNhcHMnLCAnZm9udC1zeW50aGVzaXMtc3R5bGUnLCAnZm9udC1zeW50aGVzaXMtd2VpZ2h0JywgJ2ZvbnQtc3ludGhlc2lzJ10sDQogICAgICAgICAgICAnOTktMTAwJzogWyd0ZXh0LWVtcGhhc2lzLWNvbG9yJywgJ3RleHQtZW1waGFzaXMtcG9zaXRpb24nLCAndGV4dC1lbXBoYXNpcy1zdHlsZScsICd0ZXh0LWVtcGhhc2lzJ10sDQogICAgICAgICAgICAnMTAxLTEwMyc6IFsnZm9udC1wYWxldHRlJywgJ2Jhc2UtcGFsZXR0ZScsICdvdmVycmlkZS1jb2xvcnMnXSwNCiAgICAgICAgICAgICcxMDQnOiBbJ29iamVjdC12aWV3LWJveCddLA0KICAgICAgICAgICAgJzEwNSc6IFsnY29udGFpbmVyLW5hbWUnLCAnY29udGFpbmVyLXR5cGUnLCAnY29udGFpbmVyJ10sDQogICAgICAgICAgICAnMTA2LTEwNyc6IFsnaHlwaGVuYXRlLWNoYXJhY3RlciddLA0KICAgICAgICAgICAgJzEwOCc6IFsnaHlwaGVuYXRlLWNoYXJhY3RlcicsICchb3JpZW50YXRpb24nLCAnIW1heC16b29tJywgJyFtaW4tem9vbScsICchdXNlci16b29tJ10sDQogICAgICAgICAgICAnMTA5JzogWydoeXBoZW5hdGUtbGltaXQtY2hhcnMnLCAnbWF0aC1kZXB0aCcsICdtYXRoLXNoaWZ0JywgJ21hdGgtc3R5bGUnXSwNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2Vja29XaW5kb3cgPSB7DQogICAgICAgICAgICAvLyBkaXNyZWdhcmQ6ICdyZXBvcnRFcnJvcicsJ29uc2VjdXJpdHlwb2xpY3l2aW9sYXRpb24nLCdvbnNsb3RjaGFuZ2UnDQogICAgICAgICAgICAnNzEnOiBbJ01hdGhNTEVsZW1lbnQnLCAnIVNWR1pvb21BbmRQYW4nXSwNCiAgICAgICAgICAgICc3Mi03Myc6IFsnIUJhdHRlcnlNYW5hZ2VyJywgJ0Zvcm1EYXRhRXZlbnQnLCAnR2VvbG9jYXRpb24nLCAnR2VvbG9jYXRpb25Db29yZGluYXRlcycsICdHZW9sb2NhdGlvblBvc2l0aW9uJywgJ0dlb2xvY2F0aW9uUG9zaXRpb25FcnJvcicsICchbW96UGFpbnRDb3VudCddLA0KICAgICAgICAgICAgJzc0JzogWydGb3JtRGF0YUV2ZW50JywgJyF1bmV2YWwnXSwNCiAgICAgICAgICAgICc3NSc6IFsnQW5pbWF0aW9uVGltZWxpbmUnLCAnQ1NTQW5pbWF0aW9uJywgJ0NTU1RyYW5zaXRpb24nLCAnRG9jdW1lbnRUaW1lbGluZScsICdTdWJtaXRFdmVudCddLA0KICAgICAgICAgICAgJzc2LTc3JzogWydBdWRpb1BhcmFtTWFwJywgJ0F1ZGlvV29ya2xldCcsICdBdWRpb1dvcmtsZXROb2RlJywgJ1dvcmtsZXQnXSwNCiAgICAgICAgICAgICc3OCc6IFsnQXRvbWljcyddLA0KICAgICAgICAgICAgJzc5LTgxJzogWydBZ2dyZWdhdGVFcnJvcicsICdGaW5hbGl6YXRpb25SZWdpc3RyeSddLA0KICAgICAgICAgICAgJzgyJzogWydNZWRpYU1ldGFkYXRhJywgJ01lZGlhU2Vzc2lvbicsICdTYW5pdGl6ZXInXSwNCiAgICAgICAgICAgICc4Myc6IFsnTWVkaWFNZXRhZGF0YScsICdNZWRpYVNlc3Npb24nLCAnIVNhbml0aXplciddLA0KICAgICAgICAgICAgJzg0JzogWydQZXJmb3JtYW5jZVBhaW50VGltaW5nJ10sDQogICAgICAgICAgICAnODUtODYnOiBbJ1BlcmZvcm1hbmNlUGFpbnRUaW1pbmcnLCAnIUhUTUxNZW51SXRlbUVsZW1lbnQnLCAnIW9uc2hvdyddLA0KICAgICAgICAgICAgJzg3JzogWydvbmJlZm9yZWlucHV0J10sDQogICAgICAgICAgICAnODgnOiBbJ29uYmVmb3JlaW5wdXQnLCAnIVZpc3VhbFZpZXdwb3J0J10sDQogICAgICAgICAgICAnODktOTInOiBbJyFvbmRldmljZWxpZ2h0JywgJyFvbmRldmljZXByb3hpbWl0eScsICchb251c2VycHJveGltaXR5J10sDQogICAgICAgICAgICAnOTMtOTUnOiBbJ0VsZW1lbnRJbnRlcm5hbHMnXSwNCiAgICAgICAgICAgICc5Nic6IFsnTG9jaycsICdMb2NrTWFuYWdlciddLA0KICAgICAgICAgICAgJzk3JzogWydDU1NMYXllckJsb2NrUnVsZScsICdDU1NMYXllclN0YXRlbWVudFJ1bGUnXSwNCiAgICAgICAgICAgICc5OCc6IFsnSFRNTERpYWxvZ0VsZW1lbnQnXSwNCiAgICAgICAgICAgICc5OSc6IFsnTmF2aWdhdGlvblByZWxvYWRNYW5hZ2VyJ10sDQogICAgICAgICAgICAnMTAwLTEwNCc6IFsnV3JpdGFibGVTdHJlYW0nXSwNCiAgICAgICAgICAgICcxMDUtMTA2JzogWydUZXh0RGVjb2RlclN0cmVhbScsICdPZmZzY3JlZW5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQnLCAnT2Zmc2NyZWVuQ2FudmFzJywgJ1RleHRFbmNvZGVyU3RyZWFtJ10sDQogICAgICAgICAgICAnMTA3LTEwOCc6IFsnQ1NTRm9udFBhbGV0dGVWYWx1ZXNSdWxlJ10sDQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGJsaW5rV2luZG93ID0gew0KICAgICAgICAgICAgLy8gZGlzcmVnYXJkOiBFeWVEcm9wcGVyDQogICAgICAgICAgICAnODAnOiBbJ0NvbXByZXNzaW9uU3RyZWFtJywgJ0RlY29tcHJlc3Npb25TdHJlYW0nLCAnRmVhdHVyZVBvbGljeScsICdGcmFnbWVudERpcmVjdGl2ZScsICdQZXJpb2RpY1N5bmNNYW5hZ2VyJywgJ1ZpZGVvUGxheWJhY2tRdWFsaXR5J10sDQogICAgICAgICAgICAnODEnOiBbJ1N1Ym1pdEV2ZW50JywgJ1hSSGl0VGVzdFJlc3VsdCcsICdYUkhpdFRlc3RTb3VyY2UnLCAnWFJSYXknLCAnWFJUcmFuc2llbnRJbnB1dEhpdFRlc3RSZXN1bHQnLCAnWFJUcmFuc2llbnRJbnB1dEhpdFRlc3RTb3VyY2UnXSwNCiAgICAgICAgICAgICc4Myc6IFsnQmFyY29kZURldGVjdG9yJywgJ1hSRE9NT3ZlcmxheVN0YXRlJywgJ1hSU3lzdGVtJ10sDQogICAgICAgICAgICAnODQnOiBbJ0FuaW1hdGlvblBsYXliYWNrRXZlbnQnLCAnQW5pbWF0aW9uVGltZWxpbmUnLCAnQ1NTQW5pbWF0aW9uJywgJ0NTU1RyYW5zaXRpb24nLCAnRG9jdW1lbnRUaW1lbGluZScsICdGaW5hbGl6YXRpb25SZWdpc3RyeScsICdMYXlvdXRTaGlmdEF0dHJpYnV0aW9uJywgJ1Jlc2l6ZU9ic2VydmVyU2l6ZScsICdXYWtlTG9jaycsICdXYWtlTG9ja1NlbnRpbmVsJywgJ1dlYWtSZWYnLCAnWFJMYXllciddLA0KICAgICAgICAgICAgJzg1JzogWydBZ2dyZWdhdGVFcnJvcicsICdDU1NQcm9wZXJ0eVJ1bGUnLCAnRXZlbnRDb3VudHMnLCAnWFJBbmNob3InLCAnWFJBbmNob3JTZXQnXSwNCiAgICAgICAgICAgICc4Nic6IFsnUlRDRW5jb2RlZEF1ZGlvRnJhbWUnLCAnUlRDRW5jb2RlZFZpZGVvRnJhbWUnXSwNCiAgICAgICAgICAgICc4Nyc6IFsnQ29va2llQ2hhbmdlRXZlbnQnLCAnQ29va2llU3RvcmUnLCAnQ29va2llU3RvcmVNYW5hZ2VyJywgJ1NjaGVkdWxpbmcnXSwNCiAgICAgICAgICAgICc4OCc6IFsnU2NoZWR1bGluZycsICchQmFyY29kZURldGVjdG9yJ10sDQogICAgICAgICAgICAnODknOiBbJ1JlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXInLCAnUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyJywgJ1JlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QnLCAnUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcicsICdYUldlYkdMQmluZGluZyddLA0KICAgICAgICAgICAgJzkwJzogWydBYnN0cmFjdFJhbmdlJywgJ0N1c3RvbVN0YXRlU2V0JywgJ05hdmlnYXRvclVBRGF0YScsICdYUkNQVURlcHRoSW5mb3JtYXRpb24nLCAnWFJEZXB0aEluZm9ybWF0aW9uJywgJ1hSTGlnaHRFc3RpbWF0ZScsICdYUkxpZ2h0UHJvYmUnLCAnWFJXZWJHTERlcHRoSW5mb3JtYXRpb24nXSwNCiAgICAgICAgICAgICc5MSc6IFsnQ1NTQ291bnRlclN0eWxlUnVsZScsICdHcmF2aXR5U2Vuc29yJywgJ05hdmlnYXRvck1hbmFnZWREYXRhJ10sDQogICAgICAgICAgICAnOTInOiBbJ0NTU0NvdW50ZXJTdHlsZVJ1bGUnLCAnIVNoYXJlZEFycmF5QnVmZmVyJ10sDQogICAgICAgICAgICAnOTMnOiBbJ1dyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXInXSwNCiAgICAgICAgICAgICc5NCc6IFsnQXVkaW9EYXRhJywgJ0F1ZGlvRGVjb2RlcicsICdBdWRpb0VuY29kZXInLCAnRW5jb2RlZEF1ZGlvQ2h1bmsnLCAnRW5jb2RlZFZpZGVvQ2h1bmsnLCAnSWRsZURldGVjdG9yJywgJ0ltYWdlRGVjb2RlcicsICdJbWFnZVRyYWNrJywgJ0ltYWdlVHJhY2tMaXN0JywgJ1ZpZGVvQ29sb3JTcGFjZScsICdWaWRlb0RlY29kZXInLCAnVmlkZW9FbmNvZGVyJywgJ1ZpZGVvRnJhbWUnLCAnTWVkaWFTdHJlYW1UcmFja0dlbmVyYXRvcicsICdNZWRpYVN0cmVhbVRyYWNrUHJvY2Vzc29yJywgJ1Byb2ZpbGVyJywgJ1ZpcnR1YWxLZXlib2FyZCcsICdEZWxlZ2F0ZWRJbmtUcmFpbFByZXNlbnRlcicsICdJbmsnLCAnU2NoZWR1bGVyJywgJ1Rhc2tDb250cm9sbGVyJywgJ1Rhc2tQcmlvcml0eUNoYW5nZUV2ZW50JywgJ1Rhc2tTaWduYWwnLCAnVmlydHVhbEtleWJvYXJkR2VvbWV0cnlDaGFuZ2VFdmVudCddLA0KICAgICAgICAgICAgJzk1LTk2JzogWydVUkxQYXR0ZXJuJ10sDQogICAgICAgICAgICAnOTctOTgnOiBbJ1dlYlRyYW5zcG9ydCcsICdXZWJUcmFuc3BvcnRCaWRpcmVjdGlvbmFsU3RyZWFtJywgJ1dlYlRyYW5zcG9ydERhdGFncmFtRHVwbGV4U3RyZWFtJywgJ1dlYlRyYW5zcG9ydEVycm9yJ10sDQogICAgICAgICAgICAnOTknOiBbJ0NhbnZhc0ZpbHRlcicsICdDU1NMYXllckJsb2NrUnVsZScsICdDU1NMYXllclN0YXRlbWVudFJ1bGUnXSwNCiAgICAgICAgICAgICcxMDAnOiBbJ0NTU01hdGhDbGFtcCddLA0KICAgICAgICAgICAgJzEwMS0xMDQnOiBbJ0NTU0ZvbnRQYWxldHRlVmFsdWVzUnVsZSddLA0KICAgICAgICAgICAgJzEwNS0xMDYnOiBbJ0NTU0NvbnRhaW5lclJ1bGUnXSwNCiAgICAgICAgICAgICcxMDctMTA4JzogWydYUkNhbWVyYSddLA0KICAgICAgICAgICAgJzEwOSc6IFsnTWF0aE1MRWxlbWVudCddLA0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBibGlua0pTID0gew0KICAgICAgICAgICAgJzc2JzogWydEb2N1bWVudC5vbnNlY3VyaXR5cG9saWN5dmlvbGF0aW9uJywgJ1Byb21pc2UuYWxsU2V0dGxlZCddLA0KICAgICAgICAgICAgJzc3JzogWydEb2N1bWVudC5vbmZvcm1kYXRhJywgJ0RvY3VtZW50Lm9ucG9pbnRlcnJhd3VwZGF0ZSddLA0KICAgICAgICAgICAgJzc4JzogWydFbGVtZW50LmVsZW1lbnRUaW1pbmcnXSwNCiAgICAgICAgICAgICc3OSc6IFsnRG9jdW1lbnQub25hbmltYXRpb25lbmQnLCAnRG9jdW1lbnQub25hbmltYXRpb25pdGVyYXRpb24nLCAnRG9jdW1lbnQub25hbmltYXRpb25zdGFydCcsICdEb2N1bWVudC5vbnRyYW5zaXRpb25lbmQnXSwNCiAgICAgICAgICAgICc4MCc6IFsnIURvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCcsICchRWxlbWVudC5jcmVhdGVTaGFkb3dSb290JywgJyFFbGVtZW50LmdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzJ10sDQogICAgICAgICAgICAnODEnOiBbJ0RvY3VtZW50Lm9ud2Via2l0YW5pbWF0aW9uZW5kJywgJ0RvY3VtZW50Lm9ud2Via2l0YW5pbWF0aW9uaXRlcmF0aW9uJywgJ0RvY3VtZW50Lm9ud2Via2l0YW5pbWF0aW9uc3RhcnQnLCAnRG9jdW1lbnQub253ZWJraXR0cmFuc2l0aW9uZW5kJywgJ0VsZW1lbnQuYXJpYUF0b21pYycsICdFbGVtZW50LmFyaWFBdXRvQ29tcGxldGUnLCAnRWxlbWVudC5hcmlhQnVzeScsICdFbGVtZW50LmFyaWFDaGVja2VkJywgJ0VsZW1lbnQuYXJpYUNvbENvdW50JywgJ0VsZW1lbnQuYXJpYUNvbEluZGV4JywgJ0VsZW1lbnQuYXJpYUNvbFNwYW4nLCAnRWxlbWVudC5hcmlhQ3VycmVudCcsICdFbGVtZW50LmFyaWFEaXNhYmxlZCcsICdFbGVtZW50LmFyaWFFeHBhbmRlZCcsICdFbGVtZW50LmFyaWFIYXNQb3B1cCcsICdFbGVtZW50LmFyaWFIaWRkZW4nLCAnRWxlbWVudC5hcmlhS2V5U2hvcnRjdXRzJywgJ0VsZW1lbnQuYXJpYUxhYmVsJywgJ0VsZW1lbnQuYXJpYUxldmVsJywgJ0VsZW1lbnQuYXJpYUxpdmUnLCAnRWxlbWVudC5hcmlhTW9kYWwnLCAnRWxlbWVudC5hcmlhTXVsdGlMaW5lJywgJ0VsZW1lbnQuYXJpYU11bHRpU2VsZWN0YWJsZScsICdFbGVtZW50LmFyaWFPcmllbnRhdGlvbicsICdFbGVtZW50LmFyaWFQbGFjZWhvbGRlcicsICdFbGVtZW50LmFyaWFQb3NJblNldCcsICdFbGVtZW50LmFyaWFQcmVzc2VkJywgJ0VsZW1lbnQuYXJpYVJlYWRPbmx5JywgJ0VsZW1lbnQuYXJpYVJlbGV2YW50JywgJ0VsZW1lbnQuYXJpYVJlcXVpcmVkJywgJ0VsZW1lbnQuYXJpYVJvbGVEZXNjcmlwdGlvbicsICdFbGVtZW50LmFyaWFSb3dDb3VudCcsICdFbGVtZW50LmFyaWFSb3dJbmRleCcsICdFbGVtZW50LmFyaWFSb3dTcGFuJywgJ0VsZW1lbnQuYXJpYVNlbGVjdGVkJywgJ0VsZW1lbnQuYXJpYVNvcnQnLCAnRWxlbWVudC5hcmlhVmFsdWVNYXgnLCAnRWxlbWVudC5hcmlhVmFsdWVNaW4nLCAnRWxlbWVudC5hcmlhVmFsdWVOb3cnLCAnRWxlbWVudC5hcmlhVmFsdWVUZXh0JywgJ0ludGwuRGlzcGxheU5hbWVzJ10sDQogICAgICAgICAgICAnODMnOiBbJ0VsZW1lbnQuYXJpYURlc2NyaXB0aW9uJywgJ0VsZW1lbnQub25iZWZvcmV4cnNlbGVjdCddLA0KICAgICAgICAgICAgJzg0JzogWydEb2N1bWVudC5nZXRBbmltYXRpb25zJywgJ0RvY3VtZW50LnRpbWVsaW5lJywgJ0VsZW1lbnQuYXJpYVNldFNpemUnLCAnRWxlbWVudC5nZXRBbmltYXRpb25zJ10sDQogICAgICAgICAgICAnODUnOiBbJ1Byb21pc2UuYW55JywgJ1N0cmluZy5yZXBsYWNlQWxsJ10sDQogICAgICAgICAgICAnODYnOiBbJ0RvY3VtZW50LmZyYWdtZW50RGlyZWN0aXZlJywgJ0RvY3VtZW50LnJlcGxhY2VDaGlsZHJlbicsICdFbGVtZW50LnJlcGxhY2VDaGlsZHJlbicsICchQXRvbWljcy53YWtlJ10sDQogICAgICAgICAgICAnODctODknOiBbJ0F0b21pY3Mud2FpdEFzeW5jJywgJ0RvY3VtZW50Lm9udHJhbnNpdGlvbmNhbmNlbCcsICdEb2N1bWVudC5vbnRyYW5zaXRpb25ydW4nLCAnRG9jdW1lbnQub250cmFuc2l0aW9uc3RhcnQnLCAnSW50bC5TZWdtZW50ZXInXSwNCiAgICAgICAgICAgICc5MCc6IFsnRG9jdW1lbnQub25iZWZvcmV4cnNlbGVjdCcsICdSZWdFeHAuaGFzSW5kaWNlcycsICchRWxlbWVudC5vbmJlZm9yZXhyc2VsZWN0J10sDQogICAgICAgICAgICAnOTEnOiBbJ0VsZW1lbnQuZ2V0SW5uZXJIVE1MJ10sDQogICAgICAgICAgICAnOTInOiBbJ0FycmF5LmF0JywgJ1N0cmluZy5hdCddLA0KICAgICAgICAgICAgJzkzJzogWydFcnJvci5jYXVzZScsICdPYmplY3QuaGFzT3duJ10sDQogICAgICAgICAgICAnOTQnOiBbJyFFcnJvci5jYXVzZScsICdPYmplY3QuaGFzT3duJ10sDQogICAgICAgICAgICAnOTUtOTYnOiBbJ1dlYkFzc2VtYmx5LkV4Y2VwdGlvbicsICdXZWJBc3NlbWJseS5UYWcnXSwNCiAgICAgICAgICAgICc5Ny05OCc6IFsnQXJyYXkuZmluZExhc3QnLCAnQXJyYXkuZmluZExhc3RJbmRleCcsICdEb2N1bWVudC5vbnNsb3RjaGFuZ2UnXSwNCiAgICAgICAgICAgICc5OS0xMDEnOiBbJ0ludGwuc3VwcG9ydGVkVmFsdWVzT2YnLCAnRG9jdW1lbnQub25jb250ZXh0bG9zdCcsICdEb2N1bWVudC5vbmNvbnRleHRyZXN0b3JlZCddLA0KICAgICAgICAgICAgJzEwMic6IFsnRWxlbWVudC5hcmlhSW52YWxpZCcsICdEb2N1bWVudC5vbmJlZm9yZW1hdGNoJ10sDQogICAgICAgICAgICAnMTAzLTEwNic6IFsnRWxlbWVudC5yb2xlJ10sDQogICAgICAgICAgICAnMTA3LTEwOSc6IFsnRWxlbWVudC5hcmlhQnJhaWxsZUxhYmVsJywgJ0VsZW1lbnQuYXJpYUJyYWlsbGVSb2xlRGVzY3JpcHRpb24nXSwNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2Vja29KUyA9IHsNCiAgICAgICAgICAgICc3MSc6IFsnUHJvbWlzZS5hbGxTZXR0bGVkJ10sDQogICAgICAgICAgICAnNzItNzMnOiBbJ0RvY3VtZW50Lm9uZm9ybWRhdGEnLCAnRWxlbWVudC5wYXJ0J10sDQogICAgICAgICAgICAnNzQnOiBbJyFBcnJheS50b1NvdXJjZScsICchQm9vbGVhbi50b1NvdXJjZScsICchRGF0ZS50b1NvdXJjZScsICchRXJyb3IudG9Tb3VyY2UnLCAnIUZ1bmN0aW9uLnRvU291cmNlJywgJyFJbnRsLnRvU291cmNlJywgJyFKU09OLnRvU291cmNlJywgJyFNYXRoLnRvU291cmNlJywgJyFOdW1iZXIudG9Tb3VyY2UnLCAnIU9iamVjdC50b1NvdXJjZScsICchUmVnRXhwLnRvU291cmNlJywgJyFTdHJpbmcudG9Tb3VyY2UnLCAnIVdlYkFzc2VtYmx5LnRvU291cmNlJ10sDQogICAgICAgICAgICAnNzUtNzYnOiBbJ0RvY3VtZW50LmdldEFuaW1hdGlvbnMnLCAnRG9jdW1lbnQudGltZWxpbmUnLCAnRWxlbWVudC5nZXRBbmltYXRpb25zJywgJ0ludGwuTG9jYWxlJ10sDQogICAgICAgICAgICAnNzcnOiBbJ1N0cmluZy5yZXBsYWNlQWxsJ10sDQogICAgICAgICAgICAnNzgnOiBbJ0F0b21pY3MuYWRkJywgJ0F0b21pY3MuYW5kJywgJ0F0b21pY3MuY29tcGFyZUV4Y2hhbmdlJywgJ0F0b21pY3MuZXhjaGFuZ2UnLCAnQXRvbWljcy5pc0xvY2tGcmVlJywgJ0F0b21pY3MubG9hZCcsICdBdG9taWNzLm5vdGlmeScsICdBdG9taWNzLm9yJywgJ0F0b21pY3Muc3RvcmUnLCAnQXRvbWljcy5zdWInLCAnQXRvbWljcy53YWl0JywgJ0F0b21pY3Mud2FrZScsICdBdG9taWNzLnhvcicsICdEb2N1bWVudC5yZXBsYWNlQ2hpbGRyZW4nLCAnRWxlbWVudC5yZXBsYWNlQ2hpbGRyZW4nLCAnSW50bC5MaXN0Rm9ybWF0JywgJ1JlZ0V4cC5kb3RBbGwnXSwNCiAgICAgICAgICAgICc3OS04NCc6IFsnUHJvbWlzZS5hbnknXSwNCiAgICAgICAgICAgICc4NSc6IFsnIURvY3VtZW50Lm9uc2hvdycsICdQcm9taXNlLmFueSddLA0KICAgICAgICAgICAgJzg2JzogWydJbnRsLkRpc3BsYXlOYW1lcyddLA0KICAgICAgICAgICAgJzg3JzogWydEb2N1bWVudC5vbmJlZm9yZWlucHV0J10sDQogICAgICAgICAgICAnODgtODknOiBbJ1JlZ0V4cC5oYXNJbmRpY2VzJ10sDQogICAgICAgICAgICAnOTAtOTEnOiBbJ0FycmF5LmF0JywgJ1N0cmluZy5hdCddLA0KICAgICAgICAgICAgJzkyJzogWydPYmplY3QuaGFzT3duJ10sDQogICAgICAgICAgICAnOTMtOTknOiBbJ0ludGwuc3VwcG9ydGVkVmFsdWVzT2YnLCAnRG9jdW1lbnQub25zZWN1cml0eXBvbGljeXZpb2xhdGlvbicsICdEb2N1bWVudC5vbnNsb3RjaGFuZ2UnXSwNCiAgICAgICAgICAgICcxMDAnOiBbJ1dlYkFzc2VtYmx5LlRhZycsICdXZWJBc3NlbWJseS5FeGNlcHRpb24nXSwNCiAgICAgICAgICAgICcxMDEtMTAzJzogWydEb2N1bWVudC5hZG9wdGVkU3R5bGVTaGVldHMnXSwNCiAgICAgICAgICAgICcxMDQtMTA4JzogWydBcnJheS5maW5kTGFzdCcsICdBcnJheS5maW5kTGFzdEluZGV4J10sDQogICAgICAgIH07DQogICAgICAgIGNvbnN0IElTX0JMSU5LID0gYnJvd3NlciA9PSAnQ2hyb21lJzsNCiAgICAgICAgY29uc3QgSVNfR0VDS08gPSBicm93c2VyID09ICdGaXJlZm94JzsNCiAgICAgICAgY29uc3QgY3NzID0gKElTX0JMSU5LID8gYmxpbmtDU1MgOiBJU19HRUNLTyA/IGdlY2tvQ1NTIDoge30pOw0KICAgICAgICBjb25zdCB3aW4gPSAoSVNfQkxJTksgPyBibGlua1dpbmRvdyA6IElTX0dFQ0tPID8gZ2Vja29XaW5kb3cgOiB7fSk7DQogICAgICAgIGNvbnN0IGpzID0gKElTX0JMSU5LID8gYmxpbmtKUyA6IElTX0dFQ0tPID8gZ2Vja29KUyA6IHt9KTsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGNzcywNCiAgICAgICAgICAgIHdpbiwNCiAgICAgICAgICAgIGpzLA0KICAgICAgICB9Ow0KICAgIH07DQogICAgY29uc3QgZ2V0SlNDb3JlRmVhdHVyZXMgPSAod2luKSA9PiB7DQogICAgICAgIGNvbnN0IGdsb2JhbE9iamVjdHMgPSBbDQogICAgICAgICAgICAnT2JqZWN0JywNCiAgICAgICAgICAgICdGdW5jdGlvbicsDQogICAgICAgICAgICAnQm9vbGVhbicsDQogICAgICAgICAgICAnU3ltYm9sJywNCiAgICAgICAgICAgICdFcnJvcicsDQogICAgICAgICAgICAnTnVtYmVyJywNCiAgICAgICAgICAgICdCaWdJbnQnLA0KICAgICAgICAgICAgJ01hdGgnLA0KICAgICAgICAgICAgJ0RhdGUnLA0KICAgICAgICAgICAgJ1N0cmluZycsDQogICAgICAgICAgICAnUmVnRXhwJywNCiAgICAgICAgICAgICdBcnJheScsDQogICAgICAgICAgICAnTWFwJywNCiAgICAgICAgICAgICdTZXQnLA0KICAgICAgICAgICAgJ1dlYWtNYXAnLA0KICAgICAgICAgICAgJ1dlYWtTZXQnLA0KICAgICAgICAgICAgJ0F0b21pY3MnLA0KICAgICAgICAgICAgJ0pTT04nLA0KICAgICAgICAgICAgJ1Byb21pc2UnLA0KICAgICAgICAgICAgJ1JlZmxlY3QnLA0KICAgICAgICAgICAgJ1Byb3h5JywNCiAgICAgICAgICAgICdJbnRsJywNCiAgICAgICAgICAgICdXZWJBc3NlbWJseScsDQogICAgICAgICAgICAnRG9jdW1lbnQnLA0KICAgICAgICAgICAgJ0VsZW1lbnQnLA0KICAgICAgICBdOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBnbG9iYWxPYmplY3RzLnJlZHVjZSgoYWNjLCBuYW1lKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgaWdub3JlID0gWyduYW1lJywgJ2xlbmd0aCcsICdjb25zdHJ1Y3RvcicsICdwcm90b3R5cGUnLCAnYXJndW1lbnRzJywgJ2NhbGxlciddOw0KICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3JLZXlzID0gT2JqZWN0LmtleXMoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMod2luW25hbWVdIHx8IHt9KSk7DQogICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvclByb3RvS2V5cyA9IE9iamVjdC5rZXlzKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKCh3aW5bbmFtZV0gfHwge30pLnByb3RvdHlwZSB8fCB7fSkpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHVuaXF1ZXMgPSBbLi4ubmV3IFNldChbLi4uZGVzY3JpcHRvcktleXMsIC4uLmRlc2NyaXB0b3JQcm90b0tleXNdLmZpbHRlcigoa2V5KSA9PiAhaWdub3JlLmluY2x1ZGVzKGtleSkpKV07DQogICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IHVuaXF1ZXMubWFwKChrZXkpID0+IGAke25hbWV9LiR7a2V5fWApOw0KICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCAuLi5rZXlzXTsNCiAgICAgICAgICAgIH0sIFtdKTsNCiAgICAgICAgICAgIHJldHVybiBmZWF0dXJlczsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuIFtdOw0KICAgICAgICB9DQogICAgfTsNCiAgICAvLyBAdHMtaWdub3JlDQogICAgY29uc3QgdmVyc2lvblNvcnQgPSAoeCkgPT4geC5zb3J0KChhLCBiKSA9PiAvXGQrLy5leGVjKGEpWzBdIC0gL1xkKy8uZXhlYyhiKVswXSkucmV2ZXJzZSgpOw0KICAgIGNvbnN0IGdldFZlcnNpb25MaWUgPSAodlJlcG9ydCwgdmVyc2lvbiwgZm9yZ2l2ZW5lc3NPZmZzZXQgPSAwKSA9PiB7DQogICAgICAgIGNvbnN0IHN0YWJsZSA9IGdldFN0YWJsZUZlYXR1cmVzKCk7DQogICAgICAgIGNvbnN0IHsgdmVyc2lvbjogbWF4VmVyc2lvbiB9ID0gc3RhYmxlW0JST1dTRVJdIHx8IHt9Ow0KICAgICAgICBjb25zdCB2YWxpZE1ldHJpY3MgPSB2UmVwb3J0ICYmIHZlcnNpb247DQogICAgICAgIGlmICghdmFsaWRNZXRyaWNzKSB7DQogICAgICAgICAgICByZXR1cm4ge307DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgW3ZTdGFydCwgdkVuZF0gPSB2ZXJzaW9uID8gdmVyc2lvbi5zcGxpdCgnLScpIDogW107DQogICAgICAgIGNvbnN0IHZNYXggPSAodkVuZCB8fCB2U3RhcnQpOw0KICAgICAgICBjb25zdCByZXBvcnRJc1Rvb0hpZ2ggPSArdlJlcG9ydCA+ICgrdk1heCArIGZvcmdpdmVuZXNzT2Zmc2V0KTsNCiAgICAgICAgY29uc3QgcmVwb3J0SXNUb29Mb3cgPSArdlJlcG9ydCA8ICgrdlN0YXJ0IC0gZm9yZ2l2ZW5lc3NPZmZzZXQpOw0KICAgICAgICBjb25zdCByZXBvcnRJc09mZiA9IChyZXBvcnRJc1Rvb0hpZ2ggfHwgcmVwb3J0SXNUb29Mb3cpOw0KICAgICAgICBjb25zdCB2ZXJzaW9uSXNBYm92ZU1heCA9ICgoK3ZNYXggPT0gbWF4VmVyc2lvbikgJiYNCiAgICAgICAgICAgICgrdlJlcG9ydCA+IG1heFZlcnNpb24pKTsNCiAgICAgICAgY29uc3QgbGllZFZlcnNpb24gPSAhdmVyc2lvbklzQWJvdmVNYXggJiYgcmVwb3J0SXNPZmY7DQogICAgICAgIGNvbnN0IGRpc3RhbmNlID0gIWxpZWRWZXJzaW9uID8gMCA6IChNYXRoLmFicyh2UmVwb3J0IC0gKHJlcG9ydElzVG9vTG93ID8gdlN0YXJ0IDogdk1heCkpKTsNCiAgICAgICAgcmV0dXJuIHsgbGllZFZlcnNpb24sIGRpc3RhbmNlIH07DQogICAgfTsNCiAgICBhc3luYyBmdW5jdGlvbiBnZXRFbmdpbmVGZWF0dXJlcyh7IGNzc0NvbXB1dGVkLCBuYXZpZ2F0b3JDb21wdXRlZCwgd2luZG93RmVhdHVyZXNDb21wdXRlZCwgfSkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpOw0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICBjb25zdCB3aW4gPSBQSEFOVE9NX0RBUktORVNTID8gUEhBTlRPTV9EQVJLTkVTUyA6IHdpbmRvdzsNCiAgICAgICAgICAgIGlmICghY3NzQ29tcHV0ZWQgfHwgIXdpbmRvd0ZlYXR1cmVzQ29tcHV0ZWQpIHsNCiAgICAgICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ2ZlYXR1cmVzJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBqc0ZlYXR1cmVzS2V5cyA9IGdldEpTQ29yZUZlYXR1cmVzKHdpbik7DQogICAgICAgICAgICBjb25zdCB7IGtleXM6IGNvbXB1dGVkU3R5bGVLZXlzIH0gPSBjc3NDb21wdXRlZC5jb21wdXRlZFN0eWxlIHx8IHt9Ow0KICAgICAgICAgICAgY29uc3QgeyBrZXlzOiB3aW5kb3dGZWF0dXJlc0tleXMgfSA9IHdpbmRvd0ZlYXR1cmVzQ29tcHV0ZWQgfHwge307DQogICAgICAgICAgICBjb25zdCB7IHVzZXJBZ2VudFBhcnNlZDogZGVjcnlwdGVkTmFtZSB9ID0gbmF2aWdhdG9yQ29tcHV0ZWQgfHwge307DQogICAgICAgICAgICBjb25zdCBpc05hdGl2ZSA9ICh3aW4sIHgpID0+ICgvXFtuYXRpdmUgY29kZVxdLy50ZXN0KHdpblt4XSArICcnKSAmJg0KICAgICAgICAgICAgICAgICdwcm90b3R5cGUnIGluIHdpblt4XSAmJg0KICAgICAgICAgICAgICAgIHdpblt4XS5wcm90b3R5cGUuY29uc3RydWN0b3IubmFtZSA9PT0geCk7DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBnZXRGZWF0dXJlcyA9ICh7IGNvbnRleHQsIGFsbEtleXMsIGVuZ2luZU1hcCwgY2hlY2tOYXRpdmUgPSBmYWxzZSB9ID0ge30pID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBhbGxLZXlzU2V0ID0gbmV3IFNldChhbGxLZXlzKTsNCiAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IG5ldyBTZXQoKTsNCiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBPYmplY3Qua2V5cyhlbmdpbmVNYXAgfHwge30pLnJlZHVjZSgoYWNjLCBrZXkpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IGVuZ2luZU1hcFtrZXldOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uTGVuID0gdmVyc2lvbi5sZW5ndGg7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVMZW4gPSB2ZXJzaW9uLmZpbHRlcigocHJvcCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlZEZyb21WZXJzaW9uID0gcHJvcC5jaGFyQXQoMCkgPT0gJyEnOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRGcm9tVmVyc2lvbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BOYW1lID0gcHJvcC5zbGljZSgxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWFsbEtleXNTZXQuaGFzKHByb3BOYW1lKSAmJiBmZWF0dXJlcy5hZGQocHJvcCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGFsbEtleXNTZXQuaGFzKHByb3ApICYmDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoZWNrTmF0aXZlID8gaXNOYXRpdmUoY29udGV4dCwgcHJvcCkgOiB0cnVlKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLmFkZChwcm9wKSk7DQogICAgICAgICAgICAgICAgICAgIH0pLmxlbmd0aDsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZlcnNpb25MZW4gPT0gZmVhdHVyZUxlbiA/IFsuLi5hY2MsIGtleV0gOiBhY2M7DQogICAgICAgICAgICAgICAgfSwgW10pOw0KICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSB2ZXJzaW9uU29ydChtYXRjaClbMF07DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiwNCiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvLyBlbmdpbmUgbWFwcw0KICAgICAgICAgICAgY29uc3QgeyBjc3M6IGVuZ2luZU1hcENTUywgd2luOiBlbmdpbmVNYXBXaW5kb3csIGpzOiBlbmdpbmVNYXBKUywgfSA9IGdldEVuZ2luZU1hcHMoQlJPV1NFUik7DQogICAgICAgICAgICAvLyBjc3MgdmVyc2lvbg0KICAgICAgICAgICAgY29uc3QgeyB2ZXJzaW9uOiBjc3NWZXJzaW9uLCBmZWF0dXJlczogY3NzRmVhdHVyZXMsIH0gPSBnZXRGZWF0dXJlcyh7DQogICAgICAgICAgICAgICAgY29udGV4dDogd2luLA0KICAgICAgICAgICAgICAgIGFsbEtleXM6IGNvbXB1dGVkU3R5bGVLZXlzLA0KICAgICAgICAgICAgICAgIGVuZ2luZU1hcDogZW5naW5lTWFwQ1NTLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAvLyB3aW5kb3cgdmVyc2lvbg0KICAgICAgICAgICAgY29uc3QgeyB2ZXJzaW9uOiB3aW5kb3dWZXJzaW9uLCBmZWF0dXJlczogd2luZG93RmVhdHVyZXMsIH0gPSBnZXRGZWF0dXJlcyh7DQogICAgICAgICAgICAgICAgY29udGV4dDogd2luLA0KICAgICAgICAgICAgICAgIGFsbEtleXM6IHdpbmRvd0ZlYXR1cmVzS2V5cywNCiAgICAgICAgICAgICAgICBlbmdpbmVNYXA6IGVuZ2luZU1hcFdpbmRvdywNCiAgICAgICAgICAgICAgICBjaGVja05hdGl2ZTogdHJ1ZSwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgLy8ganMgdmVyc2lvbg0KICAgICAgICAgICAgY29uc3QgeyB2ZXJzaW9uOiBqc1ZlcnNpb24sIGZlYXR1cmVzOiBqc0ZlYXR1cmVzLCB9ID0gZ2V0RmVhdHVyZXMoew0KICAgICAgICAgICAgICAgIGNvbnRleHQ6IHdpbiwNCiAgICAgICAgICAgICAgICBhbGxLZXlzOiBqc0ZlYXR1cmVzS2V5cywNCiAgICAgICAgICAgICAgICBlbmdpbmVNYXA6IGVuZ2luZU1hcEpTLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAvLyBkZXRlcm1pbmUgdmVyc2lvbiBiYXNlZCBvbiAzIGZhY3RvcnMNCiAgICAgICAgICAgIGNvbnN0IGdldFZlcnNpb25Gcm9tUmFuZ2UgPSAocmFuZ2UsIHZlcnNpb25Db2xsZWN0aW9uKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgZXhhY3RWZXJzaW9uID0gdmVyc2lvbkNvbGxlY3Rpb24uZmluZCgodmVyc2lvbikgPT4gdmVyc2lvbiAmJiAhLy0vLnRlc3QodmVyc2lvbikpOw0KICAgICAgICAgICAgICAgIGlmIChleGFjdFZlcnNpb24pIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4YWN0VmVyc2lvbjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29uc3QgbGVuID0gcmFuZ2UubGVuZ3RoOw0KICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gcmFuZ2VbMF07DQogICAgICAgICAgICAgICAgY29uc3QgbGFzdCA9IHJhbmdlW2xlbiAtIDFdOw0KICAgICAgICAgICAgICAgIHJldHVybiAoIWxlbiA/ICcnIDoNCiAgICAgICAgICAgICAgICAgICAgbGVuID09IDEgPyBmaXJzdCA6DQogICAgICAgICAgICAgICAgICAgICAgICBgJHtsYXN0fS0ke2ZpcnN0fWApOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IHZlcnNpb25TZXQgPSBuZXcgU2V0KFsNCiAgICAgICAgICAgICAgICBjc3NWZXJzaW9uLA0KICAgICAgICAgICAgICAgIHdpbmRvd1ZlcnNpb24sDQogICAgICAgICAgICAgICAganNWZXJzaW9uLA0KICAgICAgICAgICAgXSk7DQogICAgICAgICAgICB2ZXJzaW9uU2V0LmRlbGV0ZSh1bmRlZmluZWQpOw0KICAgICAgICAgICAgY29uc3QgdmVyc2lvblJhbmdlID0gdmVyc2lvblNvcnQoWy4uLnZlcnNpb25TZXRdLnJlZHVjZSgoYWNjLCB4KSA9PiBbLi4uYWNjLCAuLi54LnNwbGl0KCctJyldLCBbXSkpOw0KICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IGdldFZlcnNpb25Gcm9tUmFuZ2UodmVyc2lvblJhbmdlLCBbY3NzVmVyc2lvbiwgd2luZG93VmVyc2lvbiwganNWZXJzaW9uXSk7DQogICAgICAgICAgICBjb25zdCB2UmVwb3J0ID0gKC9cZCsvLmV4ZWMoZGVjcnlwdGVkTmFtZSkgfHwgW10pWzBdOw0KICAgICAgICAgICAgY29uc3QgeyBsaWVkVmVyc2lvbjogbGllZENTUywgZGlzdGFuY2U6IGRpc3RhbmNlQ1NTLCB9ID0gZ2V0VmVyc2lvbkxpZSh2UmVwb3J0LCBjc3NWZXJzaW9uKTsNCiAgICAgICAgICAgIGNvbnN0IHsgbGllZFZlcnNpb246IGxpZWRKUywgZGlzdGFuY2U6IGRpc3RhbmNlSlMsIH0gPSBnZXRWZXJzaW9uTGllKHZSZXBvcnQsIGpzVmVyc2lvbik7DQogICAgICAgICAgICBjb25zdCB7IGxpZWRWZXJzaW9uOiBsaWVkV2luZG93LCBkaXN0YW5jZTogZGlzdGFuY2VXaW5kb3csIH0gPSBnZXRWZXJzaW9uTGllKHZSZXBvcnQsIHdpbmRvd1ZlcnNpb24pOw0KICAgICAgICAgICAgaWYgKGxpZWRDU1MpIHsNCiAgICAgICAgICAgICAgICBzZW5kVG9UcmFzaCgndXNlckFnZW50JywgYHYke3ZSZXBvcnR9IGZhaWxlZCB2JHtjc3NWZXJzaW9ufSBDU1MgZmVhdHVyZXNgKTsNCiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VDU1MgPiAxKSB7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKGBOYXZpZ2F0b3IudXNlckFnZW50YCwgYHYke3ZSZXBvcnR9IGZhaWxlZCBDU1MgZmVhdHVyZXMgYnkgJHtkaXN0YW5jZUNTU30gdmVyc2lvbnNgKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAobGllZEpTKSB7DQogICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ3VzZXJBZ2VudCcsIGB2JHt2UmVwb3J0fSBmYWlsZWQgdiR7anNWZXJzaW9ufSBKUyBmZWF0dXJlc2ApOw0KICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZUpTID4gMikgew0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShgTmF2aWdhdG9yLnVzZXJBZ2VudGAsIGB2JHt2UmVwb3J0fSBmYWlsZWQgSlMgZmVhdHVyZXMgYnkgJHtkaXN0YW5jZUpTfSB2ZXJzaW9uc2ApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChsaWVkV2luZG93KSB7DQogICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ3VzZXJBZ2VudCcsIGB2JHt2UmVwb3J0fSBmYWlsZWQgdiR7d2luZG93VmVyc2lvbn0gV2luZG93IGZlYXR1cmVzYCk7DQogICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlV2luZG93ID4gMykgew0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShgTmF2aWdhdG9yLnVzZXJBZ2VudGAsIGB2JHt2UmVwb3J0fSBmYWlsZWQgV2luZG93IGZlYXR1cmVzIGJ5ICR7ZGlzdGFuY2VXaW5kb3d9IHZlcnNpb25zYCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRpbWU6IHRpbWVyLnN0b3AoKSwgdGVzdDogJ2ZlYXR1cmVzJywgcGFzc2VkOiB0cnVlIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICB2ZXJzaW9uUmFuZ2UsDQogICAgICAgICAgICAgICAgdmVyc2lvbiwNCiAgICAgICAgICAgICAgICBjc3NWZXJzaW9uLA0KICAgICAgICAgICAgICAgIHdpbmRvd1ZlcnNpb24sDQogICAgICAgICAgICAgICAganNWZXJzaW9uLA0KICAgICAgICAgICAgICAgIGNzc0ZlYXR1cmVzOiBbLi4uY3NzRmVhdHVyZXNdLA0KICAgICAgICAgICAgICAgIHdpbmRvd0ZlYXR1cmVzOiBbLi4ud2luZG93RmVhdHVyZXNdLA0KICAgICAgICAgICAgICAgIGpzRmVhdHVyZXM6IFsuLi5qc0ZlYXR1cmVzXSwNCiAgICAgICAgICAgICAgICBqc0ZlYXR1cmVzS2V5cywNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ2ZlYXR1cmVzJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UGxhdGZvcm1Fc3RpbWF0ZSgpIHsNCiAgICAgICAgaWYgKCFJU19CTElOSykNCiAgICAgICAgICAgIHJldHVybiBbXTsNCiAgICAgICAgY29uc3QgdjgwID0gJ2dldFZpZGVvUGxheWJhY2tRdWFsaXR5JyBpbiBIVE1MVmlkZW9FbGVtZW50LnByb3RvdHlwZTsNCiAgICAgICAgY29uc3Qgdjg0ID0gQ1NTLnN1cHBvcnRzKCdhcHBlYXJhbmNlOiBpbml0aWFsJyk7DQogICAgICAgIGNvbnN0IHY4NiA9ICdEaXNwbGF5TmFtZXMnIGluIEludGw7DQogICAgICAgIGNvbnN0IHY4OCA9IENTUy5zdXBwb3J0cygnYXNwZWN0LXJhdGlvOiBpbml0aWFsJyk7DQogICAgICAgIGNvbnN0IHY4OSA9IENTUy5zdXBwb3J0cygnYm9yZGVyLWVuZC1lbmQtcmFkaXVzOiBpbml0aWFsJyk7DQogICAgICAgIGNvbnN0IHY5NSA9ICdyYW5kb21VVUlEJyBpbiBDcnlwdG8ucHJvdG90eXBlOw0KICAgICAgICBjb25zdCBoYXNCYXJjb2RlRGV0ZWN0b3IgPSAnQmFyY29kZURldGVjdG9yJyBpbiB3aW5kb3c7DQogICAgICAgIGNvbnN0IGhhc0Rvd25saW5rTWF4ID0gJ2Rvd25saW5rTWF4JyBpbiAod2luZG93Lk5ldHdvcmtJbmZvcm1hdGlvbj8ucHJvdG90eXBlIHx8IHt9KTsNCiAgICAgICAgY29uc3QgaGFzQ29udGVudEluZGV4ID0gJ0NvbnRlbnRJbmRleCcgaW4gd2luZG93Ow0KICAgICAgICBjb25zdCBoYXNDb250YWN0c01hbmFnZXIgPSAnQ29udGFjdHNNYW5hZ2VyJyBpbiB3aW5kb3c7DQogICAgICAgIGNvbnN0IGhhc0V5ZURyb3BwZXIgPSAnRXllRHJvcHBlcicgaW4gd2luZG93Ow0KICAgICAgICBjb25zdCBoYXNGaWxlU3lzdGVtV3JpdGFibGVGaWxlU3RyZWFtID0gJ0ZpbGVTeXN0ZW1Xcml0YWJsZUZpbGVTdHJlYW0nIGluIHdpbmRvdzsNCiAgICAgICAgY29uc3QgaGFzSGlkID0gJ0hJRCcgaW4gd2luZG93ICYmICdISUREZXZpY2UnIGluIHdpbmRvdzsNCiAgICAgICAgY29uc3QgaGFzU2VyaWFsUG9ydCA9ICdTZXJpYWxQb3J0JyBpbiB3aW5kb3cgJiYgJ1NlcmlhbCcgaW4gd2luZG93Ow0KICAgICAgICBjb25zdCBoYXNTaGFyZWRXb3JrZXIgPSAnU2hhcmVkV29ya2VyJyBpbiB3aW5kb3c7DQogICAgICAgIGNvbnN0IGhhc1RvdWNoID0gJ29udG91Y2hzdGFydCcgaW4gV2luZG93ICYmICdUb3VjaEV2ZW50JyBpbiB3aW5kb3c7DQogICAgICAgIGNvbnN0IGhhc0ZlYXR1cmUgPSAodmVyc2lvbiwgY29uZGl0aW9uKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gKHZlcnNpb24gPyBbY29uZGl0aW9uXSA6IFtdKTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZXN0aW1hdGUgPSB7DQogICAgICAgICAgICBbIkFuZHJvaWQiIC8qIFBsYXRmb3JtLkFORFJPSUQgKi9dOiBbDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODgsIGhhc0JhcmNvZGVEZXRlY3RvciksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODQsIGhhc0NvbnRlbnRJbmRleCksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODAsIGhhc0NvbnRhY3RzTWFuYWdlciksDQogICAgICAgICAgICAgICAgaGFzRG93bmxpbmtNYXgsDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2OTUsICFoYXNFeWVEcm9wcGVyKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4NiwgIWhhc0ZpbGVTeXN0ZW1Xcml0YWJsZUZpbGVTdHJlYW0pLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjg5LCAhaGFzSGlkKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OSwgIWhhc1NlcmlhbFBvcnQpLA0KICAgICAgICAgICAgICAgICFoYXNTaGFyZWRXb3JrZXIsDQogICAgICAgICAgICAgICAgaGFzVG91Y2gsDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgWyJDaHJvbWUgT1MiIC8qIFBsYXRmb3JtLkNIUk9NRV9PUyAqL106IFsNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OCwgaGFzQmFyY29kZURldGVjdG9yKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4NCwgIWhhc0NvbnRlbnRJbmRleCksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODAsICFoYXNDb250YWN0c01hbmFnZXIpLA0KICAgICAgICAgICAgICAgIGhhc0Rvd25saW5rTWF4LA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjk1LCBoYXNFeWVEcm9wcGVyKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4NiwgaGFzRmlsZVN5c3RlbVdyaXRhYmxlRmlsZVN0cmVhbSksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODksIGhhc0hpZCksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODksIGhhc1NlcmlhbFBvcnQpLA0KICAgICAgICAgICAgICAgIGhhc1NoYXJlZFdvcmtlciwNCiAgICAgICAgICAgICAgICBoYXNUb3VjaCB8fCAhaGFzVG91Y2gsDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgWyJXaW5kb3dzIiAvKiBQbGF0Zm9ybS5XSU5ET1dTICovXTogWw0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjg4LCAhaGFzQmFyY29kZURldGVjdG9yKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4NCwgIWhhc0NvbnRlbnRJbmRleCksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODAsICFoYXNDb250YWN0c01hbmFnZXIpLA0KICAgICAgICAgICAgICAgICFoYXNEb3dubGlua01heCwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY5NSwgaGFzRXllRHJvcHBlciksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODYsIGhhc0ZpbGVTeXN0ZW1Xcml0YWJsZUZpbGVTdHJlYW0pLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjg5LCBoYXNIaWQpLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjg5LCBoYXNTZXJpYWxQb3J0KSwNCiAgICAgICAgICAgICAgICBoYXNTaGFyZWRXb3JrZXIsDQogICAgICAgICAgICAgICAgaGFzVG91Y2ggfHwgIWhhc1RvdWNoLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIFsiTWFjIiAvKiBQbGF0Zm9ybS5NQUMgKi9dOiBbDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODgsIGhhc0JhcmNvZGVEZXRlY3RvciksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODQsICFoYXNDb250ZW50SW5kZXgpLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjgwLCAhaGFzQ29udGFjdHNNYW5hZ2VyKSwNCiAgICAgICAgICAgICAgICAhaGFzRG93bmxpbmtNYXgsDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2OTUsIGhhc0V5ZURyb3BwZXIpLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjg2LCBoYXNGaWxlU3lzdGVtV3JpdGFibGVGaWxlU3RyZWFtKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OSwgaGFzSGlkKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OSwgaGFzU2VyaWFsUG9ydCksDQogICAgICAgICAgICAgICAgaGFzU2hhcmVkV29ya2VyLA0KICAgICAgICAgICAgICAgICFoYXNUb3VjaCwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBbIkxpbnV4IiAvKiBQbGF0Zm9ybS5MSU5VWCAqL106IFsNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OCwgIWhhc0JhcmNvZGVEZXRlY3RvciksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODQsICFoYXNDb250ZW50SW5kZXgpLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjgwLCAhaGFzQ29udGFjdHNNYW5hZ2VyKSwNCiAgICAgICAgICAgICAgICAhaGFzRG93bmxpbmtNYXgsDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2OTUsIGhhc0V5ZURyb3BwZXIpLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjg2LCBoYXNGaWxlU3lzdGVtV3JpdGFibGVGaWxlU3RyZWFtKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OSwgaGFzSGlkKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OSwgaGFzU2VyaWFsUG9ydCksDQogICAgICAgICAgICAgICAgaGFzU2hhcmVkV29ya2VyLA0KICAgICAgICAgICAgICAgICFoYXNUb3VjaCB8fCAhaGFzVG91Y2gsDQogICAgICAgICAgICBdLA0KICAgICAgICB9Ow0KICAgICAgICAvLyBDaHJvbWUgb25seSBmZWF0dXJlcw0KICAgICAgICBjb25zdCBoZWFkbGVzc0VzdGltYXRlID0gew0KICAgICAgICAgICAgbm9Db250ZW50SW5kZXg6IHY4NCAmJiAhaGFzQ29udGVudEluZGV4LA0KICAgICAgICAgICAgbm9Db250YWN0c01hbmFnZXI6IHY4MCAmJiAhaGFzQ29udGFjdHNNYW5hZ2VyLA0KICAgICAgICAgICAgbm9Eb3dubGlua01heDogIWhhc0Rvd25saW5rTWF4LA0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBzY29yZXMgPSBPYmplY3Qua2V5cyhlc3RpbWF0ZSkucmVkdWNlKChhY2MsIGtleSkgPT4gew0KICAgICAgICAgICAgY29uc3QgbGlzdCA9IGVzdGltYXRlW2tleV07DQogICAgICAgICAgICBjb25zdCBzY29yZSA9ICsoKGxpc3QuZmlsdGVyKCh4KSA9PiB4KS5sZW5ndGggLyBsaXN0Lmxlbmd0aCkudG9GaXhlZCgyKSk7DQogICAgICAgICAgICBhY2Nba2V5XSA9IHNjb3JlOw0KICAgICAgICAgICAgcmV0dXJuIGFjYzsNCiAgICAgICAgfSwge30pOw0KICAgICAgICBjb25zdCBwbGF0Zm9ybSA9IE9iamVjdC5rZXlzKHNjb3JlcykucmVkdWNlKChhLCBiKSA9PiBzY29yZXNbYV0gPiBzY29yZXNbYl0gPyBhIDogYik7DQogICAgICAgIGNvbnN0IGhpZ2hlc3RTY29yZSA9IHNjb3Jlc1twbGF0Zm9ybV07DQogICAgICAgIHJldHVybiBbc2NvcmVzLCBoaWdoZXN0U2NvcmUsIGhlYWRsZXNzRXN0aW1hdGVdOw0KICAgIH0KCiAgICBjb25zdCBTWVNURU1fRk9OVFMgPSBbDQogICAgICAgICdjYXB0aW9uJywNCiAgICAgICAgJ2ljb24nLA0KICAgICAgICAnbWVudScsDQogICAgICAgICdtZXNzYWdlLWJveCcsDQogICAgICAgICdzbWFsbC1jYXB0aW9uJywNCiAgICAgICAgJ3N0YXR1cy1iYXInLA0KICAgIF07CgogICAgY29uc3QgR2Vja29Gb250cyA9IHsNCiAgICAgICAgJy1hcHBsZS1zeXN0ZW0nOiAiTWFjIiAvKiBQbGF0Zm9ybS5NQUMgKi8sDQogICAgICAgICdTZWdvZSBVSSc6ICJXaW5kb3dzIiAvKiBQbGF0Zm9ybS5XSU5ET1dTICovLA0KICAgICAgICAnVGFob21hJzogIldpbmRvd3MiIC8qIFBsYXRmb3JtLldJTkRPV1MgKi8sDQogICAgICAgICdZdSBHb3RoaWMgVUknOiAiV2luZG93cyIgLyogUGxhdGZvcm0uV0lORE9XUyAqLywNCiAgICAgICAgJ01pY3Jvc29mdCBKaGVuZ0hlaSBVSSc6ICJXaW5kb3dzIiAvKiBQbGF0Zm9ybS5XSU5ET1dTICovLA0KICAgICAgICAnTWljcm9zb2Z0IFlhSGVpIFVJJzogIldpbmRvd3MiIC8qIFBsYXRmb3JtLldJTkRPV1MgKi8sDQogICAgICAgICdNZWlyeW8gVUknOiAiV2luZG93cyIgLyogUGxhdGZvcm0uV0lORE9XUyAqLywNCiAgICAgICAgJ0NhbnRhcmVsbCc6ICJMaW51eCIgLyogUGxhdGZvcm0uTElOVVggKi8sDQogICAgICAgICdVYnVudHUnOiAiTGludXgiIC8qIFBsYXRmb3JtLkxJTlVYICovLA0KICAgICAgICAnU2Fucyc6ICJMaW51eCIgLyogUGxhdGZvcm0uTElOVVggKi8sDQogICAgICAgICdzYW5zLXNlcmlmJzogIkxpbnV4IiAvKiBQbGF0Zm9ybS5MSU5VWCAqLywNCiAgICAgICAgJ0ZpcmEgU2Fucyc6ICJMaW51eCIgLyogUGxhdGZvcm0uTElOVVggKi8sDQogICAgICAgICdSb2JvdG8nOiAiQW5kcm9pZCIgLyogUGxhdGZvcm0uQU5EUk9JRCAqLywNCiAgICB9Ow0KICAgIGZ1bmN0aW9uIGdldFN5c3RlbUZvbnRzKCkgew0KICAgICAgICBjb25zdCB7IGJvZHkgfSA9IGRvY3VtZW50Ow0KICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICBib2R5LmFwcGVuZENoaWxkKGVsKTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHN5c3RlbUZvbnRzID0gU3RyaW5nKFsNCiAgICAgICAgICAgICAgICAuLi5TWVNURU1fRk9OVFMucmVkdWNlKChhY2MsIGZvbnQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdzdHlsZScsIGBmb250OiAke2ZvbnR9ICFpbXBvcnRhbnRgKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYy5hZGQoZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZm9udEZhbWlseSk7DQogICAgICAgICAgICAgICAgfSwgbmV3IFNldCgpKSwNCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgY29uc3QgZ2Vja29QbGF0Zm9ybSA9IEdlY2tvRm9udHNbc3lzdGVtRm9udHNdOw0KICAgICAgICAgICAgcmV0dXJuIEdlY2tvRm9udHNbc3lzdGVtRm9udHNdID8gYCR7c3lzdGVtRm9udHN9OiR7Z2Vja29QbGF0Zm9ybX1gIDogc3lzdGVtRm9udHM7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycikgew0KICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICB9DQogICAgICAgIGZpbmFsbHkgew0KICAgICAgICAgICAgYm9keS5yZW1vdmVDaGlsZChlbCk7DQogICAgICAgIH0NCiAgICB9CgogICAgLyogZXNsaW50LWRpc2FibGUgbmV3LWNhcCAqLw0KICAgIGFzeW5jIGZ1bmN0aW9uIGdldEhlYWRsZXNzRmVhdHVyZXMoeyB3ZWJnbCwgd29ya2VyU2NvcGUsIH0pIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgbWltZVR5cGVzID0gT2JqZWN0LmtleXMoeyAuLi5uYXZpZ2F0b3IubWltZVR5cGVzIH0pOw0KICAgICAgICAgICAgY29uc3Qgc3lzdGVtRm9udHMgPSBnZXRTeXN0ZW1Gb250cygpOw0KICAgICAgICAgICAgY29uc3QgW3Njb3JlcywgaGlnaGVzdFNjb3JlLCBoZWFkbGVzc0VzdGltYXRlXSA9IGdldFBsYXRmb3JtRXN0aW1hdGUoKTsNCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7DQogICAgICAgICAgICAgICAgY2hyb21pdW06IElTX0JMSU5LLA0KICAgICAgICAgICAgICAgIGxpa2VIZWFkbGVzczogew0KICAgICAgICAgICAgICAgICAgICBub1BsdWdpbnM6IElTX0JMSU5LICYmIG5hdmlnYXRvci5wbHVnaW5zLmxlbmd0aCA9PT0gMCwNCiAgICAgICAgICAgICAgICAgICAgbm9NaW1lVHlwZXM6IElTX0JMSU5LICYmIG1pbWVUeXBlcy5sZW5ndGggPT09IDAsDQogICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbklzRGVuaWVkOiAoSVNfQkxJTksgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICdOb3RpZmljYXRpb24nIGluIHdpbmRvdyAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09ICdkZW5pZWQnKSksDQogICAgICAgICAgICAgICAgICAgIGhhc0tub3duQmdDb2xvcjogSVNfQkxJTksgJiYgKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW5kZXJlZCA9IFBBUkVOVF9QSEFOVE9NOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFQQVJFTlRfUEhBTlRPTSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlZCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlbmRlcmVkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgYmFja2dyb3VuZC1jb2xvcjogQWN0aXZlVGV4dGApOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBiYWNrZ3JvdW5kQ29sb3I6IGFjdGl2ZVRleHQgfSA9IGdldENvbXB1dGVkU3R5bGUocmVuZGVyZWQpIHx8IFtdOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFQQVJFTlRfUEhBTlRPTSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocmVuZGVyZWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVRleHQgPT09ICdyZ2IoMjU1LCAwLCAwKSc7DQogICAgICAgICAgICAgICAgICAgIH0pKCksDQogICAgICAgICAgICAgICAgICAgIHByZWZlcnNMaWdodENvbG9yOiBtYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KScpLm1hdGNoZXMsDQogICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcnR0IHdpbGwgYmUgdW5kZWZpbmVkIGlmIG5vdCBzdXBwb3J0ZWQNCiAgICAgICAgICAgICAgICAgICAgcnR0SXNaZXJvOiBuYXZpZ2F0b3I/LmNvbm5lY3Rpb24/LnJ0dCA9PT0gMCwNCiAgICAgICAgICAgICAgICAgICAgdWFEYXRhSXNCbGFuazogKCd1c2VyQWdlbnREYXRhJyBpbiBuYXZpZ2F0b3IgJiYgKA0KICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGlmIHVzZXJBZ2VudERhdGEgaXMgbnVsbA0KICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50RGF0YT8ucGxhdGZvcm0gPT09ICcnIHx8DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGlmIHVzZXJBZ2VudERhdGEgaXMgbnVsbA0KICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEuZ2V0SGlnaEVudHJvcHlWYWx1ZXMoWydwbGF0Zm9ybSddKS5wbGF0Zm9ybSA9PT0gJycpKSwNCiAgICAgICAgICAgICAgICAgICAgcGRmSXNEaXNhYmxlZDogKCdwZGZWaWV3ZXJFbmFibGVkJyBpbiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnBkZlZpZXdlckVuYWJsZWQgPT09IGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgbm9UYXNrYmFyOiAoc2NyZWVuLmhlaWdodCA9PT0gc2NyZWVuLmF2YWlsSGVpZ2h0ICYmDQogICAgICAgICAgICAgICAgICAgICAgICBzY3JlZW4ud2lkdGggPT09IHNjcmVlbi5hdmFpbFdpZHRoKSwNCiAgICAgICAgICAgICAgICAgICAgaGFzVnZwU2NyZWVuUmVzOiAoKGlubmVyV2lkdGggPT09IHNjcmVlbi53aWR0aCAmJiBvdXRlckhlaWdodCA9PT0gc2NyZWVuLmhlaWdodCkgfHwgKCd2aXN1YWxWaWV3cG9ydCcgaW4gd2luZG93ICYmDQogICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGlmIHVuc3VwcG9ydGVkDQogICAgICAgICAgICAgICAgICAgICAgICAodmlzdWFsVmlld3BvcnQud2lkdGggPT09IHNjcmVlbi53aWR0aCAmJiB2aXN1YWxWaWV3cG9ydC5oZWlnaHQgPT09IHNjcmVlbi5oZWlnaHQpKSksDQogICAgICAgICAgICAgICAgICAgIGhhc1N3aWZ0U2hhZGVyOiAvU3dpZnRTaGFkZXIvLnRlc3Qod29ya2VyU2NvcGU/LndlYmdsUmVuZGVyZXIpLA0KICAgICAgICAgICAgICAgICAgICBub1dlYlNoYXJlOiBJU19CTElOSyAmJiBDU1Muc3VwcG9ydHMoJ2FjY2VudC1jb2xvcjogaW5pdGlhbCcpICYmICghKCdzaGFyZScgaW4gbmF2aWdhdG9yKSB8fCAhKCdjYW5TaGFyZScgaW4gbmF2aWdhdG9yKSksDQogICAgICAgICAgICAgICAgICAgIG5vQ29udGVudEluZGV4OiAhIWhlYWRsZXNzRXN0aW1hdGU/Lm5vQ29udGVudEluZGV4LA0KICAgICAgICAgICAgICAgICAgICBub0NvbnRhY3RzTWFuYWdlcjogISFoZWFkbGVzc0VzdGltYXRlPy5ub0NvbnRhY3RzTWFuYWdlciwNCiAgICAgICAgICAgICAgICAgICAgbm9Eb3dubGlua01heDogISFoZWFkbGVzc0VzdGltYXRlPy5ub0Rvd25saW5rTWF4LA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgaGVhZGxlc3M6IHsNCiAgICAgICAgICAgICAgICAgICAgd2ViRHJpdmVySXNPbjogKChDU1Muc3VwcG9ydHMoJ2JvcmRlci1lbmQtZW5kLXJhZGl1czogaW5pdGlhbCcpICYmIG5hdmlnYXRvci53ZWJkcml2ZXIgPT09IHVuZGVmaW5lZCkgfHwNCiAgICAgICAgICAgICAgICAgICAgICAgICEhbmF2aWdhdG9yLndlYmRyaXZlciksDQogICAgICAgICAgICAgICAgICAgIG5vQ2hyb21lOiBJU19CTElOSyAmJiAhKCdjaHJvbWUnIGluIHdpbmRvdyksDQogICAgICAgICAgICAgICAgICAgIGhhc1Blcm1pc3Npb25zQnVnOiAoSVNfQkxJTksgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICdwZXJtaXNzaW9ucycgaW4gbmF2aWdhdG9yICYmDQogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCAoYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7IG5hbWU6ICdub3RpZmljYXRpb25zJyB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHJlcy5zdGF0ZSA9PSAncHJvbXB0JyAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm90aWZpY2F0aW9uJyBpbiB3aW5kb3cgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdkZW5pZWQnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pKCkpLA0KICAgICAgICAgICAgICAgICAgICBoYXNIZWFkbGVzc1VBOiAoL0hlYWRsZXNzQ2hyb21lLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpIHx8DQogICAgICAgICAgICAgICAgICAgICAgICAvSGVhZGxlc3NDaHJvbWUvLnRlc3QobmF2aWdhdG9yLmFwcFZlcnNpb24pKSwNCiAgICAgICAgICAgICAgICAgICAgaGFzSGVhZGxlc3NXb3JrZXJVQTogISF3b3JrZXJTY29wZSAmJiAoL0hlYWRsZXNzQ2hyb21lLy50ZXN0KHdvcmtlclNjb3BlLnVzZXJBZ2VudCkpLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgc3RlYWx0aDogew0KICAgICAgICAgICAgICAgICAgICBoYXNJZnJhbWVQcm94eTogKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnNyY2RvYyA9IGluc3RhbmNlSWQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhaWZyYW1lLmNvbnRlbnRXaW5kb3c7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pKCksDQogICAgICAgICAgICAgICAgICAgIGhhc0hpZ2hDaHJvbWVJbmRleDogKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2wgPSAoJ2Nvb2tpZVN0b3JlJyBpbiB3aW5kb3cgPyAnY29va2llU3RvcmUnIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb25kZXZpY2Vtb3Rpb24nIGluIHdpbmRvdyA/ICdvbmRldmljZW1vdGlvbicgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BlZWNoU3ludGhlc2lzJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wc0luV2luZG93ID0gW107DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluDQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gd2luZG93KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNJbldpbmRvdy5wdXNoKHByb3ApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hyb21lSW5kZXggPSBwcm9wc0luV2luZG93LmluZGV4T2YoJ2Nocm9tZScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJvbEluZGV4ID0gcHJvcHNJbldpbmRvdy5pbmRleE9mKGNvbnRyb2wpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNocm9tZUluZGV4ID4gY29udHJvbEluZGV4Ow0KICAgICAgICAgICAgICAgICAgICB9KSgpLA0KICAgICAgICAgICAgICAgICAgICBoYXNCYWRDaHJvbWVSdW50aW1lOiAoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpZiB1bnN1cHBvcnRlZA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoJ2Nocm9tZScgaW4gd2luZG93ICYmICdydW50aW1lJyBpbiBjaHJvbWUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGlmIHVuc3VwcG9ydGVkDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdwcm90b3R5cGUnIGluIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlIHx8DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaWYgdW5zdXBwb3J0ZWQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3RvdHlwZScgaW4gY2hyb21lLnJ1bnRpbWUuY29ubmVjdCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpZiB1bnN1cHBvcnRlZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGlmIHVuc3VwcG9ydGVkDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGNocm9tZS5ydW50aW1lLmNvbm5lY3Q7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVyci5jb25zdHJ1Y3Rvci5uYW1lICE9ICdUeXBlRXJyb3InID8gdHJ1ZSA6IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KSgpLA0KICAgICAgICAgICAgICAgICAgICBoYXNUb1N0cmluZ1Byb3h5OiAoISFsaWVQcm9wc1snRnVuY3Rpb24udG9TdHJpbmcnXSksDQogICAgICAgICAgICAgICAgICAgIGhhc0JhZFdlYkdMOiAoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBVTk1BU0tFRF9SRU5ERVJFUl9XRUJHTDogZ3B1IH0gPSB3ZWJnbD8ucGFyYW1ldGVycyB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgd2ViZ2xSZW5kZXJlcjogd29ya2VyR1BVIH0gPSB3b3JrZXJTY29wZSB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoZ3B1ICYmIHdvcmtlckdQVSAmJiAoZ3B1ICE9PSB3b3JrZXJHUFUpKTsNCiAgICAgICAgICAgICAgICAgICAgfSkoKSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IHsgbGlrZUhlYWRsZXNzLCBoZWFkbGVzcywgc3RlYWx0aCB9ID0gZGF0YTsNCiAgICAgICAgICAgIGNvbnN0IGxpa2VIZWFkbGVzc0tleXMgPSBPYmplY3Qua2V5cyhsaWtlSGVhZGxlc3MpOw0KICAgICAgICAgICAgY29uc3QgaGVhZGxlc3NLZXlzID0gT2JqZWN0LmtleXMoaGVhZGxlc3MpOw0KICAgICAgICAgICAgY29uc3Qgc3RlYWx0aEtleXMgPSBPYmplY3Qua2V5cyhzdGVhbHRoKTsNCiAgICAgICAgICAgIGNvbnN0IGxpa2VIZWFkbGVzc1JhdGluZyA9ICsoKGxpa2VIZWFkbGVzc0tleXMuZmlsdGVyKChrZXkpID0+IGxpa2VIZWFkbGVzc1trZXldKS5sZW5ndGggLyBsaWtlSGVhZGxlc3NLZXlzLmxlbmd0aCkgKiAxMDApLnRvRml4ZWQoMCk7DQogICAgICAgICAgICBjb25zdCBoZWFkbGVzc1JhdGluZyA9ICsoKGhlYWRsZXNzS2V5cy5maWx0ZXIoKGtleSkgPT4gaGVhZGxlc3Nba2V5XSkubGVuZ3RoIC8gaGVhZGxlc3NLZXlzLmxlbmd0aCkgKiAxMDApLnRvRml4ZWQoMCk7DQogICAgICAgICAgICBjb25zdCBzdGVhbHRoUmF0aW5nID0gKygoc3RlYWx0aEtleXMuZmlsdGVyKChrZXkpID0+IHN0ZWFsdGhba2V5XSkubGVuZ3RoIC8gc3RlYWx0aEtleXMubGVuZ3RoKSAqIDEwMCkudG9GaXhlZCgwKTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdoZWFkbGVzcycsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgLi4uZGF0YSwNCiAgICAgICAgICAgICAgICBsaWtlSGVhZGxlc3NSYXRpbmcsDQogICAgICAgICAgICAgICAgaGVhZGxlc3NSYXRpbmcsDQogICAgICAgICAgICAgICAgc3RlYWx0aFJhdGluZywNCiAgICAgICAgICAgICAgICBzeXN0ZW1Gb250cywNCiAgICAgICAgICAgICAgICBwbGF0Zm9ybUVzdGltYXRlOiBbc2NvcmVzLCBoaWdoZXN0U2NvcmVdLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnaGVhZGxlc3MnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBnZXRJbnRsKCkgew0KICAgICAgICBjb25zdCBnZXRMb2NhbGUgPSAoaW50bCkgPT4gew0KICAgICAgICAgICAgY29uc3QgY29uc3RydWN0b3JzID0gWw0KICAgICAgICAgICAgICAgICdDb2xsYXRvcicsDQogICAgICAgICAgICAgICAgJ0RhdGVUaW1lRm9ybWF0JywNCiAgICAgICAgICAgICAgICAnRGlzcGxheU5hbWVzJywNCiAgICAgICAgICAgICAgICAnTGlzdEZvcm1hdCcsDQogICAgICAgICAgICAgICAgJ051bWJlckZvcm1hdCcsDQogICAgICAgICAgICAgICAgJ1BsdXJhbFJ1bGVzJywNCiAgICAgICAgICAgICAgICAnUmVsYXRpdmVUaW1lRm9ybWF0JywNCiAgICAgICAgICAgIF07DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBsb2NhbGUgPSBjb25zdHJ1Y3RvcnMucmVkdWNlKChhY2MsIG5hbWUpID0+IHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBuZXcgaW50bFtuYW1lXTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmopIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBsb2NhbGUgfSA9IG9iai5yZXNvbHZlZE9wdGlvbnMoKSB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIGxvY2FsZV07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sIFtdKTsNCiAgICAgICAgICAgIHJldHVybiBbLi4ubmV3IFNldChsb2NhbGUpXTsNCiAgICAgICAgfTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgbGllZCA9IChsaWVQcm9wc1snSW50bC5Db2xsYXRvci5yZXNvbHZlZE9wdGlvbnMnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydJbnRsLkRhdGVUaW1lRm9ybWF0LnJlc29sdmVkT3B0aW9ucyddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ0ludGwuRGlzcGxheU5hbWVzLnJlc29sdmVkT3B0aW9ucyddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ0ludGwuTGlzdEZvcm1hdC5yZXNvbHZlZE9wdGlvbnMnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydJbnRsLk51bWJlckZvcm1hdC5yZXNvbHZlZE9wdGlvbnMnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydJbnRsLlBsdXJhbFJ1bGVzLnJlc29sdmVkT3B0aW9ucyddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ0ludGwuUmVsYXRpdmVUaW1lRm9ybWF0LnJlc29sdmVkT3B0aW9ucyddKSB8fCBmYWxzZTsNCiAgICAgICAgICAgIGNvbnN0IGRhdGVUaW1lRm9ybWF0ID0gY2FuaXVzZSgoKSA9PiB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KHVuZGVmaW5lZCwgew0KICAgICAgICAgICAgICAgICAgICBtb250aDogJ2xvbmcnLA0KICAgICAgICAgICAgICAgICAgICB0aW1lWm9uZU5hbWU6ICdsb25nJywNCiAgICAgICAgICAgICAgICB9KS5mb3JtYXQoOTYzNjQ0NDAwMDAwKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgY29uc3QgZGlzcGxheU5hbWVzID0gY2FuaXVzZSgoKSA9PiB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRsLkRpc3BsYXlOYW1lcyh1bmRlZmluZWQsIHsNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xhbmd1YWdlJywNCiAgICAgICAgICAgICAgICB9KS5vZignZW4tVVMnKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgY29uc3QgbGlzdEZvcm1hdCA9IGNhbml1c2UoKCkgPT4gew0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludGwuTGlzdEZvcm1hdCh1bmRlZmluZWQsIHsNCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdsb25nJywNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Rpc2p1bmN0aW9uJywNCiAgICAgICAgICAgICAgICB9KS5mb3JtYXQoWycwJywgJzEnXSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IG51bWJlckZvcm1hdCA9IGNhbml1c2UoKCkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQodW5kZWZpbmVkLCB7DQogICAgICAgICAgICAgICAgICAgIG5vdGF0aW9uOiAnY29tcGFjdCcsDQogICAgICAgICAgICAgICAgICAgIGNvbXBhY3REaXNwbGF5OiAnbG9uZycsDQogICAgICAgICAgICAgICAgfSkuZm9ybWF0KDIxMDAwMDAwKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgY29uc3QgcGx1cmFsUnVsZXMgPSBjYW5pdXNlKCgpID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludGwuUGx1cmFsUnVsZXMoKS5zZWxlY3QoMSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlVGltZUZvcm1hdCA9IGNhbml1c2UoKCkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQodW5kZWZpbmVkLCB7DQogICAgICAgICAgICAgICAgICAgIGxvY2FsZU1hdGNoZXI6ICdiZXN0IGZpdCcsDQogICAgICAgICAgICAgICAgICAgIG51bWVyaWM6ICdhdXRvJywNCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdsb25nJywNCiAgICAgICAgICAgICAgICB9KS5mb3JtYXQoMSwgJ3llYXInKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgY29uc3QgbG9jYWxlID0gZ2V0TG9jYWxlKEludGwpOw0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRpbWU6IHRpbWVyLnN0b3AoKSwgdGVzdDogJ2ludGwnLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIGRhdGVUaW1lRm9ybWF0LA0KICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lcywNCiAgICAgICAgICAgICAgICBsaXN0Rm9ybWF0LA0KICAgICAgICAgICAgICAgIG51bWJlckZvcm1hdCwNCiAgICAgICAgICAgICAgICBwbHVyYWxSdWxlcywNCiAgICAgICAgICAgICAgICByZWxhdGl2ZVRpbWVGb3JtYXQsDQogICAgICAgICAgICAgICAgbG9jYWxlOiAnJyArIGxvY2FsZSwNCiAgICAgICAgICAgICAgICBsaWVkLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnaW50bCcsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIGZ1bmN0aW9uIGdldE1hdGhzKCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpOw0KICAgICAgICAgICAgdGltZXIuc3RhcnQoKTsNCiAgICAgICAgICAgIC8vIGRldGVjdCBmYWlsZWQgbWF0aCBlcXVhbGl0eSBsaWUNCiAgICAgICAgICAgIGNvbnN0IGNoZWNrID0gWw0KICAgICAgICAgICAgICAgICdhY29zJywNCiAgICAgICAgICAgICAgICAnYWNvc2gnLA0KICAgICAgICAgICAgICAgICdhc2luJywNCiAgICAgICAgICAgICAgICAnYXNpbmgnLA0KICAgICAgICAgICAgICAgICdhdGFuJywNCiAgICAgICAgICAgICAgICAnYXRhbmgnLA0KICAgICAgICAgICAgICAgICdhdGFuMicsDQogICAgICAgICAgICAgICAgJ2NicnQnLA0KICAgICAgICAgICAgICAgICdjb3MnLA0KICAgICAgICAgICAgICAgICdjb3NoJywNCiAgICAgICAgICAgICAgICAnZXhwbTEnLA0KICAgICAgICAgICAgICAgICdleHAnLA0KICAgICAgICAgICAgICAgICdoeXBvdCcsDQogICAgICAgICAgICAgICAgJ2xvZycsDQogICAgICAgICAgICAgICAgJ2xvZzFwJywNCiAgICAgICAgICAgICAgICAnbG9nMTAnLA0KICAgICAgICAgICAgICAgICdzaW4nLA0KICAgICAgICAgICAgICAgICdzaW5oJywNCiAgICAgICAgICAgICAgICAnc3FydCcsDQogICAgICAgICAgICAgICAgJ3RhbicsDQogICAgICAgICAgICAgICAgJ3RhbmgnLA0KICAgICAgICAgICAgICAgICdwb3cnLA0KICAgICAgICAgICAgXTsNCiAgICAgICAgICAgIGxldCBsaWVkID0gZmFsc2U7DQogICAgICAgICAgICBjaGVjay5mb3JFYWNoKChwcm9wKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCEhbGllUHJvcHNbYE1hdGguJHtwcm9wfWBdKSB7DQogICAgICAgICAgICAgICAgICAgIGxpZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zdCB0ZXN0ID0gKHByb3AgPT0gJ2NvcycgPyBbMWUzMDhdIDoNCiAgICAgICAgICAgICAgICAgICAgcHJvcCA9PSAnYWNvcycgfHwgcHJvcCA9PSAnYXNpbicgfHwgcHJvcCA9PSAnYXRhbmgnID8gWzAuNV0gOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJvcCA9PSAncG93JyB8fCBwcm9wID09ICdhdGFuMicgPyBbTWF0aC5QSSwgMl0gOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtNYXRoLlBJXSk7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzMSA9IE1hdGhbcHJvcF0oLi4udGVzdCk7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzMiA9IE1hdGhbcHJvcF0oLi4udGVzdCk7DQogICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmcgPSBpc05hTihyZXMxKSAmJiBpc05hTihyZXMyKSA/IHRydWUgOiByZXMxID09IHJlczI7DQogICAgICAgICAgICAgICAgaWYgKCFtYXRjaGluZykgew0KICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0aExpZSA9IGBleHBlY3RlZCB4IGFuZCBnb3QgeWA7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKGBNYXRoLiR7cHJvcH1gLCBtYXRoTGllKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb25zdCBuID0gMC4xMjM7DQogICAgICAgICAgICBjb25zdCBiaWdOID0gNS44NjA4NDczNjIyNzcyODRlKzM4Ow0KICAgICAgICAgICAgY29uc3QgZm5zID0gWw0KICAgICAgICAgICAgICAgIFsnYWNvcycsIFtuXSwgYGFjb3MoJHtufSlgLCAxLjQ0NzQ4NDA1MTYwMzAyNDcsIE5hTiwgTmFOLCAxLjQ0NzQ4NDA1MTYwMzAyNDVdLA0KICAgICAgICAgICAgICAgIFsnYWNvcycsIFtNYXRoLlNRUlQxXzJdLCAnYWNvcyhNYXRoLlNRUlQxXzIpJywgMC43ODUzOTgxNjMzOTc0NDgzLCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2Fjb3NoJywgWzFlMzA4XSwgJ2Fjb3NoKDFlMzA4KScsIDcwOS44ODkzNTU4MjI3MjYsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnYWNvc2gnLCBbTWF0aC5QSV0sICdhY29zaChNYXRoLlBJKScsIDEuODExNTI2MjcyNDYwODUzLCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2Fjb3NoJywgW01hdGguU1FSVDJdLCAnYWNvc2goTWF0aC5TUVJUMiknLCAwLjg4MTM3MzU4NzAxOTU0MywgTmFOLCBOYU4sIDAuODgxMzczNTg3MDE5NTQzMl0sDQogICAgICAgICAgICAgICAgWydhc2luJywgW25dLCBgYXNpbigke259KWAsIDAuMTIzMzEyMjc1MTkxODcxOTksIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnYXNpbmgnLCBbMWUzMDBdLCAnYXNpbmgoMWUzMDgpJywgNjkxLjQ2ODY3NTA3ODc3MzYsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnYXNpbmgnLCBbTWF0aC5QSV0sICdhc2luaChNYXRoLlBJKScsIDEuODYyMjk1NzQzMzEwODQ4MiwgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydhdGFuJywgWzJdLCAnYXRhbigyKScsIDEuMTA3MTQ4NzE3Nzk0MDkwNCwgTmFOLCBOYU4sIDEuMTA3MTQ4NzE3Nzk0MDkwNl0sDQogICAgICAgICAgICAgICAgWydhdGFuJywgW01hdGguUEldLCAnYXRhbihNYXRoLlBJKScsIDEuMjYyNjI3MjU1Njc4OTExNSwgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydhdGFuaCcsIFswLjVdLCAnYXRhbmgoMC41KScsIDAuNTQ5MzA2MTQ0MzM0MDU0OCwgTmFOLCBOYU4sIDAuNTQ5MzA2MTQ0MzM0MDU0OV0sDQogICAgICAgICAgICAgICAgWydhdGFuMicsIFsxZS0zMTAsIDJdLCAnYXRhbjIoMWUtMzEwLCAyKScsIDVlLTMxMSwgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydhdGFuMicsIFtNYXRoLlBJLCAyXSwgJ2F0YW4yKE1hdGguUEkpJywgMS4wMDM4ODQ4MjE4NTM4ODcyLCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NicnQnLCBbMTAwXSwgJ2NicnQoMTAwKScsIDQuNjQxNTg4ODMzNjEyNzc5LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NicnQnLCBbTWF0aC5QSV0sICdjYnJ0KE1hdGguUEkpJywgMS40NjQ1OTE4ODc1NjE1MjMxLCBOYU4sIE5hTiwgMS40NjQ1OTE4ODc1NjE1MjM0XSwNCiAgICAgICAgICAgICAgICBbJ2NvcycsIFtuXSwgYGNvcygke259KWAsIDAuOTkyNDQ1MDMyMTM1MTkzNSwgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydjb3MnLCBbTWF0aC5QSV0sICdjb3MoTWF0aC5QSSknLCAtMSwgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydjb3MnLCBbYmlnTl0sIGBjb3MoJHtiaWdOfSlgLCAtMC4xMDg2ODA0OTQyNDk5NTY1OSwgTmFOLCAtMC45Nzc5NjYxNTUxMTk2NjE3LCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zJywgWy0xZTMwOF0sICdjb3MoLTFlMzA4KScsIC0wLjg5MTMwODkzNzY4NzAzMzUsIE5hTiwgMC45OTk3MDE2MjM4ODgzOCwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NvcycsIFsxMyAqIE1hdGguRV0sICdjb3MoMTMqTWF0aC5FKScsIC0wLjcxMDgxMTg1MDEwNjQzMzEsIC0wLjcxMDgxMTg1MDEwNjQzMzIsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NvcycsIFs1NyAqIE1hdGguRV0sICdjb3MoNTcqTWF0aC5FKScsIC0wLjUzNjkxMTY5NTc0OTAyNCwgLTAuNTM2OTExNjk1NzQ5MDIzOSwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zJywgWzIxICogTWF0aC5MTjJdLCAnY29zKDIxKk1hdGguTE4yKScsIC0wLjQwNjc3NzU5NzAyNTE3MjQsIC0wLjQwNjc3NzU5NzAyNTE3MjM1LCAtMC42NTM0MDYzMTg1ODIwMTk3LCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zJywgWzUxICogTWF0aC5MTjJdLCAnY29zKDUxKk1hdGguTE4yKScsIC0wLjcwMTcyMDM0MDA4NTU0NDYsIC0wLjcwMTcyMDM0MDA4NTU0NDUsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NvcycsIFsyMSAqIE1hdGguTE9HMkVdLCAnY29zKDIxKk1hdGguTE9HMkUpJywgMC40MzYyODQ4MDYzNjE4OTk4LCAwLjQzNjI4NDgwNjM2MTg5OTc2LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydjb3MnLCBbMjUgKiBNYXRoLlNRUlQyXSwgJ2NvcygyNSpNYXRoLlNRUlQyKScsIC0wLjY5ODI2ODk4MjA0NjIzNzcsIC0wLjY5ODI2ODk4MjA0NjIzNzYsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NvcycsIFs1MCAqIE1hdGguU1FSVDFfMl0sICdjb3MoNTAqTWF0aC5TUVJUMV8yKScsIC0wLjY5ODI2ODk4MjA0NjIzNzcsIC0wLjY5ODI2ODk4MjA0NjIzNzYsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NvcycsIFsyMSAqIE1hdGguU1FSVDFfMl0sICdjb3MoMjEqTWF0aC5TUVJUMV8yKScsIC0wLjY1MzQwNjMxODU4MjAxOTgsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zJywgWzE3ICogTWF0aC5MT0cxMEVdLCAnY29zKDE3Kk1hdGguTE9HMTBFKScsIDAuNDUzNzU1NzQyNTk4Mjc4NCwgMC40NTM3NTU3NDI1OTgyNzgzMywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zJywgWzIgKiBNYXRoLkxPRzEwRV0sICdjb3MoMipNYXRoLkxPRzEwRSknLCAwLjY0NTkwNDQwMDc0MzgxNDIsIE5hTiwgMC42NDU5MDQ0MDA3NDM4MTQxLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zaCcsIFsxXSwgJ2Nvc2goMSknLCAxLjU0MzA4MDYzNDgxNTI0MzcsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zaCcsIFtNYXRoLlBJXSwgJ2Nvc2goTWF0aC5QSSknLCAxMS41OTE5NTMyNzU1MjE1MTksIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zaCcsIFs0OTIgKiBNYXRoLkxPRzJFXSwgJ2Nvc2goNDkyKk1hdGguTE9HMkUpJywgOS4xOTk4NzAzMTM4Nzc3NzJlKzMwNywgOS4xOTk4NzAzMTM4Nzc3NzRlKzMwNywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zaCcsIFs1MDIgKiBNYXRoLlNRUlQyXSwgJ2Nvc2goNTAyKk1hdGguU1FSVDIpJywgMS4wNDY5MTk5NjY5MDIzMTM4ZSszMDgsIDEuMDQ2OTE5OTY2OTAyMzE0ZSszMDgsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2V4cG0xJywgWzFdLCAnZXhwbTEoMSknLCAxLjcxODI4MTgyODQ1OTA0NSwgTmFOLCBOYU4sIDEuNzE4MjgxODI4NDU5MDQ1M10sDQogICAgICAgICAgICAgICAgWydleHBtMScsIFtNYXRoLlBJXSwgJ2V4cG0xKE1hdGguUEkpJywgMjIuMTQwNjkyNjMyNzc5MjY3LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2V4cCcsIFtuXSwgYGV4cCgke259KWAsIDEuMTMwODg0NDIwOTQ3NDg5MywgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydleHAnLCBbTWF0aC5QSV0sICdleHAoTWF0aC5QSSknLCAyMy4xNDA2OTI2MzI3NzkyNjcsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnaHlwb3QnLCBbMSwgMiwgMywgNCwgNSwgNl0sICdoeXBvdCgxLCAyLCAzLCA0LCA1LCA2KScsIDkuNTM5MzkyMDE0MTY5NDU2LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2h5cG90JywgW2JpZ04sIGJpZ05dLCBgaHlwb3QoJHtiaWdOfSwgJHtiaWdOfSlgLCA4LjI4ODQ4OTgyNjczMTExNmUrMzgsIDguMjg4NDg5ODI2NzMxMTE0ZSszOCwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnaHlwb3QnLCBbMiAqIE1hdGguRSwgLTEwMF0sICdoeXBvdCgyKk1hdGguRSwgLTEwMCknLCAxMDAuMTQ3NjcyMDg2NzUyNTksIDEwMC4xNDc2NzIwODY3NTI1OCwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnaHlwb3QnLCBbNiAqIE1hdGguUEksIC0xMDBdLCAnaHlwb3QoNipNYXRoLlBJLCAtMTAwKScsIDEwMS43NjEwMjI3ODU5MzMxOSwgMTAxLjc2MTAyMjc4NTkzMzIsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2h5cG90JywgWzIgKiBNYXRoLkxOMiwgLTEwMF0sICdoeXBvdCgyKk1hdGguTE4yLCAtMTAwKScsIDEwMC4wMDk2MDg1OTg2NTI1LCAxMDAuMDA5NjA4NTk4NjUyNTIsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2h5cG90JywgW01hdGguTE9HMkUsIC0xMDBdLCAnaHlwb3QoTWF0aC5MT0cyRSwgLTEwMCknLCAxMDAuMDEwNDA2MzAzNDQ5MjksIDEwMC4wMTA0MDYzMDM0NDkyNywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnaHlwb3QnLCBbTWF0aC5TUVJUMiwgLTEwMF0sICdoeXBvdChNYXRoLlNRUlQyLCAtMTAwKScsIDEwMC4wMDk5OTk1MDAwNDk5OSwgMTAwLjAwOTk5OTUwMDA1LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydoeXBvdCcsIFtNYXRoLlNRUlQxXzIsIC0xMDBdLCAnaHlwb3QoTWF0aC5TUVJUMV8yLCAtMTAwKScsIDEwMC4wMDI0OTk5Njg3NTA4LCAxMDAuMDAyNDk5OTY4NzUwNzgsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2h5cG90JywgWzIgKiBNYXRoLkxPRzEwRSwgLTEwMF0sICdoeXBvdCgyKk1hdGguTE9HMTBFLCAtMTAwKScsIDEwMC4wMDM3NzIxNjI3OTQxNiwgMTAwLjAwMzc3MjE2Mjc5NDE4LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydsb2cnLCBbbl0sIGBsb2coJHtufSlgLCAtMi4wOTU1NzA5MjM2MDk3MTk3LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZycsIFtNYXRoLlBJXSwgJ2xvZyhNYXRoLlBJKScsIDEuMTQ0NzI5ODg1ODQ5NDAwMiwgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydsb2cxcCcsIFtuXSwgYGxvZzFwKCR7bn0pYCwgMC4xMTYwMDM2NzU3NTYzMDYxMywgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydsb2cxcCcsIFtNYXRoLlBJXSwgJ2xvZzFwKE1hdGguUEkpJywgMS40MjEwODA0MTI3OTQyOTI2LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgW25dLCBgbG9nMTAoJHtufSlgLCAtMC45MTAwOTQ4ODg1NjA2MDIxLCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgW01hdGguUEldLCAnbG9nMTAoTWF0aC5QSSknLCAwLjQ5NzE0OTg3MjY5NDEzMzgsIDAuNDk3MTQ5ODcyNjk0MTMzODUsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgW01hdGguRV0sICdsb2cxMChNYXRoLkUpJywgMC40MzQyOTQ0ODE5MDMyNTE4LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgWzM0ICogTWF0aC5FXSwgJ2xvZzEwKDM0Kk1hdGguRSknLCAxLjk2NTc3MzM5ODk0NTUwNjgsIDEuOTY1NzczMzk4OTQ1NTA3LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydsb2cxMCcsIFtNYXRoLkxOMl0sICdsb2cxMChNYXRoLkxOMiknLCAtMC4xNTkxNzQ1Mzg5NTQ4NjE2LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgWzExICogTWF0aC5MTjJdLCAnbG9nMTAoMTEqTWF0aC5MTjIpJywgMC44ODIyMTgxNDYyMDMzNjM0LCAwLjg4MjIxODE0NjIwMzM2MzUsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgW01hdGguTE9HMkVdLCAnbG9nMTAoTWF0aC5MT0cyRSknLCAwLjE1OTE3NDUzODk1NDg2MTU4LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgWzQzICogTWF0aC5MT0cyRV0sICdsb2cxMCg0MypNYXRoLkxPRzJFKScsIDEuNzkyNjQyOTk0NTM0NDQ4LCAxLjc5MjY0Mjk5NDUzNDQ0ODIsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgW01hdGguTE9HMTBFXSwgJ2xvZzEwKE1hdGguTE9HMTBFKScsIC0wLjM2MjIxNTY4ODY5OTQ2MzI1LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgWzcgKiBNYXRoLkxPRzEwRV0sICdsb2cxMCg3Kk1hdGguTE9HMTBFKScsIDAuNDgyODgyMzUxMzE0NzkzNiwgMC40ODI4ODIzNTEzMTQ3OTM1NywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnbG9nMTAnLCBbTWF0aC5TUVJUMV8yXSwgJ2xvZzEwKE1hdGguU1FSVDFfMiknLCAtMC4xNTA1MTQ5OTc4MzE5OTA1NywgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydsb2cxMCcsIFsyICogTWF0aC5TUVJUMV8yXSwgJ2xvZzEwKDIqTWF0aC5TUVJUMV8yKScsIDAuMTUwNTE0OTk3ODMxOTkwNiwgMC4xNTA1MTQ5OTc4MzE5OTA2MywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnbG9nMTAnLCBbTWF0aC5TUVJUMl0sICdsb2cxMChNYXRoLlNRUlQyKScsIDAuMTUwNTE0OTk3ODMxOTkwNiwgMC4xNTA1MTQ5OTc4MzE5OTA2MywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luJywgW2JpZ05dLCBgc2luKCR7YmlnTn0pYCwgMC45OTQwNzY3MzI1MzYwNjgsIE5hTiwgLTAuMjA4NzYzNTAxMjE3MjA0ODgsIE5hTl0sDQogICAgICAgICAgICAgICAgWydzaW4nLCBbTWF0aC5QSV0sICdzaW4oTWF0aC5QSSknLCAxLjIyNDY0Njc5OTE0NzM1MzJlLTE2LCBOYU4sIDEuMjI0NjA2MzUzODIyMzc3M2UtMTYsIE5hTl0sDQogICAgICAgICAgICAgICAgWydzaW4nLCBbMzkgKiBNYXRoLkVdLCAnc2luKDM5Kk1hdGguRSknLCAtMC43MTgxNjMwMzA4NTcwNjc3LCAtMC43MTgxNjMwMzA4NTcwNjc4LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydzaW4nLCBbMzUgKiBNYXRoLkxOMl0sICdzaW4oMzUqTWF0aC5MTjIpJywgLTAuNzY1OTk2NDEzODk4MDUxMSwgLTAuNzY1OTk2NDEzODk4MDUxLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydzaW4nLCBbMTEwICogTWF0aC5MT0cyRV0sICdzaW4oMTEwKk1hdGguTE9HMkUpJywgMC45OTg5NDEwMTQwMjczNzU2LCAwLjk5ODk0MTAxNDAyNzM3NTcsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3NpbicsIFs3ICogTWF0aC5MT0cxMEVdLCAnc2luKDcqTWF0aC5MT0cxMEUpJywgMC4xMDEzNTY5MjkyNDk2NTYxNiwgMC4xMDEzNTY5MjkyNDk2NTYxNCwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luJywgWzM1ICogTWF0aC5TUVJUMV8yXSwgJ3NpbigzNSpNYXRoLlNRUlQxXzIpJywgLTAuMzc0NjM1NzU0Nzg1ODIwMiwgLTAuMzc0NjM1NzU0Nzg1ODIwMjMsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3NpbicsIFsyMSAqIE1hdGguU1FSVDJdLCAnc2luKDIxKk1hdGguU1FSVDIpJywgLTAuOTg5MjY2ODE4Nzc4MDQ5OCwgLTAuOTg5MjY2ODE4Nzc4MDQ5NywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFsxXSwgJ3NpbmgoMSknLCAxLjE3NTIwMTE5MzY0MzgwMTQsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFtNYXRoLlBJXSwgJ3NpbmgoTWF0aC5QSSknLCAxMS41NDg3MzkzNTcyNTc3NDgsIE5hTiwgTmFOLCAxMS41NDg3MzkzNTcyNTc3NDZdLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFtNYXRoLkVdLCAnc2luaChNYXRoLkUpJywgNy41NDQxMzcxMDI4MTY5NzUsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFtNYXRoLkxOMl0sICdzaW5oKE1hdGguTE4yKScsIDAuNzUsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFtNYXRoLkxPRzJFXSwgJ3NpbmgoTWF0aC5MT0cyRSknLCAxLjk5Nzg5ODAwOTEwNjI3OTUsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFs0OTIgKiBNYXRoLkxPRzJFXSwgJ3NpbmgoNDkyKk1hdGguTE9HMkUpJywgOS4xOTk4NzAzMTM4Nzc3NzJlKzMwNywgOS4xOTk4NzAzMTM4Nzc3NzRlKzMwNywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFtNYXRoLkxPRzEwRV0sICdzaW5oKE1hdGguTE9HMTBFKScsIDAuNDQ4MDc1OTc5NDE0NjkwMjQsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFtNYXRoLlNRUlQxXzJdLCAnc2luaChNYXRoLlNRUlQxXzIpJywgMC43Njc1MjMxNDUxMjYxMTY0LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3NpbmgnLCBbTWF0aC5TUVJUMl0sICdzaW5oKE1hdGguU1FSVDIpJywgMS45MzUwNjY4MjIxNzQzNTcsIE5hTiwgTmFOLCAxLjkzNTA2NjgyMjE3NDM1NjhdLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFs1MDIgKiBNYXRoLlNRUlQyXSwgJ3NpbmgoNTAyKk1hdGguU1FSVDIpJywgMS4wNDY5MTk5NjY5MDIzMTM4ZSszMDgsIDEuMDQ2OTE5OTY2OTAyMzE0ZSszMDgsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3NxcnQnLCBbbl0sIGBzcXJ0KCR7bn0pYCwgMC4zNTA3MTM1NTgzMzUwMDM2LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3NxcnQnLCBbTWF0aC5QSV0sICdzcXJ0KE1hdGguUEkpJywgMS43NzI0NTM4NTA5MDU1MTU5LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3RhbicsIFstMWUzMDhdLCAndGFuKC0xZTMwOCknLCAwLjUwODY4NjEyNTkxMDc1NjgsIE5hTiwgTmFOLCAwLjUwODY4NjEyNTkxMDc1NjddLA0KICAgICAgICAgICAgICAgIFsndGFuJywgW01hdGguUEldLCAndGFuKE1hdGguUEkpJywgLTEuMjI0NjQ2Nzk5MTQ3MzUzMmUtMTYsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsndGFuJywgWzYgKiBNYXRoLkVdLCAndGFuKDYqTWF0aC5FKScsIDAuNjg2Njc2MTU0NjQ1MjQzMSwgMC42ODY2NzYxNTQ2NDUyNDMsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3RhbicsIFs2ICogTWF0aC5MTjJdLCAndGFuKDYqTWF0aC5MTjIpJywgMS42MTgyODE3MTM1NzE1ODc3LCAxLjYxODI4MTcxMzU3MTU4OCwgTmFOLCAxLjYxODI4MTcxMzU3MTU4NzVdLA0KICAgICAgICAgICAgICAgIFsndGFuJywgWzEwICogTWF0aC5MT0cyRV0sICd0YW4oMTAqTWF0aC5MT0cyRSknLCAtMy4zNTM3MTI4NzA1Mzc2MDE0LCAtMy4zNTM3MTI4NzA1Mzc2MDEsIE5hTiwgLTMuMzUzNzEyODcwNTM3NjAyXSwNCiAgICAgICAgICAgICAgICBbJ3RhbicsIFsxNyAqIE1hdGguU1FSVDJdLCAndGFuKDE3Kk1hdGguU1FSVDIpJywgLTEuOTIyMjk1NTQ2MTc5OTk4MiwgLTEuOTIyMjk1NTQ2MTc5OTk4LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWyd0YW4nLCBbMzQgKiBNYXRoLlNRUlQxXzJdLCAndGFuKDM0Kk1hdGguU1FSVDFfMiknLCAtMS45MjIyOTU1NDYxNzk5OTgyLCAtMS45MjIyOTU1NDYxNzk5OTgsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3RhbicsIFsxMCAqIE1hdGguTE9HMTBFXSwgJ3RhbigxMCpNYXRoLkxPRzEwRSknLCAyLjU4MjQ4NTYxMzA3MTI0MzIsIDIuNTgyNDg1NjEzMDcxMjQzNywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsndGFuaCcsIFtuXSwgYHRhbmgoJHtufSlgLCAwLjEyMjM4MzQ0MTg5NDQwODc1LCBOYU4sIE5hTiwgMC4xMjIzODM0NDE4OTQ0MDg3Nl0sDQogICAgICAgICAgICAgICAgWyd0YW5oJywgW01hdGguUEldLCAndGFuaChNYXRoLlBJKScsIDAuOTk2MjcyMDc2MjIwNzUsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsncG93JywgW24sIC0xMDBdLCBgcG93KCR7bn0sIC0xMDApYCwgMS4wMjIwODkzMzM1ODQ1MTllKzkxLCAxLjAyMjA4OTMzMzU4NDUxNzZlKzkxLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydwb3cnLCBbTWF0aC5QSSwgLTEwMF0sICdwb3coTWF0aC5QSSwgLTEwMCknLCAxLjkyNzU4MTQxNjA1NjAyMDRlLTUwLCAxLjkyNzU4MTQxNjA1NjAxODVlLTUwLCBOYU4sIDEuOTI3NTgxNDE2MDU2MDIwNmUtNTBdLA0KICAgICAgICAgICAgICAgIFsncG93JywgW01hdGguRSwgLTEwMF0sICdwb3coTWF0aC5FLCAtMTAwKScsIDMuNzIwMDc1OTc2MDIwODU1NWUtNDQsIDMuNzIwMDc1OTc2MDIwODUxZS00NCwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsncG93JywgW01hdGguTE4yLCAtMTAwXSwgJ3BvdyhNYXRoLkxOMiwgLTEwMCknLCA4MjY5MDE3MjAzODAyMzk0LCA4MjY5MDE3MjAzODAyNDEwLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydwb3cnLCBbTWF0aC5MTjEwLCAtMTAwXSwgJ3BvdyhNYXRoLkxOMTAsIC0xMDApJywgNi4wMDM4Njc5MjY3Mzg4MjllLTM3LCA2LjAwMzg2NzkyNjczODgxMWUtMzcsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3BvdycsIFtNYXRoLkxPRzJFLCAtMTAwXSwgJ3BvdyhNYXRoLkxPRzJFLCAtMTAwKScsIDEuMjA5MzMzNTU4NDU1MDFlLTE2LCAxLjIwOTMzMzU1ODQ1NTAwNjFlLTE2LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydwb3cnLCBbTWF0aC5MT0cxMEUsIC0xMDBdLCAncG93KE1hdGguTE9HMTBFLCAtMTAwKScsIDEuNjY1NTkyOTM0NzU4NTk1OGUrMzYsIDEuNjY1NTkyOTM0NzU4NTkyZSszNiwgTmFOLCAxLjY2NTU5MjkzNDc1ODU5NTVlKzM2XSwNCiAgICAgICAgICAgICAgICBbJ3BvdycsIFtNYXRoLlNRUlQxXzIsIC0xMDBdLCAncG93KE1hdGguU1FSVDFfMiwgLTEwMCknLCAxMTI1ODk5OTA2ODQyNjE2LjIsIDExMjU4OTk5MDY4NDI2MTEuNSwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsncG93JywgW01hdGguU1FSVDIsIC0xMDBdLCAncG93KE1hdGguU1FSVDIsIC0xMDApJywgOC44ODE3ODQxOTcwMDExOTFlLTE2LCA4Ljg4MTc4NDE5NzAwMTE1NGUtMTYsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3BvbHlmaWxsJywgWzJlLTMgKiogLTEwMF0sICdwb2x5ZmlsbCBwb3coMmUtMywgLTEwMCknLCA3Ljg4ODYwOTA1MjIxMDEwMmUrMjY5LCA3Ljg4ODYwOTA1MjIxMDEyNmUrMjY5LCBOYU4sIE5hTl0sDQogICAgICAgICAgICBdOw0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHt9Ow0KICAgICAgICAgICAgZm5zLmZvckVhY2goKGZuKSA9PiB7DQogICAgICAgICAgICAgICAgZGF0YVtmblsyXV0gPSBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmblswXSAhPSAncG9seWZpbGwnID8gTWF0aFtmblswXV0oLi4uZm5bMV0pIDogZm5bMV07DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNocm9tZSA9IHJlc3VsdCA9PSBmblszXTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyZWZveCA9IGZuWzRdID8gcmVzdWx0ID09IGZuWzRdIDogZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvckJyb3dzZXIgPSBmbls1XSA/IHJlc3VsdCA9PSBmbls1XSA6IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBzYWZhcmkgPSBmbls2XSA/IHJlc3VsdCA9PSBmbls2XSA6IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4geyByZXN1bHQsIGNocm9tZSwgZmlyZWZveCwgdG9yQnJvd3Nlciwgc2FmYXJpIH07DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdtYXRoJywgcGFzc2VkOiB0cnVlIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHsgZGF0YSwgbGllZCB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdtYXRoJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgLy8gaW5zcGlyZWQgYnkNCiAgICAvLyAtIGh0dHBzOi8vcHJpdmFjeWNoZWNrLnNlYy5scnouZGUvYWN0aXZlL2ZwX2NwdC9mcF9jYW5fcGxheV90eXBlLmh0bWwNCiAgICAvLyAtIGh0dHBzOi8vYXJrZW5mb3guZ2l0aHViLmlvL1RaUA0KICAgIGNvbnN0IGdldE1pbWVUeXBlU2hvcnRMaXN0ID0gKCkgPT4gWw0KICAgICAgICAnYXVkaW8vb2dnOyBjb2RlY3M9InZvcmJpcyInLA0KICAgICAgICAnYXVkaW8vbXBlZycsDQogICAgICAgICdhdWRpby9tcGVndXJsJywNCiAgICAgICAgJ2F1ZGlvL3dhdjsgY29kZWNzPSIxIicsDQogICAgICAgICdhdWRpby94LW00YScsDQogICAgICAgICdhdWRpby9hYWMnLA0KICAgICAgICAndmlkZW8vb2dnOyBjb2RlY3M9InRoZW9yYSInLA0KICAgICAgICAndmlkZW8vcXVpY2t0aW1lJywNCiAgICAgICAgJ3ZpZGVvL21wNDsgY29kZWNzPSJhdmMxLjQyRTAxRSInLA0KICAgICAgICAndmlkZW8vd2VibTsgY29kZWNzPSJ2cDgiJywNCiAgICAgICAgJ3ZpZGVvL3dlYm07IGNvZGVjcz0idnA5IicsDQogICAgICAgICd2aWRlby94LW1hdHJvc2thJywNCiAgICBdLnNvcnQoKTsNCiAgICBhc3luYyBmdW5jdGlvbiBnZXRNZWRpYSgpIHsNCiAgICAgICAgY29uc3QgZ2V0TWltZVR5cGVzID0gKCkgPT4gew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBjb25zdCBtaW1lVHlwZXMgPSBnZXRNaW1lVHlwZVNob3J0TGlzdCgpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvRWwgPSBuZXcgQXVkaW8oKTsNCiAgICAgICAgICAgICAgICBjb25zdCBpc01lZGlhUmVjb3JkZXJTdXBwb3J0ZWQgPSAnTWVkaWFSZWNvcmRlcicgaW4gd2luZG93Ow0KICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVzID0gbWltZVR5cGVzLnJlZHVjZSgoYWNjLCB0eXBlKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZTogdHlwZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvUGxheVR5cGU6IGF1ZGlvRWwuY2FuUGxheVR5cGUodHlwZSksDQogICAgICAgICAgICAgICAgICAgICAgICB2aWRlb1BsYXlUeXBlOiB2aWRlb0VsLmNhblBsYXlUeXBlKHR5cGUpLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFTb3VyY2U6IE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCh0eXBlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhUmVjb3JkZXI6IGlzTWVkaWFSZWNvcmRlclN1cHBvcnRlZCA/IE1lZGlhUmVjb3JkZXIuaXNUeXBlU3VwcG9ydGVkKHR5cGUpIDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIGlmICghZGF0YS5hdWRpb1BsYXlUeXBlICYmICFkYXRhLnZpZGVvUGxheVR5cGUgJiYgIWRhdGEubWVkaWFTb3VyY2UgJiYgIWRhdGEubWVkaWFSZWNvcmRlcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKGRhdGEpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgICAgIH0sIFtdKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXM7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICB0aW1lci5zdGFydCgpOw0KICAgICAgICAgICAgY29uc3QgbWltZVR5cGVzID0gZ2V0TWltZVR5cGVzKCk7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGltZTogdGltZXIuc3RvcCgpLCB0ZXN0OiAnbWVkaWEnLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4geyBtaW1lVHlwZXMgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnbWVkaWEnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICAvLyBzcGVjaWFsIHRoYW5rcyB0byBodHRwczovL2FyaC5hbnRvaW5ldmFzdGVsLmNvbSBmb3IgaW5zcGlyYXRpb24NCiAgICBhc3luYyBmdW5jdGlvbiBnZXROYXZpZ2F0b3Iod29ya2VyU2NvcGUpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgbGV0IGxpZWQgPSAobGllUHJvcHNbJ05hdmlnYXRvci5hcHBWZXJzaW9uJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snTmF2aWdhdG9yLmRldmljZU1lbW9yeSddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ05hdmlnYXRvci5kb05vdFRyYWNrJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snTmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3knXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydOYXZpZ2F0b3IubGFuZ3VhZ2UnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydOYXZpZ2F0b3IubGFuZ3VhZ2VzJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snTmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snTmF2aWdhdG9yLm9zY3B1J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snTmF2aWdhdG9yLnBsYXRmb3JtJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snTmF2aWdhdG9yLnVzZXJBZ2VudCddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ05hdmlnYXRvci52ZW5kb3InXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydOYXZpZ2F0b3IucGx1Z2lucyddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ05hdmlnYXRvci5taW1lVHlwZXMnXSkgfHwgZmFsc2U7DQogICAgICAgICAgICBjb25zdCBjcmVkaWJsZVVzZXJBZ2VudCA9ICgnY2hyb21lJyBpbiB3aW5kb3cgPyBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKG5hdmlnYXRvci5hcHBWZXJzaW9uKSA6IHRydWUpOw0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICBwbGF0Zm9ybTogYXR0ZW1wdCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcGxhdGZvcm0gfSA9IG5hdmlnYXRvcjsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3lzdGVtcyA9IFsnd2luJywgJ2xpbnV4JywgJ21hYycsICdhcm0nLCAncGlrZScsICdsaW51eCcsICdpcGhvbmUnLCAnaXBhZCcsICdpcG9kJywgJ2FuZHJvaWQnLCAneDExJ107DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRydXN0ZWQgPSB0eXBlb2YgcGxhdGZvcm0gPT0gJ3N0cmluZycgJiYgc3lzdGVtcy5maWx0ZXIoKHZhbCkgPT4gcGxhdGZvcm0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWwpKVswXTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cnVzdGVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG9UcmFzaChgcGxhdGZvcm1gLCBgJHtwbGF0Zm9ybX0gaXMgdW51c3VhbGApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIHVzZXIgYWdlbnQgb3MgbGllDQogICAgICAgICAgICAgICAgICAgIGlmIChVU0VSX0FHRU5UX09TICE9PSBQTEFURk9STV9PUykgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShgTmF2aWdhdG9yLnBsYXRmb3JtYCwgYCR7UExBVEZPUk1fT1N9IHBsYXRmb3JtIGFuZCAke1VTRVJfQUdFTlRfT1N9IHVzZXIgYWdlbnQgZG8gbm90IG1hdGNoYCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXRmb3JtICE9IHdvcmtlclNjb3BlLnBsYXRmb3JtKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsgLy8gZG9jdW1lbnRlZCBpbiB0aGUgd29ya2VyIHNvdXJjZQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBwbGF0Zm9ybTsNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBzeXN0ZW06IGF0dGVtcHQoKCkgPT4gZ2V0T1MobmF2aWdhdG9yLnVzZXJBZ2VudCksICd1c2VyQWdlbnQgc3lzdGVtIGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIHVzZXJBZ2VudFBhcnNlZDogYXdhaXQgYXR0ZW1wdChhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydGVkVXNlckFnZW50ID0gY2FuaXVzZSgoKSA9PiBuYXZpZ2F0b3IudXNlckFnZW50KTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0ZWRTeXN0ZW0gPSBnZXRPUyhyZXBvcnRlZFVzZXJBZ2VudCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQnJhdmUgPSBhd2FpdCBicmF2ZUJyb3dzZXIoKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0ID0gZGVjcnlwdFVzZXJBZ2VudCh7DQogICAgICAgICAgICAgICAgICAgICAgICB1YTogcmVwb3J0ZWRVc2VyQWdlbnQsDQogICAgICAgICAgICAgICAgICAgICAgICBvczogcmVwb3J0ZWRTeXN0ZW0sDQogICAgICAgICAgICAgICAgICAgICAgICBpc0JyYXZlLA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcG9ydDsNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBkZXZpY2U6IGF0dGVtcHQoKCkgPT4gZ2V0VXNlckFnZW50UGxhdGZvcm0oeyB1c2VyQWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnQgfSksICd1c2VyQWdlbnQgZGV2aWNlIGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIHVzZXJBZ2VudDogYXR0ZW1wdCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdXNlckFnZW50IH0gPSBuYXZpZ2F0b3I7DQogICAgICAgICAgICAgICAgICAgIGlmICghY3JlZGlibGVVc2VyQWdlbnQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKCd1c2VyQWdlbnQnLCBgJHt1c2VyQWdlbnR9IGRvZXMgbm90IG1hdGNoIGFwcFZlcnNpb25gKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoL1xzezIsfXxeXHN8XHMkL2cudGVzdCh1c2VyQWdlbnQpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG9UcmFzaCgndXNlckFnZW50JywgYGV4dHJhIHNwYWNlcyBkZXRlY3RlZGApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGdpYmJlcnMgPSBnaWJiZXJpc2godXNlckFnZW50KTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCEhZ2liYmVycy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKGB1c2VyQWdlbnQgaXMgZ2liYmVyaXNoYCwgdXNlckFnZW50KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAodXNlckFnZW50ICE9IHdvcmtlclNjb3BlLnVzZXJBZ2VudCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGllZCA9IHRydWU7IC8vIGRvY3VtZW50ZWQgaW4gdGhlIHdvcmtlciBzb3VyY2UNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlckFnZW50LnRyaW0oKS5yZXBsYWNlKC9cc3syLH0vLCAnICcpOw0KICAgICAgICAgICAgICAgIH0sICd1c2VyQWdlbnQgZmFpbGVkJyksDQogICAgICAgICAgICAgICAgdWFQb3N0UmVkdWN0aW9uOiBpc1VBUG9zdFJlZHVjdGlvbigobmF2aWdhdG9yIHx8IHt9KS51c2VyQWdlbnQpLA0KICAgICAgICAgICAgICAgIGFwcFZlcnNpb246IGF0dGVtcHQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGFwcFZlcnNpb24gfSA9IG5hdmlnYXRvcjsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFjcmVkaWJsZVVzZXJBZ2VudCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ2FwcFZlcnNpb24nLCBgJHthcHBWZXJzaW9ufSBkb2VzIG5vdCBtYXRjaCB1c2VyQWdlbnRgKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoJ2FwcFZlcnNpb24nIGluIG5hdmlnYXRvciAmJiAhYXBwVmVyc2lvbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ2FwcFZlcnNpb24nLCAnTGl2aW5nIFN0YW5kYXJkIHByb3BlcnR5IHJldHVybmVkIGZhbHN5IHZhbHVlJyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKC9cc3syLH18XlxzfFxzJC9nLnRlc3QoYXBwVmVyc2lvbikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKCdhcHBWZXJzaW9uJywgYGV4dHJhIHNwYWNlcyBkZXRlY3RlZGApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcHBWZXJzaW9uLnRyaW0oKS5yZXBsYWNlKC9cc3syLH0vLCAnICcpOw0KICAgICAgICAgICAgICAgIH0sICdhcHBWZXJzaW9uIGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIGRldmljZU1lbW9yeTogYXR0ZW1wdCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmICghKCdkZXZpY2VNZW1vcnknIGluIG5hdmlnYXRvcikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRldmljZU1lbW9yeSB9ID0gbmF2aWdhdG9yOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCB0cnVzdGVkID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgJzAuMjUnOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgJzAuNSc6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAnMSc6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAnMic6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAnNCc6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAnOCc6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIGlmICghdHJ1c3RlZFtkZXZpY2VNZW1vcnldKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG9UcmFzaCgnZGV2aWNlTWVtb3J5JywgYCR7ZGV2aWNlTWVtb3J5fSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBbMC4yNSwgMC41LCAxLCAyLCA0LCA4XWApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgbWVtb3J5IGlzIHVuZGVmaW5lZCBpZiBub3Qgc3VwcG9ydGVkDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lbW9yeSA9IHBlcmZvcm1hbmNlPy5tZW1vcnk/LmpzSGVhcFNpemVMaW1pdCB8fCBudWxsOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBtZW1vcnlJbkdpZ2FieXRlcyA9IG1lbW9yeSA/ICsobWVtb3J5IC8gMTA3Mzc0MTgyNCkudG9GaXhlZCgxKSA6IDA7DQogICAgICAgICAgICAgICAgICAgIGlmIChtZW1vcnlJbkdpZ2FieXRlcyA+IGRldmljZU1lbW9yeSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ2RldmljZU1lbW9yeScsIGBhdmFpbGFibGUgbWVtb3J5ICR7bWVtb3J5SW5HaWdhYnl0ZXN9R0IgaXMgZ3JlYXRlciB0aGFuIGRldmljZSBtZW1vcnkgJHtkZXZpY2VNZW1vcnl9R0JgKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoZGV2aWNlTWVtb3J5ICE9PSB3b3JrZXJTY29wZS5kZXZpY2VNZW1vcnkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpZWQgPSB0cnVlOyAvLyBkb2N1bWVudGVkIGluIHRoZSB3b3JrZXIgc291cmNlDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRldmljZU1lbW9yeTsNCiAgICAgICAgICAgICAgICB9LCAnZGV2aWNlTWVtb3J5IGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIGRvTm90VHJhY2s6IGF0dGVtcHQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRvTm90VHJhY2sgfSA9IG5hdmlnYXRvcjsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJ1c3RlZCA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICcxJzogITAsDQogICAgICAgICAgICAgICAgICAgICAgICAndHJ1ZSc6ICEwLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3llcyc6ICEwLA0KICAgICAgICAgICAgICAgICAgICAgICAgJzAnOiAhMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICdmYWxzZSc6ICEwLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ25vJzogITAsDQogICAgICAgICAgICAgICAgICAgICAgICAndW5zcGVjaWZpZWQnOiAhMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICdudWxsJzogITAsDQogICAgICAgICAgICAgICAgICAgICAgICAndW5kZWZpbmVkJzogITAsDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIGlmICghdHJ1c3RlZFtkb05vdFRyYWNrXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ2RvTm90VHJhY2sgLSB1bnVzdWFsIHJlc3VsdCcsIGRvTm90VHJhY2spOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBkb05vdFRyYWNrOw0KICAgICAgICAgICAgICAgIH0sICdkb05vdFRyYWNrIGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIGdsb2JhbFByaXZhY3lDb250cm9sOiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCEoJ2dsb2JhbFByaXZhY3lDb250cm9sJyBpbiBuYXZpZ2F0b3IpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBnbG9iYWxQcml2YWN5Q29udHJvbCB9ID0gbmF2aWdhdG9yOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCB0cnVzdGVkID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgJzEnOiAhMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICd0cnVlJzogITAsDQogICAgICAgICAgICAgICAgICAgICAgICAneWVzJzogITAsDQogICAgICAgICAgICAgICAgICAgICAgICAnMCc6ICEwLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2ZhbHNlJzogITAsDQogICAgICAgICAgICAgICAgICAgICAgICAnbm8nOiAhMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICd1bnNwZWNpZmllZCc6ICEwLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ251bGwnOiAhMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICd1bmRlZmluZWQnOiAhMCwNCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cnVzdGVkW2dsb2JhbFByaXZhY3lDb250cm9sXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ2dsb2JhbFByaXZhY3lDb250cm9sIC0gdW51c3VhbCByZXN1bHQnLCBnbG9iYWxQcml2YWN5Q29udHJvbCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdsb2JhbFByaXZhY3lDb250cm9sOw0KICAgICAgICAgICAgICAgIH0sICdnbG9iYWxQcml2YWN5Q29udHJvbCBmYWlsZWQnKSwNCiAgICAgICAgICAgICAgICBoYXJkd2FyZUNvbmN1cnJlbmN5OiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCEoJ2hhcmR3YXJlQ29uY3VycmVuY3knIGluIG5hdmlnYXRvcikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBoYXJkd2FyZUNvbmN1cnJlbmN5IH0gPSBuYXZpZ2F0b3I7DQogICAgICAgICAgICAgICAgICAgIGlmIChoYXJkd2FyZUNvbmN1cnJlbmN5ICE9PSB3b3JrZXJTY29wZS5oYXJkd2FyZUNvbmN1cnJlbmN5KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsgLy8gZG9jdW1lbnRlZCBpbiB0aGUgd29ya2VyIHNvdXJjZQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXJkd2FyZUNvbmN1cnJlbmN5Ow0KICAgICAgICAgICAgICAgIH0sICdoYXJkd2FyZUNvbmN1cnJlbmN5IGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBsYW5ndWFnZSwgbGFuZ3VhZ2VzIH0gPSBuYXZpZ2F0b3I7DQogICAgICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZXMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbmcgPSAvXi57MCwyfS9nLmV4ZWMobGFuZ3VhZ2UpWzBdOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFuZ3MgPSAvXi57MCwyfS9nLmV4ZWMobGFuZ3VhZ2VzWzBdKVswXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYW5ncyAhPSBsYW5nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ2xhbmd1YWdlL2xhbmd1YWdlcycsIGAke1tsYW5ndWFnZSwgbGFuZ3VhZ2VzXS5qb2luKCcgJyl9IG1pc21hdGNoYCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7bGFuZ3VhZ2VzLmpvaW4oJywgJyl9ICgke2xhbmd1YWdlfSlgOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZSAhPSB3b3JrZXJTY29wZS5sYW5ndWFnZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShgTmF2aWdhdG9yLmxhbmd1YWdlYCwgYCR7bGFuZ3VhZ2V9IGRvZXMgbm90IG1hdGNoIHdvcmtlciBzY29wZWApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZXMgIT09IHdvcmtlclNjb3BlLmxhbmd1YWdlcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShgTmF2aWdhdG9yLmxhbmd1YWdlc2AsIGAke2xhbmd1YWdlc30gZG9lcyBub3QgbWF0Y2ggd29ya2VyIHNjb3BlYCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2xhbmd1YWdlfSAke2xhbmd1YWdlc31gOw0KICAgICAgICAgICAgICAgIH0sICdsYW5ndWFnZShzKSBmYWlsZWQnKSwNCiAgICAgICAgICAgICAgICBtYXhUb3VjaFBvaW50czogYXR0ZW1wdCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmICghKCdtYXhUb3VjaFBvaW50cycgaW4gbmF2aWdhdG9yKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50czsNCiAgICAgICAgICAgICAgICB9LCAnbWF4VG91Y2hQb2ludHMgZmFpbGVkJyksDQogICAgICAgICAgICAgICAgdmVuZG9yOiBhdHRlbXB0KCgpID0+IG5hdmlnYXRvci52ZW5kb3IsICd2ZW5kb3IgZmFpbGVkJyksDQogICAgICAgICAgICAgICAgbWltZVR5cGVzOiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW1lVHlwZXMgfSA9IG5hdmlnYXRvcjsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1pbWVUeXBlcyA/IFsuLi5taW1lVHlwZXNdLm1hcCgobSkgPT4gbS50eXBlKSA6IFtdOw0KICAgICAgICAgICAgICAgIH0sICdtaW1lVHlwZXMgZmFpbGVkJyksDQogICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgIG9zY3B1OiBhdHRlbXB0KCgpID0+IG5hdmlnYXRvci5vc2NwdSwgJ29zY3B1IGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIHBsdWdpbnM6IGF0dGVtcHQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeXN0ZW0tc3RhdGUuaHRtbCNwZGYtdmlld2luZy1zdXBwb3J0DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcGx1Z2lucyB9ID0gbmF2aWdhdG9yOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIShwbHVnaW5zIGluc3RhbmNlb2YgUGx1Z2luQXJyYXkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBwbHVnaW5zID8gWy4uLnBsdWdpbnNdDQogICAgICAgICAgICAgICAgICAgICAgICAubWFwKChwKSA9PiAoew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHAuZGVzY3JpcHRpb24sDQogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTogcC5maWxlbmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb246IHAudmVyc2lvbiwNCiAgICAgICAgICAgICAgICAgICAgfSkpIDogW107DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbGllcyB9ID0gZ2V0UGx1Z2luTGllcyhwbHVnaW5zLCBuYXZpZ2F0b3IubWltZVR5cGVzKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGxpZXMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpZXMuZm9yRWFjaCgobGllKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50TGllKGBOYXZpZ2F0b3IucGx1Z2luc2AsIGxpZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5mb3JFYWNoKChwbHVnaW4pID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIGRlc2NyaXB0aW9uIH0gPSBwbHVnaW47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZUdpYmJlcnMgPSBnaWJiZXJpc2gobmFtZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb25HaWJiZXJzID0gZ2liYmVyaXNoKGRlc2NyaXB0aW9uKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZUdpYmJlcnMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKGBwbHVnaW4gbmFtZSBpcyBnaWJiZXJpc2hgLCBuYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9uR2liYmVycy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goYHBsdWdpbiBkZXNjcmlwdGlvbiBpcyBnaWJiZXJpc2hgLCBkZXNjcmlwdGlvbik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTsNCiAgICAgICAgICAgICAgICB9LCAncGx1Z2lucyBmYWlsZWQnKSwNCiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IpKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7DQogICAgICAgICAgICAgICAgfSwgJ25hdmlnYXRvciBrZXlzIGZhaWxlZCcpLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IGdldFVzZXJBZ2VudERhdGEgPSAoKSA9PiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgaWYgKCFuYXZpZ2F0b3IudXNlckFnZW50RGF0YSB8fA0KICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgICAgICFuYXZpZ2F0b3IudXNlckFnZW50RGF0YS5nZXRIaWdoRW50cm9weVZhbHVlcykgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEuZ2V0SGlnaEVudHJvcHlWYWx1ZXMoWydwbGF0Zm9ybScsICdwbGF0Zm9ybVZlcnNpb24nLCAnYXJjaGl0ZWN0dXJlJywgJ2JpdG5lc3MnLCAnbW9kZWwnLCAndWFGdWxsVmVyc2lvbiddKS50aGVuKChkYXRhKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBicmFuZHMsIG1vYmlsZSB9ID0gbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEgfHwge307DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzZWRCcmFuZHMgPSAoYnJhbmRzLCBjYXB0dXJlVmVyc2lvbiA9IGZhbHNlKSA9PiBicmFuZHMNCiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKG9iaikgPT4gIS9Ob3QvLnRlc3Qob2JqLmJyYW5kKSkubWFwKChvYmopID0+IGAke29iai5icmFuZH0ke2NhcHR1cmVWZXJzaW9uID8gYCAke29iai52ZXJzaW9ufWAgOiAnJ31gKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlQ2hyb21pdW0gPSAoYnJhbmRzKSA9PiAoYnJhbmRzLmxlbmd0aCA+IDEgPyBicmFuZHMuZmlsdGVyKChicmFuZCkgPT4gIS9DaHJvbWl1bS8udGVzdChicmFuZCkpIDogYnJhbmRzKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gY29tcHJlc3MgYnJhbmRzDQogICAgICAgICAgICAgICAgICAgIGlmICghZGF0YS5icmFuZHMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuYnJhbmRzID0gYnJhbmRzOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGRhdGEuYnJhbmRzVmVyc2lvbiA9IGNvbXByZXNzZWRCcmFuZHMoZGF0YS5icmFuZHMsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICBkYXRhLmJyYW5kcyA9IGNvbXByZXNzZWRCcmFuZHMoZGF0YS5icmFuZHMpOw0KICAgICAgICAgICAgICAgICAgICBkYXRhLmJyYW5kc1ZlcnNpb24gPSByZW1vdmVDaHJvbWl1bShkYXRhLmJyYW5kc1ZlcnNpb24pOw0KICAgICAgICAgICAgICAgICAgICBkYXRhLmJyYW5kcyA9IHJlbW92ZUNocm9taXVtKGRhdGEuYnJhbmRzKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLm1vYmlsZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5tb2JpbGUgPSBtb2JpbGU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YVNvcnRlZCA9IE9iamVjdC5rZXlzKGRhdGEpLnNvcnQoKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IGRhdGFba2V5XTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICAgICAgICAgIH0sIHt9KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFTb3J0ZWQ7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9LCAndXNlckFnZW50RGF0YSBmYWlsZWQnKTsNCiAgICAgICAgICAgIGNvbnN0IGdldEJsdWV0b290aEF2YWlsYWJpbGl0eSA9ICgpID0+IGF0dGVtcHQoKCkgPT4gew0KICAgICAgICAgICAgICAgIGlmICghKCdibHVldG9vdGgnIGluIG5hdmlnYXRvcikgfHwNCiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgICAgICAhbmF2aWdhdG9yLmJsdWV0b290aCB8fA0KICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgICAgICFuYXZpZ2F0b3IuYmx1ZXRvb3RoLmdldEF2YWlsYWJpbGl0eSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5ibHVldG9vdGguZ2V0QXZhaWxhYmlsaXR5KCk7DQogICAgICAgICAgICB9LCAnYmx1ZXRvb3RoQXZhaWxhYmlsaXR5IGZhaWxlZCcpOw0KICAgICAgICAgICAgY29uc3QgZ2V0UGVybWlzc2lvbnMgPSAoKSA9PiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBnZXRQZXJtaXNzaW9uU3RhdGUgPSAobmFtZSkgPT4gbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHsgbmFtZSB9KQ0KICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiAoeyBuYW1lLCBzdGF0ZTogcmVzLnN0YXRlIH0pKQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiAoeyBuYW1lLCBzdGF0ZTogJ3Vua25vd24nIH0pKTsNCiAgICAgICAgICAgICAgICAvLyBodHRwczovL3czYy5naXRodWIuaW8vcGVybWlzc2lvbnMvI3Blcm1pc3Npb24tcmVnaXN0cnkNCiAgICAgICAgICAgICAgICBjb25zdCBwZXJtaXNzaW9ucyA9ICEoJ3Blcm1pc3Npb25zJyBpbiBuYXZpZ2F0b3IpID8gdW5kZWZpbmVkIDogUHJvbWlzZS5hbGwoWw0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ2FjY2VsZXJvbWV0ZXInKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdhbWJpZW50LWxpZ2h0LXNlbnNvcicpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ2JhY2tncm91bmQtZmV0Y2gnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdiYWNrZ3JvdW5kLXN5bmMnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdibHVldG9vdGgnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdjYW1lcmEnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdjbGlwYm9hcmQnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdkZXZpY2UtaW5mbycpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ2Rpc3BsYXktY2FwdHVyZScpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ2dhbWVwYWQnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdnZW9sb2NhdGlvbicpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ2d5cm9zY29wZScpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ21hZ25ldG9tZXRlcicpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ21pY3JvcGhvbmUnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdtaWRpJyksDQogICAgICAgICAgICAgICAgICAgIGdldFBlcm1pc3Npb25TdGF0ZSgnbmZjJyksDQogICAgICAgICAgICAgICAgICAgIGdldFBlcm1pc3Npb25TdGF0ZSgnbm90aWZpY2F0aW9ucycpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ3BlcnNpc3RlbnQtc3RvcmFnZScpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ3B1c2gnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdzY3JlZW4td2FrZS1sb2NrJyksDQogICAgICAgICAgICAgICAgICAgIGdldFBlcm1pc3Npb25TdGF0ZSgnc3BlYWtlcicpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ3NwZWFrZXItc2VsZWN0aW9uJyksDQogICAgICAgICAgICAgICAgXSkudGhlbigocGVybWlzc2lvbnMpID0+IHBlcm1pc3Npb25zLnJlZHVjZSgoYWNjLCBwZXJtKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUsIG5hbWUgfSA9IHBlcm0gfHwge307DQogICAgICAgICAgICAgICAgICAgIGlmIChhY2Nbc3RhdGVdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhY2Nbc3RhdGVdLnB1c2gobmFtZSk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGFjY1tzdGF0ZV0gPSBbbmFtZV07DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICAgICAgfSwge30pKS5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gcGVybWlzc2lvbnM7DQogICAgICAgICAgICB9LCAncGVybWlzc2lvbnMgZmFpbGVkJyk7DQogICAgICAgICAgICBjb25zdCBnZXRXZWJncHUgPSAoKSA9PiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoISgnZ3B1JyBpbiBuYXZpZ2F0b3IpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IuZ3B1LnJlcXVlc3RBZGFwdGVyKCkudGhlbigoeyBsaW1pdHMsIGZlYXR1cmVzIH0pID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzOiBbLi4uZmVhdHVyZXMudmFsdWVzKCldLA0KICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRzOiAoKGxpbWl0cykgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7fTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wIGluIGxpbWl0cykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3Byb3BdID0gbGltaXRzW3Byb3BdOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pKGxpbWl0cyksDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9LCAnd2ViZ3B1IGZhaWxlZCcpOw0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoWw0KICAgICAgICAgICAgICAgIGdldFVzZXJBZ2VudERhdGEoKSwNCiAgICAgICAgICAgICAgICBnZXRCbHVldG9vdGhBdmFpbGFiaWxpdHkoKSwNCiAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9ucygpLA0KICAgICAgICAgICAgICAgIGdldFdlYmdwdSgpLA0KICAgICAgICAgICAgXSkudGhlbigoW3VzZXJBZ2VudERhdGEsIGJsdWV0b290aEF2YWlsYWJpbGl0eSwgcGVybWlzc2lvbnMsIHdlYmdwdSxdKSA9PiB7DQogICAgICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRpbWU6IHRpbWVyLnN0b3AoKSwgdGVzdDogJ25hdmlnYXRvcicsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICAuLi5kYXRhLA0KICAgICAgICAgICAgICAgICAgICB1c2VyQWdlbnREYXRhLA0KICAgICAgICAgICAgICAgICAgICBibHVldG9vdGhBdmFpbGFiaWxpdHksDQogICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zLA0KICAgICAgICAgICAgICAgICAgICB3ZWJncHUsDQogICAgICAgICAgICAgICAgICAgIGxpZWQsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICduYXZpZ2F0b3InLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgLi4uZGF0YSwNCiAgICAgICAgICAgICAgICAgICAgbGllZCwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ25hdmlnYXRvcicsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IsICdOYXZpZ2F0b3IgZmFpbGVkIG9yIGJsb2NrZWQgYnkgY2xpZW50Jyk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gZ2V0UmVzaXN0YW5jZSgpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICBwcml2YWN5OiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgc2VjdXJpdHk6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICBtb2RlOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgZXh0ZW5zaW9uOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgZW5naW5lOiAoSVNfQkxJTksgPyAnQmxpbmsnIDoNCiAgICAgICAgICAgICAgICAgICAgSVNfR0VDS08gPyAnR2Vja28nIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICcnKSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvLyBGaXJlZm94L1RvciBCcm93c2VyDQogICAgICAgICAgICBjb25zdCByZWdleCA9IChuKSA9PiBuZXcgUmVnRXhwKGAke259KyRgKTsNCiAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gKG1zLCBiYXNlTnVtYmVyLCBiYXNlRGF0ZSkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBiYXNlRGF0ZSA/IGJhc2VEYXRlIDogK25ldyBEYXRlKCk7DQogICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVnZXgoYmFzZU51bWJlcikudGVzdChkYXRlKSA/IHJlZ2V4KGJhc2VOdW1iZXIpLmV4ZWMoZGF0ZSlbMF0gOiBkYXRlOw0KICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHZhbHVlKTsNCiAgICAgICAgICAgIH0sIG1zKSk7DQogICAgICAgICAgICBjb25zdCBnZXRUaW1lclByZWNpc2lvbiA9IGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBiYXNlRGF0ZSA9ICtuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VOdW1iZXIgPSArKCcnICsgYmFzZURhdGUpLnNsaWNlKC0xKTsNCiAgICAgICAgICAgICAgICBjb25zdCBhID0gYXdhaXQgZGVsYXkoMCwgYmFzZU51bWJlciwgYmFzZURhdGUpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGIgPSBhd2FpdCBkZWxheSgxLCBiYXNlTnVtYmVyKTsNCiAgICAgICAgICAgICAgICBjb25zdCBjID0gYXdhaXQgZGVsYXkoMiwgYmFzZU51bWJlcik7DQogICAgICAgICAgICAgICAgY29uc3QgZCA9IGF3YWl0IGRlbGF5KDMsIGJhc2VOdW1iZXIpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBhd2FpdCBkZWxheSg0LCBiYXNlTnVtYmVyKTsNCiAgICAgICAgICAgICAgICBjb25zdCBmID0gYXdhaXQgZGVsYXkoNSwgYmFzZU51bWJlcik7DQogICAgICAgICAgICAgICAgY29uc3QgZyA9IGF3YWl0IGRlbGF5KDYsIGJhc2VOdW1iZXIpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGggPSBhd2FpdCBkZWxheSg3LCBiYXNlTnVtYmVyKTsNCiAgICAgICAgICAgICAgICBjb25zdCBpID0gYXdhaXQgZGVsYXkoOCwgYmFzZU51bWJlcik7DQogICAgICAgICAgICAgICAgY29uc3QgaiA9IGF3YWl0IGRlbGF5KDksIGJhc2VOdW1iZXIpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFyQSA9ICgnJyArIGEpLnNsaWNlKC0xKTsNCiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q2hhckIgPSAoJycgKyBiKS5zbGljZSgtMSk7DQogICAgICAgICAgICAgICAgY29uc3QgbGFzdENoYXJDID0gKCcnICsgYykuc2xpY2UoLTEpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFyRCA9ICgnJyArIGQpLnNsaWNlKC0xKTsNCiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q2hhckUgPSAoJycgKyBlKS5zbGljZSgtMSk7DQogICAgICAgICAgICAgICAgY29uc3QgbGFzdENoYXJGID0gKCcnICsgZikuc2xpY2UoLTEpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFyRyA9ICgnJyArIGcpLnNsaWNlKC0xKTsNCiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q2hhckggPSAoJycgKyBoKS5zbGljZSgtMSk7DQogICAgICAgICAgICAgICAgY29uc3QgbGFzdENoYXJJID0gKCcnICsgaSkuc2xpY2UoLTEpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFySiA9ICgnJyArIGopLnNsaWNlKC0xKTsNCiAgICAgICAgICAgICAgICBjb25zdCBwcm90ZWN0aW9uID0gKGxhc3RDaGFyQSA9PSBsYXN0Q2hhckIgJiYNCiAgICAgICAgICAgICAgICAgICAgbGFzdENoYXJBID09IGxhc3RDaGFyQyAmJg0KICAgICAgICAgICAgICAgICAgICBsYXN0Q2hhckEgPT0gbGFzdENoYXJEICYmDQogICAgICAgICAgICAgICAgICAgIGxhc3RDaGFyQSA9PSBsYXN0Q2hhckUgJiYNCiAgICAgICAgICAgICAgICAgICAgbGFzdENoYXJBID09IGxhc3RDaGFyRiAmJg0KICAgICAgICAgICAgICAgICAgICBsYXN0Q2hhckEgPT0gbGFzdENoYXJHICYmDQogICAgICAgICAgICAgICAgICAgIGxhc3RDaGFyQSA9PSBsYXN0Q2hhckggJiYNCiAgICAgICAgICAgICAgICAgICAgbGFzdENoYXJBID09IGxhc3RDaGFySSAmJg0KICAgICAgICAgICAgICAgICAgICBsYXN0Q2hhckEgPT0gbGFzdENoYXJKKTsNCiAgICAgICAgICAgICAgICBjb25zdCBiYXNlTGVuID0gKCcnICsgYSkubGVuZ3RoOw0KICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBbYSwgYiwgYywgZCwgZSwgZiwgZywgaCwgaSwgal07DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgcHJvdGVjdGlvbiwNCiAgICAgICAgICAgICAgICAgICAgZGVsYXlzOiBjb2xsZWN0aW9uLm1hcCgobikgPT4gKCcnICsgbikubGVuZ3RoID4gYmFzZUxlbiA/ICgnJyArIG4pLnNsaWNlKC1iYXNlTGVuKSA6IG4pLA0KICAgICAgICAgICAgICAgICAgICBwcmVjaXNpb246IHByb3RlY3Rpb24gPyBNYXRoLm1pbiguLi5jb2xsZWN0aW9uLm1hcCgodmFsKSA9PiAoJycgKyB2YWwpLmxlbmd0aCkpIDogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgICAgICBwcmVjaXNpb25WYWx1ZTogcHJvdGVjdGlvbiA/IGxhc3RDaGFyQSA6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IFtpc0JyYXZlLCB0aW1lclByZWNpc2lvbixdID0gYXdhaXQgUHJvbWlzZS5hbGwoWw0KICAgICAgICAgICAgICAgIGJyYXZlQnJvd3NlcigpLA0KICAgICAgICAgICAgICAgIElTX0JMSU5LID8gdW5kZWZpbmVkIDogZ2V0VGltZXJQcmVjaXNpb24oKSwNCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgaWYgKGlzQnJhdmUpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBicmF2ZU1vZGUgPSBnZXRCcmF2ZU1vZGUoKTsNCiAgICAgICAgICAgICAgICBkYXRhLnByaXZhY3kgPSAnQnJhdmUnOw0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICBkYXRhLnNlY3VyaXR5ID0gew0KICAgICAgICAgICAgICAgICAgICAnRmlsZVN5c3RlbVdyaXRhYmxlRmlsZVN0cmVhbSc6ICdGaWxlU3lzdGVtV3JpdGFibGVGaWxlU3RyZWFtJyBpbiB3aW5kb3csDQogICAgICAgICAgICAgICAgICAgICdTZXJpYWwnOiAnU2VyaWFsJyBpbiB3aW5kb3csDQogICAgICAgICAgICAgICAgICAgICdSZXBvcnRpbmdPYnNlcnZlcic6ICdSZXBvcnRpbmdPYnNlcnZlcicgaW4gd2luZG93LA0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgZGF0YS5tb2RlID0gKGJyYXZlTW9kZS5hbGxvdyA/ICdhbGxvdycgOg0KICAgICAgICAgICAgICAgICAgICBicmF2ZU1vZGUuc3RhbmRhcmQgPyAnc3RhbmRhcmQnIDoNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyYXZlTW9kZS5zdHJpY3QgPyAnc3RyaWN0JyA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgeyBwcm90ZWN0aW9uIH0gPSB0aW1lclByZWNpc2lvbiB8fCB7fTsNCiAgICAgICAgICAgIGlmIChJU19HRUNLTyAmJiBwcm90ZWN0aW9uKSB7DQogICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSB7DQogICAgICAgICAgICAgICAgICAgICdPZmZsaW5lQXVkaW9Db250ZXh0JzogJ09mZmxpbmVBdWRpb0NvbnRleHQnIGluIHdpbmRvdywNCiAgICAgICAgICAgICAgICAgICAgJ1dlYkdMMlJlbmRlcmluZ0NvbnRleHQnOiAnV2ViR0wyUmVuZGVyaW5nQ29udGV4dCcgaW4gd2luZG93LA0KICAgICAgICAgICAgICAgICAgICAnV2ViQXNzZW1ibHknOiAnV2ViQXNzZW1ibHknIGluIHdpbmRvdywNCiAgICAgICAgICAgICAgICAgICAgJ21heFRvdWNoUG9pbnRzJzogJ21heFRvdWNoUG9pbnRzJyBpbiBuYXZpZ2F0b3IsDQogICAgICAgICAgICAgICAgICAgICdSVENSdHBUcmFuc2NlaXZlcic6ICdSVENSdHBUcmFuc2NlaXZlcicgaW4gd2luZG93LA0KICAgICAgICAgICAgICAgICAgICAnTWVkaWFEZXZpY2VzJzogJ01lZGlhRGV2aWNlcycgaW4gd2luZG93LA0KICAgICAgICAgICAgICAgICAgICAnQ3JlZGVudGlhbCc6ICdDcmVkZW50aWFsJyBpbiB3aW5kb3csDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlS2V5cyA9IE9iamVjdC5rZXlzKGZlYXR1cmVzKTsNCiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRTZXQgPSBuZXcgU2V0KFsNCiAgICAgICAgICAgICAgICAgICAgJ1JUQ1J0cFRyYW5zY2VpdmVyJywNCiAgICAgICAgICAgICAgICAgICAgJ01lZGlhRGV2aWNlcycsDQogICAgICAgICAgICAgICAgICAgICdDcmVkZW50aWFsJywNCiAgICAgICAgICAgICAgICBdKTsNCiAgICAgICAgICAgICAgICBjb25zdCB0b3JCcm93c2VyID0gZmVhdHVyZUtleXMuZmlsdGVyKChrZXkpID0+IHRhcmdldFNldC5oYXMoa2V5KSAmJiAhZmVhdHVyZXNba2V5XSkubGVuZ3RoID09IHRhcmdldFNldC5zaXplOw0KICAgICAgICAgICAgICAgIGNvbnN0IHNhZmVyID0gIWZlYXR1cmVzLldlYkFzc2VtYmx5Ow0KICAgICAgICAgICAgICAgIGRhdGEucHJpdmFjeSA9IHRvckJyb3dzZXIgPyAnVG9yIEJyb3dzZXInIDogJ0ZpcmVmb3gnOw0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICBkYXRhLnNlY3VyaXR5ID0gew0KICAgICAgICAgICAgICAgICAgICAncmVkdWNlVGltZXJQcmVjaXNpb24nOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAuLi5mZWF0dXJlcywNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGRhdGEubW9kZSA9ICghdG9yQnJvd3NlciA/ICdyZXNpc3RGaW5nZXJwcmludGluZycgOg0KICAgICAgICAgICAgICAgICAgICBzYWZlciA/ICdzYWZlcicgOg0KICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBleHRlbnNpb24NCiAgICAgICAgICAgIC8vIC0gdGhpcyB0ZWNobmlxdWUgZ2V0cyBhIHNtYWxsIHNhbXBsZSBvZiBrbm93biBsaWUgcGF0dGVybnMNCiAgICAgICAgICAgIC8vIC0gcGF0dGVybnMgdmFyeSBiYXNlZCBvbiBleHRlbnNpb25zIHNldHRpbmdzLCB2ZXJzaW9uLCBicm93c2VyDQogICAgICAgICAgICBjb25zdCBwcm90b3R5cGVMaWVzTGVuID0gT2JqZWN0LmtleXMocHJvdG90eXBlTGllcykubGVuZ3RoOw0KICAgICAgICAgICAgLy8gcGF0dGVybnMgYmFzZWQgb24gc2V0dGluZ3MNCiAgICAgICAgICAgIGNvbnN0IGRpc2FibGVkID0gJ2M3Njc3MTJiJzsNCiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSB7DQogICAgICAgICAgICAgICAgbm9zY3JpcHQ6IHsNCiAgICAgICAgICAgICAgICAgICAgY29udGVudERvY3VtZW50SGFzaDogWycwYjYzN2EzMycsICczN2UyZjMyZScsICczMTgzOTBkMSddLA0KICAgICAgICAgICAgICAgICAgICBjb250ZW50V2luZG93SGFzaDogWycwYjYzN2EzMycsICczN2UyZjMyZScsICczMTgzOTBkMSddLA0KICAgICAgICAgICAgICAgICAgICBnZXRDb250ZXh0SGFzaDogWycwYjYzN2EzMycsICcwODFkNmQxYicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHRyYWNlOiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnREb2N1bWVudEhhc2g6IFsnY2E5ZDljMmYnXSwNCiAgICAgICAgICAgICAgICAgICAgY29udGVudFdpbmRvd0hhc2g6IFsnY2E5ZDljMmYnXSwNCiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudEhhc2g6IFsnNzdkZWE4MzQnXSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0RWxlbWVudEJ5SWRIYXNoOiBbJzc3ZGVhODM0J10sDQogICAgICAgICAgICAgICAgICAgIGdldEltYWdlRGF0YUhhc2g6IFsnNzdkZWE4MzQnXSwNCiAgICAgICAgICAgICAgICAgICAgdG9CbG9iSGFzaDogWyc3N2RlYTgzNCcsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgdG9EYXRhVVJMSGFzaDogWyc3N2RlYTgzNCcsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGN5ZGVjOiB7DQogICAgICAgICAgICAgICAgICAgIC8vIFtGRiwgRkYgQW50aSBPRkYsIENocm9tZSwgQ2hyb21lIEFudGkgT2ZmLCBubyBpZnJhbWUgQ2hyb21lLCBubyBpZnJhbWUgQ2hyb21lIEFudGkgT2ZmXQ0KICAgICAgICAgICAgICAgICAgICBjb250ZW50RG9jdW1lbnRIYXNoOiBbJzk0NWIwYzc4JywgJzE1NzcxZWZhJywgJzQwM2ExYTIxJywgJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnRXaW5kb3dIYXNoOiBbJzk0NWIwYzc4JywgJzE1NzcxZWZhJywgJzQwM2ExYTIxJywgJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnRIYXNoOiBbJzNkZDg2ZDZmJywgJ2NjN2NiNTk4JywgJzQyMzdiNDRjJywgJzE0NjZhYWYwJywgJzBjYjBjNjgyJywgJzczYzY2MmQ5JywgJzcyYjFlZTJiJywgJ2FlM2QwMmM5J10sDQogICAgICAgICAgICAgICAgICAgIGdldEVsZW1lbnRCeUlkSGFzaDogWyczZGQ4NmQ2ZicsICdjYzdjYjU5OCcsICc0MjM3YjQ0YycsICcxNDY2YWFmMCcsICcwY2IwYzY4MicsICc3M2M2NjJkOScsICc3MmIxZWUyYicsICdhZTNkMDJjOSddLA0KICAgICAgICAgICAgICAgICAgICBnZXRJbWFnZURhdGFIYXNoOiBbJzA0NGYxNGMyJywgJ2RiNjBkN2Y5JywgJzE1NzcxZWZhJywgJ2RiNjBkN2Y5JywgJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIHRvQmxvYkhhc2g6IFsnMDQ0ZjE0YzInLCAnMTU3NzFlZmEnLCAnYWZlYzM0OGQnLCAnNTVlOWI5NTknLCAnMGRiYmY0NTYnXSwNCiAgICAgICAgICAgICAgICAgICAgdG9EYXRhVVJMSGFzaDogWydlY2I0OThkOScsICcxNTc3MWVmYScsICc2YjgzOGZiNicsICdkMTkxMDRlYycsICc2OTg1ZDMxNScsICc1NWU5Yjk1OScsICdmZTg4MjU5ZiddLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgY2FudmFzYmxvY2tlcjogew0KICAgICAgICAgICAgICAgICAgICBjb250ZW50RG9jdW1lbnRIYXNoOiBbJzk4ZWM4NThlJywgJ2RiYmFmMzFmJ10sDQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnRXaW5kb3dIYXNoOiBbJzk4ZWM4NThlJywgJ2RiYmFmMzFmJ10sDQogICAgICAgICAgICAgICAgICAgIGFwcGVuZEhhc2g6IFsnOThlYzg1OGUnLCAnZGJiYWYzMWYnXSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0SW1hZ2VEYXRhSGFzaDogWyc5OGVjODU4ZScsICdhMjk3MTg4OCcsICdkYmJhZjMxZicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgdG9CbG9iSGFzaDogWyc5ZjFjM2RmZScsICdhMjk3MTg4OCcsICdkYmJhZjMxZicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgdG9EYXRhVVJMSGFzaDogWyc5OGVjODU4ZScsICdhMjk3MTg4OCcsICdkYmJhZjMxZicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGNoYW1lbGVvbjogew0KICAgICAgICAgICAgICAgICAgICBhcHBlbmRIYXNoOiBbJzc3ZGVhODM0J10sDQogICAgICAgICAgICAgICAgICAgIGluc2VydEFkamFjZW50RWxlbWVudEhhc2g6IFsnNzdkZWE4MzQnXSwNCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QWRqYWNlbnRIVE1MSGFzaDogWyc3N2RlYTgzNCddLA0KICAgICAgICAgICAgICAgICAgICBpbnNlcnRBZGphY2VudFRleHRIYXNoOiBbJzc3ZGVhODM0J10sDQogICAgICAgICAgICAgICAgICAgIHByZXBlbmRIYXNoOiBbJzc3ZGVhODM0J10sDQogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VXaXRoSGFzaDogWyc3N2RlYTgzNCddLA0KICAgICAgICAgICAgICAgICAgICBhcHBlbmRDaGlsZEhhc2g6IFsnNzdkZWE4MzQnXSwNCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlSGFzaDogWyc3N2RlYTgzNCddLA0KICAgICAgICAgICAgICAgICAgICByZXBsYWNlQ2hpbGRIYXNoOiBbJzc3ZGVhODM0J10sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBkdWNrZHVja2dvOiB7DQogICAgICAgICAgICAgICAgICAgIHRvRGF0YVVSTEhhc2g6IFsnZmQwMGJmNWQnLCAnOGVlN2RmMjInLCBkaXNhYmxlZF0sDQogICAgICAgICAgICAgICAgICAgIHRvQmxvYkhhc2g6IFsnZmQwMGJmNWQnLCAnOGVlN2RmMjInLCBkaXNhYmxlZF0sDQogICAgICAgICAgICAgICAgICAgIGdldEltYWdlRGF0YUhhc2g6IFsnZmQwMGJmNWQnLCAnOGVlN2RmMjInLCBkaXNhYmxlZF0sDQogICAgICAgICAgICAgICAgICAgIGdldEJ5dGVGcmVxdWVuY3lEYXRhSGFzaDogWydmZDAwYmY1ZCcsICc4ZWU3ZGYyMicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0Qnl0ZVRpbWVEb21haW5EYXRhSGFzaDogWydmZDAwYmY1ZCcsICc4ZWU3ZGYyMicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0RmxvYXRGcmVxdWVuY3lEYXRhSGFzaDogWydmZDAwYmY1ZCcsICc4ZWU3ZGYyMicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0RmxvYXRUaW1lRG9tYWluRGF0YUhhc2g6IFsnZmQwMGJmNWQnLCAnOGVlN2RmMjInLCBkaXNhYmxlZF0sDQogICAgICAgICAgICAgICAgICAgIGNvcHlGcm9tQ2hhbm5lbEhhc2g6IFsnZmQwMGJmNWQnLCAnOGVlN2RmMjInLCBkaXNhYmxlZF0sDQogICAgICAgICAgICAgICAgICAgIGdldENoYW5uZWxEYXRhSGFzaDogWydmZDAwYmY1ZCcsICc4ZWU3ZGYyMicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgaGFyZHdhcmVDb25jdXJyZW5jeUhhc2g6IFsnZGZkNDFhYjQnXSwNCiAgICAgICAgICAgICAgICAgICAgYXZhaWxIZWlnaHRIYXNoOiBbJ2RmZDQxYWI0J10sDQogICAgICAgICAgICAgICAgICAgIGF2YWlsTGVmdEhhc2g6IFsnZGZkNDFhYjQnXSwNCiAgICAgICAgICAgICAgICAgICAgYXZhaWxUb3BIYXNoOiBbJ2RmZDQxYWI0J10sDQogICAgICAgICAgICAgICAgICAgIGF2YWlsV2lkdGhIYXNoOiBbJ2RmZDQxYWI0J10sDQogICAgICAgICAgICAgICAgICAgIGNvbG9yRGVwdGhIYXNoOiBbJ2RmZDQxYWI0J10sDQogICAgICAgICAgICAgICAgICAgIHBpeGVsRGVwdGhIYXNoOiBbJ2RmZDQxYWI0J10sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAvLyBtb2RlOiBMZWFybiB0byBibG9jayBuZXcgdHJhY2tlcnMgZnJvbSB5b3VyIGJyb3dzaW5nDQogICAgICAgICAgICAgICAgcHJpdmFjeWJhZGdlcjogew0KICAgICAgICAgICAgICAgICAgICBnZXRJbWFnZURhdGFIYXNoOiBbJzBjYjBjNjgyJ10sDQogICAgICAgICAgICAgICAgICAgIHRvRGF0YVVSTEhhc2g6IFsnMGNiMGM2ODInXSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHByaXZhY3lwb3NzdW06IHsNCiAgICAgICAgICAgICAgICAgICAgaGFyZHdhcmVDb25jdXJyZW5jeUhhc2g6IFsnNDUyOTI0ZDUnXSwNCiAgICAgICAgICAgICAgICAgICAgYXZhaWxXaWR0aEhhc2g6IFsnNDUyOTI0ZDUnXSwNCiAgICAgICAgICAgICAgICAgICAgY29sb3JEZXB0aEhhc2g6IFsnNDUyOTI0ZDUnXSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGpzaGVsdGVyOiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnREb2N1bWVudEhhc2g6IFsnMDAwN2FiNGUnLCAnMGI2MzdhMzMnLCAnODY2ZmE3ZTcnLCAnMzE4MzkwZDEnXSwNCiAgICAgICAgICAgICAgICAgICAgY29udGVudFdpbmRvd0hhc2g6IFsnMDAwN2FiNGUnLCAnMGI2MzdhMzMnLCAnODY2ZmE3ZTcnLCAnMzE4MzkwZDEnXSwNCiAgICAgICAgICAgICAgICAgICAgYXBwZW5kSGFzaDogWycwMDA3YWI0ZScsICcwYjYzN2EzMycsICc4NjZmYTdlNycsICczMTgzOTBkMSddLA0KICAgICAgICAgICAgICAgICAgICBpbnNlcnRBZGphY2VudEVsZW1lbnRIYXNoOiBbJzAwMDdhYjRlJywgJzBiNjM3YTMzJywgJzg2NmZhN2U3JywgJzMxODM5MGQxJ10sDQogICAgICAgICAgICAgICAgICAgIGluc2VydEFkamFjZW50SFRNTEhhc2g6IFsnMDAwN2FiNGUnLCAnMGI2MzdhMzMnLCAnODY2ZmE3ZTcnLCAnMzE4MzkwZDEnXSwNCiAgICAgICAgICAgICAgICAgICAgcHJlcGVuZEhhc2g6IFsnMDAwN2FiNGUnLCAnMGI2MzdhMzMnLCAnODY2ZmE3ZTcnLCAnMzE4MzkwZDEnXSwNCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZVdpdGhIYXNoOiBbJzAwMDdhYjRlJywgJzBiNjM3YTMzJywgJzg2NmZhN2U3JywgJzMxODM5MGQxJ10sDQogICAgICAgICAgICAgICAgICAgIGFwcGVuZENoaWxkSGFzaDogWycwMDA3YWI0ZScsICcwYjYzN2EzMycsICc4NjZmYTdlNycsICczMTgzOTBkMSddLA0KICAgICAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmVIYXNoOiBbJzAwMDdhYjRlJywgJzBiNjM3YTMzJywgJzg2NmZhN2U3JywgJzMxODM5MGQxJ10sDQogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VDaGlsZEhhc2g6IFsnMDAwN2FiNGUnLCAnMGI2MzdhMzMnLCAnODY2ZmE3ZTcnLCAnMzE4MzkwZDEnXSwNCiAgICAgICAgICAgICAgICAgICAgaGFyZHdhcmVDb25jdXJyZW5jeUhhc2g6IFsnZGZkNDFhYjQnXSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHB1cHBldGVlckV4dHJhOiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnREb2N1bWVudEhhc2g6IFsnNTVlOWI5NTknXSwNCiAgICAgICAgICAgICAgICAgICAgY29udGVudFdpbmRvd0hhc2g6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgICc1NWU5Yjk1OScsDQogICAgICAgICAgICAgICAgICAgICAgICAnNTBhMjgxYjUnLCAvLyBAMi4xMC4wDQogICAgICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnRIYXNoOiBbJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIGdldEVsZW1lbnRCeUlkSGFzaDogWyc1NWU5Yjk1OSddLA0KICAgICAgICAgICAgICAgICAgICBhcHBlbmRIYXNoOiBbJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIGluc2VydEFkamFjZW50RWxlbWVudEhhc2g6IFsnNTVlOWI5NTknXSwNCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QWRqYWNlbnRIVE1MSGFzaDogWyc1NWU5Yjk1OSddLA0KICAgICAgICAgICAgICAgICAgICBpbnNlcnRBZGphY2VudFRleHRIYXNoOiBbJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIHByZXBlbmRIYXNoOiBbJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VXaXRoSGFzaDogWyc1NWU5Yjk1OSddLA0KICAgICAgICAgICAgICAgICAgICBhcHBlbmRDaGlsZEhhc2g6IFsnNTVlOWI5NTknXSwNCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlSGFzaDogWyc1NWU5Yjk1OSddLA0KICAgICAgICAgICAgICAgICAgICByZXBsYWNlQ2hpbGRIYXNoOiBbJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIGdldENvbnRleHRIYXNoOiBbJzU1ZTliOTU5JywgZGlzYWJsZWRdLA0KICAgICAgICAgICAgICAgICAgICB0b0RhdGFVUkxIYXNoOiBbJzU1ZTliOTU5JywgZGlzYWJsZWRdLA0KICAgICAgICAgICAgICAgICAgICB0b0Jsb2JIYXNoOiBbJzU1ZTliOTU5JywgZGlzYWJsZWRdLA0KICAgICAgICAgICAgICAgICAgICBnZXRJbWFnZURhdGFIYXNoOiBbJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIGhhcmR3YXJlQ29uY3VycmVuY3lIYXNoOiBbJ2VmYmQ0Y2Y5JywgJ2E2MzQ5MWZiJywgJ2IwMTFmZDFjJywgJzE5NGVjZjE3JywgJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBmYWtlQnJvd3Nlcjogew0KICAgICAgICAgICAgICAgICAgICBhcHBlbmRDaGlsZEhhc2g6IFsnOGRmZWMyZWMnLCAnZjQzZTYxMzQnXSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0Q29udGV4dEhhc2g6IFsnODNiODI1YWInLCAnYTYzNDkxZmInXSwNCiAgICAgICAgICAgICAgICAgICAgdG9EYXRhVVJMSGFzaDogWyc4M2I4MjVhYicsICdhNjM0OTFmYiddLA0KICAgICAgICAgICAgICAgICAgICB0b0Jsb2JIYXNoOiBbJzgzYjgyNWFiJywgJ2E2MzQ5MWZiJ10sDQogICAgICAgICAgICAgICAgICAgIGdldEltYWdlRGF0YUhhc2g6IFsnODNiODI1YWInLCAnYTYzNDkxZmInXSwNCiAgICAgICAgICAgICAgICAgICAgaGFyZHdhcmVDb25jdXJyZW5jeUhhc2g6IFsnODNiODI1YWInLCAnYTYzNDkxZmInXSwNCiAgICAgICAgICAgICAgICAgICAgYXZhaWxIZWlnaHRIYXNoOiBbJzgzYjgyNWFiJywgJ2E2MzQ5MWZiJ10sDQogICAgICAgICAgICAgICAgICAgIGF2YWlsTGVmdEhhc2g6IFsnODNiODI1YWInLCAnYTYzNDkxZmInXSwNCiAgICAgICAgICAgICAgICAgICAgYXZhaWxUb3BIYXNoOiBbJzgzYjgyNWFiJywgJ2E2MzQ5MWZiJ10sDQogICAgICAgICAgICAgICAgICAgIGF2YWlsV2lkdGhIYXNoOiBbJzgzYjgyNWFiJywgJ2E2MzQ5MWZiJ10sDQogICAgICAgICAgICAgICAgICAgIGNvbG9yRGVwdGhIYXNoOiBbJzgzYjgyNWFiJywgJ2E2MzQ5MWZiJ10sDQogICAgICAgICAgICAgICAgICAgIHBpeGVsRGVwdGhIYXNoOiBbJzgzYjgyNWFiJywgJ2E2MzQ5MWZiJ10sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvKg0KICAgICAgICAgICAgUmFuZG9tIFVzZXItQWdlbnQNCiAgICAgICAgICAgIFVzZXIgQWdlbnQgU3dpdGNoZXIgYW5kIE1hbmFnZXINCiAgICAgICAgICAgIFNjcmlwdFNhZmUNCiAgICAgICAgICAgIFdpbmRzY3JpYmUNCiAgICAgICAgICAgICovDQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IGhhc2ggPSB7DQogICAgICAgICAgICAgICAgLy8gaWZyYW1lcw0KICAgICAgICAgICAgICAgIGNvbnRlbnREb2N1bWVudEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0hUTUxJRnJhbWVFbGVtZW50LmNvbnRlbnREb2N1bWVudCddKSwNCiAgICAgICAgICAgICAgICBjb250ZW50V2luZG93SGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snSFRNTElGcmFtZUVsZW1lbnQuY29udGVudFdpbmRvdyddKSwNCiAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50SGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snRG9jdW1lbnQuY3JlYXRlRWxlbWVudCddKSwNCiAgICAgICAgICAgICAgICBnZXRFbGVtZW50QnlJZEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0RvY3VtZW50LmdldEVsZW1lbnRCeUlkJ10pLA0KICAgICAgICAgICAgICAgIGFwcGVuZEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0VsZW1lbnQuYXBwZW5kJ10pLA0KICAgICAgICAgICAgICAgIGluc2VydEFkamFjZW50RWxlbWVudEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0VsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50J10pLA0KICAgICAgICAgICAgICAgIGluc2VydEFkamFjZW50SFRNTEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0VsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MJ10pLA0KICAgICAgICAgICAgICAgIGluc2VydEFkamFjZW50VGV4dEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0VsZW1lbnQuaW5zZXJ0QWRqYWNlbnRUZXh0J10pLA0KICAgICAgICAgICAgICAgIHByZXBlbmRIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydFbGVtZW50LnByZXBlbmQnXSksDQogICAgICAgICAgICAgICAgcmVwbGFjZVdpdGhIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydFbGVtZW50LnJlcGxhY2VXaXRoJ10pLA0KICAgICAgICAgICAgICAgIGFwcGVuZENoaWxkSGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snTm9kZS5hcHBlbmRDaGlsZCddKSwNCiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmVIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydOb2RlLmluc2VydEJlZm9yZSddKSwNCiAgICAgICAgICAgICAgICByZXBsYWNlQ2hpbGRIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydOb2RlLnJlcGxhY2VDaGlsZCddKSwNCiAgICAgICAgICAgICAgICAvLyBjYW52YXMNCiAgICAgICAgICAgICAgICBnZXRDb250ZXh0SGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snSFRNTENhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCddKSwNCiAgICAgICAgICAgICAgICB0b0RhdGFVUkxIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydIVE1MQ2FudmFzRWxlbWVudC50b0RhdGFVUkwnXSksDQogICAgICAgICAgICAgICAgdG9CbG9iSGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snSFRNTENhbnZhc0VsZW1lbnQudG9CbG9iJ10pLA0KICAgICAgICAgICAgICAgIGdldEltYWdlRGF0YUhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5nZXRJbWFnZURhdGEnXSksDQogICAgICAgICAgICAgICAgLy8gQXVkaW8NCiAgICAgICAgICAgICAgICBnZXRCeXRlRnJlcXVlbmN5RGF0YUhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0FuYWx5c2VyTm9kZS5nZXRCeXRlRnJlcXVlbmN5RGF0YSddKSwNCiAgICAgICAgICAgICAgICBnZXRCeXRlVGltZURvbWFpbkRhdGFIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydBbmFseXNlck5vZGUuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhJ10pLA0KICAgICAgICAgICAgICAgIGdldEZsb2F0RnJlcXVlbmN5RGF0YUhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0FuYWx5c2VyTm9kZS5nZXRGbG9hdEZyZXF1ZW5jeURhdGEnXSksDQogICAgICAgICAgICAgICAgZ2V0RmxvYXRUaW1lRG9tYWluRGF0YUhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0FuYWx5c2VyTm9kZS5nZXRGbG9hdFRpbWVEb21haW5EYXRhJ10pLA0KICAgICAgICAgICAgICAgIGNvcHlGcm9tQ2hhbm5lbEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0F1ZGlvQnVmZmVyLmNvcHlGcm9tQ2hhbm5lbCddKSwNCiAgICAgICAgICAgICAgICBnZXRDaGFubmVsRGF0YUhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0F1ZGlvQnVmZmVyLmdldENoYW5uZWxEYXRhJ10pLA0KICAgICAgICAgICAgICAgIC8vIEhhcmR3YXJlDQogICAgICAgICAgICAgICAgaGFyZHdhcmVDb25jdXJyZW5jeUhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ05hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5J10pLA0KICAgICAgICAgICAgICAgIC8vIFNjcmVlbg0KICAgICAgICAgICAgICAgIGF2YWlsSGVpZ2h0SGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snU2NyZWVuLmF2YWlsSGVpZ2h0J10pLA0KICAgICAgICAgICAgICAgIGF2YWlsTGVmdEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ1NjcmVlbi5hdmFpbExlZnQnXSksDQogICAgICAgICAgICAgICAgYXZhaWxUb3BIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydTY3JlZW4uYXZhaWxUb3AnXSksDQogICAgICAgICAgICAgICAgYXZhaWxXaWR0aEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ1NjcmVlbi5hdmFpbFdpZHRoJ10pLA0KICAgICAgICAgICAgICAgIGNvbG9yRGVwdGhIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydTY3JlZW4uY29sb3JEZXB0aCddKSwNCiAgICAgICAgICAgICAgICBwaXhlbERlcHRoSGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snU2NyZWVuLnBpeGVsRGVwdGgnXSksDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgZGF0YS5leHRlbnNpb25IYXNoUGF0dGVybiA9IE9iamVjdC5rZXlzKGhhc2gpLnJlZHVjZSgoYWNjLCBrZXkpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBoYXNoW2tleV07DQogICAgICAgICAgICAgICAgaWYgKHZhbCA9PSBkaXNhYmxlZCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBhY2Nba2V5LnJlcGxhY2UoJ0hhc2gnLCAnJyldID0gdmFsOw0KICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICB9LCB7fSk7DQogICAgICAgICAgICBjb25zdCBnZXRFeHRlbnNpb24gPSAoeyBwYXR0ZXJuLCBoYXNoLCBwcm90b3R5cGVMaWVzTGVuIH0pID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCB7IG5vc2NyaXB0LCB0cmFjZSwgY3lkZWMsIGNhbnZhc2Jsb2NrZXIsIGNoYW1lbGVvbiwgZHVja2R1Y2tnbywgcHJpdmFjeWJhZGdlciwgcHJpdmFjeXBvc3N1bSwganNoZWx0ZXIsIHB1cHBldGVlckV4dHJhLCBmYWtlQnJvd3NlciwgfSA9IHBhdHRlcm47DQogICAgICAgICAgICAgICAgY29uc3QgZGlzYWJsZWQgPSAnYzc2NzcxMmInOw0KICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuID49IDcgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlLmNvbnRlbnREb2N1bWVudEhhc2guaW5jbHVkZXMoaGFzaC5jb250ZW50RG9jdW1lbnRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2UuY29udGVudFdpbmRvd0hhc2guaW5jbHVkZXMoaGFzaC5jb250ZW50V2luZG93SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlLmNyZWF0ZUVsZW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guY3JlYXRlRWxlbWVudEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICB0cmFjZS5nZXRFbGVtZW50QnlJZEhhc2guaW5jbHVkZXMoaGFzaC5nZXRFbGVtZW50QnlJZEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICB0cmFjZS50b0RhdGFVUkxIYXNoLmluY2x1ZGVzKGhhc2gudG9EYXRhVVJMSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlLnRvQmxvYkhhc2guaW5jbHVkZXMoaGFzaC50b0Jsb2JIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2UuZ2V0SW1hZ2VEYXRhSGFzaC5pbmNsdWRlcyhoYXNoLmdldEltYWdlRGF0YUhhc2gpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1RyYWNlJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAocHJvdG90eXBlTGllc0xlbiA+PSA3ICYmDQogICAgICAgICAgICAgICAgICAgICAgICBjeWRlYy5jb250ZW50RG9jdW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudERvY3VtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGN5ZGVjLmNvbnRlbnRXaW5kb3dIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudFdpbmRvd0hhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBjeWRlYy5jcmVhdGVFbGVtZW50SGFzaC5pbmNsdWRlcyhoYXNoLmNyZWF0ZUVsZW1lbnRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgY3lkZWMuZ2V0RWxlbWVudEJ5SWRIYXNoLmluY2x1ZGVzKGhhc2guZ2V0RWxlbWVudEJ5SWRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgY3lkZWMudG9EYXRhVVJMSGFzaC5pbmNsdWRlcyhoYXNoLnRvRGF0YVVSTEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBjeWRlYy50b0Jsb2JIYXNoLmluY2x1ZGVzKGhhc2gudG9CbG9iSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGN5ZGVjLmdldEltYWdlRGF0YUhhc2guaW5jbHVkZXMoaGFzaC5nZXRJbWFnZURhdGFIYXNoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdDeURlYyc7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvdHlwZUxpZXNMZW4gPj0gNiAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzYmxvY2tlci5jb250ZW50RG9jdW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudERvY3VtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc2Jsb2NrZXIuY29udGVudFdpbmRvd0hhc2guaW5jbHVkZXMoaGFzaC5jb250ZW50V2luZG93SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc2Jsb2NrZXIuYXBwZW5kSGFzaC5pbmNsdWRlcyhoYXNoLmFwcGVuZEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNibG9ja2VyLnRvRGF0YVVSTEhhc2guaW5jbHVkZXMoaGFzaC50b0RhdGFVUkxIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzYmxvY2tlci50b0Jsb2JIYXNoLmluY2x1ZGVzKGhhc2gudG9CbG9iSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc2Jsb2NrZXIuZ2V0SW1hZ2VEYXRhSGFzaC5pbmNsdWRlcyhoYXNoLmdldEltYWdlRGF0YUhhc2gpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0NhbnZhc0Jsb2NrZXInOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuID49IDkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1lbGVvbi5hcHBlbmRIYXNoLmluY2x1ZGVzKGhhc2guYXBwZW5kSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1lbGVvbi5pbnNlcnRBZGphY2VudEVsZW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guaW5zZXJ0QWRqYWNlbnRFbGVtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1lbGVvbi5pbnNlcnRBZGphY2VudEhUTUxIYXNoLmluY2x1ZGVzKGhhc2guaW5zZXJ0QWRqYWNlbnRIVE1MSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1lbGVvbi5pbnNlcnRBZGphY2VudFRleHRIYXNoLmluY2x1ZGVzKGhhc2guaW5zZXJ0QWRqYWNlbnRUZXh0SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1lbGVvbi5wcmVwZW5kSGFzaC5pbmNsdWRlcyhoYXNoLnByZXBlbmRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgY2hhbWVsZW9uLnJlcGxhY2VXaXRoSGFzaC5pbmNsdWRlcyhoYXNoLnJlcGxhY2VXaXRoSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1lbGVvbi5hcHBlbmRDaGlsZEhhc2guaW5jbHVkZXMoaGFzaC5hcHBlbmRDaGlsZEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBjaGFtZWxlb24uaW5zZXJ0QmVmb3JlSGFzaC5pbmNsdWRlcyhoYXNoLmluc2VydEJlZm9yZUhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBjaGFtZWxlb24ucmVwbGFjZUNoaWxkSGFzaC5pbmNsdWRlcyhoYXNoLnJlcGxhY2VDaGlsZEhhc2gpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0NoYW1lbGVvbic7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvdHlwZUxpZXNMZW4gPj0gNyAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby50b0RhdGFVUkxIYXNoLmluY2x1ZGVzKGhhc2gudG9EYXRhVVJMSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1Y2tkdWNrZ28udG9CbG9iSGFzaC5pbmNsdWRlcyhoYXNoLnRvQmxvYkhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBkdWNrZHVja2dvLmdldEltYWdlRGF0YUhhc2guaW5jbHVkZXMoaGFzaC5nZXRJbWFnZURhdGFIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby5nZXRCeXRlRnJlcXVlbmN5RGF0YUhhc2guaW5jbHVkZXMoaGFzaC5nZXRCeXRlRnJlcXVlbmN5RGF0YUhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBkdWNrZHVja2dvLmdldEJ5dGVUaW1lRG9tYWluRGF0YUhhc2guaW5jbHVkZXMoaGFzaC5nZXRCeXRlVGltZURvbWFpbkRhdGFIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby5nZXRGbG9hdEZyZXF1ZW5jeURhdGFIYXNoLmluY2x1ZGVzKGhhc2guZ2V0RmxvYXRGcmVxdWVuY3lEYXRhSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1Y2tkdWNrZ28uZ2V0RmxvYXRUaW1lRG9tYWluRGF0YUhhc2guaW5jbHVkZXMoaGFzaC5nZXRGbG9hdFRpbWVEb21haW5EYXRhSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1Y2tkdWNrZ28uY29weUZyb21DaGFubmVsSGFzaC5pbmNsdWRlcyhoYXNoLmNvcHlGcm9tQ2hhbm5lbEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBkdWNrZHVja2dvLmdldENoYW5uZWxEYXRhSGFzaC5pbmNsdWRlcyhoYXNoLmdldENoYW5uZWxEYXRhSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1Y2tkdWNrZ28uaGFyZHdhcmVDb25jdXJyZW5jeUhhc2guaW5jbHVkZXMoaGFzaC5oYXJkd2FyZUNvbmN1cnJlbmN5SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1Y2tkdWNrZ28uYXZhaWxIZWlnaHRIYXNoLmluY2x1ZGVzKGhhc2guYXZhaWxIZWlnaHRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby5hdmFpbExlZnRIYXNoLmluY2x1ZGVzKGhhc2guYXZhaWxMZWZ0SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1Y2tkdWNrZ28uYXZhaWxUb3BIYXNoLmluY2x1ZGVzKGhhc2guYXZhaWxUb3BIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby5hdmFpbFdpZHRoSGFzaC5pbmNsdWRlcyhoYXNoLmF2YWlsV2lkdGhIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby5jb2xvckRlcHRoSGFzaC5pbmNsdWRlcyhoYXNoLmNvbG9yRGVwdGhIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby5waXhlbERlcHRoSGFzaC5pbmNsdWRlcyhoYXNoLnBpeGVsRGVwdGhIYXNoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdEdWNrRHVja0dvJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAocHJvdG90eXBlTGllc0xlbiA+PSAyICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwcml2YWN5YmFkZ2VyLmdldEltYWdlRGF0YUhhc2guaW5jbHVkZXMoaGFzaC5nZXRJbWFnZURhdGFIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpdmFjeWJhZGdlci50b0RhdGFVUkxIYXNoLmluY2x1ZGVzKGhhc2gudG9EYXRhVVJMSGFzaCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnUHJpdmFjeSBCYWRnZXInOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuID49IDMgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaXZhY3lwb3NzdW0uaGFyZHdhcmVDb25jdXJyZW5jeUhhc2guaW5jbHVkZXMoaGFzaC5oYXJkd2FyZUNvbmN1cnJlbmN5SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaXZhY3lwb3NzdW0uYXZhaWxXaWR0aEhhc2guaW5jbHVkZXMoaGFzaC5hdmFpbFdpZHRoSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaXZhY3lwb3NzdW0uY29sb3JEZXB0aEhhc2guaW5jbHVkZXMoaGFzaC5jb2xvckRlcHRoSGFzaCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnUHJpdmFjeSBQb3NzdW0nOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuID49IDIgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vc2NyaXB0LmNvbnRlbnREb2N1bWVudEhhc2guaW5jbHVkZXMoaGFzaC5jb250ZW50RG9jdW1lbnRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgbm9zY3JpcHQuY29udGVudFdpbmRvd0hhc2guaW5jbHVkZXMoaGFzaC5jb250ZW50RG9jdW1lbnRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgbm9zY3JpcHQuZ2V0Q29udGV4dEhhc2guaW5jbHVkZXMoaGFzaC5nZXRDb250ZXh0SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc3Rpbmd1aXNoIE5vU2NyaXB0IGZyb20gSlNoZWx0ZXINCiAgICAgICAgICAgICAgICAgICAgICAgIGhhc2guaGFyZHdhcmVDb25jdXJyZW5jeUhhc2ggPT0gZGlzYWJsZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnTm9TY3JpcHQnOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuID49IDE0ICYmDQogICAgICAgICAgICAgICAgICAgICAgICBqc2hlbHRlci5jb250ZW50RG9jdW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudERvY3VtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGpzaGVsdGVyLmNvbnRlbnRXaW5kb3dIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudERvY3VtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGpzaGVsdGVyLmFwcGVuZEhhc2guaW5jbHVkZXMoaGFzaC5hcHBlbmRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAganNoZWx0ZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50SGFzaC5pbmNsdWRlcyhoYXNoLmluc2VydEFkamFjZW50RWxlbWVudEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBqc2hlbHRlci5pbnNlcnRBZGphY2VudEhUTUxIYXNoLmluY2x1ZGVzKGhhc2guaW5zZXJ0QWRqYWNlbnRIVE1MSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGpzaGVsdGVyLnByZXBlbmRIYXNoLmluY2x1ZGVzKGhhc2gucHJlcGVuZEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBqc2hlbHRlci5yZXBsYWNlV2l0aEhhc2guaW5jbHVkZXMoaGFzaC5yZXBsYWNlV2l0aEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBqc2hlbHRlci5hcHBlbmRDaGlsZEhhc2guaW5jbHVkZXMoaGFzaC5hcHBlbmRDaGlsZEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBqc2hlbHRlci5pbnNlcnRCZWZvcmVIYXNoLmluY2x1ZGVzKGhhc2guaW5zZXJ0QmVmb3JlSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGpzaGVsdGVyLnJlcGxhY2VDaGlsZEhhc2guaW5jbHVkZXMoaGFzaC5yZXBsYWNlQ2hpbGRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAganNoZWx0ZXIuaGFyZHdhcmVDb25jdXJyZW5jeUhhc2guaW5jbHVkZXMoaGFzaC5oYXJkd2FyZUNvbmN1cnJlbmN5SGFzaCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnSlNoZWx0ZXInOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuID49IDEzICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwdXBwZXRlZXJFeHRyYS5jb250ZW50RG9jdW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudERvY3VtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHB1cHBldGVlckV4dHJhLmNvbnRlbnRXaW5kb3dIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudFdpbmRvd0hhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwdXBwZXRlZXJFeHRyYS5jcmVhdGVFbGVtZW50SGFzaC5pbmNsdWRlcyhoYXNoLmNyZWF0ZUVsZW1lbnRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEuZ2V0RWxlbWVudEJ5SWRIYXNoLmluY2x1ZGVzKGhhc2guZ2V0RWxlbWVudEJ5SWRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEuYXBwZW5kSGFzaC5pbmNsdWRlcyhoYXNoLmFwcGVuZEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwdXBwZXRlZXJFeHRyYS5pbnNlcnRBZGphY2VudEVsZW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guaW5zZXJ0QWRqYWNlbnRFbGVtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHB1cHBldGVlckV4dHJhLmluc2VydEFkamFjZW50SFRNTEhhc2guaW5jbHVkZXMoaGFzaC5pbnNlcnRBZGphY2VudEhUTUxIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEuaW5zZXJ0QWRqYWNlbnRUZXh0SGFzaC5pbmNsdWRlcyhoYXNoLmluc2VydEFkamFjZW50VGV4dEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwdXBwZXRlZXJFeHRyYS5wcmVwZW5kSGFzaC5pbmNsdWRlcyhoYXNoLnByZXBlbmRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEucmVwbGFjZVdpdGhIYXNoLmluY2x1ZGVzKGhhc2gucmVwbGFjZVdpdGhIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEuYXBwZW5kQ2hpbGRIYXNoLmluY2x1ZGVzKGhhc2guYXBwZW5kQ2hpbGRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEuaW5zZXJ0QmVmb3JlSGFzaC5pbmNsdWRlcyhoYXNoLmluc2VydEJlZm9yZUhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwdXBwZXRlZXJFeHRyYS5jb250ZW50RG9jdW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudERvY3VtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHB1cHBldGVlckV4dHJhLnJlcGxhY2VDaGlsZEhhc2guaW5jbHVkZXMoaGFzaC5yZXBsYWNlQ2hpbGRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEuZ2V0Q29udGV4dEhhc2guaW5jbHVkZXMoaGFzaC5nZXRDb250ZXh0SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHB1cHBldGVlckV4dHJhLnRvRGF0YVVSTEhhc2guaW5jbHVkZXMoaGFzaC50b0RhdGFVUkxIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEudG9CbG9iSGFzaC5pbmNsdWRlcyhoYXNoLnRvQmxvYkhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwdXBwZXRlZXJFeHRyYS5nZXRJbWFnZURhdGFIYXNoLmluY2x1ZGVzKGhhc2guZ2V0SW1hZ2VEYXRhSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHB1cHBldGVlckV4dHJhLmhhcmR3YXJlQ29uY3VycmVuY3lIYXNoLmluY2x1ZGVzKGhhc2guaGFyZHdhcmVDb25jdXJyZW5jeUhhc2gpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3B1cHBldGVlci1leHRyYSc7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvdHlwZUxpZXNMZW4gPj0gMTIgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGZha2VCcm93c2VyLmFwcGVuZENoaWxkSGFzaC5pbmNsdWRlcyhoYXNoLmFwcGVuZENoaWxkSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGZha2VCcm93c2VyLmdldENvbnRleHRIYXNoLmluY2x1ZGVzKGhhc2guZ2V0Q29udGV4dEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBmYWtlQnJvd3Nlci50b0RhdGFVUkxIYXNoLmluY2x1ZGVzKGhhc2gudG9EYXRhVVJMSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGZha2VCcm93c2VyLnRvQmxvYkhhc2guaW5jbHVkZXMoaGFzaC50b0Jsb2JIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZmFrZUJyb3dzZXIuZ2V0SW1hZ2VEYXRhSGFzaC5pbmNsdWRlcyhoYXNoLmdldEltYWdlRGF0YUhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBmYWtlQnJvd3Nlci5oYXJkd2FyZUNvbmN1cnJlbmN5SGFzaC5pbmNsdWRlcyhoYXNoLmhhcmR3YXJlQ29uY3VycmVuY3lIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZmFrZUJyb3dzZXIuYXZhaWxIZWlnaHRIYXNoLmluY2x1ZGVzKGhhc2guYXZhaWxIZWlnaHRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZmFrZUJyb3dzZXIuYXZhaWxMZWZ0SGFzaC5pbmNsdWRlcyhoYXNoLmF2YWlsTGVmdEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBmYWtlQnJvd3Nlci5hdmFpbFRvcEhhc2guaW5jbHVkZXMoaGFzaC5hdmFpbFRvcEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBmYWtlQnJvd3Nlci5hdmFpbFdpZHRoSGFzaC5pbmNsdWRlcyhoYXNoLmF2YWlsV2lkdGhIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZmFrZUJyb3dzZXIuY29sb3JEZXB0aEhhc2guaW5jbHVkZXMoaGFzaC5jb2xvckRlcHRoSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGZha2VCcm93c2VyLnBpeGVsRGVwdGhIYXNoLmluY2x1ZGVzKGhhc2gucGl4ZWxEZXB0aEhhc2gpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0Zha2VCcm93c2VyJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBkYXRhLmV4dGVuc2lvbiA9IGdldEV4dGVuc2lvbih7IHBhdHRlcm4sIGhhc2gsIHByb3RvdHlwZUxpZXNMZW4gfSk7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGltZTogdGltZXIuc3RvcCgpLCB0ZXN0OiAncmVzaXN0YW5jZScsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiBkYXRhOw0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdyZXNpc3RhbmNlJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgZnVuY3Rpb24gaGFzVG91Y2goKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gJ29udG91Y2hzdGFydCcgaW4gd2luZG93ICYmICEhZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ1RvdWNoRXZlbnQnKTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQogICAgYXN5bmMgZnVuY3Rpb24gZ2V0U2NyZWVuKGxvZyA9IHRydWUpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIHRpbWVyLnN0YXJ0KCk7DQogICAgICAgICAgICBsZXQgbGllZCA9IChsaWVQcm9wc1snU2NyZWVuLndpZHRoJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snU2NyZWVuLmhlaWdodCddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1NjcmVlbi5hdmFpbFdpZHRoJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snU2NyZWVuLmF2YWlsSGVpZ2h0J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snU2NyZWVuLmNvbG9yRGVwdGgnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydTY3JlZW4ucGl4ZWxEZXB0aCddKSB8fCBmYWxzZTsNCiAgICAgICAgICAgIGNvbnN0IHMgPSAod2luZG93LnNjcmVlbiB8fCB7fSk7DQogICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0LCBjb2xvckRlcHRoLCBwaXhlbERlcHRoLCB9ID0gczsNCiAgICAgICAgICAgIGNvbnN0IGRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDA7DQogICAgICAgICAgICBjb25zdCBmaXJlZm94V2l0aEhpZ2hEUFIgPSBJU19HRUNLTyAmJiAoZHByICE9IDEpOw0KICAgICAgICAgICAgaWYgKCFmaXJlZm94V2l0aEhpZ2hEUFIpIHsNCiAgICAgICAgICAgICAgICAvLyBmaXJlZm94IHdpdGggaGlnaCBkcHIgcmVxdWlyZXMgZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGRpbWVuc2lvbnMNCiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaE1lZGlhTGllID0gIW1hdGNoTWVkaWEoYChkZXZpY2Utd2lkdGg6ICR7d2lkdGh9cHgpIGFuZCAoZGV2aWNlLWhlaWdodDogJHtoZWlnaHR9cHgpYCkubWF0Y2hlczsNCiAgICAgICAgICAgICAgICBpZiAobWF0Y2hNZWRpYUxpZSkgew0KICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ1NjcmVlbicsICdmYWlsZWQgbWF0Y2hNZWRpYScpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGhhc0xpZWREUFIgPSAhbWF0Y2hNZWRpYShgKHJlc29sdXRpb246ICR7ZHByfWRwcHgpYCkubWF0Y2hlczsNCiAgICAgICAgICAgIGlmICghSVNfV0VCS0lUICYmIGhhc0xpZWREUFIpIHsNCiAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnV2luZG93LmRldmljZVBpeGVsUmF0aW8nLCAnbGllZCBkcHInKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IG5vVGFza2JhciA9ICEod2lkdGggLSBhdmFpbFdpZHRoIHx8IGhlaWdodCAtIGF2YWlsSGVpZ2h0KTsNCiAgICAgICAgICAgIGlmICh3aWR0aCA+IDgwMCAmJiBub1Rhc2tiYXIpIHsNCiAgICAgICAgICAgICAgICBMb3dlckVudHJvcHkuU0NSRUVOID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7DQogICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgaGVpZ2h0LA0KICAgICAgICAgICAgICAgIGF2YWlsV2lkdGgsDQogICAgICAgICAgICAgICAgYXZhaWxIZWlnaHQsDQogICAgICAgICAgICAgICAgY29sb3JEZXB0aCwNCiAgICAgICAgICAgICAgICBwaXhlbERlcHRoLA0KICAgICAgICAgICAgICAgIHRvdWNoOiBoYXNUb3VjaCgpLA0KICAgICAgICAgICAgICAgIGxpZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgbG9nICYmIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdzY3JlZW4nLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4gZGF0YTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZyAmJiBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ3NjcmVlbicsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIGdldFZvaWNlcygpIHsNCiAgICAgICAgLy8gRG9uJ3QgcnVuIHZvaWNlIGltbWVkaWF0ZWx5LiBUaGlzIGlzIHVuc3RhYmxlDQogICAgICAgIC8vIHdhaXQgYSBiaXQgZm9yIHNlcnZpY2VzIHRvIGxvYWQNCiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSh1bmRlZmluZWQpLCA1MCkpOw0KICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpOw0KICAgICAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgICAgIC8vIHVzZSB3aW5kb3cgc2luY2UgaWZyYW1lIGlzIHVuc3RhYmxlIGluIEZGDQogICAgICAgICAgICAgICAgY29uc3Qgc3VwcG9ydGVkID0gJ3NwZWVjaFN5bnRoZXNpcycgaW4gd2luZG93Ow0KICAgICAgICAgICAgICAgIHN1cHBvcnRlZCAmJiBzcGVlY2hTeW50aGVzaXMuZ2V0Vm9pY2VzKCk7IC8vIHdhcm0gdXANCiAgICAgICAgICAgICAgICBpZiAoIXN1cHBvcnRlZCkgew0KICAgICAgICAgICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ3NwZWVjaCcsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zdCB2b2ljZXNMaWUgPSAhIWxpZVByb3BzWydTcGVlY2hTeW50aGVzaXMuZ2V0Vm9pY2VzJ107DQogICAgICAgICAgICAgICAgY29uc3QgZ2l2ZVVwT25Wb2ljZXMgPSBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdzcGVlY2gnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTsNCiAgICAgICAgICAgICAgICB9LCAzMDApOw0KICAgICAgICAgICAgICAgIGNvbnN0IGdldFZvaWNlcyA9ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHNwZWVjaFN5bnRoZXNpcy5nZXRWb2ljZXMoKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxTZXJ2aWNlRGlkTG9hZCA9IChkYXRhIHx8IFtdKS5maW5kKCh4KSA9PiB4LmxvY2FsU2VydmljZSk7DQogICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSB8fCAhZGF0YS5sZW5ndGggfHwgKElTX0JMSU5LICYmICFsb2NhbFNlcnZpY2VEaWRMb2FkKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChnaXZlVXBPblZvaWNlcyk7DQogICAgICAgICAgICAgICAgICAgIC8vIGZpbHRlciBmaXJzdCBvY2N1cnJlbmNlIG9mIHVuaXF1ZSB2b2ljZVVSSSBkYXRhDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldFVuaXF1ZXMgPSAoZGF0YSwgdm9pY2VVUklTZXQpID0+IGRhdGENCiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdm9pY2VVUkkgfSA9IHg7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZvaWNlVVJJU2V0Lmhhcyh2b2ljZVVSSSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2ljZVVSSVNldC5hZGQodm9pY2VVUkkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YVVuaXF1ZSA9IGdldFVuaXF1ZXMoZGF0YSwgbmV3IFNldCgpKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly93aWNnLmdpdGh1Yi5pby9zcGVlY2gtYXBpLyNzcGVlY2hzeW50aGVzaXN2b2ljZS1hdHRyaWJ1dGVzDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsID0gZGF0YVVuaXF1ZS5maWx0ZXIoKHgpID0+IHgubG9jYWxTZXJ2aWNlKS5tYXAoKHgpID0+IHgubmFtZSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZSA9IGRhdGFVbmlxdWUuZmlsdGVyKCh4KSA9PiAheC5sb2NhbFNlcnZpY2UpLm1hcCgoeCkgPT4geC5uYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFuZ3VhZ2VzID0gWy4uLm5ldyBTZXQoZGF0YVVuaXF1ZS5tYXAoKHgpID0+IHgubGFuZykpXTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdExvY2FsVm9pY2VzID0gZGF0YVVuaXF1ZS5maWx0ZXIoKHgpID0+IHguZGVmYXVsdCAmJiB4LmxvY2FsU2VydmljZSk7DQogICAgICAgICAgICAgICAgICAgIGxldCBkZWZhdWx0Vm9pY2VOYW1lID0gJyc7DQogICAgICAgICAgICAgICAgICAgIGxldCBkZWZhdWx0Vm9pY2VMYW5nID0gJyc7DQogICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0TG9jYWxWb2ljZXMubGVuZ3RoID09PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIGxhbmcgfSA9IGRlZmF1bHRMb2NhbFZvaWNlc1swXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWb2ljZU5hbWUgPSBuYW1lOw0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZvaWNlTGFuZyA9IChsYW5nIHx8ICcnKS5yZXBsYWNlKC9fLywgJy0nKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbmV3LWNhcA0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGxvY2FsZTogbG9jYWxlTGFuZyB9ID0gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFZvaWNlTGFuZyAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZvaWNlTGFuZy5zcGxpdCgnLScpWzBdICE9PSBsb2NhbGVMYW5nLnNwbGl0KCctJylbMF0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgbm90IHRyYXNoDQogICAgICAgICAgICAgICAgICAgICAgICBBbmFseXNpcy52b2ljZUxhbmdNaXNtYXRjaCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBMb3dlckVudHJvcHkuVElNRV9aT05FID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGltZTogdGltZXIuc3RvcCgpLCB0ZXN0OiAnc3BlZWNoJywgcGFzc2VkOiB0cnVlIH0pOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7DQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlcywNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWb2ljZU5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Vm9pY2VMYW5nLA0KICAgICAgICAgICAgICAgICAgICAgICAgbGllZDogdm9pY2VzTGllLA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGdldFZvaWNlcygpOw0KICAgICAgICAgICAgICAgIGlmIChzcGVlY2hTeW50aGVzaXMuYWRkRXZlbnRMaXN0ZW5lcikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3BlZWNoU3ludGhlc2lzLmFkZEV2ZW50TGlzdGVuZXIoJ3ZvaWNlc2NoYW5nZWQnLCBnZXRWb2ljZXMpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBzcGVlY2hTeW50aGVzaXMub252b2ljZXNjaGFuZ2VkID0gZ2V0Vm9pY2VzOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdzcGVlY2gnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBnZXRTVkcoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGxldCBsaWVkID0gKGxpZVByb3BzWydTVkdSZWN0LmhlaWdodCddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1NWR1JlY3Qud2lkdGgnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydTVkdSZWN0LngnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydTVkdSZWN0LnknXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydTdHJpbmcuZnJvbUNvZGVQb2ludCddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1NWR1JlY3RFbGVtZW50LmdldEJCb3gnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydTVkdUZXh0Q29udGVudEVsZW1lbnQuZ2V0RXh0ZW50T2ZDaGFyJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snU1ZHVGV4dENvbnRlbnRFbGVtZW50LmdldFN1YlN0cmluZ0xlbmd0aCddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1NWR1RleHRDb250ZW50RWxlbWVudC5nZXRDb21wdXRlZFRleHRMZW5ndGgnXSkgfHwgZmFsc2U7DQogICAgICAgICAgICBjb25zdCBkb2MgPSAoUEhBTlRPTV9EQVJLTkVTUyAmJg0KICAgICAgICAgICAgICAgIFBIQU5UT01fREFSS05FU1MuZG9jdW1lbnQgJiYNCiAgICAgICAgICAgICAgICBQSEFOVE9NX0RBUktORVNTLmRvY3VtZW50LmJvZHkgPyBQSEFOVE9NX0RBUktORVNTLmRvY3VtZW50IDoNCiAgICAgICAgICAgICAgICBkb2N1bWVudCk7DQogICAgICAgICAgICBjb25zdCBkaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICBkb2MuYm9keS5hcHBlbmRDaGlsZChkaXZFbGVtZW50KTsNCiAgICAgICAgICAgIC8vIHBhdGNoIGRpdg0KICAgICAgICAgICAgcGF0Y2goZGl2RWxlbWVudCwgaHRtbCBgDQoJCQk8ZGl2IGlkPSJzdmctY29udGFpbmVyIj4NCgkJCQk8c3R5bGU+DQoJCQkJI3N2Zy1jb250YWluZXIgew0KCQkJCQlwb3NpdGlvbjogYWJzb2x1dGU7DQoJCQkJCWxlZnQ6IC05OTk5cHg7DQoJCQkJCWhlaWdodDogYXV0bzsNCgkJCQl9DQoJCQkJI3N2Zy1jb250YWluZXIgLnNoaWZ0LXN2ZyB7DQoJCQkJCXRyYW5zZm9ybTogc2NhbGUoMS4wMDA5OTkpICFpbXBvcnRhbnQ7DQoJCQkJfQ0KCQkJCS5zdmdyZWN0LWVtb2ppIHsNCgkJCQkJZm9udC1mYW1pbHk6ICR7Q1NTX0ZPTlRfRkFNSUxZfTsNCgkJCQkJZm9udC1zaXplOiAyMDBweCAhaW1wb3J0YW50Ow0KCQkJCQloZWlnaHQ6IGF1dG87DQoJCQkJCXBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50Ow0KCQkJCQl0cmFuc2Zvcm06IHNjYWxlKDEuMDAwOTk5KTsNCgkJCQl9DQoJCQkJPC9zdHlsZT4NCgkJCQk8c3ZnPg0KCQkJCQk8ZyBpZD0ic3ZnQm94Ij4NCgkJCQkJCSR7RU1PSklTLm1hcCgoZW1vamkpID0+IHsNCiAgICAgICAgICAgIHJldHVybiBgPHRleHQgeD0iMzIiIHk9IjMyIiBjbGFzcz0ic3ZncmVjdC1lbW9qaSI+JHtlbW9qaX08L3RleHQ+YDsNCiAgICAgICAgfSkuam9pbignJyl9DQoJCQkJCTwvZz4NCgkJCQk8L3N2Zz4NCgkJCTwvZGl2Pg0KCQlgKTsNCiAgICAgICAgICAgIC8vIFNWRw0KICAgICAgICAgICAgY29uc3QgcmVkdWNlVG9PYmplY3QgPSAobmF0aXZlT2JqKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG5hdGl2ZU9iai5fX3Byb3RvX18pOw0KICAgICAgICAgICAgICAgIHJldHVybiBrZXlzLnJlZHVjZSgoYWNjLCBrZXkpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gbmF0aXZlT2JqW2tleV07DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTWV0aG9kID0gdHlwZW9mIHZhbCA9PSAnZnVuY3Rpb24nOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNNZXRob2QgPyBhY2MgOiB7IC4uLmFjYywgW2tleV06IHZhbCB9Ow0KICAgICAgICAgICAgICAgIH0sIHt9KTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCByZWR1Y2VUb1N1bSA9IChuYXRpdmVPYmopID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobmF0aXZlT2JqLl9fcHJvdG9fXyk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGtleXMucmVkdWNlKChhY2MsIGtleSkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBuYXRpdmVPYmpba2V5XTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzTmFOKHZhbCkgPyBhY2MgOiAoYWNjICs9IHZhbCk7DQogICAgICAgICAgICAgICAgfSwgMCk7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgZ2V0T2JqZWN0U3VtID0gKG9iaikgPT4gIW9iaiA/IDAgOiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZSgoYWNjLCBrZXkpID0+IGFjYyArPSBNYXRoLmFicyhvYmpba2V5XSksIDApOw0KICAgICAgICAgICAgLy8gU1ZHUmVjdA0KICAgICAgICAgICAgY29uc3Qgc3ZnQm94ID0gZG9jLmdldEVsZW1lbnRCeUlkKCdzdmdCb3gnKTsNCiAgICAgICAgICAgIGNvbnN0IGJCb3ggPSByZWR1Y2VUb09iamVjdChzdmdCb3guZ2V0QkJveCgpKTsNCiAgICAgICAgICAgIC8vIGNvbXB1dGUgU1ZHUmVjdCBlbW9qaXMNCiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgU2V0KCk7DQogICAgICAgICAgICBjb25zdCBzdmdFbGVtcyA9IFsuLi5zdmdCb3guZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3ZncmVjdC1lbW9qaScpXTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgZW1vamlTZXQgPSBzdmdFbGVtcy5yZWR1Y2UoKGVtb2ppU2V0LCBlbCwgaSkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IGVtb2ppID0gRU1PSklTW2ldOw0KICAgICAgICAgICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSAnJyArIGVsLmdldENvbXB1dGVkVGV4dExlbmd0aCgpOw0KICAgICAgICAgICAgICAgIGlmICghcGF0dGVybi5oYXMoZGltZW5zaW9ucykpIHsNCiAgICAgICAgICAgICAgICAgICAgcGF0dGVybi5hZGQoZGltZW5zaW9ucyk7DQogICAgICAgICAgICAgICAgICAgIGVtb2ppU2V0LmFkZChlbW9qaSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBlbW9qaVNldDsNCiAgICAgICAgICAgIH0sIG5ldyBTZXQoKSk7DQogICAgICAgICAgICAvLyBzdmdSZWN0IFN5c3RlbSBTdW0NCiAgICAgICAgICAgIGNvbnN0IHN2Z3JlY3RTeXN0ZW1TdW0gPSAwLjAwMDAxICogWy4uLnBhdHRlcm5dLm1hcCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiB4LnNwbGl0KCcsJykucmVkdWNlKChhY2MsIHgpID0+IGFjYyArPSAoK3ggfHwgMCksIDApOw0KICAgICAgICAgICAgfSkucmVkdWNlKChhY2MsIHgpID0+IGFjYyArPSB4LCAwKTsNCiAgICAgICAgICAgIC8vIGRldGVjdCBmYWlsZWQgc2hpZnQgY2FsY3VsYXRpb24NCiAgICAgICAgICAgIGNvbnN0IHN2Z0Vtb2ppRWwgPSBzdmdFbGVtc1swXTsNCiAgICAgICAgICAgIGNvbnN0IGluaXRpYWwgPSBzdmdFbW9qaUVsLmdldENvbXB1dGVkVGV4dExlbmd0aCgpOw0KICAgICAgICAgICAgc3ZnRW1vamlFbC5jbGFzc0xpc3QuYWRkKCdzaGlmdC1zdmcnKTsNCiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ZWQgPSBzdmdFbW9qaUVsLmdldENvbXB1dGVkVGV4dExlbmd0aCgpOw0KICAgICAgICAgICAgc3ZnRW1vamlFbC5jbGFzc0xpc3QucmVtb3ZlKCdzaGlmdC1zdmcnKTsNCiAgICAgICAgICAgIGNvbnN0IHVuc2hpZnRlZCA9IHN2Z0Vtb2ppRWwuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCk7DQogICAgICAgICAgICBpZiAoKGluaXRpYWwgLSBzaGlmdGVkKSAhPSAodW5zaGlmdGVkIC0gc2hpZnRlZCkpIHsNCiAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnU1ZHVGV4dENvbnRlbnRFbGVtZW50LmdldENvbXB1dGVkVGV4dExlbmd0aCcsICdmYWlsZWQgdW5zaGlmdCBjYWxjdWxhdGlvbicpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICBiQm94OiBnZXRPYmplY3RTdW0oYkJveCksDQogICAgICAgICAgICAgICAgZXh0ZW50T2ZDaGFyOiByZWR1Y2VUb1N1bShzdmdFbGVtc1swXS5nZXRFeHRlbnRPZkNoYXIoRU1PSklTWzBdKSksDQogICAgICAgICAgICAgICAgc3ViU3RyaW5nTGVuZ3RoOiBzdmdFbGVtc1swXS5nZXRTdWJTdHJpbmdMZW5ndGgoMCwgMTApLA0KICAgICAgICAgICAgICAgIGNvbXB1dGVkVGV4dExlbmd0aDogc3ZnRWxlbXNbMF0uZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCksDQogICAgICAgICAgICAgICAgZW1vamlTZXQ6IFsuLi5lbW9qaVNldF0sDQogICAgICAgICAgICAgICAgc3ZncmVjdFN5c3RlbVN1bSwNCiAgICAgICAgICAgICAgICBsaWVkLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGRvYy5ib2R5LnJlbW92ZUNoaWxkKGRvYy5nZXRFbGVtZW50QnlJZCgnc3ZnLWNvbnRhaW5lcicpKTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdzdmcnLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4gZGF0YTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnc3ZnJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgZnVuY3Rpb24gZ2V0VGltZXpvbmUoKSB7DQogICAgICAgIC8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vYXJrZW5mb3guZ2l0aHViLmlvL1RaUA0KICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnZvL3R6ZGIvYmxvYi9tYXN0ZXIvdGltZS16b25lcy1uYW1lcy5qc29uDQogICAgICAgIGNvbnN0IGNpdGllcyA9IFsNCiAgICAgICAgICAgICdVVEMnLA0KICAgICAgICAgICAgJ0dNVCcsDQogICAgICAgICAgICAnRXRjL0dNVCswJywNCiAgICAgICAgICAgICdFdGMvR01UKzEnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQrMTAnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQrMTEnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQrMTInLA0KICAgICAgICAgICAgJ0V0Yy9HTVQrMicsDQogICAgICAgICAgICAnRXRjL0dNVCszJywNCiAgICAgICAgICAgICdFdGMvR01UKzQnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQrNScsDQogICAgICAgICAgICAnRXRjL0dNVCs2JywNCiAgICAgICAgICAgICdFdGMvR01UKzcnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQrOCcsDQogICAgICAgICAgICAnRXRjL0dNVCs5JywNCiAgICAgICAgICAgICdFdGMvR01ULTEnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtMTAnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtMTEnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtMTInLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtMTMnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtMTQnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtMicsDQogICAgICAgICAgICAnRXRjL0dNVC0zJywNCiAgICAgICAgICAgICdFdGMvR01ULTQnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtNScsDQogICAgICAgICAgICAnRXRjL0dNVC02JywNCiAgICAgICAgICAgICdFdGMvR01ULTcnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtOCcsDQogICAgICAgICAgICAnRXRjL0dNVC05JywNCiAgICAgICAgICAgICdFdGMvR01UJywNCiAgICAgICAgICAgICdBZnJpY2EvQWJpZGphbicsDQogICAgICAgICAgICAnQWZyaWNhL0FjY3JhJywNCiAgICAgICAgICAgICdBZnJpY2EvQWRkaXNfQWJhYmEnLA0KICAgICAgICAgICAgJ0FmcmljYS9BbGdpZXJzJywNCiAgICAgICAgICAgICdBZnJpY2EvQXNtYXJhJywNCiAgICAgICAgICAgICdBZnJpY2EvQmFtYWtvJywNCiAgICAgICAgICAgICdBZnJpY2EvQmFuZ3VpJywNCiAgICAgICAgICAgICdBZnJpY2EvQmFuanVsJywNCiAgICAgICAgICAgICdBZnJpY2EvQmlzc2F1JywNCiAgICAgICAgICAgICdBZnJpY2EvQmxhbnR5cmUnLA0KICAgICAgICAgICAgJ0FmcmljYS9CcmF6emF2aWxsZScsDQogICAgICAgICAgICAnQWZyaWNhL0J1anVtYnVyYScsDQogICAgICAgICAgICAnQWZyaWNhL0NhaXJvJywNCiAgICAgICAgICAgICdBZnJpY2EvQ2FzYWJsYW5jYScsDQogICAgICAgICAgICAnQWZyaWNhL0NldXRhJywNCiAgICAgICAgICAgICdBZnJpY2EvQ29uYWtyeScsDQogICAgICAgICAgICAnQWZyaWNhL0Rha2FyJywNCiAgICAgICAgICAgICdBZnJpY2EvRGFyX2VzX1NhbGFhbScsDQogICAgICAgICAgICAnQWZyaWNhL0RqaWJvdXRpJywNCiAgICAgICAgICAgICdBZnJpY2EvRG91YWxhJywNCiAgICAgICAgICAgICdBZnJpY2EvRWxfQWFpdW4nLA0KICAgICAgICAgICAgJ0FmcmljYS9GcmVldG93bicsDQogICAgICAgICAgICAnQWZyaWNhL0dhYm9yb25lJywNCiAgICAgICAgICAgICdBZnJpY2EvSGFyYXJlJywNCiAgICAgICAgICAgICdBZnJpY2EvSm9oYW5uZXNidXJnJywNCiAgICAgICAgICAgICdBZnJpY2EvSnViYScsDQogICAgICAgICAgICAnQWZyaWNhL0thbXBhbGEnLA0KICAgICAgICAgICAgJ0FmcmljYS9LaGFydG91bScsDQogICAgICAgICAgICAnQWZyaWNhL0tpZ2FsaScsDQogICAgICAgICAgICAnQWZyaWNhL0tpbnNoYXNhJywNCiAgICAgICAgICAgICdBZnJpY2EvTGFnb3MnLA0KICAgICAgICAgICAgJ0FmcmljYS9MaWJyZXZpbGxlJywNCiAgICAgICAgICAgICdBZnJpY2EvTG9tZScsDQogICAgICAgICAgICAnQWZyaWNhL0x1YW5kYScsDQogICAgICAgICAgICAnQWZyaWNhL0x1YnVtYmFzaGknLA0KICAgICAgICAgICAgJ0FmcmljYS9MdXNha2EnLA0KICAgICAgICAgICAgJ0FmcmljYS9NYWxhYm8nLA0KICAgICAgICAgICAgJ0FmcmljYS9NYXB1dG8nLA0KICAgICAgICAgICAgJ0FmcmljYS9NYXNlcnUnLA0KICAgICAgICAgICAgJ0FmcmljYS9NYmFiYW5lJywNCiAgICAgICAgICAgICdBZnJpY2EvTW9nYWRpc2h1JywNCiAgICAgICAgICAgICdBZnJpY2EvTW9ucm92aWEnLA0KICAgICAgICAgICAgJ0FmcmljYS9OYWlyb2JpJywNCiAgICAgICAgICAgICdBZnJpY2EvTmRqYW1lbmEnLA0KICAgICAgICAgICAgJ0FmcmljYS9OaWFtZXknLA0KICAgICAgICAgICAgJ0FmcmljYS9Ob3Vha2Nob3R0JywNCiAgICAgICAgICAgICdBZnJpY2EvT3VhZ2Fkb3Vnb3UnLA0KICAgICAgICAgICAgJ0FmcmljYS9Qb3J0by1Ob3ZvJywNCiAgICAgICAgICAgICdBZnJpY2EvU2FvX1RvbWUnLA0KICAgICAgICAgICAgJ0FmcmljYS9Ucmlwb2xpJywNCiAgICAgICAgICAgICdBZnJpY2EvVHVuaXMnLA0KICAgICAgICAgICAgJ0FmcmljYS9XaW5kaG9laycsDQogICAgICAgICAgICAnQW1lcmljYS9BZGFrJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FuY2hvcmFnZScsDQogICAgICAgICAgICAnQW1lcmljYS9Bbmd1aWxsYScsDQogICAgICAgICAgICAnQW1lcmljYS9BbnRpZ3VhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FyYWd1YWluYScsDQogICAgICAgICAgICAnQW1lcmljYS9BcmdlbnRpbmEvQnVlbm9zX0FpcmVzJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FyZ2VudGluYS9DYXRhbWFyY2EnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvQXJnZW50aW5hL0NvcmRvYmEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvQXJnZW50aW5hL0p1anV5JywNCiAgICAgICAgICAgICdBbWVyaWNhL0FyZ2VudGluYS9MYV9SaW9qYScsDQogICAgICAgICAgICAnQW1lcmljYS9BcmdlbnRpbmEvTWVuZG96YScsDQogICAgICAgICAgICAnQW1lcmljYS9BcmdlbnRpbmEvUmlvX0dhbGxlZ29zJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FyZ2VudGluYS9TYWx0YScsDQogICAgICAgICAgICAnQW1lcmljYS9BcmdlbnRpbmEvU2FuX0p1YW4nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvQXJnZW50aW5hL1Nhbl9MdWlzJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FyZ2VudGluYS9UdWN1bWFuJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FyZ2VudGluYS9Vc2h1YWlhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FydWJhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FzdW5jaW9uJywNCiAgICAgICAgICAgICdBbWVyaWNhL0F0aWtva2FuJywNCiAgICAgICAgICAgICdBbWVyaWNhL0JhaGlhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0JhaGlhX0JhbmRlcmFzJywNCiAgICAgICAgICAgICdBbWVyaWNhL0JhcmJhZG9zJywNCiAgICAgICAgICAgICdBbWVyaWNhL0JlbGVtJywNCiAgICAgICAgICAgICdBbWVyaWNhL0JlbGl6ZScsDQogICAgICAgICAgICAnQW1lcmljYS9CbGFuYy1TYWJsb24nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvQm9hX1Zpc3RhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0JvZ290YScsDQogICAgICAgICAgICAnQW1lcmljYS9Cb2lzZScsDQogICAgICAgICAgICAnQW1lcmljYS9DYW1icmlkZ2VfQmF5JywNCiAgICAgICAgICAgICdBbWVyaWNhL0NhbXBvX0dyYW5kZScsDQogICAgICAgICAgICAnQW1lcmljYS9DYW5jdW4nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvQ2FyYWNhcycsDQogICAgICAgICAgICAnQW1lcmljYS9DYXllbm5lJywNCiAgICAgICAgICAgICdBbWVyaWNhL0NheW1hbicsDQogICAgICAgICAgICAnQW1lcmljYS9DaGljYWdvJywNCiAgICAgICAgICAgICdBbWVyaWNhL0NoaWh1YWh1YScsDQogICAgICAgICAgICAnQW1lcmljYS9Db3N0YV9SaWNhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0NyZXN0b24nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvQ3VpYWJhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0N1cmFjYW8nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRGFubWFya3NoYXZuJywNCiAgICAgICAgICAgICdBbWVyaWNhL0Rhd3NvbicsDQogICAgICAgICAgICAnQW1lcmljYS9EYXdzb25fQ3JlZWsnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRGVudmVyJywNCiAgICAgICAgICAgICdBbWVyaWNhL0RldHJvaXQnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRG9taW5pY2EnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRWRtb250b24nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRWlydW5lcGUnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRWxfU2FsdmFkb3InLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRm9ydF9OZWxzb24nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRm9ydGFsZXphJywNCiAgICAgICAgICAgICdBbWVyaWNhL0dsYWNlX0JheScsDQogICAgICAgICAgICAnQW1lcmljYS9Hb2R0aGFiJywNCiAgICAgICAgICAgICdBbWVyaWNhL0dvb3NlX0JheScsDQogICAgICAgICAgICAnQW1lcmljYS9HcmFuZF9UdXJrJywNCiAgICAgICAgICAgICdBbWVyaWNhL0dyZW5hZGEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvR3VhZGVsb3VwZScsDQogICAgICAgICAgICAnQW1lcmljYS9HdWF0ZW1hbGEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvR3VheWFxdWlsJywNCiAgICAgICAgICAgICdBbWVyaWNhL0d1eWFuYScsDQogICAgICAgICAgICAnQW1lcmljYS9IYWxpZmF4JywNCiAgICAgICAgICAgICdBbWVyaWNhL0hhdmFuYScsDQogICAgICAgICAgICAnQW1lcmljYS9IZXJtb3NpbGxvJywNCiAgICAgICAgICAgICdBbWVyaWNhL0luZGlhbmEvSW5kaWFuYXBvbGlzJywNCiAgICAgICAgICAgICdBbWVyaWNhL0luZGlhbmEvS25veCcsDQogICAgICAgICAgICAnQW1lcmljYS9JbmRpYW5hL01hcmVuZ28nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvSW5kaWFuYS9QZXRlcnNidXJnJywNCiAgICAgICAgICAgICdBbWVyaWNhL0luZGlhbmEvVGVsbF9DaXR5JywNCiAgICAgICAgICAgICdBbWVyaWNhL0luZGlhbmEvVmV2YXknLA0KICAgICAgICAgICAgJ0FtZXJpY2EvSW5kaWFuYS9WaW5jZW5uZXMnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvSW5kaWFuYS9XaW5hbWFjJywNCiAgICAgICAgICAgICdBbWVyaWNhL0ludXZpaycsDQogICAgICAgICAgICAnQW1lcmljYS9JcWFsdWl0JywNCiAgICAgICAgICAgICdBbWVyaWNhL0phbWFpY2EnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvSnVuZWF1JywNCiAgICAgICAgICAgICdBbWVyaWNhL0tlbnR1Y2t5L0xvdWlzdmlsbGUnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvS2VudHVja3kvTW9udGljZWxsbycsDQogICAgICAgICAgICAnQW1lcmljYS9LcmFsZW5kaWprJywNCiAgICAgICAgICAgICdBbWVyaWNhL0xhX1BheicsDQogICAgICAgICAgICAnQW1lcmljYS9MaW1hJywNCiAgICAgICAgICAgICdBbWVyaWNhL0xvc19BbmdlbGVzJywNCiAgICAgICAgICAgICdBbWVyaWNhL0xvd2VyX1ByaW5jZXMnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTWFjZWlvJywNCiAgICAgICAgICAgICdBbWVyaWNhL01hbmFndWEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTWFuYXVzJywNCiAgICAgICAgICAgICdBbWVyaWNhL01hcmlnb3QnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTWFydGluaXF1ZScsDQogICAgICAgICAgICAnQW1lcmljYS9NYXRhbW9yb3MnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTWF6YXRsYW4nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTWVub21pbmVlJywNCiAgICAgICAgICAgICdBbWVyaWNhL01lcmlkYScsDQogICAgICAgICAgICAnQW1lcmljYS9NZXRsYWthdGxhJywNCiAgICAgICAgICAgICdBbWVyaWNhL01leGljb19DaXR5JywNCiAgICAgICAgICAgICdBbWVyaWNhL01pcXVlbG9uJywNCiAgICAgICAgICAgICdBbWVyaWNhL01vbmN0b24nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTW9udGVycmV5JywNCiAgICAgICAgICAgICdBbWVyaWNhL01vbnRldmlkZW8nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTW9udHNlcnJhdCcsDQogICAgICAgICAgICAnQW1lcmljYS9OYXNzYXUnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTmV3X1lvcmsnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTmlwaWdvbicsDQogICAgICAgICAgICAnQW1lcmljYS9Ob21lJywNCiAgICAgICAgICAgICdBbWVyaWNhL05vcm9uaGEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTm9ydGhfRGFrb3RhL0JldWxhaCcsDQogICAgICAgICAgICAnQW1lcmljYS9Ob3J0aF9EYWtvdGEvQ2VudGVyJywNCiAgICAgICAgICAgICdBbWVyaWNhL05vcnRoX0Rha290YS9OZXdfU2FsZW0nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvT2ppbmFnYScsDQogICAgICAgICAgICAnQW1lcmljYS9QYW5hbWEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvUGFuZ25pcnR1bmcnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvUGFyYW1hcmlibycsDQogICAgICAgICAgICAnQW1lcmljYS9QaG9lbml4JywNCiAgICAgICAgICAgICdBbWVyaWNhL1BvcnQtYXUtUHJpbmNlJywNCiAgICAgICAgICAgICdBbWVyaWNhL1BvcnRfb2ZfU3BhaW4nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvUG9ydG9fVmVsaG8nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvUHVlcnRvX1JpY28nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvUHVudGFfQXJlbmFzJywNCiAgICAgICAgICAgICdBbWVyaWNhL1JhaW55X1JpdmVyJywNCiAgICAgICAgICAgICdBbWVyaWNhL1Jhbmtpbl9JbmxldCcsDQogICAgICAgICAgICAnQW1lcmljYS9SZWNpZmUnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvUmVnaW5hJywNCiAgICAgICAgICAgICdBbWVyaWNhL1Jlc29sdXRlJywNCiAgICAgICAgICAgICdBbWVyaWNhL1Jpb19CcmFuY28nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU2FudGFyZW0nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU2FudGlhZ28nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU2FudG9fRG9taW5nbycsDQogICAgICAgICAgICAnQW1lcmljYS9TYW9fUGF1bG8nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU2NvcmVzYnlzdW5kJywNCiAgICAgICAgICAgICdBbWVyaWNhL1NpdGthJywNCiAgICAgICAgICAgICdBbWVyaWNhL1N0X0JhcnRoZWxlbXknLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU3RfSm9obnMnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU3RfS2l0dHMnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU3RfTHVjaWEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU3RfVGhvbWFzJywNCiAgICAgICAgICAgICdBbWVyaWNhL1N0X1ZpbmNlbnQnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU3dpZnRfQ3VycmVudCcsDQogICAgICAgICAgICAnQW1lcmljYS9UZWd1Y2lnYWxwYScsDQogICAgICAgICAgICAnQW1lcmljYS9UaHVsZScsDQogICAgICAgICAgICAnQW1lcmljYS9UaHVuZGVyX0JheScsDQogICAgICAgICAgICAnQW1lcmljYS9UaWp1YW5hJywNCiAgICAgICAgICAgICdBbWVyaWNhL1Rvcm9udG8nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvVG9ydG9sYScsDQogICAgICAgICAgICAnQW1lcmljYS9WYW5jb3V2ZXInLA0KICAgICAgICAgICAgJ0FtZXJpY2EvV2hpdGVob3JzZScsDQogICAgICAgICAgICAnQW1lcmljYS9XaW5uaXBlZycsDQogICAgICAgICAgICAnQW1lcmljYS9ZYWt1dGF0JywNCiAgICAgICAgICAgICdBbWVyaWNhL1llbGxvd2tuaWZlJywNCiAgICAgICAgICAgICdBbnRhcmN0aWNhL0Nhc2V5JywNCiAgICAgICAgICAgICdBbnRhcmN0aWNhL0RhdmlzJywNCiAgICAgICAgICAgICdBbnRhcmN0aWNhL0R1bW9udERVcnZpbGxlJywNCiAgICAgICAgICAgICdBbnRhcmN0aWNhL01hY3F1YXJpZScsDQogICAgICAgICAgICAnQW50YXJjdGljYS9NYXdzb24nLA0KICAgICAgICAgICAgJ0FudGFyY3RpY2EvTWNNdXJkbycsDQogICAgICAgICAgICAnQW50YXJjdGljYS9QYWxtZXInLA0KICAgICAgICAgICAgJ0FudGFyY3RpY2EvUm90aGVyYScsDQogICAgICAgICAgICAnQW50YXJjdGljYS9TeW93YScsDQogICAgICAgICAgICAnQW50YXJjdGljYS9Ucm9sbCcsDQogICAgICAgICAgICAnQW50YXJjdGljYS9Wb3N0b2snLA0KICAgICAgICAgICAgJ0FyY3RpYy9Mb25neWVhcmJ5ZW4nLA0KICAgICAgICAgICAgJ0FzaWEvQWRlbicsDQogICAgICAgICAgICAnQXNpYS9BbG1hdHknLA0KICAgICAgICAgICAgJ0FzaWEvQW1tYW4nLA0KICAgICAgICAgICAgJ0FzaWEvQW5hZHlyJywNCiAgICAgICAgICAgICdBc2lhL0FxdGF1JywNCiAgICAgICAgICAgICdBc2lhL0FxdG9iZScsDQogICAgICAgICAgICAnQXNpYS9Bc2hnYWJhdCcsDQogICAgICAgICAgICAnQXNpYS9BdHlyYXUnLA0KICAgICAgICAgICAgJ0FzaWEvQmFnaGRhZCcsDQogICAgICAgICAgICAnQXNpYS9CYWhyYWluJywNCiAgICAgICAgICAgICdBc2lhL0Jha3UnLA0KICAgICAgICAgICAgJ0FzaWEvQmFuZ2tvaycsDQogICAgICAgICAgICAnQXNpYS9CYXJuYXVsJywNCiAgICAgICAgICAgICdBc2lhL0JlaXJ1dCcsDQogICAgICAgICAgICAnQXNpYS9CaXNoa2VrJywNCiAgICAgICAgICAgICdBc2lhL0JydW5laScsDQogICAgICAgICAgICAnQXNpYS9DYWxjdXR0YScsDQogICAgICAgICAgICAnQXNpYS9DaGl0YScsDQogICAgICAgICAgICAnQXNpYS9DaG9pYmFsc2FuJywNCiAgICAgICAgICAgICdBc2lhL0NvbG9tYm8nLA0KICAgICAgICAgICAgJ0FzaWEvRGFtYXNjdXMnLA0KICAgICAgICAgICAgJ0FzaWEvRGhha2EnLA0KICAgICAgICAgICAgJ0FzaWEvRGlsaScsDQogICAgICAgICAgICAnQXNpYS9EdWJhaScsDQogICAgICAgICAgICAnQXNpYS9EdXNoYW5iZScsDQogICAgICAgICAgICAnQXNpYS9GYW1hZ3VzdGEnLA0KICAgICAgICAgICAgJ0FzaWEvR2F6YScsDQogICAgICAgICAgICAnQXNpYS9IZWJyb24nLA0KICAgICAgICAgICAgJ0FzaWEvSG9fQ2hpX01pbmgnLA0KICAgICAgICAgICAgJ0FzaWEvSG9uZ19Lb25nJywNCiAgICAgICAgICAgICdBc2lhL0hvdmQnLA0KICAgICAgICAgICAgJ0FzaWEvSXJrdXRzaycsDQogICAgICAgICAgICAnQXNpYS9KYWthcnRhJywNCiAgICAgICAgICAgICdBc2lhL0pheWFwdXJhJywNCiAgICAgICAgICAgICdBc2lhL0plcnVzYWxlbScsDQogICAgICAgICAgICAnQXNpYS9LYWJ1bCcsDQogICAgICAgICAgICAnQXNpYS9LYW1jaGF0a2EnLA0KICAgICAgICAgICAgJ0FzaWEvS2FyYWNoaScsDQogICAgICAgICAgICAnQXNpYS9LYXRobWFuZHUnLA0KICAgICAgICAgICAgJ0FzaWEvS2hhbmR5Z2EnLA0KICAgICAgICAgICAgJ0FzaWEvS29sa2F0YScsDQogICAgICAgICAgICAnQXNpYS9LcmFzbm95YXJzaycsDQogICAgICAgICAgICAnQXNpYS9LdWFsYV9MdW1wdXInLA0KICAgICAgICAgICAgJ0FzaWEvS3VjaGluZycsDQogICAgICAgICAgICAnQXNpYS9LdXdhaXQnLA0KICAgICAgICAgICAgJ0FzaWEvTWFjYXUnLA0KICAgICAgICAgICAgJ0FzaWEvTWFnYWRhbicsDQogICAgICAgICAgICAnQXNpYS9NYWthc3NhcicsDQogICAgICAgICAgICAnQXNpYS9NYW5pbGEnLA0KICAgICAgICAgICAgJ0FzaWEvTXVzY2F0JywNCiAgICAgICAgICAgICdBc2lhL05pY29zaWEnLA0KICAgICAgICAgICAgJ0FzaWEvTm92b2t1em5ldHNrJywNCiAgICAgICAgICAgICdBc2lhL05vdm9zaWJpcnNrJywNCiAgICAgICAgICAgICdBc2lhL09tc2snLA0KICAgICAgICAgICAgJ0FzaWEvT3JhbCcsDQogICAgICAgICAgICAnQXNpYS9QaG5vbV9QZW5oJywNCiAgICAgICAgICAgICdBc2lhL1BvbnRpYW5haycsDQogICAgICAgICAgICAnQXNpYS9QeW9uZ3lhbmcnLA0KICAgICAgICAgICAgJ0FzaWEvUWF0YXInLA0KICAgICAgICAgICAgJ0FzaWEvUW9zdGFuYXknLA0KICAgICAgICAgICAgJ0FzaWEvUXl6eWxvcmRhJywNCiAgICAgICAgICAgICdBc2lhL1JpeWFkaCcsDQogICAgICAgICAgICAnQXNpYS9TYWtoYWxpbicsDQogICAgICAgICAgICAnQXNpYS9TYW1hcmthbmQnLA0KICAgICAgICAgICAgJ0FzaWEvU2VvdWwnLA0KICAgICAgICAgICAgJ0FzaWEvU2hhbmdoYWknLA0KICAgICAgICAgICAgJ0FzaWEvU2luZ2Fwb3JlJywNCiAgICAgICAgICAgICdBc2lhL1NyZWRuZWtvbHltc2snLA0KICAgICAgICAgICAgJ0FzaWEvVGFpcGVpJywNCiAgICAgICAgICAgICdBc2lhL1Rhc2hrZW50JywNCiAgICAgICAgICAgICdBc2lhL1RiaWxpc2knLA0KICAgICAgICAgICAgJ0FzaWEvVGVocmFuJywNCiAgICAgICAgICAgICdBc2lhL1RoaW1waHUnLA0KICAgICAgICAgICAgJ0FzaWEvVG9reW8nLA0KICAgICAgICAgICAgJ0FzaWEvVG9tc2snLA0KICAgICAgICAgICAgJ0FzaWEvVWxhYW5iYWF0YXInLA0KICAgICAgICAgICAgJ0FzaWEvVXJ1bXFpJywNCiAgICAgICAgICAgICdBc2lhL1VzdC1OZXJhJywNCiAgICAgICAgICAgICdBc2lhL1ZpZW50aWFuZScsDQogICAgICAgICAgICAnQXNpYS9WbGFkaXZvc3RvaycsDQogICAgICAgICAgICAnQXNpYS9ZYWt1dHNrJywNCiAgICAgICAgICAgICdBc2lhL1lhbmdvbicsDQogICAgICAgICAgICAnQXNpYS9ZZWthdGVyaW5idXJnJywNCiAgICAgICAgICAgICdBc2lhL1llcmV2YW4nLA0KICAgICAgICAgICAgJ0F0bGFudGljL0F6b3JlcycsDQogICAgICAgICAgICAnQXRsYW50aWMvQmVybXVkYScsDQogICAgICAgICAgICAnQXRsYW50aWMvQ2FuYXJ5JywNCiAgICAgICAgICAgICdBdGxhbnRpYy9DYXBlX1ZlcmRlJywNCiAgICAgICAgICAgICdBdGxhbnRpYy9GYXJvZScsDQogICAgICAgICAgICAnQXRsYW50aWMvTWFkZWlyYScsDQogICAgICAgICAgICAnQXRsYW50aWMvUmV5a2phdmlrJywNCiAgICAgICAgICAgICdBdGxhbnRpYy9Tb3V0aF9HZW9yZ2lhJywNCiAgICAgICAgICAgICdBdGxhbnRpYy9TdF9IZWxlbmEnLA0KICAgICAgICAgICAgJ0F0bGFudGljL1N0YW5sZXknLA0KICAgICAgICAgICAgJ0F1c3RyYWxpYS9BZGVsYWlkZScsDQogICAgICAgICAgICAnQXVzdHJhbGlhL0JyaXNiYW5lJywNCiAgICAgICAgICAgICdBdXN0cmFsaWEvQnJva2VuX0hpbGwnLA0KICAgICAgICAgICAgJ0F1c3RyYWxpYS9DdXJyaWUnLA0KICAgICAgICAgICAgJ0F1c3RyYWxpYS9EYXJ3aW4nLA0KICAgICAgICAgICAgJ0F1c3RyYWxpYS9FdWNsYScsDQogICAgICAgICAgICAnQXVzdHJhbGlhL0hvYmFydCcsDQogICAgICAgICAgICAnQXVzdHJhbGlhL0xpbmRlbWFuJywNCiAgICAgICAgICAgICdBdXN0cmFsaWEvTG9yZF9Ib3dlJywNCiAgICAgICAgICAgICdBdXN0cmFsaWEvTWVsYm91cm5lJywNCiAgICAgICAgICAgICdBdXN0cmFsaWEvUGVydGgnLA0KICAgICAgICAgICAgJ0F1c3RyYWxpYS9TeWRuZXknLA0KICAgICAgICAgICAgJ0V1cm9wZS9BbXN0ZXJkYW0nLA0KICAgICAgICAgICAgJ0V1cm9wZS9BbmRvcnJhJywNCiAgICAgICAgICAgICdFdXJvcGUvQXN0cmFraGFuJywNCiAgICAgICAgICAgICdFdXJvcGUvQXRoZW5zJywNCiAgICAgICAgICAgICdFdXJvcGUvQmVsZ3JhZGUnLA0KICAgICAgICAgICAgJ0V1cm9wZS9CZXJsaW4nLA0KICAgICAgICAgICAgJ0V1cm9wZS9CcmF0aXNsYXZhJywNCiAgICAgICAgICAgICdFdXJvcGUvQnJ1c3NlbHMnLA0KICAgICAgICAgICAgJ0V1cm9wZS9CdWNoYXJlc3QnLA0KICAgICAgICAgICAgJ0V1cm9wZS9CdWRhcGVzdCcsDQogICAgICAgICAgICAnRXVyb3BlL0J1c2luZ2VuJywNCiAgICAgICAgICAgICdFdXJvcGUvQ2hpc2luYXUnLA0KICAgICAgICAgICAgJ0V1cm9wZS9Db3BlbmhhZ2VuJywNCiAgICAgICAgICAgICdFdXJvcGUvRHVibGluJywNCiAgICAgICAgICAgICdFdXJvcGUvR2licmFsdGFyJywNCiAgICAgICAgICAgICdFdXJvcGUvR3Vlcm5zZXknLA0KICAgICAgICAgICAgJ0V1cm9wZS9IZWxzaW5raScsDQogICAgICAgICAgICAnRXVyb3BlL0lzbGVfb2ZfTWFuJywNCiAgICAgICAgICAgICdFdXJvcGUvSXN0YW5idWwnLA0KICAgICAgICAgICAgJ0V1cm9wZS9KZXJzZXknLA0KICAgICAgICAgICAgJ0V1cm9wZS9LYWxpbmluZ3JhZCcsDQogICAgICAgICAgICAnRXVyb3BlL0tpZXYnLA0KICAgICAgICAgICAgJ0V1cm9wZS9LaXJvdicsDQogICAgICAgICAgICAnRXVyb3BlL0xpc2JvbicsDQogICAgICAgICAgICAnRXVyb3BlL0xqdWJsamFuYScsDQogICAgICAgICAgICAnRXVyb3BlL0xvbmRvbicsDQogICAgICAgICAgICAnRXVyb3BlL0x1eGVtYm91cmcnLA0KICAgICAgICAgICAgJ0V1cm9wZS9NYWRyaWQnLA0KICAgICAgICAgICAgJ0V1cm9wZS9NYWx0YScsDQogICAgICAgICAgICAnRXVyb3BlL01hcmllaGFtbicsDQogICAgICAgICAgICAnRXVyb3BlL01pbnNrJywNCiAgICAgICAgICAgICdFdXJvcGUvTW9uYWNvJywNCiAgICAgICAgICAgICdFdXJvcGUvTW9zY293JywNCiAgICAgICAgICAgICdFdXJvcGUvT3NsbycsDQogICAgICAgICAgICAnRXVyb3BlL1BhcmlzJywNCiAgICAgICAgICAgICdFdXJvcGUvUG9kZ29yaWNhJywNCiAgICAgICAgICAgICdFdXJvcGUvUHJhZ3VlJywNCiAgICAgICAgICAgICdFdXJvcGUvUmlnYScsDQogICAgICAgICAgICAnRXVyb3BlL1JvbWUnLA0KICAgICAgICAgICAgJ0V1cm9wZS9TYW1hcmEnLA0KICAgICAgICAgICAgJ0V1cm9wZS9TYW5fTWFyaW5vJywNCiAgICAgICAgICAgICdFdXJvcGUvU2FyYWpldm8nLA0KICAgICAgICAgICAgJ0V1cm9wZS9TYXJhdG92JywNCiAgICAgICAgICAgICdFdXJvcGUvU2ltZmVyb3BvbCcsDQogICAgICAgICAgICAnRXVyb3BlL1Nrb3BqZScsDQogICAgICAgICAgICAnRXVyb3BlL1NvZmlhJywNCiAgICAgICAgICAgICdFdXJvcGUvU3RvY2tob2xtJywNCiAgICAgICAgICAgICdFdXJvcGUvVGFsbGlubicsDQogICAgICAgICAgICAnRXVyb3BlL1RpcmFuZScsDQogICAgICAgICAgICAnRXVyb3BlL1VseWFub3ZzaycsDQogICAgICAgICAgICAnRXVyb3BlL1V6aGdvcm9kJywNCiAgICAgICAgICAgICdFdXJvcGUvVmFkdXonLA0KICAgICAgICAgICAgJ0V1cm9wZS9WYXRpY2FuJywNCiAgICAgICAgICAgICdFdXJvcGUvVmllbm5hJywNCiAgICAgICAgICAgICdFdXJvcGUvVmlsbml1cycsDQogICAgICAgICAgICAnRXVyb3BlL1ZvbGdvZ3JhZCcsDQogICAgICAgICAgICAnRXVyb3BlL1dhcnNhdycsDQogICAgICAgICAgICAnRXVyb3BlL1phZ3JlYicsDQogICAgICAgICAgICAnRXVyb3BlL1phcG9yb3poeWUnLA0KICAgICAgICAgICAgJ0V1cm9wZS9adXJpY2gnLA0KICAgICAgICAgICAgJ0luZGlhbi9BbnRhbmFuYXJpdm8nLA0KICAgICAgICAgICAgJ0luZGlhbi9DaGFnb3MnLA0KICAgICAgICAgICAgJ0luZGlhbi9DaHJpc3RtYXMnLA0KICAgICAgICAgICAgJ0luZGlhbi9Db2NvcycsDQogICAgICAgICAgICAnSW5kaWFuL0NvbW9ybycsDQogICAgICAgICAgICAnSW5kaWFuL0tlcmd1ZWxlbicsDQogICAgICAgICAgICAnSW5kaWFuL01haGUnLA0KICAgICAgICAgICAgJ0luZGlhbi9NYWxkaXZlcycsDQogICAgICAgICAgICAnSW5kaWFuL01hdXJpdGl1cycsDQogICAgICAgICAgICAnSW5kaWFuL01heW90dGUnLA0KICAgICAgICAgICAgJ0luZGlhbi9SZXVuaW9uJywNCiAgICAgICAgICAgICdQYWNpZmljL0FwaWEnLA0KICAgICAgICAgICAgJ1BhY2lmaWMvQXVja2xhbmQnLA0KICAgICAgICAgICAgJ1BhY2lmaWMvQm91Z2FpbnZpbGxlJywNCiAgICAgICAgICAgICdQYWNpZmljL0NoYXRoYW0nLA0KICAgICAgICAgICAgJ1BhY2lmaWMvQ2h1dWsnLA0KICAgICAgICAgICAgJ1BhY2lmaWMvRWFzdGVyJywNCiAgICAgICAgICAgICdQYWNpZmljL0VmYXRlJywNCiAgICAgICAgICAgICdQYWNpZmljL0VuZGVyYnVyeScsDQogICAgICAgICAgICAnUGFjaWZpYy9GYWthb2ZvJywNCiAgICAgICAgICAgICdQYWNpZmljL0ZpamknLA0KICAgICAgICAgICAgJ1BhY2lmaWMvRnVuYWZ1dGknLA0KICAgICAgICAgICAgJ1BhY2lmaWMvR2FsYXBhZ29zJywNCiAgICAgICAgICAgICdQYWNpZmljL0dhbWJpZXInLA0KICAgICAgICAgICAgJ1BhY2lmaWMvR3VhZGFsY2FuYWwnLA0KICAgICAgICAgICAgJ1BhY2lmaWMvR3VhbScsDQogICAgICAgICAgICAnUGFjaWZpYy9Ib25vbHVsdScsDQogICAgICAgICAgICAnUGFjaWZpYy9LaXJpdGltYXRpJywNCiAgICAgICAgICAgICdQYWNpZmljL0tvc3JhZScsDQogICAgICAgICAgICAnUGFjaWZpYy9Ld2FqYWxlaW4nLA0KICAgICAgICAgICAgJ1BhY2lmaWMvTWFqdXJvJywNCiAgICAgICAgICAgICdQYWNpZmljL01hcnF1ZXNhcycsDQogICAgICAgICAgICAnUGFjaWZpYy9NaWR3YXknLA0KICAgICAgICAgICAgJ1BhY2lmaWMvTmF1cnUnLA0KICAgICAgICAgICAgJ1BhY2lmaWMvTml1ZScsDQogICAgICAgICAgICAnUGFjaWZpYy9Ob3Jmb2xrJywNCiAgICAgICAgICAgICdQYWNpZmljL05vdW1lYScsDQogICAgICAgICAgICAnUGFjaWZpYy9QYWdvX1BhZ28nLA0KICAgICAgICAgICAgJ1BhY2lmaWMvUGFsYXUnLA0KICAgICAgICAgICAgJ1BhY2lmaWMvUGl0Y2Fpcm4nLA0KICAgICAgICAgICAgJ1BhY2lmaWMvUG9obnBlaScsDQogICAgICAgICAgICAnUGFjaWZpYy9Qb3J0X01vcmVzYnknLA0KICAgICAgICAgICAgJ1BhY2lmaWMvUmFyb3RvbmdhJywNCiAgICAgICAgICAgICdQYWNpZmljL1NhaXBhbicsDQogICAgICAgICAgICAnUGFjaWZpYy9UYWhpdGknLA0KICAgICAgICAgICAgJ1BhY2lmaWMvVGFyYXdhJywNCiAgICAgICAgICAgICdQYWNpZmljL1RvbmdhdGFwdScsDQogICAgICAgICAgICAnUGFjaWZpYy9XYWtlJywNCiAgICAgICAgICAgICdQYWNpZmljL1dhbGxpcycsDQogICAgICAgIF07DQogICAgICAgIGNvbnN0IGdldFRpbWV6b25lT2Zmc2V0ID0gKCkgPT4gew0KICAgICAgICAgICAgY29uc3QgW3llYXIsIG1vbnRoLCBkYXldID0gSlNPTi5zdHJpbmdpZnkobmV3IERhdGUoKSkNCiAgICAgICAgICAgICAgICAuc2xpY2UoMSwgMTEpDQogICAgICAgICAgICAgICAgLnNwbGl0KCctJyk7DQogICAgICAgICAgICBjb25zdCBkYXRlU3RyaW5nID0gYCR7bW9udGh9LyR7ZGF5fS8ke3llYXJ9YDsNCiAgICAgICAgICAgIGNvbnN0IGRhdGVTdHJpbmdVVEMgPSBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1gOw0KICAgICAgICAgICAgY29uc3Qgbm93ID0gK25ldyBEYXRlKGRhdGVTdHJpbmcpOw0KICAgICAgICAgICAgY29uc3QgdXRjID0gK25ldyBEYXRlKGRhdGVTdHJpbmdVVEMpOw0KICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKygobm93IC0gdXRjKSAvIDYwMDAwKTsNCiAgICAgICAgICAgIHJldHVybiB+fm9mZnNldDsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2V0VGltZXpvbmVPZmZzZXRIaXN0b3J5ID0gKHsgeWVhciwgY2l0eSA9IG51bGwgfSkgPT4gew0KICAgICAgICAgICAgY29uc3QgZm9ybWF0ID0gew0KICAgICAgICAgICAgICAgIHRpbWVab25lOiAnJywNCiAgICAgICAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycsDQogICAgICAgICAgICAgICAgbW9udGg6ICdudW1lcmljJywNCiAgICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJywNCiAgICAgICAgICAgICAgICBob3VyOiAnbnVtZXJpYycsDQogICAgICAgICAgICAgICAgbWludXRlOiAnbnVtZXJpYycsDQogICAgICAgICAgICAgICAgc2Vjb25kOiAnbnVtZXJpYycsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgbWludXRlID0gNjAwMDA7DQogICAgICAgICAgICBsZXQgZm9ybWF0dGVyOw0KICAgICAgICAgICAgbGV0IHN1bW1lcjsNCiAgICAgICAgICAgIGlmIChjaXR5KSB7DQogICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsNCiAgICAgICAgICAgICAgICAgICAgLi4uZm9ybWF0LA0KICAgICAgICAgICAgICAgICAgICB0aW1lWm9uZTogY2l0eSwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICBmb3JtYXR0ZXIgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgnZW4nLCBvcHRpb25zKTsNCiAgICAgICAgICAgICAgICBzdW1tZXIgPSArbmV3IERhdGUoZm9ybWF0dGVyLmZvcm1hdChuZXcgRGF0ZShgNy8xLyR7eWVhcn1gKSkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgc3VtbWVyID0gK25ldyBEYXRlKGA3LzEvJHt5ZWFyfWApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3Qgc3VtbWVyVVRDVGltZSA9ICtuZXcgRGF0ZShgJHt5ZWFyfS0wNy0wMWApOw0KICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKHN1bW1lciAtIHN1bW1lclVUQ1RpbWUpIC8gbWludXRlOw0KICAgICAgICAgICAgcmV0dXJuIG9mZnNldDsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgYmluYXJ5U2VhcmNoID0gKGxpc3QsIGZuKSA9PiB7DQogICAgICAgICAgICBjb25zdCBlbmQgPSBsaXN0Lmxlbmd0aDsNCiAgICAgICAgICAgIGNvbnN0IG1pZGRsZSA9IE1hdGguZmxvb3IoZW5kIC8gMik7DQogICAgICAgICAgICBjb25zdCBbbGVmdCwgcmlnaHRdID0gW2xpc3Quc2xpY2UoMCwgbWlkZGxlKSwgbGlzdC5zbGljZShtaWRkbGUsIGVuZCldOw0KICAgICAgICAgICAgY29uc3QgZm91bmQgPSBmbihsZWZ0KTsNCiAgICAgICAgICAgIHJldHVybiBlbmQgPT0gMSB8fCBmb3VuZC5sZW5ndGggPyBmb3VuZCA6IGJpbmFyeVNlYXJjaChyaWdodCwgZm4pOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBkZWNyeXB0TG9jYXRpb24gPSAoeyB5ZWFyLCB0aW1lWm9uZSB9KSA9PiB7DQogICAgICAgICAgICBjb25zdCBzeXN0ZW0gPSBnZXRUaW1lem9uZU9mZnNldEhpc3RvcnkoeyB5ZWFyIH0pOw0KICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWRPcHRpb25zID0gZ2V0VGltZXpvbmVPZmZzZXRIaXN0b3J5KHsgeWVhciwgY2l0eTogdGltZVpvbmUgfSk7DQogICAgICAgICAgICBjb25zdCBmaWx0ZXIgPSAoY2l0aWVzKSA9PiBjaXRpZXMNCiAgICAgICAgICAgICAgICAuZmlsdGVyKChjaXR5KSA9PiBzeXN0ZW0gPT0gZ2V0VGltZXpvbmVPZmZzZXRIaXN0b3J5KHsgeWVhciwgY2l0eSB9KSk7DQogICAgICAgICAgICAvLyBnZXQgY2l0eSByZWdpb24gc2V0DQogICAgICAgICAgICBjb25zdCBkZWNyeXB0aW9uID0gKHN5c3RlbSA9PSByZXNvbHZlZE9wdGlvbnMgPyBbdGltZVpvbmVdIDogYmluYXJ5U2VhcmNoKGNpdGllcywgZmlsdGVyKSk7DQogICAgICAgICAgICAvLyByZWR1Y2Ugc2V0IHRvIG9uZSBjaXR5DQogICAgICAgICAgICBjb25zdCBkZWNyeXB0ZWQgPSAoZGVjcnlwdGlvbi5sZW5ndGggPT0gMSAmJiBkZWNyeXB0aW9uWzBdID09IHRpbWVab25lID8gdGltZVpvbmUgOiBoYXNoTWluaShkZWNyeXB0aW9uKSk7DQogICAgICAgICAgICByZXR1cm4gZGVjcnlwdGVkOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBmb3JtYXRMb2NhdGlvbiA9ICh4KSA9PiB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHJldHVybiB4LnJlcGxhY2UoL18vLCAnICcpLnNwbGl0KCcvJykuam9pbignLCAnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoIChlcnJvcikgeyB9DQogICAgICAgICAgICByZXR1cm4geDsNCiAgICAgICAgfTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIHRpbWVyLnN0YXJ0KCk7DQogICAgICAgICAgICBjb25zdCBsaWVkID0gKGxpZVByb3BzWydEYXRlLmdldFRpbWV6b25lT2Zmc2V0J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snSW50bC5EYXRlVGltZUZvcm1hdC5yZXNvbHZlZE9wdGlvbnMnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydJbnRsLlJlbGF0aXZlVGltZUZvcm1hdC5yZXNvbHZlZE9wdGlvbnMnXSkgfHwgZmFsc2U7DQogICAgICAgICAgICBjb25zdCB5ZWFyID0gMTExMzsNCiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwDQogICAgICAgICAgICBjb25zdCB7IHRpbWVab25lIH0gPSBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCk7DQogICAgICAgICAgICBjb25zdCBkZWNyeXB0ZWQgPSBkZWNyeXB0TG9jYXRpb24oeyB5ZWFyLCB0aW1lWm9uZSB9KTsNCiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uRXBvY2ggPSArbmV3IERhdGUobmV3IERhdGUoYDcvMS8ke3llYXJ9YCkpOw0KICAgICAgICAgICAgY29uc3Qgbm90V2l0aGluUGFyZW50aGVzZXMgPSAvLipcKHxcKS4qL2c7DQogICAgICAgICAgICBjb25zdCBkYXRhID0gew0KICAgICAgICAgICAgICAgIHpvbmU6ICgnJyArIG5ldyBEYXRlKCkpLnJlcGxhY2Uobm90V2l0aGluUGFyZW50aGVzZXMsICcnKSwNCiAgICAgICAgICAgICAgICBsb2NhdGlvbjogZm9ybWF0TG9jYXRpb24odGltZVpvbmUpLA0KICAgICAgICAgICAgICAgIGxvY2F0aW9uTWVhc3VyZWQ6IGZvcm1hdExvY2F0aW9uKGRlY3J5cHRlZCksDQogICAgICAgICAgICAgICAgbG9jYXRpb25FcG9jaCwNCiAgICAgICAgICAgICAgICBvZmZzZXQ6IG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKSwNCiAgICAgICAgICAgICAgICBvZmZzZXRDb21wdXRlZDogZ2V0VGltZXpvbmVPZmZzZXQoKSwNCiAgICAgICAgICAgICAgICBsaWVkLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICd0aW1lem9uZScsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7IC4uLmRhdGEgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAndGltZXpvbmUnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnQgKi8NCiAgICAvLyBAdHMtbm9jaGVjaw0KICAgIC8vIEJhZCBmaW5nZXJwcmludHMgbGVmdCBhbHdheXMgb24NCiAgICBhc3luYyBmdW5jdGlvbiBleGlsZSgpIHsNCiAgICAgICAgLyogamF2YXNjcmlwdC1vYmZ1c2NhdG9yOmRpc2FibGUgKi8NCiAgICAgICAgY29uc3QgTyA9IEc7DQogICAgICAgIGZ1bmN0aW9uIFooKSB7IGNvbnN0IE4gPSBbJ0R4bkxDS2ZOenc1MCcsICdudGUwbnZMTnpLem95RycsICdzZzlVellibEIyNU5pZm4weXc1S3l4aktpZnJQQnd1JywgJ0Foakx6RycsICduZnJBc0tuV3phJywgJ0RnOXREaGpQQk1DJywgJ3F3NUtDTTlQemEnLCAnblphNW10Q1ludkR6eXZuYnFHJywgJ0J3ZjR2ZzkxeTJIcUIyTFVEaG0nLCAnQndmMHkySExDVycsICdBdzVKQmh2S3p4bScsICdudEs0bXRDMW1mSHFBd1BqRGEnLCAnQ2dyTXZNTExEMnZZcnc1SHlNWEx6YScsICdtSmEzemZucHZodnAnLCAnbVp1MW1aaVptWmoycmc5ZUJnNCcsICdtdEcwQ3dMVnoyakonLCAnbXRhM25kS1huTm5WenhuSURxJywgJ21KbVluSmJrQmdUNnRnRycsICdtWmExbmdyMndmSG5DYScsICd5d2pWRHhxNnlNWEhCTVMnLCAnbkphWG90cTNETGp5Q3ZmbycsICdraGJWQXc1MHp4aTZpZ3pQQk11UCddOyBaID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gTjsgfTsgcmV0dXJuIFooKTsgfQ0KICAgICAgICAoZnVuY3Rpb24gKFcsIGkpIHsgY29uc3QgayA9IEcsIFYgPSBXKCk7IHdoaWxlICghIVtdKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBwYXJzZUludChrKCcweGY5JykpIC8gMHgxICsgLXBhcnNlSW50KGsoJzB4ZmEnKSkgLyAweDIgKiAocGFyc2VJbnQoaygnMHhmNicpKSAvIDB4MykgKyAtcGFyc2VJbnQoaygnMHhlZCcpKSAvIDB4NCAqIChwYXJzZUludChrKCcweGYwJykpIC8gMHg1KSArIC1wYXJzZUludChrKCcweGZiJykpIC8gMHg2ICogKHBhcnNlSW50KGsoJzB4MTAwJykpIC8gMHg3KSArIC1wYXJzZUludChrKCcweGY4JykpIC8gMHg4ICogKHBhcnNlSW50KGsoJzB4ZmQnKSkgLyAweDkpICsgcGFyc2VJbnQoaygnMHhmNCcpKSAvIDB4YSArIHBhcnNlSW50KGsoJzB4ZjcnKSkgLyAweGI7DQogICAgICAgICAgICAgICAgaWYgKHQgPT09IGkpDQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgVlsncHVzaCddKFZbJ3NoaWZ0J10oKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoYykgew0KICAgICAgICAgICAgICAgIFZbJ3B1c2gnXShWWydzaGlmdCddKCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IH0oWiwgMHhiYzAxMCkpOw0KICAgICAgICBjb25zdCBjcmFiID0gbWF0Y2hNZWRpYShPKCcweGZlJykpW08oJzB4ZjInKV0gJiYgbmF2aWdhdG9yW08oJzB4ZjEnKV0gPT09IDB4MCAmJiAoTygnMHhmNScpIGluIG5hdmlnYXRvciAmJiAhbmF2aWdhdG9yW08oJzB4ZjUnKV0pICYmIG5hdmlnYXRvcltPKCcweGZmJyldWydpbmNsdWRlcyddKE8oJzB4ZWYnKSkgJiYgbmV3IERhdGUoKVtPKCcweGVlJyldKClbTygnMHhmMycpXShPKCcweGViJykpOw0KICAgICAgICBmdW5jdGlvbiBHKFcsIGkpIHsgY29uc3QgViA9IFooKTsgcmV0dXJuIEcgPSBmdW5jdGlvbiAodCwgYykgeyB0ID0gdCAtIDB4ZWI7IGxldCBrID0gVlt0XTsgaWYgKEdbJ2ZtZFliWiddID09PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgIHZhciBPID0gZnVuY3Rpb24gKGEpIHsgY29uc3QgcCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OSsvPSc7IGxldCBlID0gJycsIFMgPSAnJzsgZm9yIChsZXQgciA9IDB4MCwgZiwgRSwgVCA9IDB4MDsgRSA9IGFbJ2NoYXJBdCddKFQrKyk7IH5FICYmIChmID0gciAlIDB4NCA/IGYgKiAweDQwICsgRSA6IEUsIHIrKyAlIDB4NCkgPyBlICs9IFN0cmluZ1snZnJvbUNoYXJDb2RlJ10oMHhmZiAmIGYgPj4gKC0weDIgKiByICYgMHg2KSkgOiAweDApIHsNCiAgICAgICAgICAgICAgICBFID0gcFsnaW5kZXhPZiddKEUpOw0KICAgICAgICAgICAgfSBmb3IgKGxldCBkID0gMHgwLCBKID0gZVsnbGVuZ3RoJ107IGQgPCBKOyBkKyspIHsNCiAgICAgICAgICAgICAgICBTICs9ICclJyArICgnMDAnICsgZVsnY2hhckNvZGVBdCddKGQpWyd0b1N0cmluZyddKDB4MTApKVsnc2xpY2UnXSgtMHgyKTsNCiAgICAgICAgICAgIH0gcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChTKTsgfTsNCiAgICAgICAgICAgIEdbJ05iZlhpZiddID0gTywgVyA9IGFyZ3VtZW50cywgR1snZm1kWWJaJ10gPSAhIVtdOw0KICAgICAgICB9IGNvbnN0IE4gPSBWWzB4MF0sIEggPSB0ICsgTiwgTCA9IFdbSF07IHJldHVybiAhTCA/IChrID0gR1snTmJmWGlmJ10oayksIFdbSF0gPSBrKSA6IGsgPSBMLCBrOyB9LCBHKFcsIGkpOyB9DQogICAgICAgIGNyYWIgJiYgKGxvY2F0aW9uW08oJzB4ZWMnKV0gPSBPKCcweGZjJyksIGF3YWl0IG5ldyBQcm9taXNlKFcgPT4geyB9KSk7DQogICAgICAgIC8qIGphdmFzY3JpcHQtb2JmdXNjYXRvcjplbmFibGUgKi8NCiAgICB9DQogICAgZnVuY3Rpb24gZ2V0U3RhY2tCeXRlcygpIHsNCiAgICAgICAgbGV0IHNpemVBID0gMDsNCiAgICAgICAgbGV0IHNpemVCID0gMDsNCiAgICAgICAgbGV0IGNvdW50ZXIgPSAwOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgZm4gPSAoKSA9PiB7DQogICAgICAgICAgICAgICAgY291bnRlciArPSAxOw0KICAgICAgICAgICAgICAgIGZuKCk7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgZm4oKTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCB7DQogICAgICAgICAgICBzaXplQSA9IGNvdW50ZXI7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvdW50ZXIgPSAwOw0KICAgICAgICAgICAgICAgIGNvbnN0IGZuID0gKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsID0gMTsNCiAgICAgICAgICAgICAgICAgICAgY291bnRlciArPSAxOw0KICAgICAgICAgICAgICAgICAgICBmbigpOw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgZm4oKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoIHsNCiAgICAgICAgICAgICAgICBzaXplQiA9IGNvdW50ZXI7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgYnl0ZXMgPSAoc2l6ZUIgKiA4KSAvIChzaXplQSAtIHNpemVCKTsNCiAgICAgICAgcmV0dXJuIFtzaXplQSwgc2l6ZUIsIGJ5dGVzXS5qb2luKCc6Jyk7DQogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIGdldENhbnZhc1dlYmdsKCkgew0KICAgICAgICAvLyB1c2Ugc2hvcnQgbGlzdCB0byBpbXByb3ZlIHBlcmZvcm1hbmNlDQogICAgICAgIGNvbnN0IGdldFBhcmFtTmFtZXMgPSAoKSA9PiBbDQogICAgICAgICAgICAvLyAnQkxFTkRfRVFVQVRJT04nLA0KICAgICAgICAgICAgLy8gJ0JMRU5EX0VRVUFUSU9OX1JHQicsDQogICAgICAgICAgICAvLyAnQkxFTkRfRVFVQVRJT05fQUxQSEEnLA0KICAgICAgICAgICAgLy8gJ0JMRU5EX0RTVF9SR0InLA0KICAgICAgICAgICAgLy8gJ0JMRU5EX1NSQ19SR0InLA0KICAgICAgICAgICAgLy8gJ0JMRU5EX0RTVF9BTFBIQScsDQogICAgICAgICAgICAvLyAnQkxFTkRfU1JDX0FMUEhBJywNCiAgICAgICAgICAgIC8vICdCTEVORF9DT0xPUicsDQogICAgICAgICAgICAvLyAnQ1VMTF9GQUNFJywNCiAgICAgICAgICAgIC8vICdCTEVORCcsDQogICAgICAgICAgICAvLyAnRElUSEVSJywNCiAgICAgICAgICAgIC8vICdTVEVOQ0lMX1RFU1QnLA0KICAgICAgICAgICAgLy8gJ0RFUFRIX1RFU1QnLA0KICAgICAgICAgICAgLy8gJ1NDSVNTT1JfVEVTVCcsDQogICAgICAgICAgICAvLyAnUE9MWUdPTl9PRkZTRVRfRklMTCcsDQogICAgICAgICAgICAvLyAnU0FNUExFX0FMUEhBX1RPX0NPVkVSQUdFJywNCiAgICAgICAgICAgIC8vICdTQU1QTEVfQ09WRVJBR0UnLA0KICAgICAgICAgICAgLy8gJ0xJTkVfV0lEVEgnLA0KICAgICAgICAgICAgJ0FMSUFTRURfUE9JTlRfU0laRV9SQU5HRScsDQogICAgICAgICAgICAnQUxJQVNFRF9MSU5FX1dJRFRIX1JBTkdFJywNCiAgICAgICAgICAgIC8vICdDVUxMX0ZBQ0VfTU9ERScsDQogICAgICAgICAgICAvLyAnRlJPTlRfRkFDRScsDQogICAgICAgICAgICAvLyAnREVQVEhfUkFOR0UnLA0KICAgICAgICAgICAgLy8gJ0RFUFRIX1dSSVRFTUFTSycsDQogICAgICAgICAgICAvLyAnREVQVEhfQ0xFQVJfVkFMVUUnLA0KICAgICAgICAgICAgLy8gJ0RFUFRIX0ZVTkMnLA0KICAgICAgICAgICAgLy8gJ1NURU5DSUxfQ0xFQVJfVkFMVUUnLA0KICAgICAgICAgICAgLy8gJ1NURU5DSUxfRlVOQycsDQogICAgICAgICAgICAvLyAnU1RFTkNJTF9GQUlMJywNCiAgICAgICAgICAgIC8vICdTVEVOQ0lMX1BBU1NfREVQVEhfRkFJTCcsDQogICAgICAgICAgICAvLyAnU1RFTkNJTF9QQVNTX0RFUFRIX1BBU1MnLA0KICAgICAgICAgICAgLy8gJ1NURU5DSUxfUkVGJywNCiAgICAgICAgICAgICdTVEVOQ0lMX1ZBTFVFX01BU0snLA0KICAgICAgICAgICAgJ1NURU5DSUxfV1JJVEVNQVNLJywNCiAgICAgICAgICAgIC8vICdTVEVOQ0lMX0JBQ0tfRlVOQycsDQogICAgICAgICAgICAvLyAnU1RFTkNJTF9CQUNLX0ZBSUwnLA0KICAgICAgICAgICAgLy8gJ1NURU5DSUxfQkFDS19QQVNTX0RFUFRIX0ZBSUwnLA0KICAgICAgICAgICAgLy8gJ1NURU5DSUxfQkFDS19QQVNTX0RFUFRIX1BBU1MnLA0KICAgICAgICAgICAgLy8gJ1NURU5DSUxfQkFDS19SRUYnLA0KICAgICAgICAgICAgJ1NURU5DSUxfQkFDS19WQUxVRV9NQVNLJywNCiAgICAgICAgICAgICdTVEVOQ0lMX0JBQ0tfV1JJVEVNQVNLJywNCiAgICAgICAgICAgIC8vICdWSUVXUE9SVCcsDQogICAgICAgICAgICAvLyAnU0NJU1NPUl9CT1gnLA0KICAgICAgICAgICAgLy8gJ0NPTE9SX0NMRUFSX1ZBTFVFJywNCiAgICAgICAgICAgIC8vICdDT0xPUl9XUklURU1BU0snLA0KICAgICAgICAgICAgLy8gJ1VOUEFDS19BTElHTk1FTlQnLA0KICAgICAgICAgICAgLy8gJ1BBQ0tfQUxJR05NRU5UJywNCiAgICAgICAgICAgICdNQVhfVEVYVFVSRV9TSVpFJywNCiAgICAgICAgICAgICdNQVhfVklFV1BPUlRfRElNUycsDQogICAgICAgICAgICAnU1VCUElYRUxfQklUUycsDQogICAgICAgICAgICAvLyAnUkVEX0JJVFMnLA0KICAgICAgICAgICAgLy8gJ0dSRUVOX0JJVFMnLA0KICAgICAgICAgICAgLy8gJ0JMVUVfQklUUycsDQogICAgICAgICAgICAvLyAnQUxQSEFfQklUUycsDQogICAgICAgICAgICAvLyAnREVQVEhfQklUUycsDQogICAgICAgICAgICAvLyAnU1RFTkNJTF9CSVRTJywNCiAgICAgICAgICAgIC8vICdQT0xZR09OX09GRlNFVF9VTklUUycsDQogICAgICAgICAgICAvLyAnUE9MWUdPTl9PRkZTRVRfRkFDVE9SJywNCiAgICAgICAgICAgIC8vICdTQU1QTEVfQlVGRkVSUycsDQogICAgICAgICAgICAvLyAnU0FNUExFUycsDQogICAgICAgICAgICAvLyAnU0FNUExFX0NPVkVSQUdFX1ZBTFVFJywNCiAgICAgICAgICAgIC8vICdTQU1QTEVfQ09WRVJBR0VfSU5WRVJUJywNCiAgICAgICAgICAgIC8vICdDT01QUkVTU0VEX1RFWFRVUkVfRk9STUFUUycsDQogICAgICAgICAgICAvLyAnR0VORVJBVEVfTUlQTUFQX0hJTlQnLA0KICAgICAgICAgICAgJ01BWF9WRVJURVhfQVRUUklCUycsDQogICAgICAgICAgICAnTUFYX1ZFUlRFWF9VTklGT1JNX1ZFQ1RPUlMnLA0KICAgICAgICAgICAgJ01BWF9WQVJZSU5HX1ZFQ1RPUlMnLA0KICAgICAgICAgICAgJ01BWF9DT01CSU5FRF9URVhUVVJFX0lNQUdFX1VOSVRTJywNCiAgICAgICAgICAgICdNQVhfVkVSVEVYX1RFWFRVUkVfSU1BR0VfVU5JVFMnLA0KICAgICAgICAgICAgJ01BWF9URVhUVVJFX0lNQUdFX1VOSVRTJywNCiAgICAgICAgICAgICdNQVhfRlJBR01FTlRfVU5JRk9STV9WRUNUT1JTJywNCiAgICAgICAgICAgICdTSEFESU5HX0xBTkdVQUdFX1ZFUlNJT04nLA0KICAgICAgICAgICAgJ1ZFTkRPUicsDQogICAgICAgICAgICAnUkVOREVSRVInLA0KICAgICAgICAgICAgJ1ZFUlNJT04nLA0KICAgICAgICAgICAgJ01BWF9DVUJFX01BUF9URVhUVVJFX1NJWkUnLA0KICAgICAgICAgICAgLy8gJ0FDVElWRV9URVhUVVJFJywNCiAgICAgICAgICAgIC8vICdJTVBMRU1FTlRBVElPTl9DT0xPUl9SRUFEX1RZUEUnLA0KICAgICAgICAgICAgLy8gJ0lNUExFTUVOVEFUSU9OX0NPTE9SX1JFQURfRk9STUFUJywNCiAgICAgICAgICAgICdNQVhfUkVOREVSQlVGRkVSX1NJWkUnLA0KICAgICAgICAgICAgLy8gJ1VOUEFDS19GTElQX1lfV0VCR0wnLA0KICAgICAgICAgICAgLy8gJ1VOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCcsDQogICAgICAgICAgICAvLyAnVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCcsDQogICAgICAgICAgICAvLyAnUkVBRF9CVUZGRVInLA0KICAgICAgICAgICAgLy8gJ1VOUEFDS19ST1dfTEVOR1RIJywNCiAgICAgICAgICAgIC8vICdVTlBBQ0tfU0tJUF9ST1dTJywNCiAgICAgICAgICAgIC8vICdVTlBBQ0tfU0tJUF9QSVhFTFMnLA0KICAgICAgICAgICAgLy8gJ1BBQ0tfUk9XX0xFTkdUSCcsDQogICAgICAgICAgICAvLyAnUEFDS19TS0lQX1JPV1MnLA0KICAgICAgICAgICAgLy8gJ1BBQ0tfU0tJUF9QSVhFTFMnLA0KICAgICAgICAgICAgLy8gJ1VOUEFDS19TS0lQX0lNQUdFUycsDQogICAgICAgICAgICAvLyAnVU5QQUNLX0lNQUdFX0hFSUdIVCcsDQogICAgICAgICAgICAnTUFYXzNEX1RFWFRVUkVfU0laRScsDQogICAgICAgICAgICAnTUFYX0VMRU1FTlRTX1ZFUlRJQ0VTJywNCiAgICAgICAgICAgICdNQVhfRUxFTUVOVFNfSU5ESUNFUycsDQogICAgICAgICAgICAnTUFYX1RFWFRVUkVfTE9EX0JJQVMnLA0KICAgICAgICAgICAgJ01BWF9EUkFXX0JVRkZFUlMnLA0KICAgICAgICAgICAgLy8gJ0RSQVdfQlVGRkVSMCcsDQogICAgICAgICAgICAvLyAnRFJBV19CVUZGRVIxJywNCiAgICAgICAgICAgIC8vICdEUkFXX0JVRkZFUjInLA0KICAgICAgICAgICAgLy8gJ0RSQVdfQlVGRkVSMycsDQogICAgICAgICAgICAvLyAnRFJBV19CVUZGRVI0JywNCiAgICAgICAgICAgIC8vICdEUkFXX0JVRkZFUjUnLA0KICAgICAgICAgICAgLy8gJ0RSQVdfQlVGRkVSNicsDQogICAgICAgICAgICAvLyAnRFJBV19CVUZGRVI3JywNCiAgICAgICAgICAgICdNQVhfRlJBR01FTlRfVU5JRk9STV9DT01QT05FTlRTJywNCiAgICAgICAgICAgICdNQVhfVkVSVEVYX1VOSUZPUk1fQ09NUE9ORU5UUycsDQogICAgICAgICAgICAvLyAnRlJBR01FTlRfU0hBREVSX0RFUklWQVRJVkVfSElOVCcsDQogICAgICAgICAgICAnTUFYX0FSUkFZX1RFWFRVUkVfTEFZRVJTJywNCiAgICAgICAgICAgIC8vICdNSU5fUFJPR1JBTV9URVhFTF9PRkZTRVQnLA0KICAgICAgICAgICAgJ01BWF9QUk9HUkFNX1RFWEVMX09GRlNFVCcsDQogICAgICAgICAgICAnTUFYX1ZBUllJTkdfQ09NUE9ORU5UUycsDQogICAgICAgICAgICAnTUFYX1RSQU5TRk9STV9GRUVEQkFDS19TRVBBUkFURV9DT01QT05FTlRTJywNCiAgICAgICAgICAgIC8vICdSQVNURVJJWkVSX0RJU0NBUkQnLA0KICAgICAgICAgICAgJ01BWF9UUkFOU0ZPUk1fRkVFREJBQ0tfSU5URVJMRUFWRURfQ09NUE9ORU5UUycsDQogICAgICAgICAgICAnTUFYX1RSQU5TRk9STV9GRUVEQkFDS19TRVBBUkFURV9BVFRSSUJTJywNCiAgICAgICAgICAgICdNQVhfQ09MT1JfQVRUQUNITUVOVFMnLA0KICAgICAgICAgICAgJ01BWF9TQU1QTEVTJywNCiAgICAgICAgICAgICdNQVhfVkVSVEVYX1VOSUZPUk1fQkxPQ0tTJywNCiAgICAgICAgICAgICdNQVhfRlJBR01FTlRfVU5JRk9STV9CTE9DS1MnLA0KICAgICAgICAgICAgJ01BWF9DT01CSU5FRF9VTklGT1JNX0JMT0NLUycsDQogICAgICAgICAgICAnTUFYX1VOSUZPUk1fQlVGRkVSX0JJTkRJTkdTJywNCiAgICAgICAgICAgICdNQVhfVU5JRk9STV9CTE9DS19TSVpFJywNCiAgICAgICAgICAgICdNQVhfQ09NQklORURfVkVSVEVYX1VOSUZPUk1fQ09NUE9ORU5UUycsDQogICAgICAgICAgICAnTUFYX0NPTUJJTkVEX0ZSQUdNRU5UX1VOSUZPUk1fQ09NUE9ORU5UUycsDQogICAgICAgICAgICAvLyAnVU5JRk9STV9CVUZGRVJfT0ZGU0VUX0FMSUdOTUVOVCcsDQogICAgICAgICAgICAnTUFYX1ZFUlRFWF9PVVRQVVRfQ09NUE9ORU5UUycsDQogICAgICAgICAgICAnTUFYX0ZSQUdNRU5UX0lOUFVUX0NPTVBPTkVOVFMnLA0KICAgICAgICAgICAgJ01BWF9TRVJWRVJfV0FJVF9USU1FT1VUJywNCiAgICAgICAgICAgIC8vICdUUkFOU0ZPUk1fRkVFREJBQ0tfUEFVU0VEJywNCiAgICAgICAgICAgIC8vICdUUkFOU0ZPUk1fRkVFREJBQ0tfQUNUSVZFJywNCiAgICAgICAgICAgICdNQVhfRUxFTUVOVF9JTkRFWCcsDQogICAgICAgICAgICAnTUFYX0NMSUVOVF9XQUlUX1RJTUVPVVRfV0VCR0wnLA0KICAgICAgICBdLnNvcnQoKTsNCiAgICAgICAgY29uc3QgZHJhdyA9IChnbCkgPT4gew0KICAgICAgICAgICAgY29uc3QgaXNTYWZhcmkxNUFuZEFib3ZlID0gKCdCaWdJbnQ2NEFycmF5JyBpbiB3aW5kb3cgJiYNCiAgICAgICAgICAgICAgICBJU19XRUJLSVQgJiYNCiAgICAgICAgICAgICAgICAhLyhDcnxGeClpT1MvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpOw0KICAgICAgICAgICAgaWYgKCFnbCB8fCBpc1NhZmFyaTE1QW5kQWJvdmUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBnbC5jbGVhckNvbG9yKDAuNDcsIDAuNywgMC43OCwgMSkNCiAgICAgICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpOw0KICAgICAgICAgICAgLy8gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL1ZhbHZlL2ZpbmdlcnByaW50anMyL2Jsb2IvbWFzdGVyL2ZpbmdlcnByaW50Mi5qcw0KICAgICAgICAgICAgY29uc3QgdmVydGV4UG9zQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7DQogICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdmVydGV4UG9zQnVmZmVyKTsNCiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShbLTAuOSwgLTAuNywgMCwgMC44LCAtMC43LCAwLCAwLCAwLjUsIDBdKTsNCiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB2ZXJ0aWNlcywgZ2wuU1RBVElDX0RSQVcpOw0KICAgICAgICAgICAgLy8gY3JlYXRlIHByb2dyYW0NCiAgICAgICAgICAgIGNvbnN0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7DQogICAgICAgICAgICAvLyBjb21waWxlIGFuZCBhdHRhY2ggdmVydGV4IHNoYWRlcg0KICAgICAgICAgICAgY29uc3QgdmVydGV4U2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIpOw0KICAgICAgICAgICAgZ2wuc2hhZGVyU291cmNlKHZlcnRleFNoYWRlciwgYA0KCQkJYXR0cmlidXRlIHZlYzIgYXR0clZlcnRleDsNCgkJCXZhcnlpbmcgdmVjMiB2YXJ5aW5UZXhDb29yZGluYXRlOw0KCQkJdW5pZm9ybSB2ZWMyIHVuaWZvcm1PZmZzZXQ7DQoJCQl2b2lkIG1haW4oKXsNCgkJCQl2YXJ5aW5UZXhDb29yZGluYXRlID0gYXR0clZlcnRleCArIHVuaWZvcm1PZmZzZXQ7DQoJCQkJZ2xfUG9zaXRpb24gPSB2ZWM0KGF0dHJWZXJ0ZXgsIDAsIDEpOw0KCQkJfQ0KCQlgKTsNCiAgICAgICAgICAgIGdsLmNvbXBpbGVTaGFkZXIodmVydGV4U2hhZGVyKTsNCiAgICAgICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpOw0KICAgICAgICAgICAgLy8gY29tcGlsZSBhbmQgYXR0YWNoIGZyYWdtZW50IHNoYWRlcg0KICAgICAgICAgICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTsNCiAgICAgICAgICAgIGdsLnNoYWRlclNvdXJjZShmcmFnbWVudFNoYWRlciwgYA0KCQkJcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7DQoJCQl2YXJ5aW5nIHZlYzIgdmFyeWluVGV4Q29vcmRpbmF0ZTsNCgkJCXZvaWQgbWFpbigpIHsNCgkJCQlnbF9GcmFnQ29sb3IgPSB2ZWM0KHZhcnlpblRleENvb3JkaW5hdGUsIDEsIDEpOw0KCQkJfQ0KCQlgKTsNCiAgICAgICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpOw0KICAgICAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTsNCiAgICAgICAgICAgIC8vIHVzZSBwcm9ncmFtDQogICAgICAgICAgICBjb25zdCBjb21wb25lbnRTaXplID0gMzsNCiAgICAgICAgICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pOw0KICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTsNCiAgICAgICAgICAgIHByb2dyYW0udmVydGV4UG9zQXR0cmliID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ2F0dHJWZXJ0ZXgnKTsNCiAgICAgICAgICAgIHByb2dyYW0ub2Zmc2V0VW5pZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndW5pZm9ybU9mZnNldCcpOw0KICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocHJvZ3JhbS52ZXJ0ZXhQb3NBcnJheSk7DQogICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHByb2dyYW0udmVydGV4UG9zQXR0cmliLCBjb21wb25lbnRTaXplLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApOw0KICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHByb2dyYW0ub2Zmc2V0VW5pZm9ybSwgMSwgMSk7DQogICAgICAgICAgICAvLyBkcmF3DQogICAgICAgICAgICBjb25zdCBudW1PZkluZGljZXMgPSAzOw0KICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5MSU5FX0xPT1AsIDAsIG51bU9mSW5kaWNlcyk7DQogICAgICAgICAgICByZXR1cm4gZ2w7DQogICAgICAgIH07DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIC8vIGRldGVjdCBsaWVzDQogICAgICAgICAgICBjb25zdCBkYXRhTGllID0gbGllUHJvcHNbJ0hUTUxDYW52YXNFbGVtZW50LnRvRGF0YVVSTCddOw0KICAgICAgICAgICAgY29uc3QgY29udGV4dExpZSA9IGxpZVByb3BzWydIVE1MQ2FudmFzRWxlbWVudC5nZXRDb250ZXh0J107DQogICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJPckV4dGVuc2lvbkxpZSA9IChsaWVQcm9wc1snV2ViR0xSZW5kZXJpbmdDb250ZXh0LmdldFBhcmFtZXRlciddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1dlYkdMMlJlbmRlcmluZ0NvbnRleHQuZ2V0UGFyYW1ldGVyJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snV2ViR0xSZW5kZXJpbmdDb250ZXh0LmdldEV4dGVuc2lvbiddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1dlYkdMMlJlbmRlcmluZ0NvbnRleHQuZ2V0RXh0ZW5zaW9uJ10pOw0KICAgICAgICAgICAgY29uc3QgbGllZCA9IChkYXRhTGllIHx8DQogICAgICAgICAgICAgICAgY29udGV4dExpZSB8fA0KICAgICAgICAgICAgICAgIHBhcmFtZXRlck9yRXh0ZW5zaW9uTGllIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1dlYkdMUmVuZGVyaW5nQ29udGV4dC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snV2ViR0wyUmVuZGVyaW5nQ29udGV4dC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zJ10pIHx8IGZhbHNlOw0KICAgICAgICAgICAgLy8gY3JlYXRlIGNhbnZhcyBjb250ZXh0DQogICAgICAgICAgICBsZXQgd2luID0gd2luZG93Ow0KICAgICAgICAgICAgaWYgKCFMSUtFX0JSQVZFICYmIFBIQU5UT01fREFSS05FU1MpIHsNCiAgICAgICAgICAgICAgICB3aW4gPSBQSEFOVE9NX0RBUktORVNTOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgZG9jID0gd2luLmRvY3VtZW50Ow0KICAgICAgICAgICAgbGV0IGNhbnZhczsNCiAgICAgICAgICAgIGxldCBjYW52YXMyOw0KICAgICAgICAgICAgaWYgKCdPZmZzY3JlZW5DYW52YXMnIGluIHdpbmRvdykgew0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgT2Zmc2NyZWVuQ2FudmFzDQogICAgICAgICAgICAgICAgY2FudmFzID0gbmV3IHdpbi5PZmZzY3JlZW5DYW52YXMoMjU2LCAyNTYpOw0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgT2Zmc2NyZWVuQ2FudmFzDQogICAgICAgICAgICAgICAgY2FudmFzMiA9IG5ldyB3aW4uT2Zmc2NyZWVuQ2FudmFzKDI1NiwgMjU2KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIGNhbnZhcyA9IGRvYy5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsNCiAgICAgICAgICAgICAgICBjYW52YXMyID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgZ2V0Q29udGV4dCA9IChjYW52YXMsIGNvbnRleHRUeXBlKSA9PiB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHRUeXBlID09ICd3ZWJnbDInKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInKSB8fA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wyJykpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAoY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJykgfHwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnKSB8fA0KICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ21vei13ZWJnbCcpIHx8DQogICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnd2Via2l0LTNkJykpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCBnbCA9IGdldENvbnRleHQoY2FudmFzLCAnd2ViZ2wnKTsNCiAgICAgICAgICAgIGNvbnN0IGdsMiA9IGdldENvbnRleHQoY2FudmFzMiwgJ3dlYmdsMicpOw0KICAgICAgICAgICAgaWYgKCFnbCkgew0KICAgICAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnd2ViZ2wnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIGhlbHBlcnMNCiAgICAgICAgICAgIGNvbnN0IGdldFNoYWRlclByZWNpc2lvbkZvcm1hdCA9IChnbCwgc2hhZGVyVHlwZSkgPT4gew0KICAgICAgICAgICAgICAgIGlmICghZ2wpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zdCBMT1dfRkxPQVQgPSBhdHRlbXB0KCgpID0+IGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChnbFtzaGFkZXJUeXBlXSwgZ2wuTE9XX0ZMT0FUKSk7DQogICAgICAgICAgICAgICAgY29uc3QgTUVESVVNX0ZMT0FUID0gYXR0ZW1wdCgoKSA9PiBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2xbc2hhZGVyVHlwZV0sIGdsLk1FRElVTV9GTE9BVCkpOw0KICAgICAgICAgICAgICAgIGNvbnN0IEhJR0hfRkxPQVQgPSBhdHRlbXB0KCgpID0+IGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChnbFtzaGFkZXJUeXBlXSwgZ2wuSElHSF9GTE9BVCkpOw0KICAgICAgICAgICAgICAgIGNvbnN0IEhJR0hfSU5UID0gYXR0ZW1wdCgoKSA9PiBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2xbc2hhZGVyVHlwZV0sIGdsLkhJR0hfSU5UKSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgTE9XX0ZMT0FULA0KICAgICAgICAgICAgICAgICAgICBNRURJVU1fRkxPQVQsDQogICAgICAgICAgICAgICAgICAgIEhJR0hfRkxPQVQsDQogICAgICAgICAgICAgICAgICAgIEhJR0hfSU5ULA0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgZ2V0U2hhZGVyRGF0YSA9IChuYW1lLCBzaGFkZXIpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307DQogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pbg0KICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBzaGFkZXIpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gc2hhZGVyW3Byb3BdOw0KICAgICAgICAgICAgICAgICAgICBkYXRhW25hbWUgKyAnLicgKyBwcm9wICsgJy5wcmVjaXNpb24nXSA9IG9iaiA/IGF0dGVtcHQoKCkgPT4gb2JqLnByZWNpc2lvbikgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgICAgIGRhdGFbbmFtZSArICcuJyArIHByb3AgKyAnLnJhbmdlTWF4J10gPSBvYmogPyBhdHRlbXB0KCgpID0+IG9iai5yYW5nZU1heCkgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgICAgIGRhdGFbbmFtZSArICcuJyArIHByb3AgKyAnLnJhbmdlTWluJ10gPSBvYmogPyBhdHRlbXB0KCgpID0+IG9iai5yYW5nZU1pbikgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBkYXRhOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IGdldE1heEFuaXNvdHJvcHkgPSAoZ2wpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoIWdsKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gKGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykgfHwNCiAgICAgICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykgfHwNCiAgICAgICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykpOw0KICAgICAgICAgICAgICAgIHJldHVybiBleHQgPyBnbC5nZXRQYXJhbWV0ZXIoZXh0Lk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCkgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgZ2V0UGFyYW1zID0gKGdsKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCFnbCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4ge307DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvbnN0IHBuYW1lc1Nob3J0TGlzdCA9IG5ldyBTZXQoZ2V0UGFyYW1OYW1lcygpKTsNCiAgICAgICAgICAgICAgICBjb25zdCBwbmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2wpKQ0KICAgICAgICAgICAgICAgICAgICAvLyAuZmlsdGVyKHByb3AgPT4gcHJvcC50b1VwcGVyQ2FzZSgpID09IHByb3ApIC8vIGdsb2JhbCB0ZXN0DQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKG5hbWUpID0+IHBuYW1lc1Nob3J0TGlzdC5oYXMobmFtZSkpOw0KICAgICAgICAgICAgICAgIHJldHVybiBwbmFtZXMucmVkdWNlKChhY2MsIG5hbWUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gZ2wuZ2V0UGFyYW1ldGVyKGdsW25hbWVdKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCEhdmFsICYmICdidWZmZXInIGluIE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWwpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhY2NbbmFtZV0gPSBbLi4udmFsXTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY1tuYW1lXSA9IHZhbDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgICAgIH0sIHt9KTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCBnZXRVbm1hc2tlZCA9IChnbCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IGV4dCA9ICEhZ2wgPyBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8nKSA6IG51bGw7DQogICAgICAgICAgICAgICAgcmV0dXJuICFleHQgPyB7fSA6IHsNCiAgICAgICAgICAgICAgICAgICAgVU5NQVNLRURfVkVORE9SX1dFQkdMOiBnbC5nZXRQYXJhbWV0ZXIoZXh0LlVOTUFTS0VEX1ZFTkRPUl9XRUJHTCksDQogICAgICAgICAgICAgICAgICAgIFVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMOiBnbC5nZXRQYXJhbWV0ZXIoZXh0LlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKSwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IGdldFN1cHBvcnRlZEV4dGVuc2lvbnMgPSAoZ2wpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoIWdsKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gYXR0ZW1wdCgoKSA9PiBnbC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zKCkpOw0KICAgICAgICAgICAgICAgIGlmICghZXh0KSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGV4dDsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCBnZXRXZWJHTERhdGEgPSAoZ2wsIGNvbnRleHRUeXBlKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCFnbCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVVSSTogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIGRyYXcoZ2wpOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRyYXdpbmdCdWZmZXJXaWR0aCwgZHJhd2luZ0J1ZmZlckhlaWdodCB9ID0gZ2w7DQogICAgICAgICAgICAgICAgICAgIGxldCBkYXRhVVJJID0gJyc7DQogICAgICAgICAgICAgICAgICAgIGlmIChnbC5jYW52YXMuY29uc3RydWN0b3IubmFtZSA9PT0gJ09mZnNjcmVlbkNhbnZhcycpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZHJhdyhnZXRDb250ZXh0KGNhbnZhcywgY29udGV4dFR5cGUpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFVUkkgPSBjYW52YXMudG9EYXRhVVJMKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhVVJJID0gZ2wuY2FudmFzLnRvRGF0YVVSTCgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIHJlZHVjZSBleGNlc3NpdmUgcmVhZHMgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZQ0KICAgICAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IGRyYXdpbmdCdWZmZXJXaWR0aCAvIDE1Ow0KICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBkcmF3aW5nQnVmZmVySGVpZ2h0IC8gNjsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnJlYWRQaXhlbHMoMCwgMCwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgcGl4ZWxzKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVVSSSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXhlbHM6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coWy4uLnBpeGVsc10uZmlsdGVyKHggPT4gISF4KSkgLy8gdGVzdCByZWFkDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhVVJJLA0KICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzOiBbLi4ucGl4ZWxzXSwNCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvLyBnZXQgZGF0YQ0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7IC4uLmdldFBhcmFtcyhnbCksIC4uLmdldFVubWFza2VkKGdsKSB9Ow0KICAgICAgICAgICAgY29uc3QgcGFyYW1zMiA9IHsgLi4uZ2V0UGFyYW1zKGdsMiksIC4uLmdldFVubWFza2VkKGdsMikgfTsNCiAgICAgICAgICAgIGNvbnN0IFZlcnNpb25QYXJhbSA9IHsNCiAgICAgICAgICAgICAgICBBTElBU0VEX0xJTkVfV0lEVEhfUkFOR0U6IHRydWUsDQogICAgICAgICAgICAgICAgU0hBRElOR19MQU5HVUFHRV9WRVJTSU9OOiB0cnVlLA0KICAgICAgICAgICAgICAgIFZFUlNJT046IHRydWUsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgbWlzbWF0Y2ggPSBPYmplY3Qua2V5cyhwYXJhbXMyKQ0KICAgICAgICAgICAgICAgIC5maWx0ZXIoKGtleSkgPT4gISFwYXJhbXNba2V5XSAmJiAhVmVyc2lvblBhcmFtW2tleV0gJiYgKCcnICsgcGFyYW1zW2tleV0gIT0gJycgKyBwYXJhbXMyW2tleV0pKTsNCiAgICAgICAgICAgIGlmIChtaXNtYXRjaC5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICBzZW5kVG9UcmFzaCgnd2ViZ2wvd2ViZ2wyIG1pcnJvcmVkIHBhcmFtcyBtaXNtYXRjaCcsIG1pc21hdGNoLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICBjb25zdCB7IGRhdGFVUkksIHBpeGVscyB9ID0gZ2V0V2ViR0xEYXRhKGdsLCAnd2ViZ2wnKSB8fCB7fTsNCiAgICAgICAgICAgIGNvbnN0IHsgZGF0YVVSSTogZGF0YVVSSTIsIHBpeGVsczogcGl4ZWxzMiB9ID0gZ2V0V2ViR0xEYXRhKGdsMiwgJ3dlYmdsMicpIHx8IHt9Ow0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICBleHRlbnNpb25zOiBbLi4uZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucyhnbCksIC4uLmdldFN1cHBvcnRlZEV4dGVuc2lvbnMoZ2wyKV0sDQogICAgICAgICAgICAgICAgcGl4ZWxzLA0KICAgICAgICAgICAgICAgIHBpeGVsczIsDQogICAgICAgICAgICAgICAgZGF0YVVSSSwNCiAgICAgICAgICAgICAgICBkYXRhVVJJMiwNCiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB7DQogICAgICAgICAgICAgICAgICAgIC4uLnsgLi4ucGFyYW1zLCAuLi5wYXJhbXMyIH0sDQogICAgICAgICAgICAgICAgICAgIC4uLnsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFudGlhbGlhczogZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKSA/IGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCkuYW50aWFsaWFzIDogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgICAgICAgICAgTUFYX1ZJRVdQT1JUX0RJTVM6IGF0dGVtcHQoKCkgPT4gWy4uLmdsLmdldFBhcmFtZXRlcihnbC5NQVhfVklFV1BPUlRfRElNUyldKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIE1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVDogZ2V0TWF4QW5pc290cm9weShnbCksDQogICAgICAgICAgICAgICAgICAgICAgICAuLi5nZXRTaGFkZXJEYXRhKCdWRVJURVhfU0hBREVSJywgZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLCAnVkVSVEVYX1NIQURFUicpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmdldFNoYWRlckRhdGEoJ0ZSQUdNRU5UX1NIQURFUicsIGdldFNoYWRlclByZWNpc2lvbkZvcm1hdChnbCwgJ0ZSQUdNRU5UX1NIQURFUicpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIE1BWF9EUkFXX0JVRkZFUlNfV0VCR0w6IGF0dGVtcHQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXJzID8gZ2wuZ2V0UGFyYW1ldGVyKGJ1ZmZlcnMuTUFYX0RSQVdfQlVGRkVSU19XRUJHTCkgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHBhcmFtZXRlck9yRXh0ZW5zaW9uTGllLA0KICAgICAgICAgICAgICAgIGxpZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgLy8gRmlyZXdhbGwNCiAgICAgICAgICAgIGNvbnN0IGJyYW5kQ2FwYWJpbGl0aWVzID0gWydmY2E2NjUyMCcsICdiNjIzMjFjMycsICdiMzYyYzJmNScsICcwZWIyZmMxOScsICc1NWU4MjFmNycsICc2OTUxODM4YicsICcwODg0N2JhNScsICdjMDA1ODJlOScsICc2ZWRmMTcyMCcsICcyYjgwZmQ5NicsICc2MzQ2Y2Y0OScsICcyMjU5YjcwNicsICdlNzk2Yjg0ZScsICc1YTU2NThmMScsICc1ODg3MTM4MCcsICc1YTkwYTVmOCcsICdjZmQyMDI3NCcsICc1NTgyZGViZScsICdlNDU2OWE1YicsICdmMjI5MzQ0NycsICdjMDQ4ODliMScsICcxYjI1MWZkNycsICdlYTU5YjM0MycsICdiOGVhNmU3ZicsICcxNmM0ODFhNicsICc1OGZkYzcyMCcsICdiZjA2MzE3ZScsICc2Mjk0ZDg0ZScsICdlNjQ2NGM5ZicsICdhMzk3YTU2OCcsICc4MWI5Y2QyOScsICcxYmZkMzI2YycsICc3MDg1OWJkYicsICc3MGEwOTViMScsICcyMzBkNmEwZCcsICczYmYzMjFiOCcsICdjMDRlMzc0YScsICdiZTJkZmFlYScsICdmOTcxNGIzZCcsICc0NjFmOTdlMScsICdkMDljMWMwNycsICdhMWM4MDhkNScsICcwYjJkNDMzMycsICc1ZGRiOTIzNycsICczOWVhZDUwNicsICc4MDJlMjU0NycsICc0OWJmNzM1OCcsICdjMDI2NDY5ZCcsICc1ODFmMzI4MicsICdmMGQ1YTNjNycsICc2MzU3MzY1YycsICdhZTJjNDc3NycsICc4NDljY2I2NCcsICdlOTY1ZDU0MScsICc3OTRmODkyOScsICcyNDAyYzNkMicsICdlMTVhZmFiMCcsICc2OTZlMTU0OCcsICdhZmE1ODNiYycsICdlYTU0ZDUyNScsICc1Y2E1NTI5MicsICdmNTFjYWI5YScsICcwODdkNTc1OScsICc4ZDM3MTE2MScsICdkODYwZmY0MicsICcxNDUzZDU5YScsICcxMmU5MmU2MicsICdiNTA0NjYyZCcsICdjZjk2NDNlNicsICdkZDY3YjA3NicsICdhNTgxZjU1ZScsICdiMjI0Y2M3YycsICcyZjAxNGM0MScsICczM2JjNTQ5MicsICcwZmMxMjNjNycsICdkYmRiZTdhNCcsICdkMjE3Mjk0MycsICc2ODY0ZGNiMCcsICczZmVhMTEwMCcsICdkOTEzZGFmYScsICdkNmJmMzVhZCcsICdhMjZlOWFhOScsICcxNzE4MzFjNScsICc1MzQwMDJhYicsICcxMmY4YWMxNCcsICczZmY4MjMwMycsICc5OWIxYTFjNicsICc3NGRhZjg2NicsICdmYzM3ZmUxZicsICc2YWExZmY3ZScsICdlYzkyODY1NScsICc4NDI4ZmM4ZScsICdkOGJkOWU1YScsICc4YmQwYjkxYicsICc1MmUzNDhiYScsICdjMmJjZTQ5NicsICdlMTQyZDFmOScsICcyZjU4MmVkOScsICc0MDY1Y2Q2OScsICc2NjYyODMxMCcsICc5MDNjODg0NycsICcxZmY3YzdlNycsICc0MDJlMTA2NCcsICdlYjc5OWQzNCcsICdlZjhmNWRiMScsICdlMTU1YzQ3ZScsICcxNzdjYzI1OCcsICc2ZjgxY2JlNycsICc2YjI5MGNkNCcsICdmMTA3NzMzNCcsICdkMWU3NmM4OScsICc1ZDc4NmNlZicsICdlYWExMzgwNCcsICdmYWZhMTRjMCcsICcyYzA0YzJlYicsICdjOTNiNTM2NicsICc0OTYyYWRhMScsICcyNWE3NjBiOCcsICdiZjYxMGNkYicsICdiY2Y3MzE1ZicsICc4MDFkNzNhZicsICcwMGZlMWVjOScsICcwZjM5ZDA1NycsICdmOGU2NTQ4NicsICczOTk5YTVlMScsICdhZDAxYTQyMicsICdkYzI3MWMzNScsICdiNTBlZGQ5OScsICdlNjhiNWM0ZScsICc4MmE5YTJmMScsICcwY2RiOTg1ZCcsICdhMjM4MzAwMScsICdjZTJlM2QxNicsICdjOWJjNGZmZCcsICdlZWQyZTVlMScsICdlMTAzMzliMycsICdmNzQ1MWM5MicsICc0MzAzOGUzZCcsICc4NTQxYWE0YycsICdmYTk5NGYzMycsICdiMmQ2ZmM5OCcsICc2YTc1YWUzYicsICc2Nzk5NTk5NicsICcwZjg0MDM3OScsICdlNTc0YmVmNicsICdiNTQ5NDAyNycsICczNjYwYjcxZicsICdhMjI3ODhmOCcsICdlMTZiYjFiYicsICdlNTk2MmJhMycsICdjNWU5YTg4MycsICc1ZWU0MTQ1NicsICczYTkxZDBkNicsICdjMDVmNzU5NicsICdkZWQ3NDA0NCcsICdmNWQxOTkzNCcsICdjNzk2MzRjMicsICcxODU3OWU4MycsICcxZThhOWE3OScsICc1MDhkMTYyNScsICdkMDVhNjZlYicsICczNDI3MDQ2OScsICdmM2M2ZWExMScsICc1NWQzYWE1NicsICc3YjJlNTI0MicsICdlOTY1ZDE4MCcsICcyNTg3ODlkMCcsICdkMmRjMjQ3NCcsICdkNDk4Nzk3ZCcsICdlYTdmOTBlYScsICdhNGQzNDE3NicsICdjMDRiMDYzNScsICcwMmIzZWVhMycsICc2YjA3ZDRmOCcsICc2YzE2ODgwMScsICdhYjQwYmVjZScsICdhNGI5ODhkYScsICc0YzllOGY1ZCcsICc1YWVhMWFmMScsICc3OTVlNWM5NScsICcyN2RiMjkyYycsICcwNTc4NTdhYycsICcyM2QxY2UyMCcsICc5MTc4NzFlNycsICdiZWZmZGEyNicsICc0ODJjODFiMicsICdjMDkyZmRmOCcsICc2MjQ4ZDllMycsICdlMzE2ZTRjMCcsICdhZGU3NWM0ZicsICc3MzYwZWJkMScsICczMDBlZTkyNycsICc1YmVmOWEzOScsICczNzQwYzRjNycsICc2NjhmMGY5MycsICc2ZGZhZTNjYicsICc5YjY3YjdkYycsICdkZTc5M2VhZCcsICcxNDlhMWVmYScsICc3OWE1N2FhOScsICdiZmUxYzIxMicsICc2MmJmN2VmMScsICcyNWY5Mzg1ZCcsICc0MDI3ZDE5MycsICdlOWRiYjhkNScsICdjYmExODc4YicsICc0NTAzZTc3MScsICdjYmVhZGU4YycsICdjMDczMDdjNicsICdjZWZiNzJjYScsICc2MjNjM2JmZCcsICcwMGI3MjUwNycsICc4MjE5ZTFhNCcsICc2MWQ5NDY0ZScsICc3MjM4YzVkZCcsICdiNGQ0MGRjYycsICcwNDYzNjI3ZCcsICc1ODMxZDVmZCcsICcwNTg2ZTIwYicsICc0NjdiOTlhNScsICdiMTBjMmE4NScsICdmMjIxZmVmNScsICc3YjgxMWNkZCcsICc5OWVmMmMzYicsICc1YjZhMTdhYScsICdhNWE0NzdhZScsICcxOTU5NDY2NicsICc0NjRkNTFhYycsICdhOTdkMzg1OCcsICcyMDQ4YmM1YScsICc2ZTgwNmZmYycsICc2OThjNWMyZScsICcyNzkzODgzMCcsICc2NmQ5OTJlOCcsICdjN2UzN2NhMCcsICc3ODY0MDg1OScsICc1MDJjNDAyYycsICdkOTcwZDM0NScsICdlYzA1MGJiNicsICc3NDE2ODhlNCcsICc2MTE3OGYyYScsICc5YzgxNGMxYicsICc3OTI4NGM0NycsICdkNzM0ZWEwOCcsICcxMDFlMDU4MicsICdlYThmNWFkMCcsICc2MWVlY2FhZScsICdkY2Q5YTI5ZScsICc0OGFmMDM4ZicsICdiYjc3YTQ2OScsICc4NTQ3OWI5OScsICcwNjM5YTgxYScsICdkZjlkYWViNicsICc5ZmQ3NjM1MicsICczYjcyNDkxNicsICcyYmI0ODhkYScsICdmZTA5OTdiNicsICc5ZTJiNWU5NCcsICdmMzNkOTE4ZScsICdiODk2MWQxNScsICdhM2Y5ZWUzNCcsICdhOTY0MDg4MCcsICdiYzBmOTY4NicsICcyZDE1Mjg3ZicsICdhYTczZjNhNCcsICcwMGMxYjQyZCddOw0KICAgICAgICAgICAgY29uc3QgY2FwYWJpbGl0aWVzID0gWy0yMTQ3Mjg3ODEwLCAtMjE0NzM4MjI1MSwgLTIxNDczNjE3NjksIC0yMTQ3MzgyMjcyLCAtMjE0NzM2MTc5MiwgLTIxNDU5NzQ2MTIsIC0yMTQ1OTc0NTk4LCAtMjE0NzI4NzgzNCwgLTIxNDcxMzM3NDksIC0yMTQ2Mzg0MDI3LCAtMjE0NzI5NTgyMiwgLTIxNDYzODQwMDMsIC0xMTQ3NDUxOTAxLCAtMjE0NzM4MzI0NiwgLTIxNDU5NjY1NDUsIC0yMTQ3NDQ3MTM3LCAtMTE0NzE2MDU1MywgMzQ5OTEyLCAtMjE0NzQyOTIwMSwgLTIxNDc0NTkwMzEsIC0yMTQ2Mzg0MDExLCAtMTE0NzQ2NDE3NywgLTIxNDU5NjY1MzUsIC0yMTQ3NDQwNDIyLCAtMTE0ODMyNjczOSwgMTIyOTgzNSwgLTIxNDczNjI3NjAsIC0yMTQ3MzM3MDAzLCAtMjE0NzMzMzExOCwgLTIxNDc0MDc4MjEsIC0yMTQ3NDQ3MTYxLCAtMjE0NzMxNjM4MywgLTIxNDYyNTE2NDEsIC0xMTQ3NDUxODgzLCA5OTkxNTY5MjIsIC0yMTQ2Mjg2NDM4LCAtMjE0NjI4NjQ2MywgLTExNDc0NjQxNjksIC0xMTQ3MTY4NzI0LCAtMjE0NzEzNjMyOCwgLTIxNDczODIyMjEsIC0yMTQ3NDQ3MTQ5LCAtMjE0NzI4Nzg1NCwgLTIxMzA2NTk5MTIsIC0yMTQ2MjUzNjkzLCAtMTE0ODY3ODYzMSwgLTIxNDczODczMzUsIC0yMTQ3MzYxNzc1LCAtMTE0NzYwMjkzNCwgLTIxNDczNjU4NjMsIC0xMTQ3NDE5Nzc1LCAtMTk2MjkxOTk3NCwgLTIxNDc0NjY5NzIsIC0yMTQ1OTY2NTI5LCAtMTE2NDI3OTg5MCwgLTIxNDczODU4MjUsIC0yMTQ3MzYxNzc0LCAxMTQ3NzE0NDI2LCAtMjE0NzI4NzgyMCwgLTIxNDczMzY5OTgsIC0yMTQ3NDYxMTY5LCAtMjE0NzQ3NTM1MiwgLTExNDg1NzIzNTQsIC0yMTQ2Mzg0MjgxLCAtMjE0NzM2MTczMSwgLTIxNDczMDQxOTMsIC0yMTQ3Mzg5OTMwLCAtMjE0NzM4NjI5MiwgLTE5NjI5MjgxNzgsIC0yMTQ3MzQ0Njg2LCAtMjE0NzQ0NzExMSwgLTIxNDc0NDcxMjIsIDk5ODgwNDk5MiwgLTEzNDgyMzk3MSwgLTIxNDc0NDc4NzMsIC0yMTQ3MzQ2NzQ3LCAtMjE0NjI4NjU4MywgLTIxNDczODk5NTEsIC0yMTMwMTY0Mzg4LCAxODQ1NTU0ODMsIC0yMTQ3Mzk0MTg4LCAxNjEwNjE4ODQxLCAtMTMzMjAyOTMzMiwgMjE0NzQ0MDQzOCwgMzUxNTEzLCAtMjE0NjQwMDM4NCwgLTIxNDYxODc3NjYsIC0xMTQ3MTYwMzk5LCAxMTk3MDc1LCA5OTg5MTEyNjgsIC0yMTQ3Mjk1ODQ5LCAtMjEzMDE2NDE2MiwgLTIxNDczODU4NDksIC0yMTMwMTY0NTQ2LCAtMTE0Nzc2NTI3NCwgLTEwNzM3MTkzMzEsIC0yMTQ2NDE3MDI3LCAtMjE0NzM2NTc2MCwgOTk5MTQ4NTk3LCAtMTg3ODExMTEyNCwgLTY3NzU1ODE2MCwgLTEzMzc1NzQ3NSwgLTIxNDcxMjgyNzUsIC0yMTQ3NDUzNzAxLCAtMjEzMDE3MjU3MywgLTExNDc0MTk3NTEsIC0yMTQ2NTI2Nzk1LCAtMjE0NjIzNjcwMywgLTIxNDc0MTA5NDEsIC0yMTQ3NDE1MDM3LCAtMjE0NTk3NDY1NywgLTIxNDczMDYzMjEsIC0yMTQ3Mzc4MTQ2LCAtMjE0NjIzNzAyMCwgLTIxNDU5NjY0MTQsIC0yMTQ3NDUzNzY4LCAtMjE0NzI5MTgyMCwgLTIxNDc0NzAxNzMsIC02Mzg0OTQ3NTUsIC0xMzQyMTU0Nzg3LCAtMjE0NzQ2NzE3MiwgLTIxNDU5NzQ0ODksIC0xMTQ3NjQzNzU5LCAtMjE0NzQ0Nzg5MiwgODM2MjUsIC0yMTQ2MjMyNTAzLCAtMjE0NzI5NTg1NywgLTIxNDYyNTM2NzEsIC0yMTQ3MzE2MzgyLCAtMjE0NzQyOTIyMywgLTIxNDczOTA0NjEsIC0yMTQ3MjkxNzE4LCAtMjE0NjUyNjkzNCwgLTIxNDc0NDcxMjYsIC0yMTQ2Mzg0MTIwLCAyMTY2NywgLTIxNDU5NzQ3MjksIC0yMTQ3MjkzMDU4LCAtMjE0NjI1MTYxOSwgMTA5OTUzNiwgLTIxNDcxNDI0MjksIC0yMTQ2Mzc5OTU1LCAtMjE0NzM2NTgyNywgLTIxNDY0MDA1NTYsIC0yMTQ3Mjk1NzY4LCAtMjE0NjI1MTY4MSwgLTE4NzgxMDI5MjEsIC0yMTQ1OTc0MzQzLCAyMTQ3NDc1MDg1LCAtMjE0NzM5NDI1MSwgLTIxNDYyMzI3MjMsIC0yMTQ3NDAwMDU3LCAtMjE0NzQxNDk1NiwgLTIxNDc0MzkwMjAsIC0yMTQ2MzE5MjY4LCAtMjE0NzQwNjc5OCwgLTExNDg2ODA1MDksIC0yMTQ2Mjc3MjE4LCAyMTQ2NTkwNzI4LCAtMjE0NjQwMDYyMCwgLTIxNDc0MTQ3MzMsIC0yMTQ2Mzc2MDY1LCAtMjE0NzM4NzM2NCwgLTIxNDczODYzMjYsIC0xOTYyODkzMzcwLCAtMjEzMDE2NDM4MiwgLTIxNDU5MzM2NDgsIC0yMTQ3NDQ3OTI4LCAtMjE0NzQ0ODU5MiwgLTIxNDU5NzQzODAsIC0yMTQ3MTMzNzQ3LCAtMjE0NTk0MTk3NywgLTIxNDc0MDc2NDMsIC0yMTQ3NDQ3MTU3LCAtMjE0NzMwMDAxOSwgMjE0NzQ3OTE4MSwgLTExNjQ4MDA0NzgsIC0yMTQ2MjMyMzM4LCAtMjE0NTk3NDYzNywgLTIxNDc0NTM3NjcsIC0yMTQ2NDAxOTI4LCAtMjE0NzM2NTczMCwgLTIxNDYzODQwMzQsIC0yMTQ3NDc1MzUxLCAtMjE0NjIzMjQ4MCwgLTIxNDYyMzY1ODgsIC0yMTQ3NDQ3ODk2LCAtMjE0NzI5NTgyMywgLTk5OTk4NzIxNiwgLTIxNDU5NjY0NDEsIC0yMTQ3MTM0OTc0LCAtMTE0NzQxOTc1MywgLTIxNDczOTQ0ODQsIC0xNjc0NjU0NiwgLTIxNDYyMzI3MjQsIC0xMTQ4MzM1MDcwLCAtMjE0NjIzMjU5MCwgLTIxNDYzOTg1NjgsIC0xMTY0ODAwMTkxLCAtMjE0NzQ2Njk1NiwgLTExNDc2NDM4NzIsIC0xMTQ4NzEzMjU5LCAtMTE0NzQyNzgyNiwgLTIxNDczNjU3NTksIC0yMTQ3MzM3MDEyLCAtMjE0NTk3MDY1OCwgLTIxNDcxMjU1NDQsIC0yMTQ3NDE0OTg3LCAtMjE0NzM3MzkxNCwgLTIxNDczNzM5ODQsIC0xMTQ3NDg4MTQ0LCAtNjcxMDgyNTQ2LCAtMjE0NzM2MTY1MiwgLTIxNDczNzQwODAsIC0yMTQ3Mjg3ODM1LCAtMjE0NTk3NDU5NiwgMTUwODk5OCwgLTIxNDczNzgwNDEsIC0yMTQ3Mzc0MDMyLCAtMjE0NzQxMDkzOCwgLTIxNDU5NTgyMjgsIC0yMTQ3MzM3MDIyLCAtMjE0NzM4MjEzMCwgLTIxNDcyODc4MTFdOw0KICAgICAgICAgICAgY29uc3Qgd2ViZ2xQYXJhbXMgPSAhZGF0YS5wYXJhbWV0ZXJzID8gdW5kZWZpbmVkIDogWw0KICAgICAgICAgICAgICAgIC4uLm5ldyBTZXQoT2JqZWN0LnZhbHVlcyhkYXRhLnBhcmFtZXRlcnMpDQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHZhbCkgPT4gdmFsICYmIHR5cGVvZiB2YWwgIT0gJ3N0cmluZycpDQogICAgICAgICAgICAgICAgICAgIC5mbGF0KCkNCiAgICAgICAgICAgICAgICAgICAgLm1hcCgodmFsKSA9PiBOdW1iZXIodmFsKSkpLA0KICAgICAgICAgICAgXS5zb3J0KChhLCBiKSA9PiAoYSAtIGIpKTsNCiAgICAgICAgICAgIGNvbnN0IGdwdUJyYW5kID0gZ2V0R3B1QnJhbmQoZGF0YS5wYXJhbWV0ZXJzPy5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCk7DQogICAgICAgICAgICBjb25zdCB3ZWJnbFBhcmFtc1N0ciA9ICcnICsgd2ViZ2xQYXJhbXM7DQogICAgICAgICAgICBjb25zdCB3ZWJnbEJyYW5kQ2FwYWJpbGl0aWVzID0gIWdwdUJyYW5kIHx8ICF3ZWJnbFBhcmFtc1N0ciA/IHVuZGVmaW5lZCA6IGhhc2hNaW5pKFtncHVCcmFuZCwgd2ViZ2xQYXJhbXNTdHJdKTsNCiAgICAgICAgICAgIGNvbnN0IHdlYmdsQ2FwYWJpbGl0aWVzID0gIXdlYmdsUGFyYW1zID8gdW5kZWZpbmVkIDogd2ViZ2xQYXJhbXMucmVkdWNlKChhY2MsIHZhbCwgaSkgPT4gYWNjIF4gKCt2YWwgKyBpKSwgMCk7DQogICAgICAgICAgICBBbmFseXNpcy53ZWJnbFBhcmFtcyA9IHdlYmdsUGFyYW1zU3RyOw0KICAgICAgICAgICAgQW5hbHlzaXMud2ViZ2xCcmFuZENhcGFiaWxpdGllcyA9IHdlYmdsQnJhbmRDYXBhYmlsaXRpZXM7DQogICAgICAgICAgICBBbmFseXNpcy53ZWJnbENhcGFiaWxpdGllcyA9IHdlYmdsQ2FwYWJpbGl0aWVzOw0KICAgICAgICAgICAgY29uc3QgaGFzU3VzR3B1ID0gd2ViZ2xCcmFuZENhcGFiaWxpdGllcyAmJiAhYnJhbmRDYXBhYmlsaXRpZXMuaW5jbHVkZXMod2ViZ2xCcmFuZENhcGFiaWxpdGllcyk7DQogICAgICAgICAgICBjb25zdCBoYXNTdXNDYXBhYmlsaXRpZXMgPSB3ZWJnbENhcGFiaWxpdGllcyAmJiAhY2FwYWJpbGl0aWVzLmluY2x1ZGVzKHdlYmdsQ2FwYWJpbGl0aWVzKTsNCiAgICAgICAgICAgIGlmIChoYXNTdXNHcHUpIHsNCiAgICAgICAgICAgICAgICBMb3dlckVudHJvcHkuV0VCR0wgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKCdXZWJHTFJlbmRlcmluZ0NvbnRleHQuZ2V0UGFyYW1ldGVyJywgJ3N1c3BpY2lvdXMgZ3B1Jyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoaGFzU3VzQ2FwYWJpbGl0aWVzKSB7DQogICAgICAgICAgICAgICAgTG93ZXJFbnRyb3B5LldFQkdMID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBzZW5kVG9UcmFzaCgnV2ViR0xSZW5kZXJpbmdDb250ZXh0LmdldFBhcmFtZXRlcicsICdzdXNwaWNpb3VzIGNhcGFiaWxpdGllcycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRpbWU6IHRpbWVyLnN0b3AoKSwgdGVzdDogJ3dlYmdsJywgcGFzc2VkOiB0cnVlIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAuLi5kYXRhLA0KICAgICAgICAgICAgICAgIGdwdTogew0KICAgICAgICAgICAgICAgICAgICAuLi4oZ2V0V2ViR0xSZW5kZXJlckNvbmZpZGVuY2UoKGRhdGEucGFyYW1ldGVycyB8fCB7fSkuVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpIHx8IHt9KSwNCiAgICAgICAgICAgICAgICAgICAgY29tcHJlc3NlZEdQVTogY29tcHJlc3NXZWJHTFJlbmRlcmVyKChkYXRhLnBhcmFtZXRlcnMgfHwge30pLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnd2ViZ2wnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRXaW5kb3dGZWF0dXJlcygpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIHRpbWVyLnN0YXJ0KCk7DQogICAgICAgICAgICBjb25zdCB3aW4gPSBQSEFOVE9NX0RBUktORVNTIHx8IHdpbmRvdzsNCiAgICAgICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luKQ0KICAgICAgICAgICAgICAgIC5maWx0ZXIoKGtleSkgPT4gIS9ffFxkezMsfS8udGVzdChrZXkpKTsgLy8gY2xlYXIgb3V0IGtub3duIGRkZyBub2lzZQ0KICAgICAgICAgICAgLy8gaWYgRmlyZWZveCwgcmVtb3ZlIHRoZSAnRXZlbnQnIGtleSBhbmQgcHVzaCB0byBlbmQgZm9yIGNvbnNpc3RlbnQgb3JkZXINCiAgICAgICAgICAgIC8vIGFuZCBkaXNyZWdhcmQga2V5cyBrbm93biB0byBiZSBtaXNzaW5nIGluIFJGUCBtb2RlDQogICAgICAgICAgICBjb25zdCBmaXJlZm94S2V5TW92ZWRCeUluc3BlY3QgPSAnRXZlbnQnOw0KICAgICAgICAgICAgY29uc3QgdmFyeWluZ0tleXNNaXNzaW5nSW5SRlAgPSBbJ1BlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZycsICdQZXJmb3JtYW5jZSddOw0KICAgICAgICAgICAgaWYgKElTX0dFQ0tPKSB7DQogICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBrZXlzLmluZGV4T2YoZmlyZWZveEtleU1vdmVkQnlJbnNwZWN0KTsNCiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAga2V5cyA9IGtleXMuc2xpY2UoMCwgaW5kZXgpLmNvbmNhdChrZXlzLnNsaWNlKGluZGV4ICsgMSkpOw0KICAgICAgICAgICAgICAgICAgICBrZXlzID0gWy4uLmtleXMsIGZpcmVmb3hLZXlNb3ZlZEJ5SW5zcGVjdF07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhcnlpbmdLZXlzTWlzc2luZ0luUkZQLmZvckVhY2goKGtleSkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGtleXMuaW5kZXhPZihrZXkpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMgPSBrZXlzLnNsaWNlKDAsIGluZGV4KS5jb25jYXQoa2V5cy5zbGljZShpbmRleCArIDEpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5czsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IG1veiA9IGtleXMuZmlsdGVyKChrZXkpID0+ICgvbW96L2kpLnRlc3Qoa2V5KSkubGVuZ3RoOw0KICAgICAgICAgICAgY29uc3Qgd2Via2l0ID0ga2V5cy5maWx0ZXIoKGtleSkgPT4gKC93ZWJraXQvaSkudGVzdChrZXkpKS5sZW5ndGg7DQogICAgICAgICAgICBjb25zdCBhcHBsZSA9IGtleXMuZmlsdGVyKChrZXkpID0+ICgvYXBwbGUvaSkudGVzdChrZXkpKS5sZW5ndGg7DQogICAgICAgICAgICBjb25zdCBkYXRhID0geyBrZXlzLCBhcHBsZSwgbW96LCB3ZWJraXQgfTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICd3aW5kb3cnLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4geyAuLi5kYXRhIH07DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ3dpbmRvdycsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIC8qIGVzbGludC1kaXNhYmxlIGxpbmVicmVhay1zdHlsZSAqLw0KICAgIGNvbnN0IHZvb2RvbyA9IGFzeW5jIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgY29uc3Qgc2NvcGUgPSBhd2FpdCBzcGF3bldvcmtlcigpOw0KICAgICAgICBpZiAoc2NvcGUgPT0gMCAvKiBTY29wZS5XT1JLRVIgKi8pIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBhd2FpdCBxdWV1ZVRhc2soKTsNCiAgICAgICAgZ2V0U3RhY2tCeXRlcygpOw0KICAgICAgICBhd2FpdCBleGlsZSgpOw0KICAgICAgICBjb25zdCBpc0JyYXZlID0gSVNfQkxJTksgPyBhd2FpdCBicmF2ZUJyb3dzZXIoKSA6IGZhbHNlOw0KICAgICAgICBjb25zdCBicmF2ZU1vZGUgPSBpc0JyYXZlID8gZ2V0QnJhdmVNb2RlKCkgOiB7fTsNCiAgICAgICAgY29uc3QgYnJhdmVGaW5nZXJwcmludGluZ0Jsb2NraW5nID0gaXNCcmF2ZSAmJiAoYnJhdmVNb2RlLnN0YW5kYXJkIHx8IGJyYXZlTW9kZS5zdHJpY3QpOw0KICAgICAgICBjb25zdCBmaW5nZXJwcmludCA9IGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVTdGFydCA9IHRpbWVyKCk7DQogICAgICAgICAgICBjb25zdCBmaW5nZXJwcmludFRpbWVTdGFydCA9IHRpbWVyKCk7DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBbd29ya2VyU2NvcGVDb21wdXRlZCwgdm9pY2VzQ29tcHV0ZWQsIG9mZmxpbmVBdWRpb0NvbnRleHRDb21wdXRlZCwgY2FudmFzV2ViZ2xDb21wdXRlZCwgY2FudmFzMmRDb21wdXRlZCwgd2luZG93RmVhdHVyZXNDb21wdXRlZCwgaHRtbEVsZW1lbnRWZXJzaW9uQ29tcHV0ZWQsIGNzc0NvbXB1dGVkLCBjc3NNZWRpYUNvbXB1dGVkLCBzY3JlZW5Db21wdXRlZCwgbWF0aHNDb21wdXRlZCwgY29uc29sZUVycm9yc0NvbXB1dGVkLCB0aW1lem9uZUNvbXB1dGVkLCBjbGllbnRSZWN0c0NvbXB1dGVkLCBmb250c0NvbXB1dGVkLCBtZWRpYUNvbXB1dGVkLCBzdmdDb21wdXRlZCwgcmVzaXN0YW5jZUNvbXB1dGVkLCBpbnRsQ29tcHV0ZWQsXSA9IGF3YWl0IFByb21pc2UuYWxsKFsNCiAgICAgICAgICAgICAgICBnZXRCZXN0V29ya2VyU2NvcGUoKSwNCiAgICAgICAgICAgICAgICBnZXRWb2ljZXMoKSwNCiAgICAgICAgICAgICAgICBnZXRPZmZsaW5lQXVkaW9Db250ZXh0KCksDQogICAgICAgICAgICAgICAgZ2V0Q2FudmFzV2ViZ2woKSwNCiAgICAgICAgICAgICAgICBnZXRDYW52YXMyZCgpLA0KICAgICAgICAgICAgICAgIGdldFdpbmRvd0ZlYXR1cmVzKCksDQogICAgICAgICAgICAgICAgZ2V0SFRNTEVsZW1lbnRWZXJzaW9uKCksDQogICAgICAgICAgICAgICAgZ2V0Q1NTKCksDQogICAgICAgICAgICAgICAgZ2V0Q1NTTWVkaWEoKSwNCiAgICAgICAgICAgICAgICBnZXRTY3JlZW4oKSwNCiAgICAgICAgICAgICAgICBnZXRNYXRocygpLA0KICAgICAgICAgICAgICAgIGdldENvbnNvbGVFcnJvcnMoKSwNCiAgICAgICAgICAgICAgICBnZXRUaW1lem9uZSgpLA0KICAgICAgICAgICAgICAgIGdldENsaWVudFJlY3RzKCksDQogICAgICAgICAgICAgICAgZ2V0Rm9udHMoKSwNCiAgICAgICAgICAgICAgICBnZXRNZWRpYSgpLA0KICAgICAgICAgICAgICAgIGdldFNWRygpLA0KICAgICAgICAgICAgICAgIGdldFJlc2lzdGFuY2UoKSwNCiAgICAgICAgICAgICAgICBnZXRJbnRsKCksDQogICAgICAgICAgICBdKS5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSkpOw0KICAgICAgICAgICAgY29uc3QgbmF2aWdhdG9yQ29tcHV0ZWQgPSBhd2FpdCBnZXROYXZpZ2F0b3Iod29ya2VyU2NvcGVDb21wdXRlZCkNCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UpKTsNCiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgIGNvbnN0IFtoZWFkbGVzc0NvbXB1dGVkLCBmZWF0dXJlc0NvbXB1dGVkLF0gPSBhd2FpdCBQcm9taXNlLmFsbChbDQogICAgICAgICAgICAgICAgZ2V0SGVhZGxlc3NGZWF0dXJlcyh7DQogICAgICAgICAgICAgICAgICAgIHdlYmdsOiBjYW52YXNXZWJnbENvbXB1dGVkLA0KICAgICAgICAgICAgICAgICAgICB3b3JrZXJTY29wZTogd29ya2VyU2NvcGVDb21wdXRlZCwNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBnZXRFbmdpbmVGZWF0dXJlcyh7DQogICAgICAgICAgICAgICAgICAgIGNzc0NvbXB1dGVkLA0KICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3JDb21wdXRlZCwNCiAgICAgICAgICAgICAgICAgICAgd2luZG93RmVhdHVyZXNDb21wdXRlZCwNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIF0pLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKSk7DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBbbGllc0NvbXB1dGVkLCB0cmFzaENvbXB1dGVkLCBjYXB0dXJlZEVycm9yc0NvbXB1dGVkLF0gPSBhd2FpdCBQcm9taXNlLmFsbChbDQogICAgICAgICAgICAgICAgZ2V0TGllcygpLA0KICAgICAgICAgICAgICAgIGdldFRyYXNoKCksDQogICAgICAgICAgICAgICAgZ2V0Q2FwdHVyZWRFcnJvcnMoKSwNCiAgICAgICAgICAgIF0pLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKSk7DQogICAgICAgICAgICBmaW5nZXJwcmludFRpbWVTdGFydCgpOw0KICAgICAgICAgICAgLy8gR1BVIFByZWRpY3Rpb24NCiAgICAgICAgICAgIGNvbnN0IHsgcGFyYW1ldGVyczogZ3B1UGFyYW1ldGVyIH0gPSBjYW52YXNXZWJnbENvbXB1dGVkIHx8IHt9Ow0KICAgICAgICAgICAgY29uc3QgcmVkdWNlZEdQVVBhcmFtZXRlcnMgPSB7DQogICAgICAgICAgICAgICAgLi4uKGJyYXZlRmluZ2VycHJpbnRpbmdCbG9ja2luZyA/IGdldEJyYXZlVW5wcm90ZWN0ZWRQYXJhbWV0ZXJzKGdwdVBhcmFtZXRlcikgOg0KICAgICAgICAgICAgICAgICAgICBncHVQYXJhbWV0ZXIpLA0KICAgICAgICAgICAgICAgIFJFTkRFUkVSOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgU0hBRElOR19MQU5HVUFHRV9WRVJTSU9OOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgVU5NQVNLRURfUkVOREVSRVJfV0VCR0w6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICBVTk1BU0tFRF9WRU5ET1JfV0VCR0w6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICBWRVJTSU9OOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgVkVORE9SOiB1bmRlZmluZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgLy8gSGFzaGluZw0KICAgICAgICAgICAgY29uc3QgaGFzaFN0YXJ0VGltZSA9IHRpbWVyKCk7DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBbd2luZG93SGFzaCwgaGVhZGxlc3NIYXNoLCBodG1sSGFzaCwgY3NzTWVkaWFIYXNoLCBjc3NIYXNoLCBzdHlsZUhhc2gsIHN0eWxlU3lzdGVtSGFzaCwgc2NyZWVuSGFzaCwgdm9pY2VzSGFzaCwgY2FudmFzMmRIYXNoLCBjYW52YXMyZEltYWdlSGFzaCwgY2FudmFzMmRQYWludEhhc2gsIGNhbnZhczJkVGV4dEhhc2gsIGNhbnZhczJkRW1vamlIYXNoLCBjYW52YXNXZWJnbEhhc2gsIGNhbnZhc1dlYmdsSW1hZ2VIYXNoLCBjYW52YXNXZWJnbFBhcmFtZXRlcnNIYXNoLCBwaXhlbHNIYXNoLCBwaXhlbHMySGFzaCwgbWF0aHNIYXNoLCBjb25zb2xlRXJyb3JzSGFzaCwgdGltZXpvbmVIYXNoLCByZWN0c0hhc2gsIGRvbVJlY3RIYXNoLCBhdWRpb0hhc2gsIGZvbnRzSGFzaCwgd29ya2VySGFzaCwgbWVkaWFIYXNoLCBtaW1lVHlwZXNIYXNoLCBuYXZpZ2F0b3JIYXNoLCBsaWVzSGFzaCwgdHJhc2hIYXNoLCBlcnJvcnNIYXNoLCBzdmdIYXNoLCByZXNpc3RhbmNlSGFzaCwgaW50bEhhc2gsIGZlYXR1cmVzSGFzaCwgZGV2aWNlT2ZUaW1lem9uZUhhc2gsXSA9IGF3YWl0IFByb21pc2UuYWxsKFsNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KHdpbmRvd0ZlYXR1cmVzQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoaGVhZGxlc3NDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeSgoaHRtbEVsZW1lbnRWZXJzaW9uQ29tcHV0ZWQgfHwge30pLmtleXMpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoY3NzTWVkaWFDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeShjc3NDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeSgoY3NzQ29tcHV0ZWQgfHwge30pLmNvbXB1dGVkU3R5bGUpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoKGNzc0NvbXB1dGVkIHx8IHt9KS5zeXN0ZW0pLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoc2NyZWVuQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkodm9pY2VzQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoY2FudmFzMmRDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeSgoY2FudmFzMmRDb21wdXRlZCB8fCB7fSkuZGF0YVVSSSksDQogICAgICAgICAgICAgICAgaGFzaGlmeSgoY2FudmFzMmRDb21wdXRlZCB8fCB7fSkucGFpbnRVUkkpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoKGNhbnZhczJkQ29tcHV0ZWQgfHwge30pLnRleHRVUkkpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoKGNhbnZhczJkQ29tcHV0ZWQgfHwge30pLmVtb2ppVVJJKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KGNhbnZhc1dlYmdsQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoKGNhbnZhc1dlYmdsQ29tcHV0ZWQgfHwge30pLmRhdGFVUkkpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkocmVkdWNlZEdQVVBhcmFtZXRlcnMpLA0KICAgICAgICAgICAgICAgICgoY2FudmFzV2ViZ2xDb21wdXRlZCB8fCB7fSkucGl4ZWxzIHx8IFtdKS5sZW5ndGggPyBoYXNoaWZ5KGNhbnZhc1dlYmdsQ29tcHV0ZWQucGl4ZWxzKSA6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICAoKGNhbnZhc1dlYmdsQ29tcHV0ZWQgfHwge30pLnBpeGVsczIgfHwgW10pLmxlbmd0aCA/IGhhc2hpZnkoY2FudmFzV2ViZ2xDb21wdXRlZC5waXhlbHMyKSA6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KChtYXRoc0NvbXB1dGVkIHx8IHt9KS5kYXRhKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KChjb25zb2xlRXJyb3JzQ29tcHV0ZWQgfHwge30pLmVycm9ycyksDQogICAgICAgICAgICAgICAgaGFzaGlmeSh0aW1lem9uZUNvbXB1dGVkKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KGNsaWVudFJlY3RzQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoWw0KICAgICAgICAgICAgICAgICAgICAoY2xpZW50UmVjdHNDb21wdXRlZCB8fCB7fSkuZWxlbWVudEJvdW5kaW5nQ2xpZW50UmVjdCwNCiAgICAgICAgICAgICAgICAgICAgKGNsaWVudFJlY3RzQ29tcHV0ZWQgfHwge30pLmVsZW1lbnRDbGllbnRSZWN0cywNCiAgICAgICAgICAgICAgICAgICAgKGNsaWVudFJlY3RzQ29tcHV0ZWQgfHwge30pLnJhbmdlQm91bmRpbmdDbGllbnRSZWN0LA0KICAgICAgICAgICAgICAgICAgICAoY2xpZW50UmVjdHNDb21wdXRlZCB8fCB7fSkucmFuZ2VDbGllbnRSZWN0cywNCiAgICAgICAgICAgICAgICBdKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KG9mZmxpbmVBdWRpb0NvbnRleHRDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeShmb250c0NvbXB1dGVkKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KHdvcmtlclNjb3BlQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkobWVkaWFDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeSgobWVkaWFDb21wdXRlZCB8fCB7fSkubWltZVR5cGVzKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KG5hdmlnYXRvckNvbXB1dGVkKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KGxpZXNDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeSh0cmFzaENvbXB1dGVkKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KGNhcHR1cmVkRXJyb3JzQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoc3ZnQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkocmVzaXN0YW5jZUNvbXB1dGVkKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KGludGxDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeShmZWF0dXJlc0NvbXB1dGVkKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYmx1ZXRvb3RoQXZhaWxhYmlsaXR5LCBkZXZpY2UsIGRldmljZU1lbW9yeSwgaGFyZHdhcmVDb25jdXJyZW5jeSwgbWF4VG91Y2hQb2ludHMsIG9zY3B1LCBwbGF0Zm9ybSwgc3lzdGVtLCB1c2VyQWdlbnREYXRhLCB9ID0gbmF2aWdhdG9yQ29tcHV0ZWQgfHwge307DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYXJjaGl0ZWN0dXJlLCBiaXRuZXNzLCBtb2JpbGUsIG1vZGVsLCBwbGF0Zm9ybTogdWFQbGF0Zm9ybSwgcGxhdGZvcm1WZXJzaW9uLCB9ID0gdXNlckFnZW50RGF0YSB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBhbnlQb2ludGVyIH0gPSBjc3NNZWRpYUNvbXB1dGVkIHx8IHt9Ow0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvbG9yRGVwdGgsIHBpeGVsRGVwdGgsIGhlaWdodCwgd2lkdGggfSA9IHNjcmVlbkNvbXB1dGVkIHx8IHt9Ow0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGxvY2F0aW9uLCBsb2NhdGlvbkVwb2NoLCB6b25lIH0gPSB0aW1lem9uZUNvbXB1dGVkIHx8IHt9Ow0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRldmljZU1lbW9yeTogZGV2aWNlTWVtb3J5V29ya2VyLCBoYXJkd2FyZUNvbmN1cnJlbmN5OiBoYXJkd2FyZUNvbmN1cnJlbmN5V29ya2VyLCBncHUsIHBsYXRmb3JtOiBwbGF0Zm9ybVdvcmtlciwgc3lzdGVtOiBzeXN0ZW1Xb3JrZXIsIHRpbWV6b25lTG9jYXRpb246IGxvY2F0aW9uV29ya2VyLCB1c2VyQWdlbnREYXRhOiB1c2VyQWdlbnREYXRhV29ya2VyLCB9ID0gd29ya2VyU2NvcGVDb21wdXRlZCB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjb21wcmVzc2VkR1BVLCBjb25maWRlbmNlIH0gPSBncHUgfHwge307DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYXJjaGl0ZWN0dXJlOiBhcmNoaXRlY3R1cmVXb3JrZXIsIGJpdG5lc3M6IGJpdG5lc3NXb3JrZXIsIG1vYmlsZTogbW9iaWxlV29ya2VyLCBtb2RlbDogbW9kZWxXb3JrZXIsIHBsYXRmb3JtOiB1YVBsYXRmb3JtV29ya2VyLCBwbGF0Zm9ybVZlcnNpb246IHBsYXRmb3JtVmVyc2lvbldvcmtlciwgfSA9IHVzZXJBZ2VudERhdGFXb3JrZXIgfHwge307DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBbDQogICAgICAgICAgICAgICAgICAgICAgICBhbnlQb2ludGVyLA0KICAgICAgICAgICAgICAgICAgICAgICAgYXJjaGl0ZWN0dXJlLA0KICAgICAgICAgICAgICAgICAgICAgICAgYXJjaGl0ZWN0dXJlV29ya2VyLA0KICAgICAgICAgICAgICAgICAgICAgICAgYml0bmVzcywNCiAgICAgICAgICAgICAgICAgICAgICAgIGJpdG5lc3NXb3JrZXIsDQogICAgICAgICAgICAgICAgICAgICAgICBibHVldG9vdGhBdmFpbGFiaWxpdHksDQogICAgICAgICAgICAgICAgICAgICAgICBjb2xvckRlcHRoLA0KICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGNvbXByZXNzZWRHUFUgJiYgY29uZmlkZW5jZSAhPSAnbG93JyA/IFtjb21wcmVzc2VkR1BVXSA6IFtdKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZU1lbW9yeSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZU1lbW9yeVdvcmtlciwNCiAgICAgICAgICAgICAgICAgICAgICAgIGhhcmR3YXJlQ29uY3VycmVuY3ksDQogICAgICAgICAgICAgICAgICAgICAgICBoYXJkd2FyZUNvbmN1cnJlbmN5V29ya2VyLA0KICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24sDQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbldvcmtlciwNCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uRXBvY2gsDQogICAgICAgICAgICAgICAgICAgICAgICBtYXhUb3VjaFBvaW50cywNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vYmlsZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vYmlsZVdvcmtlciwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLA0KICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxXb3JrZXIsDQogICAgICAgICAgICAgICAgICAgICAgICBvc2NwdSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsRGVwdGgsDQogICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtV29ya2VyLA0KICAgICAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm1WZXJzaW9uLA0KICAgICAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm1WZXJzaW9uV29ya2VyLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtV29ya2VyLA0KICAgICAgICAgICAgICAgICAgICAgICAgdWFQbGF0Zm9ybSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHVhUGxhdGZvcm1Xb3JrZXIsDQogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUsDQogICAgICAgICAgICAgICAgICAgIF07DQogICAgICAgICAgICAgICAgfSkoKSksDQogICAgICAgICAgICBdKS5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSkpOw0KICAgICAgICAgICAgaGFzaFN0YXJ0VGltZSgpOw0KICAgICAgICAgICAgY29uc3QgdGltZUVuZCA9IHRpbWVTdGFydCgpOw0KICAgICAgICAgICAgaWYgKFBBUkVOVF9QSEFOVE9NKSB7DQogICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgIFBBUkVOVF9QSEFOVE9NLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoUEFSRU5UX1BIQU5UT00pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgZmluZ2VycHJpbnQgPSB7DQogICAgICAgICAgICAgICAgd29ya2VyU2NvcGU6ICF3b3JrZXJTY29wZUNvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi53b3JrZXJTY29wZUNvbXB1dGVkLCAkaGFzaDogd29ya2VySGFzaCB9LA0KICAgICAgICAgICAgICAgIG5hdmlnYXRvcjogIW5hdmlnYXRvckNvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5uYXZpZ2F0b3JDb21wdXRlZCwgJGhhc2g6IG5hdmlnYXRvckhhc2ggfSwNCiAgICAgICAgICAgICAgICB3aW5kb3dGZWF0dXJlczogIXdpbmRvd0ZlYXR1cmVzQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLndpbmRvd0ZlYXR1cmVzQ29tcHV0ZWQsICRoYXNoOiB3aW5kb3dIYXNoIH0sDQogICAgICAgICAgICAgICAgaGVhZGxlc3M6ICFoZWFkbGVzc0NvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5oZWFkbGVzc0NvbXB1dGVkLCAkaGFzaDogaGVhZGxlc3NIYXNoIH0sDQogICAgICAgICAgICAgICAgaHRtbEVsZW1lbnRWZXJzaW9uOiAhaHRtbEVsZW1lbnRWZXJzaW9uQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLmh0bWxFbGVtZW50VmVyc2lvbkNvbXB1dGVkLCAkaGFzaDogaHRtbEhhc2ggfSwNCiAgICAgICAgICAgICAgICBjc3NNZWRpYTogIWNzc01lZGlhQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLmNzc01lZGlhQ29tcHV0ZWQsICRoYXNoOiBjc3NNZWRpYUhhc2ggfSwNCiAgICAgICAgICAgICAgICBjc3M6ICFjc3NDb21wdXRlZCA/IHVuZGVmaW5lZCA6IHsgLi4uY3NzQ29tcHV0ZWQsICRoYXNoOiBjc3NIYXNoIH0sDQogICAgICAgICAgICAgICAgc2NyZWVuOiAhc2NyZWVuQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLnNjcmVlbkNvbXB1dGVkLCAkaGFzaDogc2NyZWVuSGFzaCB9LA0KICAgICAgICAgICAgICAgIHZvaWNlczogIXZvaWNlc0NvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi52b2ljZXNDb21wdXRlZCwgJGhhc2g6IHZvaWNlc0hhc2ggfSwNCiAgICAgICAgICAgICAgICBtZWRpYTogIW1lZGlhQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLm1lZGlhQ29tcHV0ZWQsICRoYXNoOiBtZWRpYUhhc2ggfSwNCiAgICAgICAgICAgICAgICBjYW52YXMyZDogIWNhbnZhczJkQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLmNhbnZhczJkQ29tcHV0ZWQsICRoYXNoOiBjYW52YXMyZEhhc2ggfSwNCiAgICAgICAgICAgICAgICBjYW52YXNXZWJnbDogIWNhbnZhc1dlYmdsQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLmNhbnZhc1dlYmdsQ29tcHV0ZWQsIHBpeGVsczogcGl4ZWxzSGFzaCwgcGl4ZWxzMjogcGl4ZWxzMkhhc2gsICRoYXNoOiBjYW52YXNXZWJnbEhhc2ggfSwNCiAgICAgICAgICAgICAgICBtYXRoczogIW1hdGhzQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLm1hdGhzQ29tcHV0ZWQsICRoYXNoOiBtYXRoc0hhc2ggfSwNCiAgICAgICAgICAgICAgICBjb25zb2xlRXJyb3JzOiAhY29uc29sZUVycm9yc0NvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5jb25zb2xlRXJyb3JzQ29tcHV0ZWQsICRoYXNoOiBjb25zb2xlRXJyb3JzSGFzaCB9LA0KICAgICAgICAgICAgICAgIHRpbWV6b25lOiAhdGltZXpvbmVDb21wdXRlZCA/IHVuZGVmaW5lZCA6IHsgLi4udGltZXpvbmVDb21wdXRlZCwgJGhhc2g6IHRpbWV6b25lSGFzaCB9LA0KICAgICAgICAgICAgICAgIGNsaWVudFJlY3RzOiAhY2xpZW50UmVjdHNDb21wdXRlZCA/IHVuZGVmaW5lZCA6IHsgLi4uY2xpZW50UmVjdHNDb21wdXRlZCwgJGhhc2g6IHJlY3RzSGFzaCB9LA0KICAgICAgICAgICAgICAgIG9mZmxpbmVBdWRpb0NvbnRleHQ6ICFvZmZsaW5lQXVkaW9Db250ZXh0Q29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLm9mZmxpbmVBdWRpb0NvbnRleHRDb21wdXRlZCwgJGhhc2g6IGF1ZGlvSGFzaCB9LA0KICAgICAgICAgICAgICAgIGZvbnRzOiAhZm9udHNDb21wdXRlZCA/IHVuZGVmaW5lZCA6IHsgLi4uZm9udHNDb21wdXRlZCwgJGhhc2g6IGZvbnRzSGFzaCB9LA0KICAgICAgICAgICAgICAgIGxpZXM6ICFsaWVzQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLmxpZXNDb21wdXRlZCwgJGhhc2g6IGxpZXNIYXNoIH0sDQogICAgICAgICAgICAgICAgdHJhc2g6ICF0cmFzaENvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi50cmFzaENvbXB1dGVkLCAkaGFzaDogdHJhc2hIYXNoIH0sDQogICAgICAgICAgICAgICAgY2FwdHVyZWRFcnJvcnM6ICFjYXB0dXJlZEVycm9yc0NvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5jYXB0dXJlZEVycm9yc0NvbXB1dGVkLCAkaGFzaDogZXJyb3JzSGFzaCB9LA0KICAgICAgICAgICAgICAgIHN2ZzogIXN2Z0NvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5zdmdDb21wdXRlZCwgJGhhc2g6IHN2Z0hhc2ggfSwNCiAgICAgICAgICAgICAgICByZXNpc3RhbmNlOiAhcmVzaXN0YW5jZUNvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5yZXNpc3RhbmNlQ29tcHV0ZWQsICRoYXNoOiByZXNpc3RhbmNlSGFzaCB9LA0KICAgICAgICAgICAgICAgIGludGw6ICFpbnRsQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLmludGxDb21wdXRlZCwgJGhhc2g6IGludGxIYXNoIH0sDQogICAgICAgICAgICAgICAgZmVhdHVyZXM6ICFmZWF0dXJlc0NvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5mZWF0dXJlc0NvbXB1dGVkLCAkaGFzaDogZmVhdHVyZXNIYXNoIH0sDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICBmaW5nZXJwcmludCwNCiAgICAgICAgICAgICAgICBzdHlsZVN5c3RlbUhhc2gsDQogICAgICAgICAgICAgICAgc3R5bGVIYXNoLA0KICAgICAgICAgICAgICAgIGRvbVJlY3RIYXNoLA0KICAgICAgICAgICAgICAgIG1pbWVUeXBlc0hhc2gsDQogICAgICAgICAgICAgICAgY2FudmFzMmRJbWFnZUhhc2gsDQogICAgICAgICAgICAgICAgY2FudmFzV2ViZ2xJbWFnZUhhc2gsDQogICAgICAgICAgICAgICAgY2FudmFzMmRQYWludEhhc2gsDQogICAgICAgICAgICAgICAgY2FudmFzMmRUZXh0SGFzaCwNCiAgICAgICAgICAgICAgICBjYW52YXMyZEVtb2ppSGFzaCwNCiAgICAgICAgICAgICAgICBjYW52YXNXZWJnbFBhcmFtZXRlcnNIYXNoLA0KICAgICAgICAgICAgICAgIGRldmljZU9mVGltZXpvbmVIYXNoLA0KICAgICAgICAgICAgICAgIHRpbWVFbmQsDQogICAgICAgICAgICB9Ow0KICAgICAgICB9Ow0KICAgICAgICAvLyBmaW5nZXJwcmludCBhbmQgcmVuZGVyDQogICAgICAgIGNvbnN0IHsgZmluZ2VycHJpbnQ6IGZwLCBzdHlsZVN5c3RlbUhhc2gsIHN0eWxlSGFzaCwgZG9tUmVjdEhhc2gsIG1pbWVUeXBlc0hhc2gsIGNhbnZhczJkSW1hZ2VIYXNoLCBjYW52YXMyZFBhaW50SGFzaCwgY2FudmFzMmRUZXh0SGFzaCwgY2FudmFzMmRFbW9qaUhhc2gsIGNhbnZhc1dlYmdsSW1hZ2VIYXNoLCBjYW52YXNXZWJnbFBhcmFtZXRlcnNIYXNoLCBkZXZpY2VPZlRpbWV6b25lSGFzaCwgdGltZUVuZCwgfSA9IGF3YWl0IGZpbmdlcnByaW50KCkuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGVycm9yKSkgfHwge307DQogICAgICAgIGlmICghZnApIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmluZ2VycHJpbnQgZmFpbGVkIScpOw0KICAgICAgICB9DQogICAgICAgICsoZnAuY2FudmFzMmQ/LnRleHRNZXRyaWNzU3lzdGVtU3VtKSB8fCAwOw0KICAgICAgICAvLyBUcnVzdGVkIEZpbmdlcnByaW50DQogICAgICAgIGZwLnRyYXNoLnRyYXNoQmluLmxlbmd0aDsNCiAgICAgICAgISgndG90YWxMaWVzJyBpbiBmcC5saWVzKSA/IDAgOiBmcC5saWVzLnRvdGFsTGllczsNCiAgICAgICAgZnAuY2FwdHVyZWRFcnJvcnMuZGF0YS5sZW5ndGg7DQogICAgICAgIGNvbnN0IGhhcmRlbkVudHJvcHkgPSAod29ya2VyU2NvcGUsIHByb3ApID0+IHsNCiAgICAgICAgICAgIHJldHVybiAoIXdvcmtlclNjb3BlID8gcHJvcCA6DQogICAgICAgICAgICAgICAgKHdvcmtlclNjb3BlLmxvY2FsZUVudHJvcHlJc1RydXN0eSAmJiB3b3JrZXJTY29wZS5sb2NhbGVJbnRsRW50cm9weUlzVHJ1c3R5KSA/IHByb3AgOg0KICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQpOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBwcml2YWN5UmVzaXN0RmluZ2VycHJpbnRpbmcgPSAoZnAucmVzaXN0YW5jZSAmJiAvXih0b3IgYnJvd3NlcnxmaXJlZm94KSQvaS50ZXN0KGZwLnJlc2lzdGFuY2UucHJpdmFjeSkpOw0KICAgICAgICAvLyBoYXJkZW4gZ3B1DQogICAgICAgIGNvbnN0IGhhcmRlbkdQVSA9IChjYW52YXNXZWJnbCkgPT4gew0KICAgICAgICAgICAgY29uc3QgeyBncHU6IHsgY29uZmlkZW5jZSwgY29tcHJlc3NlZEdQVSB9IH0gPSBjYW52YXNXZWJnbDsNCiAgICAgICAgICAgIHJldHVybiAoY29uZmlkZW5jZSA9PSAnbG93JyA/IHt9IDogew0KICAgICAgICAgICAgICAgIFVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMOiBjb21wcmVzc2VkR1BVLA0KICAgICAgICAgICAgICAgIFVOTUFTS0VEX1ZFTkRPUl9XRUJHTDogY2FudmFzV2ViZ2wucGFyYW1ldGVycy5VTk1BU0tFRF9WRU5ET1JfV0VCR0wsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgY3JlZXAgPSB7DQogICAgICAgICAgICBuYXZpZ2F0b3I6ICghZnAubmF2aWdhdG9yIHx8IGZwLm5hdmlnYXRvci5saWVkID8gdW5kZWZpbmVkIDogew0KICAgICAgICAgICAgICAgIGJsdWV0b290aEF2YWlsYWJpbGl0eTogZnAubmF2aWdhdG9yLmJsdWV0b290aEF2YWlsYWJpbGl0eSwNCiAgICAgICAgICAgICAgICBkZXZpY2U6IGZwLm5hdmlnYXRvci5kZXZpY2UsDQogICAgICAgICAgICAgICAgZGV2aWNlTWVtb3J5OiBmcC5uYXZpZ2F0b3IuZGV2aWNlTWVtb3J5LA0KICAgICAgICAgICAgICAgIGhhcmR3YXJlQ29uY3VycmVuY3k6IGZwLm5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5LA0KICAgICAgICAgICAgICAgIG1heFRvdWNoUG9pbnRzOiBmcC5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMsDQogICAgICAgICAgICAgICAgb3NjcHU6IGZwLm5hdmlnYXRvci5vc2NwdSwNCiAgICAgICAgICAgICAgICBwbGF0Zm9ybTogZnAubmF2aWdhdG9yLnBsYXRmb3JtLA0KICAgICAgICAgICAgICAgIHN5c3RlbTogZnAubmF2aWdhdG9yLnN5c3RlbSwNCiAgICAgICAgICAgICAgICB1c2VyQWdlbnREYXRhOiB7DQogICAgICAgICAgICAgICAgICAgIC4uLihmcC5uYXZpZ2F0b3IudXNlckFnZW50RGF0YSB8fCB7fSksDQogICAgICAgICAgICAgICAgICAgIC8vIGxvb3NlDQogICAgICAgICAgICAgICAgICAgIGJyYW5kc1ZlcnNpb246IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICAgICAgdWFGdWxsVmVyc2lvbjogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdmVuZG9yOiBmcC5uYXZpZ2F0b3IudmVuZG9yLA0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICBzY3JlZW46ICghZnAuc2NyZWVuIHx8IGZwLnNjcmVlbi5saWVkIHx8IHByaXZhY3lSZXNpc3RGaW5nZXJwcmludGluZyB8fCBMb3dlckVudHJvcHkuU0NSRUVOID8gdW5kZWZpbmVkIDoNCiAgICAgICAgICAgICAgICBoYXJkZW5FbnRyb3B5KGZwLndvcmtlclNjb3BlLCB7DQogICAgICAgICAgICAgICAgICAgIGhlaWdodDogZnAuc2NyZWVuLmhlaWdodCwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGZwLnNjcmVlbi53aWR0aCwNCiAgICAgICAgICAgICAgICAgICAgcGl4ZWxEZXB0aDogZnAuc2NyZWVuLnBpeGVsRGVwdGgsDQogICAgICAgICAgICAgICAgICAgIGNvbG9yRGVwdGg6IGZwLnNjcmVlbi5jb2xvckRlcHRoLA0KICAgICAgICAgICAgICAgICAgICBsaWVkOiBmcC5zY3JlZW4ubGllZCwNCiAgICAgICAgICAgICAgICB9KSksDQogICAgICAgICAgICB3b3JrZXJTY29wZTogIWZwLndvcmtlclNjb3BlIHx8IGZwLndvcmtlclNjb3BlLmxpZWQgPyB1bmRlZmluZWQgOiB7DQogICAgICAgICAgICAgICAgZGV2aWNlTWVtb3J5OiAoYnJhdmVGaW5nZXJwcmludGluZ0Jsb2NraW5nID8gdW5kZWZpbmVkIDogZnAud29ya2VyU2NvcGUuZGV2aWNlTWVtb3J5KSwNCiAgICAgICAgICAgICAgICBoYXJkd2FyZUNvbmN1cnJlbmN5OiAoYnJhdmVGaW5nZXJwcmludGluZ0Jsb2NraW5nID8gdW5kZWZpbmVkIDogZnAud29ya2VyU2NvcGUuaGFyZHdhcmVDb25jdXJyZW5jeSksDQogICAgICAgICAgICAgICAgLy8gc3lzdGVtIGxvY2FsZSBpbiBibGluaw0KICAgICAgICAgICAgICAgIGxhbmd1YWdlOiAhTG93ZXJFbnRyb3B5LlRJTUVfWk9ORSA/IGZwLndvcmtlclNjb3BlLmxhbmd1YWdlIDogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBmcC53b3JrZXJTY29wZS5wbGF0Zm9ybSwNCiAgICAgICAgICAgICAgICBzeXN0ZW06IGZwLndvcmtlclNjb3BlLnN5c3RlbSwNCiAgICAgICAgICAgICAgICBkZXZpY2U6IGZwLndvcmtlclNjb3BlLmRldmljZSwNCiAgICAgICAgICAgICAgICB0aW1lem9uZUxvY2F0aW9uOiAoIUxvd2VyRW50cm9weS5USU1FX1pPTkUgPw0KICAgICAgICAgICAgICAgICAgICBoYXJkZW5FbnRyb3B5KGZwLndvcmtlclNjb3BlLCBmcC53b3JrZXJTY29wZS50aW1lem9uZUxvY2F0aW9uKSA6DQogICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCksDQogICAgICAgICAgICAgICAgd2ViZ2xSZW5kZXJlcjogKChmcC53b3JrZXJTY29wZS5ncHUuY29uZmlkZW5jZSAhPSAnbG93JykgPyBmcC53b3JrZXJTY29wZS5ncHUuY29tcHJlc3NlZEdQVSA6IHVuZGVmaW5lZCksDQogICAgICAgICAgICAgICAgd2ViZ2xWZW5kb3I6ICgoZnAud29ya2VyU2NvcGUuZ3B1LmNvbmZpZGVuY2UgIT0gJ2xvdycpID8gZnAud29ya2VyU2NvcGUud2ViZ2xWZW5kb3IgOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIHVzZXJBZ2VudERhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgLi4uZnAud29ya2VyU2NvcGUudXNlckFnZW50RGF0YSwNCiAgICAgICAgICAgICAgICAgICAgLy8gbG9vc2UNCiAgICAgICAgICAgICAgICAgICAgYnJhbmRzVmVyc2lvbjogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgICAgICB1YUZ1bGxWZXJzaW9uOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBtZWRpYTogZnAubWVkaWEsDQogICAgICAgICAgICBjYW52YXMyZDogKChjYW52YXMyZCkgPT4gew0KICAgICAgICAgICAgICAgIGlmICghY2FudmFzMmQpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zdCB7IGxpZWQsIGxpZWRUZXh0TWV0cmljcyB9ID0gY2FudmFzMmQ7DQogICAgICAgICAgICAgICAgbGV0IGRhdGE7DQogICAgICAgICAgICAgICAgaWYgKCFsaWVkKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YVVSSSwgcGFpbnRVUkksIHRleHRVUkksIGVtb2ppVVJJIH0gPSBjYW52YXMyZDsNCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpZWQsDQogICAgICAgICAgICAgICAgICAgICAgICAuLi57IGRhdGFVUkksIHBhaW50VVJJLCB0ZXh0VVJJLCBlbW9qaVVSSSB9LA0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoIWxpZWRUZXh0TWV0cmljcykgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHRleHRNZXRyaWNzU3lzdGVtU3VtLCBlbW9qaVNldCB9ID0gY2FudmFzMmQ7DQogICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAuLi4oZGF0YSB8fCB7fSksDQogICAgICAgICAgICAgICAgICAgICAgICAuLi57IHRleHRNZXRyaWNzU3lzdGVtU3VtLCBlbW9qaVNldCB9LA0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTsNCiAgICAgICAgICAgIH0pKGZwLmNhbnZhczJkKSwNCiAgICAgICAgICAgIGNhbnZhc1dlYmdsOiAoIWZwLmNhbnZhc1dlYmdsIHx8IGZwLmNhbnZhc1dlYmdsLmxpZWQgfHwgTG93ZXJFbnRyb3B5LldFQkdMKSA/IHVuZGVmaW5lZCA6IChicmF2ZUZpbmdlcnByaW50aW5nQmxvY2tpbmcgPyB7DQogICAgICAgICAgICAgICAgcGFyYW1ldGVyczogew0KICAgICAgICAgICAgICAgICAgICAuLi5nZXRCcmF2ZVVucHJvdGVjdGVkUGFyYW1ldGVycyhmcC5jYW52YXNXZWJnbC5wYXJhbWV0ZXJzKSwNCiAgICAgICAgICAgICAgICAgICAgLi4uaGFyZGVuR1BVKGZwLmNhbnZhc1dlYmdsKSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSA6IHsNCiAgICAgICAgICAgICAgICAuLi4oKGdsLCBjYW52YXMyZCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAoKGNhbnZhczJkICYmIGNhbnZhczJkLmxpZWQpIHx8IExvd2VyRW50cm9weS5DQU5WQVMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc3RydXN0IGltYWdlcw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBleHRlbnNpb25zLCBncHUsIGxpZWQsIHBhcmFtZXRlck9yRXh0ZW5zaW9uTGllIH0gPSBnbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncHUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGllZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJPckV4dGVuc2lvbkxpZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdsOw0KICAgICAgICAgICAgICAgIH0pKGZwLmNhbnZhc1dlYmdsLCBmcC5jYW52YXMyZCksDQogICAgICAgICAgICAgICAgcGFyYW1ldGVyczogew0KICAgICAgICAgICAgICAgICAgICAuLi5mcC5jYW52YXNXZWJnbC5wYXJhbWV0ZXJzLA0KICAgICAgICAgICAgICAgICAgICAuLi5oYXJkZW5HUFUoZnAuY2FudmFzV2ViZ2wpLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIGNzc01lZGlhOiAhZnAuY3NzTWVkaWEgPyB1bmRlZmluZWQgOiB7DQogICAgICAgICAgICAgICAgcmVkdWNlZE1vdGlvbjogY2FuaXVzZSgoKSA9PiBmcC5jc3NNZWRpYS5tZWRpYUNTU1sncHJlZmVycy1yZWR1Y2VkLW1vdGlvbiddKSwNCiAgICAgICAgICAgICAgICBjb2xvclNjaGVtZTogKGJyYXZlRmluZ2VycHJpbnRpbmdCbG9ja2luZyA/IHVuZGVmaW5lZCA6DQogICAgICAgICAgICAgICAgICAgIGNhbml1c2UoKCkgPT4gZnAuY3NzTWVkaWEubWVkaWFDU1NbJ3ByZWZlcnMtY29sb3Itc2NoZW1lJ10pKSwNCiAgICAgICAgICAgICAgICBtb25vY2hyb21lOiBjYW5pdXNlKCgpID0+IGZwLmNzc01lZGlhLm1lZGlhQ1NTLm1vbm9jaHJvbWUpLA0KICAgICAgICAgICAgICAgIGludmVydGVkQ29sb3JzOiBjYW5pdXNlKCgpID0+IGZwLmNzc01lZGlhLm1lZGlhQ1NTWydpbnZlcnRlZC1jb2xvcnMnXSksDQogICAgICAgICAgICAgICAgZm9yY2VkQ29sb3JzOiBjYW5pdXNlKCgpID0+IGZwLmNzc01lZGlhLm1lZGlhQ1NTWydmb3JjZWQtY29sb3JzJ10pLA0KICAgICAgICAgICAgICAgIGFueUhvdmVyOiBjYW5pdXNlKCgpID0+IGZwLmNzc01lZGlhLm1lZGlhQ1NTWydhbnktaG92ZXInXSksDQogICAgICAgICAgICAgICAgaG92ZXI6IGNhbml1c2UoKCkgPT4gZnAuY3NzTWVkaWEubWVkaWFDU1MuaG92ZXIpLA0KICAgICAgICAgICAgICAgIGFueVBvaW50ZXI6IGNhbml1c2UoKCkgPT4gZnAuY3NzTWVkaWEubWVkaWFDU1NbJ2FueS1wb2ludGVyJ10pLA0KICAgICAgICAgICAgICAgIHBvaW50ZXI6IGNhbml1c2UoKCkgPT4gZnAuY3NzTWVkaWEubWVkaWFDU1MucG9pbnRlciksDQogICAgICAgICAgICAgICAgY29sb3JHYW11dDogY2FuaXVzZSgoKSA9PiBmcC5jc3NNZWRpYS5tZWRpYUNTU1snY29sb3ItZ2FtdXQnXSksDQogICAgICAgICAgICAgICAgc2NyZWVuUXVlcnk6IChwcml2YWN5UmVzaXN0RmluZ2VycHJpbnRpbmcgfHwgKExvd2VyRW50cm9weS5TQ1JFRU4gfHwgTG93ZXJFbnRyb3B5LklGUkFNRV9TQ1JFRU4pID8NCiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkIDoNCiAgICAgICAgICAgICAgICAgICAgaGFyZGVuRW50cm9weShmcC53b3JrZXJTY29wZSwgY2FuaXVzZSgoKSA9PiBmcC5jc3NNZWRpYS5zY3JlZW5RdWVyeSkpKSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjc3M6ICFmcC5jc3MgPyB1bmRlZmluZWQgOiBmcC5jc3Muc3lzdGVtLmZvbnRzLA0KICAgICAgICAgICAgdGltZXpvbmU6ICFmcC50aW1lem9uZSB8fCBmcC50aW1lem9uZS5saWVkIHx8IExvd2VyRW50cm9weS5USU1FX1pPTkUgPyB1bmRlZmluZWQgOiB7DQogICAgICAgICAgICAgICAgbG9jYXRpb25NZWFzdXJlZDogaGFyZGVuRW50cm9weShmcC53b3JrZXJTY29wZSwgZnAudGltZXpvbmUubG9jYXRpb25NZWFzdXJlZCksDQogICAgICAgICAgICAgICAgbGllZDogZnAudGltZXpvbmUubGllZCwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBvZmZsaW5lQXVkaW9Db250ZXh0OiAhZnAub2ZmbGluZUF1ZGlvQ29udGV4dCA/IHVuZGVmaW5lZCA6IChmcC5vZmZsaW5lQXVkaW9Db250ZXh0LmxpZWQgfHwgTG93ZXJFbnRyb3B5LkFVRElPID8gdW5kZWZpbmVkIDoNCiAgICAgICAgICAgICAgICBmcC5vZmZsaW5lQXVkaW9Db250ZXh0KSwNCiAgICAgICAgICAgIGZvbnRzOiAhZnAuZm9udHMgfHwgZnAuZm9udHMubGllZCB8fCBMb3dlckVudHJvcHkuRk9OVFMgPyB1bmRlZmluZWQgOiBmcC5mb250cy5mb250RmFjZUxvYWRGb250cywNCiAgICAgICAgICAgIGZvcmNlUmVuZXc6IDE2NzIwMDU1MDM5MDEsDQogICAgICAgIH07DQogICAgICAgIGNvbnN0IFtmcEhhc2gsIGNyZWVwSGFzaF0gPSBhd2FpdCBQcm9taXNlLmFsbChbaGFzaGlmeShmcCksIGhhc2hpZnkoY3JlZXApXSkNCiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7DQogICAgICAgIH0pIHx8IFtdOw0KICAgICAgICByZXR1cm4geyBmcEhhc2gsIGNyZWVwSGFzaCwgZnAsIGNyZWVwIH07DQogICAgfTsKCiAgICB2b29kb28oKTsKCn0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWVwLmpzLm1hcAo=')], { type: 'text/javascript' }))));
            if (!hasConstructor(dedicatedWorker, 'Worker'))
                return resolve(null);
            dedicatedWorker.onmessage = (event) => {
                dedicatedWorker.terminate();
                clearTimeout(giveUpOnWorker);
                return resolve(event.data);
            };
        });
        const getSharedWorker = ({ scriptSource }) => new Promise((resolve) => {
            const giveUpOnWorker = setTimeout(() => {
                return resolve(null);
            }, 3000);
            const sharedWorker = ask(() => new SharedWorker(URL.createObjectURL(new Blob([atob('KGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICAvLyBAdHMtZXhwZWN0LWVycm9yDQogICAgY29uc3QgSVNfV09SS0VSX1NDT1BFID0gIXNlbGYuZG9jdW1lbnQgJiYgc2VsZi5Xb3JrZXJHbG9iYWxTY29wZTsNCiAgICAvLyBEZXRlY3QgQnJvd3Nlcg0KICAgIGZ1bmN0aW9uIGdldEVuZ2luZSgpIHsNCiAgICAgICAgY29uc3QgeCA9IFtdLmNvbnN0cnVjdG9yOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgKC0xKS50b0ZpeGVkKC0xKTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyKSB7DQogICAgICAgICAgICByZXR1cm4gZXJyLm1lc3NhZ2UubGVuZ3RoICsgKHggKyAnJykuc3BsaXQoeC5uYW1lKS5qb2luKCcnKS5sZW5ndGg7DQogICAgICAgIH0NCiAgICB9DQogICAgY29uc3QgRU5HSU5FX0lERU5USUZJRVIgPSBnZXRFbmdpbmUoKTsNCiAgICBjb25zdCBJU19CTElOSyA9IEVOR0lORV9JREVOVElGSUVSID09IDgwOw0KICAgIGNvbnN0IElTX0dFQ0tPID0gRU5HSU5FX0lERU5USUZJRVIgPT0gNTg7DQogICAgY29uc3QgSVNfV0VCS0lUID0gRU5HSU5FX0lERU5USUZJRVIgPT0gNzc7DQogICAgY29uc3QgSlNfRU5HSU5FID0gKHsNCiAgICAgICAgODA6ICdWOCcsDQogICAgICAgIDU4OiAnU3BpZGVyTW9ua2V5JywNCiAgICAgICAgNzc6ICdKYXZhU2NyaXB0Q29yZScsDQogICAgfSlbRU5HSU5FX0lERU5USUZJRVJdIHx8IG51bGw7DQogICAgY29uc3QgTElLRV9CUkFWRSA9IElTX0JMSU5LICYmICdmbGF0JyBpbiBBcnJheS5wcm90b3R5cGUgLyogQ2hyb21lIDY5ICovICYmICEoJ1JlcG9ydGluZ09ic2VydmVyJyBpbiBzZWxmIC8qIEJyYXZlICovKTsNCiAgICBmdW5jdGlvbiBicmF2ZUJyb3dzZXIoKSB7DQogICAgICAgIGNvbnN0IGJyYXZlID0gKCdicmF2ZScgaW4gbmF2aWdhdG9yICYmDQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmF2aWdhdG9yLmJyYXZlKS5jb25zdHJ1Y3Rvci5uYW1lID09ICdCcmF2ZScgJiYNCiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgIG5hdmlnYXRvci5icmF2ZS5pc0JyYXZlLnRvU3RyaW5nKCkgPT0gJ2Z1bmN0aW9uIGlzQnJhdmUoKSB7IFtuYXRpdmUgY29kZV0gfScpOw0KICAgICAgICByZXR1cm4gYnJhdmU7DQogICAgfQ0KICAgIGZ1bmN0aW9uIGdldEJyYXZlTW9kZSgpIHsNCiAgICAgICAgY29uc3QgbW9kZSA9IHsNCiAgICAgICAgICAgIHVua25vd246IGZhbHNlLA0KICAgICAgICAgICAgYWxsb3c6IGZhbHNlLA0KICAgICAgICAgICAgc3RhbmRhcmQ6IGZhbHNlLA0KICAgICAgICAgICAgc3RyaWN0OiBmYWxzZSwNCiAgICAgICAgfTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIC8vIHN0cmljdCBtb2RlIGFkZHMgZmxvYXQgZnJlcXVlbmN5IGRhdGEgQW5hbHlzZXJOb2RlDQogICAgICAgICAgICBjb25zdCBzdHJpY3RNb2RlID0gKCkgPT4gew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5PZmZsaW5lQXVkaW9Db250ZXh0ID0gKA0KICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgICAgIE9mZmxpbmVBdWRpb0NvbnRleHQgfHwgd2Via2l0T2ZmbGluZUF1ZGlvQ29udGV4dCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHsgfQ0KICAgICAgICAgICAgICAgIGlmICghd2luZG93Lk9mZmxpbmVBdWRpb0NvbnRleHQpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IE9mZmxpbmVBdWRpb0NvbnRleHQoMSwgMSwgNDQxMDApOw0KICAgICAgICAgICAgICAgIGNvbnN0IGFuYWx5c2VyID0gY29udGV4dC5jcmVhdGVBbmFseXNlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTsNCiAgICAgICAgICAgICAgICBhbmFseXNlci5nZXRGbG9hdEZyZXF1ZW5jeURhdGEoZGF0YSk7DQogICAgICAgICAgICAgICAgY29uc3Qgc3RyaWN0ID0gbmV3IFNldChkYXRhKS5zaXplID4gMTsgLy8gbmF0aXZlIG9ubHkgaGFzIC1JbmZpbml0eQ0KICAgICAgICAgICAgICAgIHJldHVybiBzdHJpY3Q7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgaWYgKHN0cmljdE1vZGUoKSkgew0KICAgICAgICAgICAgICAgIG1vZGUuc3RyaWN0ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIHN0YW5kYXJkIGFuZCBzdHJpY3QgbW9kZSBkbyBub3QgaGF2ZSBjaHJvbWUgcGx1Z2lucw0KICAgICAgICAgICAgY29uc3QgY2hyb21lUGx1Z2lucyA9IC8oQ2hyb20oZXxpdW0pfE1pY3Jvc29mdCBFZGdlKSBQREYgKFBsdWdpbnxWaWV3ZXIpLzsNCiAgICAgICAgICAgIGNvbnN0IHBsdWdpbnNMaXN0ID0gWy4uLm5hdmlnYXRvci5wbHVnaW5zXTsNCiAgICAgICAgICAgIGNvbnN0IGhhc0Nocm9tZVBsdWdpbnMgPSBwbHVnaW5zTGlzdA0KICAgICAgICAgICAgICAgIC5maWx0ZXIoKHBsdWdpbikgPT4gY2hyb21lUGx1Z2lucy50ZXN0KHBsdWdpbi5uYW1lKSkubGVuZ3RoID09IDI7DQogICAgICAgICAgICBpZiAocGx1Z2luc0xpc3QubGVuZ3RoICYmICFoYXNDaHJvbWVQbHVnaW5zKSB7DQogICAgICAgICAgICAgICAgbW9kZS5zdGFuZGFyZCA9IHRydWU7DQogICAgICAgICAgICAgICAgcmV0dXJuIG1vZGU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBtb2RlLmFsbG93ID0gdHJ1ZTsNCiAgICAgICAgICAgIHJldHVybiBtb2RlOw0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlKSB7DQogICAgICAgICAgICBtb2RlLnVua25vd24gPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIG1vZGU7DQogICAgICAgIH0NCiAgICB9DQogICAgY29uc3QgZ2V0QnJhdmVVbnByb3RlY3RlZFBhcmFtZXRlcnMgPSAocGFyYW1ldGVycykgPT4gew0KICAgICAgICBjb25zdCBibG9ja2VkID0gbmV3IFNldChbDQogICAgICAgICAgICAnRlJBR01FTlRfU0hBREVSLkhJR0hfRkxPQVQucHJlY2lzaW9uJywNCiAgICAgICAgICAgICdGUkFHTUVOVF9TSEFERVIuSElHSF9GTE9BVC5yYW5nZU1heCcsDQogICAgICAgICAgICAnRlJBR01FTlRfU0hBREVSLkhJR0hfRkxPQVQucmFuZ2VNaW4nLA0KICAgICAgICAgICAgJ0ZSQUdNRU5UX1NIQURFUi5ISUdIX0lOVC5wcmVjaXNpb24nLA0KICAgICAgICAgICAgJ0ZSQUdNRU5UX1NIQURFUi5ISUdIX0lOVC5yYW5nZU1heCcsDQogICAgICAgICAgICAnRlJBR01FTlRfU0hBREVSLkhJR0hfSU5ULnJhbmdlTWluJywNCiAgICAgICAgICAgICdGUkFHTUVOVF9TSEFERVIuTE9XX0ZMT0FULnByZWNpc2lvbicsDQogICAgICAgICAgICAnRlJBR01FTlRfU0hBREVSLkxPV19GTE9BVC5yYW5nZU1heCcsDQogICAgICAgICAgICAnRlJBR01FTlRfU0hBREVSLkxPV19GTE9BVC5yYW5nZU1pbicsDQogICAgICAgICAgICAnRlJBR01FTlRfU0hBREVSLk1FRElVTV9GTE9BVC5wcmVjaXNpb24nLA0KICAgICAgICAgICAgJ0ZSQUdNRU5UX1NIQURFUi5NRURJVU1fRkxPQVQucmFuZ2VNYXgnLA0KICAgICAgICAgICAgJ0ZSQUdNRU5UX1NIQURFUi5NRURJVU1fRkxPQVQucmFuZ2VNaW4nLA0KICAgICAgICAgICAgJ01BWF9DT01CSU5FRF9GUkFHTUVOVF9VTklGT1JNX0NPTVBPTkVOVFMnLA0KICAgICAgICAgICAgJ01BWF9DT01CSU5FRF9VTklGT1JNX0JMT0NLUycsDQogICAgICAgICAgICAnTUFYX0NPTUJJTkVEX1ZFUlRFWF9VTklGT1JNX0NPTVBPTkVOVFMnLA0KICAgICAgICAgICAgJ01BWF9EUkFXX0JVRkZFUlNfV0VCR0wnLA0KICAgICAgICAgICAgJ01BWF9GUkFHTUVOVF9JTlBVVF9DT01QT05FTlRTJywNCiAgICAgICAgICAgICdNQVhfRlJBR01FTlRfVU5JRk9STV9CTE9DS1MnLA0KICAgICAgICAgICAgJ01BWF9GUkFHTUVOVF9VTklGT1JNX0NPTVBPTkVOVFMnLA0KICAgICAgICAgICAgJ01BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCcsDQogICAgICAgICAgICAnTUFYX1RSQU5TRk9STV9GRUVEQkFDS19JTlRFUkxFQVZFRF9DT01QT05FTlRTJywNCiAgICAgICAgICAgICdNQVhfVU5JRk9STV9CVUZGRVJfQklORElOR1MnLA0KICAgICAgICAgICAgJ01BWF9WQVJZSU5HX0NPTVBPTkVOVFMnLA0KICAgICAgICAgICAgJ01BWF9WRVJURVhfT1VUUFVUX0NPTVBPTkVOVFMnLA0KICAgICAgICAgICAgJ01BWF9WRVJURVhfVU5JRk9STV9CTE9DS1MnLA0KICAgICAgICAgICAgJ01BWF9WRVJURVhfVU5JRk9STV9DT01QT05FTlRTJywNCiAgICAgICAgICAgICdTSEFESU5HX0xBTkdVQUdFX1ZFUlNJT04nLA0KICAgICAgICAgICAgJ1VOTUFTS0VEX1JFTkRFUkVSX1dFQkdMJywNCiAgICAgICAgICAgICdVTk1BU0tFRF9WRU5ET1JfV0VCR0wnLA0KICAgICAgICAgICAgJ1ZFUlNJT04nLA0KICAgICAgICAgICAgJ1ZFUlRFWF9TSEFERVIuSElHSF9GTE9BVC5wcmVjaXNpb24nLA0KICAgICAgICAgICAgJ1ZFUlRFWF9TSEFERVIuSElHSF9GTE9BVC5yYW5nZU1heCcsDQogICAgICAgICAgICAnVkVSVEVYX1NIQURFUi5ISUdIX0ZMT0FULnJhbmdlTWluJywNCiAgICAgICAgICAgICdWRVJURVhfU0hBREVSLkhJR0hfSU5ULnByZWNpc2lvbicsDQogICAgICAgICAgICAnVkVSVEVYX1NIQURFUi5ISUdIX0lOVC5yYW5nZU1heCcsDQogICAgICAgICAgICAnVkVSVEVYX1NIQURFUi5ISUdIX0lOVC5yYW5nZU1pbicsDQogICAgICAgICAgICAnVkVSVEVYX1NIQURFUi5MT1dfRkxPQVQucHJlY2lzaW9uJywNCiAgICAgICAgICAgICdWRVJURVhfU0hBREVSLkxPV19GTE9BVC5yYW5nZU1heCcsDQogICAgICAgICAgICAnVkVSVEVYX1NIQURFUi5MT1dfRkxPQVQucmFuZ2VNaW4nLA0KICAgICAgICAgICAgJ1ZFUlRFWF9TSEFERVIuTUVESVVNX0ZMT0FULnByZWNpc2lvbicsDQogICAgICAgICAgICAnVkVSVEVYX1NIQURFUi5NRURJVU1fRkxPQVQucmFuZ2VNYXgnLA0KICAgICAgICAgICAgJ1ZFUlRFWF9TSEFERVIuTUVESVVNX0ZMT0FULnJhbmdlTWluJywNCiAgICAgICAgXSk7DQogICAgICAgIGNvbnN0IHNhZmVQYXJhbWV0ZXJzID0gT2JqZWN0LmtleXMocGFyYW1ldGVycykucmVkdWNlKChhY2MsIGN1cnIpID0+IHsNCiAgICAgICAgICAgIGlmIChibG9ja2VkLmhhcyhjdXJyKSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBhY2NbY3Vycl0gPSBwYXJhbWV0ZXJzW2N1cnJdOw0KICAgICAgICAgICAgcmV0dXJuIGFjYzsNCiAgICAgICAgfSwge30pOw0KICAgICAgICByZXR1cm4gc2FmZVBhcmFtZXRlcnM7DQogICAgfTsNCiAgICAvLyBzeXN0ZW0NCiAgICBjb25zdCBnZXRPUyA9ICh1c2VyQWdlbnQpID0+IHsNCiAgICAgICAgY29uc3Qgb3MgPSAoDQogICAgICAgIC8vIG9yZGVyIGlzIGltcG9ydGFudA0KICAgICAgICAvd2luZG93cyBwaG9uZS9pZy50ZXN0KHVzZXJBZ2VudCkgPyAnV2luZG93cyBQaG9uZScgOg0KICAgICAgICAgICAgL3dpbihkb3dzfDE2fDMyfDY0fDk1fDk4fG50KXx3b3c2NC9pZy50ZXN0KHVzZXJBZ2VudCkgPyAnV2luZG93cycgOg0KICAgICAgICAgICAgICAgIC9hbmRyb2lkL2lnLnRlc3QodXNlckFnZW50KSA/ICdBbmRyb2lkJyA6DQogICAgICAgICAgICAgICAgICAgIC9jcm9zL2lnLnRlc3QodXNlckFnZW50KSA/ICdDaHJvbWUgT1MnIDoNCiAgICAgICAgICAgICAgICAgICAgICAgIC9saW51eC9pZy50ZXN0KHVzZXJBZ2VudCkgPyAnTGludXgnIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvaXBhZC9pZy50ZXN0KHVzZXJBZ2VudCkgPyAnaVBhZCcgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvaXBob25lL2lnLnRlc3QodXNlckFnZW50KSA/ICdpUGhvbmUnIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9pcG9kL2lnLnRlc3QodXNlckFnZW50KSA/ICdpUG9kJyA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL2lvcy9pZy50ZXN0KHVzZXJBZ2VudCkgPyAnaU9TJyA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9tYWMvaWcudGVzdCh1c2VyQWdlbnQpID8gJ01hYycgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ090aGVyJyk7DQogICAgICAgIHJldHVybiBvczsNCiAgICB9Ow0KICAgIGZ1bmN0aW9uIGdldFJlcG9ydGVkUGxhdGZvcm0odXNlckFnZW50LCBwbGF0Zm9ybSkgew0KICAgICAgICAvLyB1c2VyIGFnZW50IG9zIGxpZQ0KICAgICAgICBjb25zdCB1c2VyQWdlbnRPUyA9ICgNCiAgICAgICAgLy8gb3JkZXIgaXMgaW1wb3J0YW50DQogICAgICAgIC93aW4oZG93c3wxNnwzMnw2NHw5NXw5OHxudCl8d293NjQvaWcudGVzdCh1c2VyQWdlbnQpID8gIldpbmRvd3MiIC8qIFBsYXRmb3JtQ2xhc3NpZmllci5XSU5ET1dTICovIDoNCiAgICAgICAgICAgIC9hbmRyb2lkfGxpbnV4fGNyb3MvaWcudGVzdCh1c2VyQWdlbnQpID8gIkxpbnV4IiAvKiBQbGF0Zm9ybUNsYXNzaWZpZXIuTElOVVggKi8gOg0KICAgICAgICAgICAgICAgIC8oaShvc3xwKGFkfGhvbmV8b2QpKSl8bWFjL2lnLnRlc3QodXNlckFnZW50KSA/ICJBcHBsZSIgLyogUGxhdGZvcm1DbGFzc2lmaWVyLkFQUExFICovIDoNCiAgICAgICAgICAgICAgICAgICAgIk90aGVyIiAvKiBQbGF0Zm9ybUNsYXNzaWZpZXIuT1RIRVIgKi8pOw0KICAgICAgICBpZiAoIXBsYXRmb3JtKQ0KICAgICAgICAgICAgcmV0dXJuIFt1c2VyQWdlbnRPU107DQogICAgICAgIGNvbnN0IHBsYXRmb3JtT1MgPSAoDQogICAgICAgIC8vIG9yZGVyIGlzIGltcG9ydGFudA0KICAgICAgICAvd2luL2lnLnRlc3QocGxhdGZvcm0pID8gIldpbmRvd3MiIC8qIFBsYXRmb3JtQ2xhc3NpZmllci5XSU5ET1dTICovIDoNCiAgICAgICAgICAgIC9hbmRyb2lkfGFybXxsaW51eC9pZy50ZXN0KHBsYXRmb3JtKSA/ICJMaW51eCIgLyogUGxhdGZvcm1DbGFzc2lmaWVyLkxJTlVYICovIDoNCiAgICAgICAgICAgICAgICAvKGkob3N8cChhZHxob25lfG9kKSkpfG1hYy9pZy50ZXN0KHBsYXRmb3JtKSA/ICJBcHBsZSIgLyogUGxhdGZvcm1DbGFzc2lmaWVyLkFQUExFICovIDoNCiAgICAgICAgICAgICAgICAgICAgIk90aGVyIiAvKiBQbGF0Zm9ybUNsYXNzaWZpZXIuT1RIRVIgKi8pOw0KICAgICAgICByZXR1cm4gW3VzZXJBZ2VudE9TLCBwbGF0Zm9ybU9TXTsNCiAgICB9DQogICAgY29uc3QgeyB1c2VyQWdlbnQ6IG5hdlVzZXJBZ2VudCwgcGxhdGZvcm06IG5hdlBsYXRmb3JtIH0gPSBzZWxmLm5hdmlnYXRvciB8fCB7fTsNCiAgICBjb25zdCBbVVNFUl9BR0VOVF9PUywgUExBVEZPUk1fT1NdID0gZ2V0UmVwb3J0ZWRQbGF0Zm9ybShuYXZVc2VyQWdlbnQsIG5hdlBsYXRmb3JtKTsNCiAgICBjb25zdCBkZWNyeXB0VXNlckFnZW50ID0gKHsgdWEsIG9zLCBpc0JyYXZlIH0pID0+IHsNCiAgICAgICAgY29uc3QgYXBwbGUgPSAvaXBhZHxpcGhvbmV8aXBvZHxpb3N8bWFjL2lnLnRlc3Qob3MpOw0KICAgICAgICBjb25zdCBpc09wZXJhID0gL09QUlwvL2cudGVzdCh1YSk7DQogICAgICAgIGNvbnN0IGlzVml2YWxkaSA9IC9WaXZhbGRpL2cudGVzdCh1YSk7DQogICAgICAgIGNvbnN0IGlzRHVja0R1Y2tHbyA9IC9EdWNrRHVja0dvL2cudGVzdCh1YSk7DQogICAgICAgIGNvbnN0IGlzWWFuZGV4ID0gL1lhQnJvd3Nlci9nLnRlc3QodWEpOw0KICAgICAgICBjb25zdCBwYWxlTW9vbiA9IHVhLm1hdGNoKC8ocGFsZW1vb24pXC8oXGQrKS4vaSk7DQogICAgICAgIGNvbnN0IGVkZ2UgPSB1YS5tYXRjaCgvKGVkZ2lvc3xlZGd8ZWRnZXxlZGdhKVwvKFxkKykuL2kpOw0KICAgICAgICBjb25zdCBlZGdpb3MgPSBlZGdlICYmIC9lZGdpb3MvaS50ZXN0KGVkZ2VbMV0pOw0KICAgICAgICBjb25zdCBjaHJvbWl1bSA9IHVhLm1hdGNoKC8oY3Jpb3N8Y2hyb21lKVwvKFxkKykuL2kpOw0KICAgICAgICBjb25zdCBmaXJlZm94ID0gdWEubWF0Y2goLyhmeGlvc3xmaXJlZm94KVwvKFxkKykuL2kpOw0KICAgICAgICBjb25zdCBsaWtlU2FmYXJpID0gKC9BcHBsZVdlYktpdC9nLnRlc3QodWEpICYmDQogICAgICAgICAgICAvU2FmYXJpL2cudGVzdCh1YSkpOw0KICAgICAgICBjb25zdCBzYWZhcmkgPSAobGlrZVNhZmFyaSAmJg0KICAgICAgICAgICAgIWZpcmVmb3ggJiYNCiAgICAgICAgICAgICFjaHJvbWl1bSAmJg0KICAgICAgICAgICAgIWVkZ2UgJiYNCiAgICAgICAgICAgIHVhLm1hdGNoKC8odmVyc2lvbilcLyhcZCspXC4oXGR8XC4pK1xzKG1vYmlsZXxzYWZhcmkpL2kpKTsNCiAgICAgICAgaWYgKGNocm9taXVtKSB7DQogICAgICAgICAgICBjb25zdCBicm93c2VyID0gY2hyb21pdW1bMV07DQogICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gY2hyb21pdW1bMl07DQogICAgICAgICAgICBjb25zdCBsaWtlID0gKGlzT3BlcmEgPyAnIE9wZXJhJyA6DQogICAgICAgICAgICAgICAgaXNWaXZhbGRpID8gJyBWaXZhbGRpJyA6DQogICAgICAgICAgICAgICAgICAgIGlzRHVja0R1Y2tHbyA/ICcgRHVja0R1Y2tHbycgOg0KICAgICAgICAgICAgICAgICAgICAgICAgaXNZYW5kZXggPyAnIFlhbmRleCcgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkZ2UgPyAnIEVkZ2UnIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNCcmF2ZSA/ICcgQnJhdmUnIDogJycpOw0KICAgICAgICAgICAgcmV0dXJuIGAke2Jyb3dzZXJ9ICR7dmVyc2lvbn0ke2xpa2V9YDsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmIChlZGdpb3MpIHsNCiAgICAgICAgICAgIGNvbnN0IGJyb3dzZXIgPSBlZGdlWzFdOw0KICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IGVkZ2VbMl07DQogICAgICAgICAgICByZXR1cm4gYCR7YnJvd3Nlcn0gJHt2ZXJzaW9ufWA7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZiAoZmlyZWZveCkgew0KICAgICAgICAgICAgY29uc3QgYnJvd3NlciA9IHBhbGVNb29uID8gcGFsZU1vb25bMV0gOiBmaXJlZm94WzFdOw0KICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IHBhbGVNb29uID8gcGFsZU1vb25bMl0gOiBmaXJlZm94WzJdOw0KICAgICAgICAgICAgcmV0dXJuIGAke2Jyb3dzZXJ9ICR7dmVyc2lvbn1gOw0KICAgICAgICB9DQogICAgICAgIGVsc2UgaWYgKGFwcGxlICYmIHNhZmFyaSkgew0KICAgICAgICAgICAgY29uc3QgYnJvd3NlciA9ICdTYWZhcmknOw0KICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IHNhZmFyaVsyXTsNCiAgICAgICAgICAgIHJldHVybiBgJHticm93c2VyfSAke3ZlcnNpb259YDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gJ3Vua25vd24nOw0KICAgIH07DQogICAgY29uc3QgZ2V0VXNlckFnZW50UGxhdGZvcm0gPSAoeyB1c2VyQWdlbnQsIGV4Y2x1ZGVCdWlsZCA9IHRydWUgfSkgPT4gew0KICAgICAgICBpZiAoIXVzZXJBZ2VudCkgew0KICAgICAgICAgICAgcmV0dXJuICd1bmtub3duJzsNCiAgICAgICAgfQ0KICAgICAgICAvLyBwYXR0ZXJucw0KICAgICAgICBjb25zdCBub25QbGF0Zm9ybVBhcmVudGhlc2lzID0gL1woKGtodG1sfHVubGlrZXx2aXppb3xsaWtlIGdlY3xpbnRlcm5hbCBkdW1teXxvcmdcLmVjbGlwc2V8b3BlbnNzbHxpcHY2fHZpYSB0cmFuc2xhdGV8c2FmYXJpfGNhcmRhbW9uKS4rfHh0XGQrXCkvaWc7DQogICAgICAgIGNvbnN0IHBhcmVudGhlc2lzID0gL1woKC4rKVwpLzsNCiAgICAgICAgY29uc3QgYW5kcm9pZCA9IC8oKGFuZHJvaWQpLispL2k7DQogICAgICAgIGNvbnN0IGFuZHJvaWROb2lzZSA9IC9eKGxpbnV4fFthLXpdfHd2fG1vYmlsZXxbYS16XXsyfSgtfF8pW2Etel17Mn18W2Etel17Mn0pJHx3aW5kb3dzfChydjp8dHJpZGVudHx3ZWJ2aWV3fGllbW9iaWxlKS4rL2k7DQogICAgICAgIGNvbnN0IGFuZHJvaWRCdWlsZCA9IC9idWlsZFwvLitcc3xcc2J1aWxkXC8uKy9pOw0KICAgICAgICBjb25zdCBhbmRyb2lkUmVsZWFzZSA9IC9hbmRyb2lkKCB8LSlcZCsvaTsNCiAgICAgICAgY29uc3Qgd2luZG93cyA9IC8oKHdpbmRvd3MpLispL2k7DQogICAgICAgIGNvbnN0IHdpbmRvd3NOb2lzZSA9IC9eKHdpbmRvd3N8bXMoLXwpb2ZmaWNlfG1pY3Jvc29mdHxjb21wYXRpYmxlfFthLXpdfHg2NHxbYS16XXsyfSgtfF8pW2Etel17Mn18W2Etel17Mn0pJHwocnY6fG91dGxvb2t8bXMoLXwpb2ZmaWNlfG1pY3Jvc29mdHx0cmlkZW50fFwubmV0fG1zaWV8aHR0cmFja3xtZWRpYSBjZW50ZXJ8aW5mb3BhdGh8YW9sfG9wZXJhfGllbW9iaWxlfHdlYmJyb3dzZXIpLisvaTsNCiAgICAgICAgY29uc3Qgd2luZG93czY0Yml0Q1BVID0gL3cob3d8aW4pNjQvaTsNCiAgICAgICAgY29uc3QgY3JvcyA9IC9jcm9zL2k7DQogICAgICAgIGNvbnN0IGNyb3NOb2lzZSA9IC9eKFthLXpdfHgxMXxbYS16XXsyfSgtfF8pW2Etel17Mn18W2Etel17Mn0pJHwocnY6fHRyaWRlbnQpLisvaTsNCiAgICAgICAgY29uc3QgY3Jvc0J1aWxkID0gL1xkK1wuXGQrXC5cZCsvaTsNCiAgICAgICAgY29uc3QgbGludXggPSAvbGludXh8eDExfHVidW50dXxkZWJpYW4vaTsNCiAgICAgICAgY29uc3QgbGludXhOb2lzZSA9IC9eKFthLXpdfHgxMXx1bmtub3dufGNvbXBhdGlibGV8W2Etel17Mn0oLXxfKVthLXpdezJ9fFthLXpdezJ9KSR8KHJ2OnxqYXZhfG9yYWNsZXxcK2h0dHB8aHR0cHx1bmtub3dufG1vemlsbGF8a29ucXVlcm9yfHZhbHZlKS4rL2k7DQogICAgICAgIGNvbnN0IGFwcGxlID0gLyhjcHUgaXBob25lfGNwdSBvc3xpcGhvbmUgb3N8bWFjIG9zfG1hY29zfGludGVsIG9zfHBwYyBtYWMpLisvaTsNCiAgICAgICAgY29uc3QgYXBwbGVOb2lzZSA9IC9eKFthLXpdfG1hY2ludG9zaHxjb21wYXRpYmxlfG1pbWljfFthLXpdezJ9KC18XylbYS16XXsyfXxbYS16XXsyfXxydnxcZCtcLlxkKykkfChydjp8c2lsa3x2YWx2ZSkuKy9pOw0KICAgICAgICBjb25zdCBhcHBsZVJlbGVhc2UgPSAvKHBwYyB8aW50ZWwgfCkobWFjfG1hYyB8KW9zICh4IHx4fCkoXGR7Mn0oX3xcLilcZHsxLDJ9fFxkezIsfSkvaTsNCiAgICAgICAgY29uc3Qgb3RoZXJPUyA9IC8oKHN5bWJpYW5vc3xub2tpYXxibGFja2JlcnJ5fG1vcnBob3N8bWFjKS4rKXxcL2xpbnV4fGZyZWVic2R8c3ltYm9zfHNlcmllcyBcZCt8d2luXGQrfHVuaXh8aHAtdXh8YnNkaXxic2R8eDg2XzY0L2k7DQogICAgICAgIGNvbnN0IGlzRGV2aWNlID0gKGxpc3QsIGRldmljZSkgPT4gbGlzdC5maWx0ZXIoKHgpID0+IGRldmljZS50ZXN0KHgpKS5sZW5ndGg7DQogICAgICAgIHVzZXJBZ2VudCA9IHVzZXJBZ2VudC50cmltKCkucmVwbGFjZSgvXHN7Mix9LywgJyAnKS5yZXBsYWNlKG5vblBsYXRmb3JtUGFyZW50aGVzaXMsICcnKTsNCiAgICAgICAgaWYgKHBhcmVudGhlc2lzLnRlc3QodXNlckFnZW50KSkgew0KICAgICAgICAgICAgY29uc3QgcGxhdGZvcm1TZWN0aW9uID0gdXNlckFnZW50Lm1hdGNoKHBhcmVudGhlc2lzKVswXTsNCiAgICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXJzID0gcGxhdGZvcm1TZWN0aW9uLnNsaWNlKDEsIC0xKS5yZXBsYWNlKC8sL2csICc7Jykuc3BsaXQoJzsnKS5tYXAoKHgpID0+IHgudHJpbSgpKTsNCiAgICAgICAgICAgIGlmIChpc0RldmljZShpZGVudGlmaWVycywgYW5kcm9pZCkpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gaWRlbnRpZmllcnMNCiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgICAgICAubWFwKCh4KSA9PiBhbmRyb2lkUmVsZWFzZS50ZXN0KHgpID8gYW5kcm9pZFJlbGVhc2UuZXhlYyh4KVswXS5yZXBsYWNlKCctJywgJyAnKSA6IHgpDQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEoYW5kcm9pZE5vaXNlLnRlc3QoeCkpKQ0KICAgICAgICAgICAgICAgICAgICAuam9pbignICcpDQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKChleGNsdWRlQnVpbGQgPyBhbmRyb2lkQnVpbGQgOiAnJyksICcnKQ0KICAgICAgICAgICAgICAgICAgICAudHJpbSgpLnJlcGxhY2UoL1xzezIsfS8sICcgJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChpc0RldmljZShpZGVudGlmaWVycywgd2luZG93cykpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gaWRlbnRpZmllcnMNCiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoeCkgPT4gISh3aW5kb3dzTm9pc2UudGVzdCh4KSkpDQogICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJykNCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xzTlQgKFxkK1wuXGQrKS8sIChtYXRjaCwgdmVyc2lvbikgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHZlcnNpb24gPT0gJzEwLjAnID8gJyAxMCcgOg0KICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiA9PSAnNi4zJyA/ICcgOC4xJyA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiA9PSAnNi4yJyA/ICcgOCcgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uID09ICc2LjEnID8gJyA3JyA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uID09ICc2LjAnID8gJyBWaXN0YScgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb24gPT0gJzUuMicgPyAnIFhQIFBybycgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uID09ICc1LjEnID8gJyBYUCcgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiA9PSAnNS4wJyA/ICcgMjAwMCcgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb24gPT0gJzQuMCcgPyBtYXRjaCA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgJyArIHZlcnNpb24pOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKHdpbmRvd3M2NGJpdENQVSwgJyg2NC1iaXQpJykNCiAgICAgICAgICAgICAgICAgICAgLnRyaW0oKS5yZXBsYWNlKC9cc3syLH0vLCAnICcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoaXNEZXZpY2UoaWRlbnRpZmllcnMsIGNyb3MpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGlkZW50aWZpZXJzDQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEoY3Jvc05vaXNlLnRlc3QoeCkpKQ0KICAgICAgICAgICAgICAgICAgICAuam9pbignICcpDQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKChleGNsdWRlQnVpbGQgPyBjcm9zQnVpbGQgOiAnJyksICcnKQ0KICAgICAgICAgICAgICAgICAgICAudHJpbSgpLnJlcGxhY2UoL1xzezIsfS8sICcgJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChpc0RldmljZShpZGVudGlmaWVycywgbGludXgpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGlkZW50aWZpZXJzDQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEobGludXhOb2lzZS50ZXN0KHgpKSkNCiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKQ0KICAgICAgICAgICAgICAgICAgICAudHJpbSgpLnJlcGxhY2UoL1xzezIsfS8sICcgJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChpc0RldmljZShpZGVudGlmaWVycywgYXBwbGUpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGlkZW50aWZpZXJzDQogICAgICAgICAgICAgICAgICAgIC5tYXAoKHgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGxlUmVsZWFzZS50ZXN0KHgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxlYXNlID0gYXBwbGVSZWxlYXNlLmV4ZWMoeClbMF07DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uTWFwID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxMF83JzogJ0xpb24nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxMF84JzogJ01vdW50YWluIExpb24nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxMF85JzogJ01hdmVyaWNrcycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJzEwXzEwJzogJ1lvc2VtaXRlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMTBfMTEnOiAnRWwgQ2FwaXRhbicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJzEwXzEyJzogJ1NpZXJyYScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJzEwXzEzJzogJ0hpZ2ggU2llcnJhJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMTBfMTQnOiAnTW9qYXZlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMTBfMTUnOiAnQ2F0YWxpbmEnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxMSc6ICdCaWcgU3VyJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMTInOiAnTW9udGVyZXknLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxMyc6ICdWZW50dXJhJywNCiAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gKCgvKFxkezJ9KF98XC4pXGR7MSwyfXxcZHsyLH0pLy5leGVjKHJlbGVhc2UpIHx8IFtdKVswXSB8fA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnKS5yZXBsYWNlKC9cLi9nLCAnXycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNPU1ggPSAvXjEwLy50ZXN0KHZlcnNpb24pOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQgPSBpc09TWCA/IHZlcnNpb24gOiAoL15cZHsyLH0vLmV4ZWModmVyc2lvbikgfHwgW10pWzBdOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZU5hbWUgPSB2ZXJzaW9uTWFwW2lkXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2RlTmFtZSA/IGBtYWNPUyAke2NvZGVOYW1lfWAgOiByZWxlYXNlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB4Ow0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEoYXBwbGVOb2lzZS50ZXN0KHgpKSkNCiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKQ0KICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXHNsaWtlIG1hYy4rL2lnLCAnJykNCiAgICAgICAgICAgICAgICAgICAgLnRyaW0oKS5yZXBsYWNlKC9cc3syLH0vLCAnICcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgY29uc3Qgb3RoZXIgPSBpZGVudGlmaWVycy5maWx0ZXIoKHgpID0+IG90aGVyT1MudGVzdCh4KSk7DQogICAgICAgICAgICAgICAgaWYgKG90aGVyLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3RoZXIuam9pbignICcpLnRyaW0oKS5yZXBsYWNlKC9cc3syLH0vLCAnICcpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gaWRlbnRpZmllcnMuam9pbignICcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuICd1bmtub3duJzsNCiAgICAgICAgfQ0KICAgIH07DQogICAgLy8gYXR0ZW1wdCByZXN0b3JlIGZyb20gVXNlci1BZ2VudCBSZWR1Y3Rpb24NCiAgICBjb25zdCBpc1VBUG9zdFJlZHVjdGlvbiA9ICh1c2VyQWdlbnQpID0+IHsNCiAgICAgICAgY29uc3QgbWF0Y2hlciA9IC9Nb3ppbGxhXC81XC4wIFwoKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfN3xXaW5kb3dzIE5UIDEwXC4wOyBXaW42NDsgeDY0fChYMTE7IChDck9TfExpbnV4KSB4ODZfNjQpfChMaW51eDsgQW5kcm9pZCAxMCg7IEt8KSkpXCkgQXBwbGVXZWJLaXRcLzUzN1wuMzYgXChLSFRNTCwgbGlrZSBHZWNrb1wpIENocm9tZVwvXGQrXC4wXC4wXC4wKCBNb2JpbGV8KSBTYWZhcmlcLzUzN1wuMzYvOw0KICAgICAgICBjb25zdCB1bmlmaWVkUGxhdGZvcm0gPSAobWF0Y2hlci5leGVjKHVzZXJBZ2VudCkgfHwgW10pWzFdOw0KICAgICAgICByZXR1cm4gSVNfQkxJTksgJiYgISF1bmlmaWVkUGxhdGZvcm07DQogICAgfTsNCiAgICBjb25zdCBjcmVhdGVQZXJmb3JtYW5jZUxvZ2dlciA9ICgpID0+IHsNCiAgICAgICAgY29uc3QgbG9nID0ge307DQogICAgICAgIGxldCB0b3RhbCA9IDA7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0OiAoeyB0ZXN0LCBwYXNzZWQsIHRpbWUgPSAwIH0pID0+IHsNCiAgICAgICAgICAgICAgICB0b3RhbCArPSB0aW1lOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVTdHJpbmcgPSBgJHt0aW1lLnRvRml4ZWQoMil9bXNgOw0KICAgICAgICAgICAgICAgIGxvZ1t0ZXN0XSA9IHRpbWVTdHJpbmc7DQogICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBwYXNzZWQgPyAnIzRjY2E5ZicgOiAnbGlnaHRjb3JhbCc7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gcGFzc2VkID8gJ3Bhc3NlZCcgOiAnZmFpbGVkJzsNCiAgICAgICAgICAgICAgICBjb25zdCBzeW1ib2wgPSBwYXNzZWQgPyAn4pyUJyA6ICctJzsNCiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coYCVjJHtzeW1ib2x9JHt0aW1lID8gYCAoJHt0aW1lU3RyaW5nfSlgIDogJyd9ICR7dGVzdH0gJHtyZXN1bHR9YCwgYGNvbG9yOiR7Y29sb3J9YCk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZ2V0TG9nOiAoKSA9PiBsb2csDQogICAgICAgICAgICBnZXRUb3RhbDogKCkgPT4gdG90YWwsDQogICAgICAgIH07DQogICAgfTsNCiAgICBjb25zdCBwZXJmb3JtYW5jZUxvZ2dlciA9IGNyZWF0ZVBlcmZvcm1hbmNlTG9nZ2VyKCk7DQogICAgY29uc3QgeyBsb2dUZXN0UmVzdWx0IH0gPSBwZXJmb3JtYW5jZUxvZ2dlcjsNCiAgICBjb25zdCBjcmVhdGVUaW1lciA9ICgpID0+IHsNCiAgICAgICAgbGV0IHN0YXJ0ID0gMDsNCiAgICAgICAgY29uc3QgbG9nID0gW107DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBzdG9wOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHN0YXJ0KSB7DQogICAgICAgICAgICAgICAgICAgIGxvZy5wdXNoKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9nLnJlZHVjZSgoYWNjLCBuKSA9PiBhY2MgKz0gbiwgMCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBzdGFydDsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBzdGFydDogKCkgPT4gew0KICAgICAgICAgICAgICAgIHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0Ow0KICAgICAgICAgICAgfSwNCiAgICAgICAgfTsNCiAgICB9Ow0KICAgIGNvbnN0IHF1ZXVlRXZlbnQgPSAodGltZXIsIGRlbGF5ID0gMCkgPT4gew0KICAgICAgICB0aW1lci5zdG9wKCk7DQogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKHRpbWVyLnN0YXJ0KCkpLCBkZWxheSkpDQogICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsgfSk7DQogICAgfTsNCiAgICBjb25zdCBxdWV1ZVRhc2sgPSAoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dCgoKSA9PiByZXNvbHZlKG51bGwpKSk7DQogICAgY29uc3QgRU1PSklTID0gWw0KICAgICAgICBbMTI4NTEyXSwgWzk3ODZdLCBbMTI5MzMzLCA4MjA1LCA5Nzk0LCA2NTAzOV0sIFs5ODMyXSwgWzk3ODRdLCBbOTg5NV0sIFs4MjY1XSwgWzg1MDVdLCBbMTI3OTg3LCA2NTAzOSwgODIwNSwgOTg5NSwgNjUwMzldLCBbMTI5Mzk0XSwgWzk3ODVdLCBbOTc2MF0sIFsxMjk0ODksIDgyMDUsIDEyOTQ1Nl0sIFsxMjk0ODcsIDgyMDUsIDk3OTQsIDY1MDM5XSwgWzk5NzVdLCBbMTI5NDg5LCA4MjA1LCAxMjkzMDksIDgyMDUsIDEyOTQ4OV0sIFs5NzUyXSwgWzk5NjhdLCBbOTk2MV0sIFs5OTcyXSwgWzk5OTJdLCBbOTIwMV0sIFs5OTI4XSwgWzk3MzBdLCBbOTk2OV0sIFs5NzMxXSwgWzk3MzJdLCBbOTk3Nl0sIFs5ODIzXSwgWzk5MzddLCBbOTAwMF0sIFs5OTkzXSwgWzk5OTldLA0KICAgICAgICBbMTI4MTA1LCA4MjA1LCAxMDA4NCwgNjUwMzksIDgyMDUsIDEyODEzOSwgODIwNSwgMTI4MTA0XSwNCiAgICAgICAgWzEyODEwNCwgODIwNSwgMTI4MTA1LCA4MjA1LCAxMjgxMDMsIDgyMDUsIDEyODEwMl0sDQogICAgICAgIFsxMjgxMDQsIDgyMDUsIDEyODEwNSwgODIwNSwgMTI4MTAyXSwNCiAgICAgICAgLy8gYW5kcm9pZCAxMQ0KICAgICAgICBbMTI4NTEyXSwNCiAgICAgICAgWzE2OV0sIFsxNzRdLCBbODQ4Ml0sDQogICAgICAgIFsxMjgwNjUsIDY1MDM5LCA4MjA1LCAxMjg0ODgsIDY1MDM5XSwNCiAgICAgICAgLy8gb3RoZXINCiAgICAgICAgWzEwMDAyXSwgWzk5ODZdLCBbOTkzNV0sIFs5ODc0XSwgWzk4NzZdLCBbOTg4MV0sIFs5OTM5XSwgWzk4NzldLCBbOTkwNF0sIFs5OTA1XSwgWzk4ODhdLCBbOTc2Ml0sIFs5NzYzXSwgWzExMDE0XSwgWzg1OTldLCBbMTAxNDVdLCBbMTEwMTNdLCBbOTg4M10sIFsxMDAxN10sIFsxMDAxM10sIFs5NzY2XSwgWzk2NTRdLCBbOTE5N10sIFs5MTk5XSwgWzkxNjddLCBbOTc5Ml0sIFs5Nzk0XSwgWzEwMDA2XSwgWzEyMzM2XSwgWzk4NzddLCBbOTg4NF0sIFsxMDAwNF0sIFsxMDAzNV0sIFsxMDA1NV0sIFs5NzI0XSwgWzk2NDJdLCBbMTAwODNdLCBbMTAwODRdLCBbOTk5Nl0sIFs5NzU3XSwgWzk5OTddLCBbMTAwNTJdLCBbOTg3OF0sIFs4NjE4XSwgWzk3NzVdLCBbOTc3MF0sIFs5Nzc0XSwgWzk3NDVdLCBbMTAwMzZdLCBbMTI3MzQ0XSwgWzEyNzM1OV0sDQogICAgXS5tYXAoKGVtb2ppQ29kZSkgPT4gU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uZW1vamlDb2RlKSk7DQogICAgY29uc3QgQ1NTX0ZPTlRfRkFNSUxZID0gYA0KCSdTZWdvZSBGbHVlbnQgSWNvbnMnLA0KCSdJbmsgRnJlZScsDQoJJ0JhaG5zY2hyaWZ0JywNCgknU2Vnb2UgTURMMiBBc3NldHMnLA0KCSdIb2xvTGVucyBNREwyIEFzc2V0cycsDQoJJ0xlZWxhd2FkZWUgVUknLA0KCSdKYXZhbmVzZSBUZXh0JywNCgknU2Vnb2UgVUkgRW1vamknLA0KCSdBbGRoYWJpJywNCgknR2FkdWdpJywNCgknTXlhbm1hciBUZXh0JywNCgknTmlybWFsYSBVSScsDQoJJ0x1Y2lkYSBDb25zb2xlJywNCgknQ2FtYnJpYSBNYXRoJywNCgknQmFpIEphbWp1cmVlJywNCgknQ2hha3JhIFBldGNoJywNCgknQ2hhcm1vbm1hbicsDQoJJ0ZhaGt3YW5nJywNCgknSzJEJywNCgknS29kY2hhc2FuJywNCgknS29IbycsDQoJJ1NhcmFidW4nLA0KCSdTcmlzYWtkaScsDQoJJ0dhbHZqaScsDQoJJ011a3RhTWFoZWUgUmVndWxhcicsDQoJJ0luYWlNYXRoaSBCb2xkJywNCgknQW1lcmljYW4gVHlwZXdyaXRlciBTZW1pYm9sZCcsDQoJJ0Z1dHVyYSBCb2xkJywNCgknU2lnblBhaW50ZXItSG91c2VTY3JpcHQgU2VtaWJvbGQnLA0KCSdQaW5nRmFuZyBISyBMaWdodCcsDQoJJ0tvaGlub29yIERldmFuYWdhcmkgTWVkaXVtJywNCgknTHVtaW5hcmknLA0KCSdHZW5ldmEnLA0KCSdIZWx2ZXRpY2EgTmV1ZScsDQoJJ0Ryb2lkIFNhbnMgTW9ubycsDQoJJ0RhbmNpbmcgU2NyaXB0JywNCgknUm9ib3RvJywNCgknVWJ1bnR1JywNCgknTGliZXJhdGlvbiBNb25vJywNCgknU291cmNlIENvZGUgUHJvJywNCgknRGVqYVZ1IFNhbnMnLA0KCSdPcGVuU3ltYm9sJywNCgknQ2hpbGFua2EnLA0KCSdDb3VzaW5lJywNCgknQXJpbW8nLA0KCSdKb21vbGhhcmknLA0KCSdNT05PJywNCgknTm90byBDb2xvciBFbW9qaScsDQoJc2Fucy1zZXJpZiAhaW1wb3J0YW50DQpgOw0KICAgIGZ1bmN0aW9uIGdldEdwdUJyYW5kKGdwdSkgew0KICAgICAgICBpZiAoIWdwdSkNCiAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICBjb25zdCBncHVCcmFuZE1hdGNoZXIgPSAvKGFkcmVub3xhbWR8YXBwbGV8aW50ZWx8bGx2bXxtYWxpfG1pY3Jvc29mdHxudmlkaWF8cGFyYWxsZWxzfHBvd2VydnJ8c2Ftc3VuZ3xzd2lmdHNoYWRlcnx2aXJ0dWFsYm94fHZtd2FyZSkvaTsNCiAgICAgICAgY29uc3QgYnJhbmQgPSAoL3JhZGVvbi9pLnRlc3QoZ3B1KSA/ICdBTUQnIDoNCiAgICAgICAgICAgIC9nZWZvcmNlL2kudGVzdChncHUpID8gJ05WSURJQScgOg0KICAgICAgICAgICAgICAgIChncHVCcmFuZE1hdGNoZXIuZXhlYyhncHUpPy5bMF0gfHwgJ290aGVyJykudG9Mb2NhbGVVcHBlckNhc2UoKSk7DQogICAgICAgIHJldHVybiBicmFuZDsNCiAgICB9DQogICAgLy8gY29sbGVjdCBmaW5nZXJwcmludHMgZm9yIGFuYWx5c2lzDQogICAgY29uc3QgQW5hbHlzaXMgPSB7fTsNCiAgICAvLyB1c2UgaWYgbmVlZGVkIHRvIHN0YWJsZSBmaW5nZXJwcmludA0KICAgIGNvbnN0IExvd2VyRW50cm9weSA9IHsNCiAgICAgICAgQVVESU86IGZhbHNlLA0KICAgICAgICBDQU5WQVM6IGZhbHNlLA0KICAgICAgICBGT05UUzogZmFsc2UsDQogICAgICAgIFNDUkVFTjogZmFsc2UsDQogICAgICAgIFRJTUVfWk9ORTogZmFsc2UsDQogICAgICAgIFdFQkdMOiBmYWxzZSwNCiAgICB9OwoKICAgIC8vIHRlbXBsYXRlIHZpZXdzDQogICAgZnVuY3Rpb24gcGF0Y2gob2xkRWwsIG5ld0VsLCBmbikgew0KICAgICAgICBpZiAoIW9sZEVsKQ0KICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgIG9sZEVsLnBhcmVudE5vZGU/LnJlcGxhY2VDaGlsZChuZXdFbCwgb2xkRWwpOw0KICAgICAgICByZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nID8gZm4oKSA6IHRydWU7DQogICAgfQ0KICAgIGZ1bmN0aW9uIGh0bWwodGVtcGxhdGVTdHIsIC4uLmV4cHJlc3Npb25TZXQpIHsNCiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpOw0KICAgICAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB0ZW1wbGF0ZVN0ci5tYXAoKHMsIGkpID0+IGAke3N9JHtleHByZXNzaW9uU2V0W2ldIHx8ICcnfWApLmpvaW4oJycpOw0KICAgICAgICByZXR1cm4gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0ZW1wbGF0ZS5jb250ZW50LCB0cnVlKTsNCiAgICB9CgogICAgY29uc3QgY3JlYXRlRXJyb3JzQ2FwdHVyZWQgPSAoKSA9PiB7DQogICAgICAgIGNvbnN0IGVycm9ycyA9IFtdOw0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgZ2V0RXJyb3JzOiAoKSA9PiBlcnJvcnMsDQogICAgICAgICAgICBjYXB0dXJlRXJyb3I6IChlcnJvciwgY3VzdG9tTWVzc2FnZSA9ICcnKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgRXJyb3I6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIEV2YWxFcnJvcjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgSW50ZXJuYWxFcnJvcjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgUmFuZ2VFcnJvcjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgUmVmZXJlbmNlRXJyb3I6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIFN5bnRheEVycm9yOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBUeXBlRXJyb3I6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIFVSSUVycm9yOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBJbnZhbGlkU3RhdGVFcnJvcjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgU2VjdXJpdHlFcnJvcjogdHJ1ZSwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGNvbnN0IGhhc0lubmVyU3BhY2UgPSAocykgPT4gLy4rKFxzKS4rL2cudGVzdChzKTsgLy8gaWdub3JlIEFPUFIgbm9pc2UNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsgLy8gbG9nIGVycm9yIHRvIGVkdWNhdGUNCiAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIG1lc3NhZ2UgfSA9IGVycm9yOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRydXN0ZWRNZXNzYWdlID0gKCFoYXNJbm5lclNwYWNlKG1lc3NhZ2UpID8gdW5kZWZpbmVkIDoNCiAgICAgICAgICAgICAgICAgICAgIWN1c3RvbU1lc3NhZ2UgPyBtZXNzYWdlIDoNCiAgICAgICAgICAgICAgICAgICAgICAgIGAke21lc3NhZ2V9IFske2N1c3RvbU1lc3NhZ2V9XWApOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRydXN0ZWROYW1lID0gdHlwZVtuYW1lXSA/IG5hbWUgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goeyB0cnVzdGVkTmFtZSwgdHJ1c3RlZE1lc3NhZ2UgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsNCiAgICAgICAgICAgIH0sDQogICAgICAgIH07DQogICAgfTsNCiAgICBjb25zdCBlcnJvcnNDYXB0dXJlZCA9IGNyZWF0ZUVycm9yc0NhcHR1cmVkKCk7DQogICAgY29uc3QgeyBjYXB0dXJlRXJyb3IgfSA9IGVycm9yc0NhcHR1cmVkOw0KICAgIGNvbnN0IGF0dGVtcHQgPSAoZm4sIGN1c3RvbU1lc3NhZ2UgPSAnJykgPT4gew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgcmV0dXJuIGZuKCk7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBpZiAoY3VzdG9tTWVzc2FnZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBjYXB0dXJlRXJyb3IoZXJyb3IsIGN1c3RvbU1lc3NhZ2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIGNvbnN0IGNhbml1c2UgPSAoZm4sIG9iakNoYWluTGlzdCA9IFtdLCBhcmdzID0gW10sIG1ldGhvZCA9IGZhbHNlKSA9PiB7DQogICAgICAgIGxldCBhcGk7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBhcGkgPSBmbigpOw0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgaTsNCiAgICAgICAgY29uc3QgbGVuID0gb2JqQ2hhaW5MaXN0Lmxlbmd0aDsNCiAgICAgICAgbGV0IGNoYWluID0gYXBpOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7DQogICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gb2JqQ2hhaW5MaXN0W2ldOw0KICAgICAgICAgICAgICAgIGNoYWluID0gY2hhaW5bb2JqXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIChtZXRob2QgJiYgYXJncy5sZW5ndGggPyBjaGFpbi5hcHBseShhcGksIGFyZ3MpIDoNCiAgICAgICAgICAgIG1ldGhvZCAmJiAhYXJncy5sZW5ndGggPyBjaGFpbi5hcHBseShhcGkpIDoNCiAgICAgICAgICAgICAgICBjaGFpbik7DQogICAgfTsNCiAgICAvLyBMb2cgcGVyZm9ybWFuY2UgdGltZQ0KICAgIGNvbnN0IHRpbWVyID0gKGxvZ1N0YXJ0KSA9PiB7DQogICAgICAgIGxvZ1N0YXJ0ICYmIGNvbnNvbGUubG9nKGxvZ1N0YXJ0KTsNCiAgICAgICAgbGV0IHN0YXJ0ID0gMDsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAobG9nRW5kKSA9PiB7DQogICAgICAgICAgICBsZXQgZW5kID0gMDsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgZW5kID0gcGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydDsNCiAgICAgICAgICAgICAgICBsb2dFbmQgJiYgY29uc29sZS5sb2coYCR7bG9nRW5kfTogJHtlbmQgLyAxMDAwfSBzZWNvbmRzYCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGVuZDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgfTsNCiAgICBjb25zdCBnZXRDYXB0dXJlZEVycm9ycyA9ICgpID0+ICh7IGRhdGE6IGVycm9yc0NhcHR1cmVkLmdldEVycm9ycygpIH0pOwoKICAgIC8qIGVzbGludC1kaXNhYmxlIG5ldy1jYXAgKi8NCiAgICAvLyB3YXJtIHVwIHdoaWxlIHdlIGRldGVjdCBsaWVzDQogICAgdHJ5IHsNCiAgICAgICAgc3BlZWNoU3ludGhlc2lzLmdldFZvaWNlcygpOw0KICAgIH0NCiAgICBjYXRjaCAoZXJyKSB7IH0NCiAgICAvLyBDb2xsZWN0IGxpZXMgZGV0ZWN0ZWQNCiAgICBmdW5jdGlvbiBjcmVhdGVMaWVSZWNvcmRzKCkgew0KICAgICAgICBjb25zdCByZWNvcmRzID0ge307DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBnZXRSZWNvcmRzOiAoKSA9PiByZWNvcmRzLA0KICAgICAgICAgICAgZG9jdW1lbnRMaWU6IChuYW1lLCBsaWUpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBpc0FycmF5ID0gbGllIGluc3RhbmNlb2YgQXJyYXk7DQogICAgICAgICAgICAgICAgaWYgKHJlY29yZHNbbmFtZV0pIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAocmVjb3Jkc1tuYW1lXSA9IFsuLi5yZWNvcmRzW25hbWVdLCAuLi5saWVdKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3Jkc1tuYW1lXS5wdXNoKGxpZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBpc0FycmF5ID8gKHJlY29yZHNbbmFtZV0gPSBsaWUpIDogKHJlY29yZHNbbmFtZV0gPSBbbGllXSk7DQogICAgICAgICAgICB9LA0KICAgICAgICB9Ow0KICAgIH0NCiAgICBjb25zdCBsaWVSZWNvcmRzID0gY3JlYXRlTGllUmVjb3JkcygpOw0KICAgIGNvbnN0IHsgZG9jdW1lbnRMaWUgfSA9IGxpZVJlY29yZHM7DQogICAgY29uc3QgR0hPU1QgPSBgDQoJaGVpZ2h0OiAxMDB2aDsNCgl3aWR0aDogMTAwdnc7DQoJcG9zaXRpb246IGFic29sdXRlOw0KCWxlZnQ6LTEwMDAwcHg7DQoJdmlzaWJpbGl0eTogaGlkZGVuOw0KYDsNCiAgICBmdW5jdGlvbiBnZXRSYW5kb21WYWx1ZXMoKSB7DQogICAgICAgIHJldHVybiAoU3RyaW5nLmZyb21DaGFyQ29kZShNYXRoLnJhbmRvbSgpICogMjYgKyA5NykgKw0KICAgICAgICAgICAgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoLTcpKTsNCiAgICB9DQogICAgZnVuY3Rpb24gZ2V0QmVoZW1vdGhJZnJhbWUod2luKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBpZiAoIUlTX0JMSU5LKQ0KICAgICAgICAgICAgICAgIHJldHVybiB3aW47DQogICAgICAgICAgICBjb25zdCBkaXYgPSB3aW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdpZCcsIGdldFJhbmRvbVZhbHVlcygpKTsNCiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgR0hPU1QpOw0KICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGA8ZGl2PjxpZnJhbWU+PC9pZnJhbWU+PC9kaXY+YDsNCiAgICAgICAgICAgIHdpbi5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7DQogICAgICAgICAgICBjb25zdCBpZnJhbWUgPSBbLi4uWy4uLmRpdi5jaGlsZE5vZGVzXVswXS5jaGlsZE5vZGVzXVswXTsNCiAgICAgICAgICAgIGlmICghaWZyYW1lKQ0KICAgICAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICAgICAgY29uc3QgeyBjb250ZW50V2luZG93IH0gPSBpZnJhbWUgfHwge307DQogICAgICAgICAgICBpZiAoIWNvbnRlbnRXaW5kb3cpDQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICBjb25zdCBkaXYyID0gY29udGVudFdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgIGRpdjIuaW5uZXJIVE1MID0gYDxkaXY+PGlmcmFtZT48L2lmcmFtZT48L2Rpdj5gOw0KICAgICAgICAgICAgY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdjIpOw0KICAgICAgICAgICAgY29uc3QgaWZyYW1lMiA9IFsuLi5bLi4uZGl2Mi5jaGlsZE5vZGVzXVswXS5jaGlsZE5vZGVzXVswXTsNCiAgICAgICAgICAgIHJldHVybiBpZnJhbWUyLmNvbnRlbnRXaW5kb3c7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IsICdjbGllbnQgYmxvY2tlZCBiZWhlbW90aCBpZnJhbWUnKTsNCiAgICAgICAgICAgIHJldHVybiB3aW47DQogICAgICAgIH0NCiAgICB9DQogICAgY29uc3QgUkFORCA9IGdldFJhbmRvbVZhbHVlcygpOw0KICAgIGNvbnN0IEhBU19SRUZMRUNUID0gJ1JlZmxlY3QnIGluIHNlbGY7DQogICAgZnVuY3Rpb24gaXNUeXBlRXJyb3IoZXJyKSB7DQogICAgICAgIHJldHVybiBlcnIuY29uc3RydWN0b3IubmFtZSA9PSAnVHlwZUVycm9yJzsNCiAgICB9DQogICAgZnVuY3Rpb24gZmFpbHNUeXBlRXJyb3IoeyBzcGF3bkVyciwgd2l0aFN0YWNrLCBmaW5hbCB9KSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBzcGF3bkVycigpOw0KICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyKSB7DQogICAgICAgICAgICBpZiAoIWlzVHlwZUVycm9yKGVycikpDQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICByZXR1cm4gd2l0aFN0YWNrID8gd2l0aFN0YWNrKGVycikgOiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBmaW5hbGx5IHsNCiAgICAgICAgICAgIGZpbmFsICYmIGZpbmFsKCk7DQogICAgICAgIH0NCiAgICB9DQogICAgZnVuY3Rpb24gZmFpbHNXaXRoRXJyb3IoZm4pIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGZuKCk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycikgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICB9DQogICAgZnVuY3Rpb24gaGFzS25vd25Ub1N0cmluZyhuYW1lKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBbYGZ1bmN0aW9uICR7bmFtZX0oKSB7IFtuYXRpdmUgY29kZV0gfWBdOiB0cnVlLA0KICAgICAgICAgICAgW2BmdW5jdGlvbiBnZXQgJHtuYW1lfSgpIHsgW25hdGl2ZSBjb2RlXSB9YF06IHRydWUsDQogICAgICAgICAgICBbYGZ1bmN0aW9uICgpIHsgW25hdGl2ZSBjb2RlXSB9YF06IHRydWUsDQogICAgICAgICAgICBbYGZ1bmN0aW9uICR7bmFtZX0oKSB7JHsnXG4nfSAgICBbbmF0aXZlIGNvZGVdJHsnXG4nfX1gXTogdHJ1ZSwNCiAgICAgICAgICAgIFtgZnVuY3Rpb24gZ2V0ICR7bmFtZX0oKSB7JHsnXG4nfSAgICBbbmF0aXZlIGNvZGVdJHsnXG4nfX1gXTogdHJ1ZSwNCiAgICAgICAgICAgIFtgZnVuY3Rpb24gKCkgeyR7J1xuJ30gICAgW25hdGl2ZSBjb2RlXSR7J1xuJ319YF06IHRydWUsDQogICAgICAgIH07DQogICAgfQ0KICAgIGZ1bmN0aW9uIGhhc1ZhbGlkU3RhY2soZXJyLCByZWcsIGkgPSAxKSB7DQogICAgICAgIGlmIChpID09PSAwKQ0KICAgICAgICAgICAgcmV0dXJuIHJlZy50ZXN0KGVyci5tZXNzYWdlKTsNCiAgICAgICAgcmV0dXJuIHJlZy50ZXN0KGVyci5zdGFjay5zcGxpdCgnXG4nKVtpXSk7DQogICAgfQ0KICAgIGNvbnN0IEFUX0ZVTkNUSU9OID0gL2F0IEZ1bmN0aW9uXC50b1N0cmluZyAvOw0KICAgIGNvbnN0IEFUX09CSkVDVCA9IC9hdCBPYmplY3RcLnRvU3RyaW5nLzsNCiAgICBjb25zdCBGVU5DVElPTl9JTlNUQU5DRSA9IC9hdCAoRnVuY3Rpb25cLik/XFtTeW1ib2wuaGFzSW5zdGFuY2VcXS87IC8vIHVzZWZ1bCBpZiA8IENocm9tZSAxMDINCiAgICBjb25zdCBQUk9YWV9JTlNUQU5DRSA9IC9hdCAoUHJveHlcLik/XFtTeW1ib2wuaGFzSW5zdGFuY2VcXS87IC8vIHVzZWZ1bCBpZiA8IENocm9tZSAxMDINCiAgICBjb25zdCBTVFJJQ1RfTU9ERSA9IC9zdHJpY3QgbW9kZS87DQogICAgZnVuY3Rpb24gcXVlcnlMaWVzKHsgc2NvcGUsIGFwaUZ1bmN0aW9uLCBwcm90bywgb2JqLCBsaWVQcm9wcywgfSkgew0KICAgICAgICBpZiAodHlwZW9mIGFwaUZ1bmN0aW9uICE9ICdmdW5jdGlvbicpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgbGllZDogMCwNCiAgICAgICAgICAgICAgICBsaWVUeXBlczogW10sDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGNvbnN0IG5hbWUgPSBhcGlGdW5jdGlvbi5uYW1lLnJlcGxhY2UoL2dldFxzLywgJycpOw0KICAgICAgICBjb25zdCBvYmpOYW1lID0gb2JqPy5uYW1lOw0KICAgICAgICBjb25zdCBuYXRpdmVQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihhcGlGdW5jdGlvbik7DQogICAgICAgIGxldCBsaWVzID0gew0KICAgICAgICAgICAgLy8gY3VzdG9tIGxpZSBzdHJpbmcgbmFtZXMNCiAgICAgICAgICAgIFsnZmFpbGVkIGlsbGVnYWwgZXJyb3InXTogISFvYmogJiYgZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgIHNwYXduRXJyOiAoKSA9PiBvYmoucHJvdG90eXBlW25hbWVdLA0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICBbJ2ZhaWxlZCB1bmRlZmluZWQgcHJvcGVydGllcyddOiAoISFvYmogJiYgL14oc2NyZWVufG5hdmlnYXRvcikkL2kudGVzdChvYmpOYW1lKSAmJiAhIShPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNlbGZbb2JqTmFtZS50b0xvd2VyQ2FzZSgpXSwgbmFtZSkgfHwgKEhBU19SRUZMRUNUICYmDQogICAgICAgICAgICAgICAgUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc2VsZltvYmpOYW1lLnRvTG93ZXJDYXNlKCldLCBuYW1lKSkpKSwNCiAgICAgICAgICAgIFsnZmFpbGVkIGNhbGwgaW50ZXJmYWNlIGVycm9yJ106IGZhaWxzVHlwZUVycm9yKHsNCiAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yDQogICAgICAgICAgICAgICAgICAgIG5ldyBhcGlGdW5jdGlvbigpOw0KICAgICAgICAgICAgICAgICAgICBhcGlGdW5jdGlvbi5jYWxsKHByb3RvKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICBbJ2ZhaWxlZCBhcHBseSBpbnRlcmZhY2UgZXJyb3InXTogZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgIHNwYXduRXJyOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3INCiAgICAgICAgICAgICAgICAgICAgbmV3IGFwaUZ1bmN0aW9uKCk7DQogICAgICAgICAgICAgICAgICAgIGFwaUZ1bmN0aW9uLmFwcGx5KHByb3RvKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICBbJ2ZhaWxlZCBuZXcgaW5zdGFuY2UgZXJyb3InXTogZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3INCiAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gbmV3IGFwaUZ1bmN0aW9uKCksDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIFsnZmFpbGVkIGNsYXNzIGV4dGVuZHMgZXJyb3InXTogIUlTX1dFQktJVCAmJiBmYWlsc1R5cGVFcnJvcih7DQogICAgICAgICAgICAgICAgc3Bhd25FcnI6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcg0KICAgICAgICAgICAgICAgICAgICBjbGFzcyBGYWtlIGV4dGVuZHMgYXBpRnVuY3Rpb24gew0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgWydmYWlsZWQgbnVsbCBjb252ZXJzaW9uIGVycm9yJ106IGZhaWxzVHlwZUVycm9yKHsNCiAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGFwaUZ1bmN0aW9uLCBudWxsKS50b1N0cmluZygpLA0KICAgICAgICAgICAgICAgIGZpbmFsOiAoKSA9PiBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXBpRnVuY3Rpb24sIG5hdGl2ZVByb3RvKSwNCiAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgWydmYWlsZWQgdG9TdHJpbmcnXTogKCFoYXNLbm93blRvU3RyaW5nKG5hbWUpW3Njb3BlLkZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFwaUZ1bmN0aW9uKV0gfHwNCiAgICAgICAgICAgICAgICAhaGFzS25vd25Ub1N0cmluZygndG9TdHJpbmcnKVtzY29wZS5GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcGlGdW5jdGlvbi50b1N0cmluZyldKSwNCiAgICAgICAgICAgIFsnZmFpbGVkICJwcm90b3R5cGUiIGluIGZ1bmN0aW9uJ106ICdwcm90b3R5cGUnIGluIGFwaUZ1bmN0aW9uLA0KICAgICAgICAgICAgWydmYWlsZWQgZGVzY3JpcHRvciddOiAhIShPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFwaUZ1bmN0aW9uLCAnYXJndW1lbnRzJykgfHwNCiAgICAgICAgICAgICAgICBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhcGlGdW5jdGlvbiwgJ2FyZ3VtZW50cycpIHx8DQogICAgICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhcGlGdW5jdGlvbiwgJ2NhbGxlcicpIHx8DQogICAgICAgICAgICAgICAgUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXBpRnVuY3Rpb24sICdjYWxsZXInKSB8fA0KICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYXBpRnVuY3Rpb24sICdwcm90b3R5cGUnKSB8fA0KICAgICAgICAgICAgICAgIFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFwaUZ1bmN0aW9uLCAncHJvdG90eXBlJykgfHwNCiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFwaUZ1bmN0aW9uLCAndG9TdHJpbmcnKSB8fA0KICAgICAgICAgICAgICAgIFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFwaUZ1bmN0aW9uLCAndG9TdHJpbmcnKSksDQogICAgICAgICAgICBbJ2ZhaWxlZCBvd24gcHJvcGVydHknXTogISEoYXBpRnVuY3Rpb24uaGFzT3duUHJvcGVydHkoJ2FyZ3VtZW50cycpIHx8DQogICAgICAgICAgICAgICAgYXBpRnVuY3Rpb24uaGFzT3duUHJvcGVydHkoJ2NhbGxlcicpIHx8DQogICAgICAgICAgICAgICAgYXBpRnVuY3Rpb24uaGFzT3duUHJvcGVydHkoJ3Byb3RvdHlwZScpIHx8DQogICAgICAgICAgICAgICAgYXBpRnVuY3Rpb24uaGFzT3duUHJvcGVydHkoJ3RvU3RyaW5nJykpLA0KICAgICAgICAgICAgWydmYWlsZWQgZGVzY3JpcHRvciBrZXlzJ106IChPYmplY3Qua2V5cyhPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhhcGlGdW5jdGlvbikpLnNvcnQoKS50b1N0cmluZygpICE9ICdsZW5ndGgsbmFtZScpLA0KICAgICAgICAgICAgWydmYWlsZWQgb3duIHByb3BlcnR5IG5hbWVzJ106IChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhcGlGdW5jdGlvbikuc29ydCgpLnRvU3RyaW5nKCkgIT0gJ2xlbmd0aCxuYW1lJyksDQogICAgICAgICAgICBbJ2ZhaWxlZCBvd24ga2V5cyBuYW1lcyddOiBIQVNfUkVGTEVDVCAmJiAoUmVmbGVjdC5vd25LZXlzKGFwaUZ1bmN0aW9uKS5zb3J0KCkudG9TdHJpbmcoKSAhPSAnbGVuZ3RoLG5hbWUnKSwNCiAgICAgICAgICAgIC8vIFByb3h5IERldGVjdGlvbg0KICAgICAgICAgICAgWydmYWlsZWQgb2JqZWN0IHRvU3RyaW5nIGVycm9yJ106IChmYWlsc1R5cGVFcnJvcih7DQogICAgICAgICAgICAgICAgc3Bhd25FcnI6ICgpID0+IE9iamVjdC5jcmVhdGUoYXBpRnVuY3Rpb24pLnRvU3RyaW5nKCksDQogICAgICAgICAgICAgICAgd2l0aFN0YWNrOiAoZXJyKSA9PiBJU19CTElOSyAmJiAhaGFzVmFsaWRTdGFjayhlcnIsIEFUX0ZVTkNUSU9OKSwNCiAgICAgICAgICAgIH0pIHx8DQogICAgICAgICAgICAgICAgZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gT2JqZWN0LmNyZWF0ZShuZXcgUHJveHkoYXBpRnVuY3Rpb24sIHt9KSkudG9TdHJpbmcoKSwNCiAgICAgICAgICAgICAgICAgICAgd2l0aFN0YWNrOiAoZXJyKSA9PiBJU19CTElOSyAmJiAhaGFzVmFsaWRTdGFjayhlcnIsIEFUX09CSkVDVCksDQogICAgICAgICAgICAgICAgfSkpLA0KICAgICAgICAgICAgWydmYWlsZWQgYXQgaW5jb21wYXRpYmxlIHByb3h5IGVycm9yJ106IGZhaWxzVHlwZUVycm9yKHsNCiAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBhcGlGdW5jdGlvbi5hcmd1bWVudHM7DQogICAgICAgICAgICAgICAgICAgIGFwaUZ1bmN0aW9uLmNhbGxlcjsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHdpdGhTdGFjazogKGVycikgPT4gSVNfR0VDS08gJiYgIWhhc1ZhbGlkU3RhY2soZXJyLCBTVFJJQ1RfTU9ERSwgMCksDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIFsnZmFpbGVkIGF0IHRvU3RyaW5nIGluY29tcGF0aWJsZSBwcm94eSBlcnJvciddOiBmYWlsc1R5cGVFcnJvcih7DQogICAgICAgICAgICAgICAgc3Bhd25FcnI6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgYXBpRnVuY3Rpb24udG9TdHJpbmcuYXJndW1lbnRzOw0KICAgICAgICAgICAgICAgICAgICBhcGlGdW5jdGlvbi50b1N0cmluZy5jYWxsZXI7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB3aXRoU3RhY2s6IChlcnIpID0+IElTX0dFQ0tPICYmICFoYXNWYWxpZFN0YWNrKGVyciwgU1RSSUNUX01PREUsIDApLA0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICBbJ2ZhaWxlZCBhdCB0b28gbXVjaCByZWN1cnNpb24gZXJyb3InXTogZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgIHNwYXduRXJyOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihhcGlGdW5jdGlvbiwgT2JqZWN0LmNyZWF0ZShhcGlGdW5jdGlvbikpLnRvU3RyaW5nKCk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBmaW5hbDogKCkgPT4gT2JqZWN0LnNldFByb3RvdHlwZU9mKGFwaUZ1bmN0aW9uLCBuYXRpdmVQcm90byksDQogICAgICAgICAgICB9KSwNCiAgICAgICAgfTsNCiAgICAgICAgLy8gY29uZGl0aW9uYWxseSBpbmNyZWFzZSBkaWZmaWN1bHR5DQogICAgICAgIGNvbnN0IGRldGVjdFByb3hpZXMgPSAobmFtZSA9PSAndG9TdHJpbmcnIHx8DQogICAgICAgICAgICAhIWxpZVByb3BzWydGdW5jdGlvbi50b1N0cmluZyddIHx8DQogICAgICAgICAgICAhIWxpZVByb3BzWydQZXJtaXNzaW9ucy5xdWVyeSddKTsNCiAgICAgICAgaWYgKGRldGVjdFByb3hpZXMpIHsNCiAgICAgICAgICAgIGNvbnN0IHByb3h5MSA9IG5ldyBQcm94eShhcGlGdW5jdGlvbiwge30pOw0KICAgICAgICAgICAgY29uc3QgcHJveHkyID0gbmV3IFByb3h5KGFwaUZ1bmN0aW9uLCB7fSk7DQogICAgICAgICAgICBjb25zdCBwcm94eTMgPSBuZXcgUHJveHkoYXBpRnVuY3Rpb24sIHt9KTsNCiAgICAgICAgICAgIGxpZXMgPSB7DQogICAgICAgICAgICAgICAgLi4ubGllcywNCiAgICAgICAgICAgICAgICAvLyBBZHZhbmNlZCBQcm94eSBEZXRlY3Rpb24NCiAgICAgICAgICAgICAgICBbJ2ZhaWxlZCBhdCB0b28gbXVjaCByZWN1cnNpb24gX19wcm90b19fIGVycm9yJ106ICFmYWlsc1R5cGVFcnJvcih7DQogICAgICAgICAgICAgICAgICAgIHNwYXduRXJyOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yDQogICAgICAgICAgICAgICAgICAgICAgICBhcGlGdW5jdGlvbi5fX3Byb3RvX18gPSBwcm94eTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFwaUZ1bmN0aW9uKys7DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIGZpbmFsOiAoKSA9PiBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXBpRnVuY3Rpb24sIG5hdGl2ZVByb3RvKSwNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBbJ2ZhaWxlZCBhdCBjaGFpbiBjeWNsZSBlcnJvciddOiAhZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb3h5MSwgT2JqZWN0LmNyZWF0ZShwcm94eTEpKS50b1N0cmluZygpOw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBmaW5hbDogKCkgPT4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb3h5MSwgbmF0aXZlUHJvdG8pLA0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgIFsnZmFpbGVkIGF0IGNoYWluIGN5Y2xlIF9fcHJvdG9fXyBlcnJvciddOiAhZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkyLl9fcHJvdG9fXyA9IHByb3h5MjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5MisrOw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBmaW5hbDogKCkgPT4gT2JqZWN0LnNldFByb3RvdHlwZU9mKHByb3h5MiwgbmF0aXZlUHJvdG8pLA0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgIFsnZmFpbGVkIGF0IHJlZmxlY3Qgc2V0IHByb3RvJ106IEhBU19SRUZMRUNUICYmIGZhaWxzVHlwZUVycm9yKHsNCiAgICAgICAgICAgICAgICAgICAgc3Bhd25FcnI6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFJlZmxlY3Quc2V0UHJvdG90eXBlT2YoYXBpRnVuY3Rpb24sIE9iamVjdC5jcmVhdGUoYXBpRnVuY3Rpb24pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIFJBTkQgaW4gYXBpRnVuY3Rpb247DQogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIGZpbmFsOiAoKSA9PiBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXBpRnVuY3Rpb24sIG5hdGl2ZVByb3RvKSwNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBbJ2ZhaWxlZCBhdCByZWZsZWN0IHNldCBwcm90byBwcm94eSddOiBIQVNfUkVGTEVDVCAmJiAhZmFpbHNUeXBlRXJyb3Ioew0KICAgICAgICAgICAgICAgICAgICBzcGF3bkVycjogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgUmVmbGVjdC5zZXRQcm90b3R5cGVPZihwcm94eTMsIE9iamVjdC5jcmVhdGUocHJveHkzKSk7DQogICAgICAgICAgICAgICAgICAgICAgICBSQU5EIGluIHByb3h5MzsNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgZmluYWw6ICgpID0+IE9iamVjdC5zZXRQcm90b3R5cGVPZihwcm94eTMsIG5hdGl2ZVByb3RvKSwNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBbJ2ZhaWxlZCBhdCBpbnN0YW5jZW9mIGNoZWNrIGVycm9yJ106IElTX0JMSU5LICYmIChmYWlsc1R5cGVFcnJvcih7DQogICAgICAgICAgICAgICAgICAgIHNwYXduRXJyOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBhcGlGdW5jdGlvbiBpbnN0YW5jZW9mIGFwaUZ1bmN0aW9uOw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICB3aXRoU3RhY2s6IChlcnIpID0+ICFoYXNWYWxpZFN0YWNrKGVyciwgRlVOQ1RJT05fSU5TVEFOQ0UpLA0KICAgICAgICAgICAgICAgIH0pIHx8DQogICAgICAgICAgICAgICAgICAgIGZhaWxzVHlwZUVycm9yKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNwYXduRXJyOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoYXBpRnVuY3Rpb24sIHt9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm94eSBpbnN0YW5jZW9mIHByb3h5Ow0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhTdGFjazogKGVycikgPT4gIWhhc1ZhbGlkU3RhY2soZXJyLCBQUk9YWV9JTlNUQU5DRSksDQogICAgICAgICAgICAgICAgICAgIH0pKSwNCiAgICAgICAgICAgICAgICBbJ2ZhaWxlZCBhdCBkZWZpbmUgcHJvcGVydGllcyddOiBJU19CTElOSyAmJiBIQVNfUkVGTEVDVCAmJiBmYWlsc1dpdGhFcnJvcigoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcGlGdW5jdGlvbiwgJycsIHsgY29uZmlndXJhYmxlOiB0cnVlIH0pLnRvU3RyaW5nKCk7DQogICAgICAgICAgICAgICAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoYXBpRnVuY3Rpb24sICcnKTsNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgbGllVHlwZXMgPSBPYmplY3Qua2V5cyhsaWVzKS5maWx0ZXIoKGtleSkgPT4gISFsaWVzW2tleV0pOw0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgbGllZDogbGllVHlwZXMubGVuZ3RoLA0KICAgICAgICAgICAgbGllVHlwZXMsDQogICAgICAgIH07DQogICAgfQ0KICAgIGZ1bmN0aW9uIGNyZWF0ZUxpZURldGVjdG9yKHNjb3BlKSB7DQogICAgICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gKG9iaikgPT4gdHlwZW9mIG9iaiAhPSAndW5kZWZpbmVkJyAmJiAhIW9iajsNCiAgICAgICAgY29uc3QgcHJvcHMgPSB7fTsgLy8gbGllIGxpc3QgYW5kIGRldGFpbA0KICAgICAgICBjb25zdCBwcm9wc1NlYXJjaGVkID0gW107IC8vIGxpc3Qgb2YgcHJvcGVydGllcyBzZWFyY2hlZA0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgZ2V0UHJvcHM6ICgpID0+IHByb3BzLA0KICAgICAgICAgICAgZ2V0UHJvcHNTZWFyY2hlZDogKCkgPT4gcHJvcHNTZWFyY2hlZCwNCiAgICAgICAgICAgIHNlYXJjaExpZXM6IChmbiwgY29uZmlnKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgeyB0YXJnZXQsIGlnbm9yZSB9ID0gY29uZmlnIHx8IHt9Ow0KICAgICAgICAgICAgICAgIGxldCBvYmo7DQogICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYXBpIGlzIGJsb2NrZWQgb3Igbm90IHN1cHBvcnRlZA0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIG9iaiA9IGZuKCk7DQogICAgICAgICAgICAgICAgICAgIGlmICghaXNTdXBwb3J0ZWQob2JqKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvbnN0IGludGVyZmFjZU9iamVjdCA9ICEhb2JqLnByb3RvdHlwZSA/IG9iai5wcm90b3R5cGUgOiBvYmo7DQogICAgICAgICAgICAgICAgWy4uLm5ldyBTZXQoWw0KICAgICAgICAgICAgICAgICAgICAgICAgLi4uT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaW50ZXJmYWNlT2JqZWN0KSwNCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKGludGVyZmFjZU9iamVjdCksIC8vIGJhY2t1cA0KICAgICAgICAgICAgICAgICAgICBdKV0uc29ydCgpLmZvckVhY2goKG5hbWUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2tpcCA9IChuYW1lID09ICdjb25zdHJ1Y3RvcicgfHwNCiAgICAgICAgICAgICAgICAgICAgICAgICh0YXJnZXQgJiYgIW5ldyBTZXQodGFyZ2V0KS5oYXMobmFtZSkpIHx8DQogICAgICAgICAgICAgICAgICAgICAgICAoaWdub3JlICYmIG5ldyBTZXQoaWdub3JlKS5oYXMobmFtZSkpKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHNraXApDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iamVjdE5hbWVTdHJpbmcgPSAvXHMoLispXF0vOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBhcGlOYW1lID0gYCR7b2JqLm5hbWUgPyBvYmoubmFtZSA6DQogICAgICAgICAgICAgICAgICAgIG9iamVjdE5hbWVTdHJpbmcudGVzdChvYmopID8gb2JqZWN0TmFtZVN0cmluZy5leGVjKG9iaik/LlsxXSA6DQogICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWR9LiR7bmFtZX1gOw0KICAgICAgICAgICAgICAgICAgICBwcm9wc1NlYXJjaGVkLnB1c2goYXBpTmFtZSk7DQogICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm90byA9IG9iai5wcm90b3R5cGUgPyBvYmoucHJvdG90eXBlIDogb2JqOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlczsgLy8gcmVzcG9uc2UgZnJvbSBnZXRMaWVzDQogICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWFyY2ggaWYgZnVuY3Rpb24NCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXBpRnVuY3Rpb24gPSBwcm90b1tuYW1lXTsgLy8gbWF5IHRyaWdnZXIgVHlwZUVycm9yDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcGlGdW5jdGlvbiA9PSAnZnVuY3Rpb24nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHF1ZXJ5TGllcyh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaUZ1bmN0aW9uOiBwcm90b1tuYW1lXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqOiBudWxsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGllUHJvcHM6IHByb3BzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5saWVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShhcGlOYW1lLCByZXMubGllVHlwZXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwcm9wc1thcGlOYW1lXSA9IHJlcy5saWVUeXBlcyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGVyZSBpcyBubyBUeXBlRXJyb3IgYW5kIHRoZSB0eXBlb2YgaXMgbm90IGEgZnVuY3Rpb24sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIGludmFsaWQgdmFsdWVzIGFuZCBpZ25vcmUgbmFtZSwgbGVuZ3RoLCBhbmQgY29uc3RhbnRzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgIT0gJ25hbWUnICYmDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgIT0gJ2xlbmd0aCcgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVswXSAhPT0gbmFtZVswXS50b1VwcGVyQ2FzZSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpZSA9IFsnZmFpbGVkIGRlc2NyaXB0b3IudmFsdWUgdW5kZWZpbmVkJ107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKGFwaU5hbWUsIGxpZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAocHJvcHNbYXBpTmFtZV0gPSBsaWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikgeyB9DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIHNlYXJjaCBnZXR0ZXIgZnVuY3Rpb24NCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldHRlckZ1bmN0aW9uID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgbmFtZSkuZ2V0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcXVlcnlMaWVzKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlGdW5jdGlvbjogZ2V0dGVyRnVuY3Rpb24sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdG8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpZVByb3BzOiBwcm9wcywNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyBzZW5kIHRoZSBvYmogZm9yIHNwZWNpYWwgdGVzdHMNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMubGllZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKGFwaU5hbWUsIHJlcy5saWVUeXBlcyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwcm9wc1thcGlOYW1lXSA9IHJlcy5saWVUeXBlcyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaWUgPSBgZmFpbGVkIHByb3RvdHlwZSB0ZXN0IGV4ZWN1dGlvbmA7DQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShhcGlOYW1lLCBsaWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwcm9wc1thcGlOYW1lXSA9IFtsaWVdKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgfTsNCiAgICB9DQogICAgZnVuY3Rpb24gZ2V0UGhhbnRvbUlmcmFtZSgpIHsNCiAgICAgICAgaWYgKElTX1dPUktFUl9TQ09QRSkNCiAgICAgICAgICAgIHJldHVybiB7IGlmcmFtZVdpbmRvdzogc2VsZiB9Ow0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgbnVtYmVyT2ZJZnJhbWVzID0gc2VsZi5sZW5ndGg7DQogICAgICAgICAgICBjb25zdCBmcmFnID0gbmV3IERvY3VtZW50RnJhZ21lbnQoKTsNCiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgY29uc3QgaWQgPSBnZXRSYW5kb21WYWx1ZXMoKTsNCiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpOw0KICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChkaXYpOw0KICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGA8ZGl2IHN0eWxlPSIke0dIT1NUfSI+PGlmcmFtZT48L2lmcmFtZT48L2Rpdj5gOw0KICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcmFnKTsNCiAgICAgICAgICAgIGNvbnN0IGlmcmFtZVdpbmRvdyA9IHNlbGZbbnVtYmVyT2ZJZnJhbWVzXTsNCiAgICAgICAgICAgIGNvbnN0IHBoYW50b21XaW5kb3cgPSBnZXRCZWhlbW90aElmcmFtZShpZnJhbWVXaW5kb3cpOw0KICAgICAgICAgICAgcmV0dXJuIHsgaWZyYW1lV2luZG93OiBwaGFudG9tV2luZG93IHx8IHNlbGYsIGRpdiB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yLCAnY2xpZW50IGJsb2NrZWQgcGhhbnRvbSBpZnJhbWUnKTsNCiAgICAgICAgICAgIHJldHVybiB7IGlmcmFtZVdpbmRvdzogc2VsZiB9Ow0KICAgICAgICB9DQogICAgfQ0KICAgIGNvbnN0IHsgaWZyYW1lV2luZG93OiBQSEFOVE9NX0RBUktORVNTLCBkaXY6IFBBUkVOVF9QSEFOVE9NIH0gPSBnZXRQaGFudG9tSWZyYW1lKCkgfHwge307DQogICAgZnVuY3Rpb24gZ2V0UHJvdG90eXBlTGllcyhzY29wZSkgew0KICAgICAgICBjb25zdCBsaWVEZXRlY3RvciA9IGNyZWF0ZUxpZURldGVjdG9yKHNjb3BlKTsNCiAgICAgICAgY29uc3QgeyBzZWFyY2hMaWVzLCB9ID0gbGllRGV0ZWN0b3I7DQogICAgICAgIC8vIHNlYXJjaCBsaWVzOiByZW1vdmUgdGFyZ2V0IHRvIHNlYXJjaCBhbGwgcHJvcGVydGllcw0KICAgICAgICAvLyB0ZXN0IEZ1bmN0aW9uLnRvU3RyaW5nIGZpcnN0IHRvIGRldGVybWluZSB0aGUgZGVwdGggb2YgdGhlIHNlYXJjaA0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IEZ1bmN0aW9uLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAndG9TdHJpbmcnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGlnbm9yZTogWw0KICAgICAgICAgICAgICAgICdjYWxsZXInLA0KICAgICAgICAgICAgICAgICdhcmd1bWVudHMnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIC8vIG90aGVyIEFQSXMNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBBbmFseXNlck5vZGUpOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IEF1ZGlvQnVmZmVyLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnY29weUZyb21DaGFubmVsJywNCiAgICAgICAgICAgICAgICAnZ2V0Q2hhbm5lbERhdGEnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gQmlxdWFkRmlsdGVyTm9kZSwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2dldEZyZXF1ZW5jeVJlc3BvbnNlJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2dldEltYWdlRGF0YScsDQogICAgICAgICAgICAgICAgJ2dldExpbmVEYXNoJywNCiAgICAgICAgICAgICAgICAnaXNQb2ludEluUGF0aCcsDQogICAgICAgICAgICAgICAgJ2lzUG9pbnRJblN0cm9rZScsDQogICAgICAgICAgICAgICAgJ21lYXN1cmVUZXh0JywNCiAgICAgICAgICAgICAgICAncXVhZHJhdGljQ3VydmVUbycsDQogICAgICAgICAgICAgICAgJ2ZpbGxUZXh0JywNCiAgICAgICAgICAgICAgICAnc3Ryb2tlVGV4dCcsDQogICAgICAgICAgICAgICAgJ2ZvbnQnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gQ1NTU3R5bGVEZWNsYXJhdGlvbiwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ3NldFByb3BlcnR5JywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yDQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gQ1NTMlByb3BlcnRpZXMsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdzZXRQcm9wZXJ0eScsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBEYXRlLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnZ2V0RGF0ZScsDQogICAgICAgICAgICAgICAgJ2dldERheScsDQogICAgICAgICAgICAgICAgJ2dldEZ1bGxZZWFyJywNCiAgICAgICAgICAgICAgICAnZ2V0SG91cnMnLA0KICAgICAgICAgICAgICAgICdnZXRNaW51dGVzJywNCiAgICAgICAgICAgICAgICAnZ2V0TW9udGgnLA0KICAgICAgICAgICAgICAgICdnZXRUaW1lJywNCiAgICAgICAgICAgICAgICAnZ2V0VGltZXpvbmVPZmZzZXQnLA0KICAgICAgICAgICAgICAgICdzZXREYXRlJywNCiAgICAgICAgICAgICAgICAnc2V0RnVsbFllYXInLA0KICAgICAgICAgICAgICAgICdzZXRIb3VycycsDQogICAgICAgICAgICAgICAgJ3NldE1pbGxpc2Vjb25kcycsDQogICAgICAgICAgICAgICAgJ3NldE1vbnRoJywNCiAgICAgICAgICAgICAgICAnc2V0U2Vjb25kcycsDQogICAgICAgICAgICAgICAgJ3NldFRpbWUnLA0KICAgICAgICAgICAgICAgICd0b0RhdGVTdHJpbmcnLA0KICAgICAgICAgICAgICAgICd0b0pTT04nLA0KICAgICAgICAgICAgICAgICd0b0xvY2FsZURhdGVTdHJpbmcnLA0KICAgICAgICAgICAgICAgICd0b0xvY2FsZVN0cmluZycsDQogICAgICAgICAgICAgICAgJ3RvTG9jYWxlVGltZVN0cmluZycsDQogICAgICAgICAgICAgICAgJ3RvU3RyaW5nJywNCiAgICAgICAgICAgICAgICAndG9UaW1lU3RyaW5nJywNCiAgICAgICAgICAgICAgICAndmFsdWVPZicsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBJbnRsLkRhdGVUaW1lRm9ybWF0LCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnZm9ybWF0JywNCiAgICAgICAgICAgICAgICAnZm9ybWF0UmFuZ2UnLA0KICAgICAgICAgICAgICAgICdmb3JtYXRUb1BhcnRzJywNCiAgICAgICAgICAgICAgICAncmVzb2x2ZWRPcHRpb25zJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IERvY3VtZW50LCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnY3JlYXRlRWxlbWVudCcsDQogICAgICAgICAgICAgICAgJ2NyZWF0ZUVsZW1lbnROUycsDQogICAgICAgICAgICAgICAgJ2dldEVsZW1lbnRCeUlkJywNCiAgICAgICAgICAgICAgICAnZ2V0RWxlbWVudHNCeUNsYXNzTmFtZScsDQogICAgICAgICAgICAgICAgJ2dldEVsZW1lbnRzQnlOYW1lJywNCiAgICAgICAgICAgICAgICAnZ2V0RWxlbWVudHNCeVRhZ05hbWUnLA0KICAgICAgICAgICAgICAgICdnZXRFbGVtZW50c0J5VGFnTmFtZU5TJywNCiAgICAgICAgICAgICAgICAncmVmZXJyZXInLA0KICAgICAgICAgICAgICAgICd3cml0ZScsDQogICAgICAgICAgICAgICAgJ3dyaXRlbG4nLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGlnbm9yZTogWw0KICAgICAgICAgICAgICAgIC8vIEdlY2tvDQogICAgICAgICAgICAgICAgJ29ucmVhZHlzdGF0ZWNoYW5nZScsDQogICAgICAgICAgICAgICAgJ29ubW91c2VlbnRlcicsDQogICAgICAgICAgICAgICAgJ29ubW91c2VsZWF2ZScsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBET01SZWN0KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBET01SZWN0UmVhZE9ubHkpOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IEVsZW1lbnQsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdhcHBlbmQnLA0KICAgICAgICAgICAgICAgICdhcHBlbmRDaGlsZCcsDQogICAgICAgICAgICAgICAgJ2dldEJvdW5kaW5nQ2xpZW50UmVjdCcsDQogICAgICAgICAgICAgICAgJ2dldENsaWVudFJlY3RzJywNCiAgICAgICAgICAgICAgICAnaW5zZXJ0QWRqYWNlbnRFbGVtZW50JywNCiAgICAgICAgICAgICAgICAnaW5zZXJ0QWRqYWNlbnRIVE1MJywNCiAgICAgICAgICAgICAgICAnaW5zZXJ0QWRqYWNlbnRUZXh0JywNCiAgICAgICAgICAgICAgICAnaW5zZXJ0QmVmb3JlJywNCiAgICAgICAgICAgICAgICAncHJlcGVuZCcsDQogICAgICAgICAgICAgICAgJ3JlcGxhY2VDaGlsZCcsDQogICAgICAgICAgICAgICAgJ3JlcGxhY2VXaXRoJywNCiAgICAgICAgICAgICAgICAnc2V0QXR0cmlidXRlJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IEZvbnRGYWNlLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnZmFtaWx5JywNCiAgICAgICAgICAgICAgICAnbG9hZCcsDQogICAgICAgICAgICAgICAgJ3N0YXR1cycsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBIVE1MQ2FudmFzRWxlbWVudCk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gSFRNTEVsZW1lbnQsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdjbGllbnRIZWlnaHQnLA0KICAgICAgICAgICAgICAgICdjbGllbnRXaWR0aCcsDQogICAgICAgICAgICAgICAgJ29mZnNldEhlaWdodCcsDQogICAgICAgICAgICAgICAgJ29mZnNldFdpZHRoJywNCiAgICAgICAgICAgICAgICAnc2Nyb2xsSGVpZ2h0JywNCiAgICAgICAgICAgICAgICAnc2Nyb2xsV2lkdGgnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIGlnbm9yZTogWw0KICAgICAgICAgICAgICAgIC8vIEdlY2tvDQogICAgICAgICAgICAgICAgJ29ubW91c2VlbnRlcicsDQogICAgICAgICAgICAgICAgJ29ubW91c2VsZWF2ZScsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBIVE1MSUZyYW1lRWxlbWVudCwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2NvbnRlbnREb2N1bWVudCcsDQogICAgICAgICAgICAgICAgJ2NvbnRlbnRXaW5kb3cnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2JvdW5kaW5nQ2xpZW50UmVjdCcsDQogICAgICAgICAgICAgICAgJ2ludGVyc2VjdGlvblJlY3QnLA0KICAgICAgICAgICAgICAgICdyb290Qm91bmRzJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IE1hdGgsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdhY29zJywNCiAgICAgICAgICAgICAgICAnYWNvc2gnLA0KICAgICAgICAgICAgICAgICdhc2luaCcsDQogICAgICAgICAgICAgICAgJ2F0YW4nLA0KICAgICAgICAgICAgICAgICdhdGFuMicsDQogICAgICAgICAgICAgICAgJ2F0YW5oJywNCiAgICAgICAgICAgICAgICAnY2JydCcsDQogICAgICAgICAgICAgICAgJ2NvcycsDQogICAgICAgICAgICAgICAgJ2Nvc2gnLA0KICAgICAgICAgICAgICAgICdleHAnLA0KICAgICAgICAgICAgICAgICdleHBtMScsDQogICAgICAgICAgICAgICAgJ2xvZycsDQogICAgICAgICAgICAgICAgJ2xvZzEwJywNCiAgICAgICAgICAgICAgICAnbG9nMXAnLA0KICAgICAgICAgICAgICAgICdzaW4nLA0KICAgICAgICAgICAgICAgICdzaW5oJywNCiAgICAgICAgICAgICAgICAnc3FydCcsDQogICAgICAgICAgICAgICAgJ3RhbicsDQogICAgICAgICAgICAgICAgJ3RhbmgnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gTWVkaWFEZXZpY2VzLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnZW51bWVyYXRlRGV2aWNlcycsDQogICAgICAgICAgICAgICAgJ2dldERpc3BsYXlNZWRpYScsDQogICAgICAgICAgICAgICAgJ2dldFVzZXJNZWRpYScsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBOYXZpZ2F0b3IsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdhcHBDb2RlTmFtZScsDQogICAgICAgICAgICAgICAgJ2FwcE5hbWUnLA0KICAgICAgICAgICAgICAgICdhcHBWZXJzaW9uJywNCiAgICAgICAgICAgICAgICAnYnVpbGRJRCcsDQogICAgICAgICAgICAgICAgJ2Nvbm5lY3Rpb24nLA0KICAgICAgICAgICAgICAgICdkZXZpY2VNZW1vcnknLA0KICAgICAgICAgICAgICAgICdnZXRCYXR0ZXJ5JywNCiAgICAgICAgICAgICAgICAnZ2V0R2FtZXBhZHMnLA0KICAgICAgICAgICAgICAgICdnZXRWUkRpc3BsYXlzJywNCiAgICAgICAgICAgICAgICAnaGFyZHdhcmVDb25jdXJyZW5jeScsDQogICAgICAgICAgICAgICAgJ2xhbmd1YWdlJywNCiAgICAgICAgICAgICAgICAnbGFuZ3VhZ2VzJywNCiAgICAgICAgICAgICAgICAnbWF4VG91Y2hQb2ludHMnLA0KICAgICAgICAgICAgICAgICdtaW1lVHlwZXMnLA0KICAgICAgICAgICAgICAgICdvc2NwdScsDQogICAgICAgICAgICAgICAgJ3BsYXRmb3JtJywNCiAgICAgICAgICAgICAgICAncGx1Z2lucycsDQogICAgICAgICAgICAgICAgJ3Byb2R1Y3QnLA0KICAgICAgICAgICAgICAgICdwcm9kdWN0U3ViJywNCiAgICAgICAgICAgICAgICAnc2VuZEJlYWNvbicsDQogICAgICAgICAgICAgICAgJ3NlcnZpY2VXb3JrZXInLA0KICAgICAgICAgICAgICAgICd1c2VyQWdlbnQnLA0KICAgICAgICAgICAgICAgICd2ZW5kb3InLA0KICAgICAgICAgICAgICAgICd2ZW5kb3JTdWInLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gTm9kZSwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2FwcGVuZENoaWxkJywNCiAgICAgICAgICAgICAgICAnaW5zZXJ0QmVmb3JlJywNCiAgICAgICAgICAgICAgICAncmVwbGFjZUNoaWxkJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yDQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gT2Zmc2NyZWVuQ2FudmFzLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnY29udmVydFRvQmxvYicsDQogICAgICAgICAgICAgICAgJ2dldENvbnRleHQnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3INCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBPZmZzY3JlZW5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdnZXRJbWFnZURhdGEnLA0KICAgICAgICAgICAgICAgICdnZXRMaW5lRGFzaCcsDQogICAgICAgICAgICAgICAgJ2lzUG9pbnRJblBhdGgnLA0KICAgICAgICAgICAgICAgICdpc1BvaW50SW5TdHJva2UnLA0KICAgICAgICAgICAgICAgICdtZWFzdXJlVGV4dCcsDQogICAgICAgICAgICAgICAgJ3F1YWRyYXRpY0N1cnZlVG8nLA0KICAgICAgICAgICAgICAgICdmb250JywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IFBlcm1pc3Npb25zLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAncXVlcnknLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gUmFuZ2UsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdnZXRCb3VuZGluZ0NsaWVudFJlY3QnLA0KICAgICAgICAgICAgICAgICdnZXRDbGllbnRSZWN0cycsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcg0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IEludGwuUmVsYXRpdmVUaW1lRm9ybWF0LCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAncmVzb2x2ZWRPcHRpb25zJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IFNjcmVlbik7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gc3BlZWNoU3ludGhlc2lzLCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnZ2V0Vm9pY2VzJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IFN0cmluZywgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2Zyb21Db2RlUG9pbnQnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gU1ZHUmVjdCk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gU1ZHUmVjdEVsZW1lbnQsIHsNCiAgICAgICAgICAgIHRhcmdldDogWw0KICAgICAgICAgICAgICAgICdnZXRCQm94JywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICBzZWFyY2hMaWVzKCgpID0+IFNWR1RleHRDb250ZW50RWxlbWVudCwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2dldEV4dGVudE9mQ2hhcicsDQogICAgICAgICAgICAgICAgJ2dldFN1YlN0cmluZ0xlbmd0aCcsDQogICAgICAgICAgICAgICAgJ2dldENvbXB1dGVkVGV4dExlbmd0aCcsDQogICAgICAgICAgICBdLA0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoTGllcygoKSA9PiBUZXh0TWV0cmljcyk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB7DQogICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAnYnVmZmVyRGF0YScsDQogICAgICAgICAgICAgICAgJ2dldFBhcmFtZXRlcicsDQogICAgICAgICAgICAgICAgJ3JlYWRQaXhlbHMnLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfSk7DQogICAgICAgIHNlYXJjaExpZXMoKCkgPT4gV2ViR0wyUmVuZGVyaW5nQ29udGV4dCwgew0KICAgICAgICAgICAgdGFyZ2V0OiBbDQogICAgICAgICAgICAgICAgJ2J1ZmZlckRhdGEnLA0KICAgICAgICAgICAgICAgICdnZXRQYXJhbWV0ZXInLA0KICAgICAgICAgICAgICAgICdyZWFkUGl4ZWxzJywNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0pOw0KICAgICAgICAvKiBwb3RlbnRpYWwgdGFyZ2V0czoNCiAgICAgICAgICAgIFJUQ1BlZXJDb25uZWN0aW9uDQogICAgICAgICAgICBQbHVnaW4NCiAgICAgICAgICAgIFBsdWdpbkFycmF5DQogICAgICAgICAgICBNaW1lVHlwZQ0KICAgICAgICAgICAgTWltZVR5cGVBcnJheQ0KICAgICAgICAgICAgV29ya2VyDQogICAgICAgICAgICBIaXN0b3J5DQogICAgICAgICovDQogICAgICAgIC8vIHJldHVybiBsaWVzIGxpc3QgYW5kIGRldGFpbA0KICAgICAgICBjb25zdCBwcm9wcyA9IGxpZURldGVjdG9yLmdldFByb3BzKCk7DQogICAgICAgIGNvbnN0IHByb3BzU2VhcmNoZWQgPSBsaWVEZXRlY3Rvci5nZXRQcm9wc1NlYXJjaGVkKCk7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBsaWVEZXRlY3RvciwNCiAgICAgICAgICAgIGxpZUxpc3Q6IE9iamVjdC5rZXlzKHByb3BzKS5zb3J0KCksDQogICAgICAgICAgICBsaWVEZXRhaWw6IHByb3BzLA0KICAgICAgICAgICAgbGllQ291bnQ6IE9iamVjdC5rZXlzKHByb3BzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiBhY2MgKyBwcm9wc1trZXldLmxlbmd0aCwgMCksDQogICAgICAgICAgICBwcm9wc1NlYXJjaGVkLA0KICAgICAgICB9Ow0KICAgIH0NCiAgICAvLyBzdGFydCBwcm9ncmFtDQogICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsNCiAgICBjb25zdCB7IGxpZURldGVjdG9yLCBsaWVMaXN0LCBsaWVEZXRhaWwsIA0KICAgIC8vIGxpZUNvdW50LA0KICAgIHByb3BzU2VhcmNoZWQsIH0gPSBnZXRQcm90b3R5cGVMaWVzKFBIQU5UT01fREFSS05FU1MpOyAvLyBleGVjdXRlIGFuZCBkZXN0cnVjdHVyZSB0aGUgbGlzdCBhbmQgZGV0YWlsDQogICAgLy8gZGlzcmVnYXJkIEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZyBsaWVzIHdoZW4gZGV0ZXJtaW5pbmcgaWYgdGhlIEFQSSBjYW4gYmUgdHJ1c3RlZA0KICAgIGNvbnN0IGdldE5vbkZ1bmN0aW9uVG9TdHJpbmdMaWVzID0gKHgpID0+ICF4ID8geCA6IHguZmlsdGVyKCh4KSA9PiAhL29iamVjdCB0b1N0cmluZ3x0b1N0cmluZyBpbmNvbXBhdGlibGUgcHJveHkvLnRlc3QoeCkpLmxlbmd0aDsNCiAgICBsZXQgbGllUHJvcHM7DQogICAgbGV0IHByb3RvdHlwZUxpZXM7DQogICAgaWYgKCFJU19XT1JLRVJfU0NPUEUpIHsNCiAgICAgICAgbGllUHJvcHMgPSAoKCkgPT4gew0KICAgICAgICAgICAgY29uc3QgcHJvcHMgPSBsaWVEZXRlY3Rvci5nZXRQcm9wcygpOw0KICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7DQogICAgICAgICAgICAgICAgYWNjW2tleV0gPSBnZXROb25GdW5jdGlvblRvU3RyaW5nTGllcyhwcm9wc1trZXldKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgfSwge30pOw0KICAgICAgICB9KSgpOw0KICAgICAgICBwcm90b3R5cGVMaWVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsaWVEZXRhaWwpKTsNCiAgICAgICAgY29uc3QgcGVyZiA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQ7DQogICAgICAgICtwZXJmLnRvRml4ZWQoMik7DQogICAgfQ0KICAgIGNvbnN0IGdldFBsdWdpbkxpZXMgPSAocGx1Z2lucywgbWltZVR5cGVzKSA9PiB7DQogICAgICAgIGNvbnN0IGxpZXMgPSBbXTsgLy8gY29sbGVjdCBsaWUgdHlwZXMNCiAgICAgICAgY29uc3QgcGx1Z2luc093blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwbHVnaW5zKS5maWx0ZXIoKG5hbWUpID0+IGlzTmFOKCtuYW1lKSk7DQogICAgICAgIGNvbnN0IG1pbWVUeXBlc093blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhtaW1lVHlwZXMpLmZpbHRlcigobmFtZSkgPT4gaXNOYU4oK25hbWUpKTsNCiAgICAgICAgLy8gY2FzdCB0byBhcnJheQ0KICAgICAgICBjb25zdCBwbHVnaW5zTGlzdCA9IFsuLi5wbHVnaW5zXTsNCiAgICAgICAgY29uc3QgbWltZVR5cGVzTGlzdCA9IFsuLi5taW1lVHlwZXNdOw0KICAgICAgICAvLyBnZXQgaW5pdGlhbCB0cnVzdGVkIG1pbWVUeXBlIG5hbWVzDQogICAgICAgIGNvbnN0IHRydXN0ZWRNaW1lVHlwZXMgPSBuZXcgU2V0KG1pbWVUeXBlc093blByb3BlcnR5TmFtZXMpOw0KICAgICAgICAvLyBnZXQgaW5pdGlhbCB0cnVzdGVkIHBsdWdpbiBuYW1lcw0KICAgICAgICBjb25zdCBleGNsdWRlRHVwbGljYXRlcyA9IChhcnIpID0+IFsuLi5uZXcgU2V0KGFycildOw0KICAgICAgICBjb25zdCBtaW1lVHlwZUVuYWJsZWRQbHVnaW5zID0gZXhjbHVkZUR1cGxpY2F0ZXMobWltZVR5cGVzTGlzdC5tYXAoKG1pbWVUeXBlKSA9PiBtaW1lVHlwZS5lbmFibGVkUGx1Z2luKSk7DQogICAgICAgIGNvbnN0IHRydXN0ZWRQbHVnaW5OYW1lcyA9IG5ldyBTZXQocGx1Z2luc093blByb3BlcnR5TmFtZXMpOw0KICAgICAgICBjb25zdCBtaW1lVHlwZUVuYWJsZWRQbHVnaW5zTmFtZXMgPSBtaW1lVHlwZUVuYWJsZWRQbHVnaW5zLm1hcCgocGx1Z2luKSA9PiBwbHVnaW4gJiYgcGx1Z2luLm5hbWUpOw0KICAgICAgICBjb25zdCB0cnVzdGVkUGx1Z2luTmFtZXNBcnJheSA9IFsuLi50cnVzdGVkUGx1Z2luTmFtZXNdOw0KICAgICAgICB0cnVzdGVkUGx1Z2luTmFtZXNBcnJheS5mb3JFYWNoKChuYW1lKSA9PiB7DQogICAgICAgICAgICBjb25zdCB2YWxpZE5hbWUgPSBuZXcgU2V0KG1pbWVUeXBlRW5hYmxlZFBsdWdpbnNOYW1lcykuaGFzKG5hbWUpOw0KICAgICAgICAgICAgaWYgKCF2YWxpZE5hbWUpIHsNCiAgICAgICAgICAgICAgICB0cnVzdGVkUGx1Z2luTmFtZXMuZGVsZXRlKG5hbWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgLy8gMy4gRXhwZWN0IE1pbWVUeXBlIG9iamVjdCBpbiBwbHVnaW5zDQogICAgICAgIGNvbnN0IGludmFsaWRQbHVnaW5zID0gcGx1Z2luc0xpc3QuZmlsdGVyKChwbHVnaW4pID0+IHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgY29uc3QgdmFsaWRNaW1lVHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwbHVnaW5bMF0pLmNvbnN0cnVjdG9yLm5hbWUgPT0gJ01pbWVUeXBlJzsNCiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkTWltZVR5cGUpIHsNCiAgICAgICAgICAgICAgICAgICAgdHJ1c3RlZFBsdWdpbk5hbWVzLmRlbGV0ZShwbHVnaW4ubmFtZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiAhdmFsaWRNaW1lVHlwZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIHRydXN0ZWRQbHVnaW5OYW1lcy5kZWxldGUocGx1Z2luLm5hbWUpOw0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBzaWduIG9mIHRhbXBlcmluZw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgaWYgKGludmFsaWRQbHVnaW5zLmxlbmd0aCkgew0KICAgICAgICAgICAgbGllcy5wdXNoKCdtaXNzaW5nIG1pbWV0eXBlJyk7DQogICAgICAgIH0NCiAgICAgICAgLy8gNC4gRXhwZWN0IHZhbGlkIE1pbWVUeXBlKHMpIGluIHBsdWdpbg0KICAgICAgICBjb25zdCBwbHVnaW5NaW1lVHlwZXMgPSBwbHVnaW5zTGlzdA0KICAgICAgICAgICAgLm1hcCgocGx1Z2luKSA9PiBPYmplY3QudmFsdWVzKHBsdWdpbikpLmZsYXQoKTsNCiAgICAgICAgY29uc3QgcGx1Z2luTWltZVR5cGVzTmFtZXMgPSBwbHVnaW5NaW1lVHlwZXMubWFwKChtaW1ldHlwZSkgPT4gbWltZXR5cGUudHlwZSk7DQogICAgICAgIHBsdWdpbk1pbWVUeXBlc05hbWVzLmZvckVhY2goKG5hbWUpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHZhbGlkTmFtZSA9IHRydXN0ZWRNaW1lVHlwZXMuaGFzKG5hbWUpOw0KICAgICAgICAgICAgaWYgKCF2YWxpZE5hbWUpIHsNCiAgICAgICAgICAgICAgICB0cnVzdGVkTWltZVR5cGVzLmRlbGV0ZShuYW1lKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIHBsdWdpbnNMaXN0LmZvckVhY2goKHBsdWdpbikgPT4gew0KICAgICAgICAgICAgY29uc3QgcGx1Z2luTWltZVR5cGVzID0gT2JqZWN0LnZhbHVlcyhwbHVnaW4pLm1hcCgobWltZXR5cGUpID0+IG1pbWV0eXBlLnR5cGUpOw0KICAgICAgICAgICAgcmV0dXJuIHBsdWdpbk1pbWVUeXBlcy5mb3JFYWNoKChtaW1ldHlwZSkgPT4gew0KICAgICAgICAgICAgICAgIGlmICghdHJ1c3RlZE1pbWVUeXBlcy5oYXMobWltZXR5cGUpKSB7DQogICAgICAgICAgICAgICAgICAgIGxpZXMucHVzaCgnaW52YWxpZCBtaW1ldHlwZScpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1c3RlZFBsdWdpbk5hbWVzLmRlbGV0ZShwbHVnaW4ubmFtZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHZhbGlkUGx1Z2luczogcGx1Z2luc0xpc3QuZmlsdGVyKChwbHVnaW4pID0+IHRydXN0ZWRQbHVnaW5OYW1lcy5oYXMocGx1Z2luLm5hbWUpKSwNCiAgICAgICAgICAgIHZhbGlkTWltZVR5cGVzOiBtaW1lVHlwZXNMaXN0LmZpbHRlcigobWltZVR5cGUpID0+IHRydXN0ZWRNaW1lVHlwZXMuaGFzKG1pbWVUeXBlLnR5cGUpKSwNCiAgICAgICAgICAgIGxpZXM6IFsuLi5uZXcgU2V0KGxpZXMpXSwgLy8gcmVtb3ZlIGR1cGxpY2F0ZXMNCiAgICAgICAgfTsNCiAgICB9Ow0KICAgIGNvbnN0IGdldExpZXMgPSAoKSA9PiB7DQogICAgICAgIGNvbnN0IHJlY29yZHMgPSBsaWVSZWNvcmRzLmdldFJlY29yZHMoKTsNCiAgICAgICAgY29uc3QgdG90YWxMaWVzID0gT2JqZWN0LmtleXMocmVjb3JkcykucmVkdWNlKChhY2MsIGtleSkgPT4gew0KICAgICAgICAgICAgYWNjICs9IHJlY29yZHNba2V5XS5sZW5ndGg7DQogICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICB9LCAwKTsNCiAgICAgICAgcmV0dXJuIHsgZGF0YTogcmVjb3JkcywgdG90YWxMaWVzIH07DQogICAgfTsKCiAgICAvLyBEZXRlY3QgcHJveHkgYmVoYXZpb3INCiAgICBjb25zdCBwcm94eUJlaGF2aW9yID0gKHgpID0+IHR5cGVvZiB4ID09ICdmdW5jdGlvbicgPyB0cnVlIDogZmFsc2U7DQogICAgLy8gRGV0ZWN0IGdpYmJlcmlzaA0KICAgIGNvbnN0IGFjY2VwdCA9IHsgJ2FhJzogMSwgJ2FiJzogMSwgJ2FjJzogMSwgJ2FkJzogMSwgJ2FlJzogMSwgJ2FmJzogMSwgJ2FnJzogMSwgJ2FoJzogMSwgJ2FpJzogMSwgJ2FqJzogMSwgJ2FrJzogMSwgJ2FsJzogMSwgJ2FtJzogMSwgJ2FuJzogMSwgJ2FvJzogMSwgJ2FwJzogMSwgJ2FxJzogMSwgJ2FyJzogMSwgJ2FzJzogMSwgJ2F0JzogMSwgJ2F1JzogMSwgJ2F2JzogMSwgJ2F3JzogMSwgJ2F4JzogMSwgJ2F5JzogMSwgJ2F6JzogMSwgJ2JhJzogMSwgJ2JiJzogMSwgJ2JjJzogMSwgJ2JkJzogMSwgJ2JlJzogMSwgJ2JmJzogMSwgJ2JnJzogMSwgJ2JoJzogMSwgJ2JpJzogMSwgJ2JqJzogMSwgJ2JrJzogMSwgJ2JsJzogMSwgJ2JtJzogMSwgJ2JuJzogMSwgJ2JvJzogMSwgJ2JwJzogMSwgJ2JyJzogMSwgJ2JzJzogMSwgJ2J0JzogMSwgJ2J1JzogMSwgJ2J2JzogMSwgJ2J3JzogMSwgJ2J4JzogMSwgJ2J5JzogMSwgJ2NhJzogMSwgJ2NiJzogMSwgJ2NjJzogMSwgJ2NkJzogMSwgJ2NlJzogMSwgJ2NnJzogMSwgJ2NoJzogMSwgJ2NpJzogMSwgJ2NrJzogMSwgJ2NsJzogMSwgJ2NtJzogMSwgJ2NuJzogMSwgJ2NvJzogMSwgJ2NwJzogMSwgJ2NxJzogMSwgJ2NyJzogMSwgJ2NzJzogMSwgJ2N0JzogMSwgJ2N1JzogMSwgJ2N3JzogMSwgJ2N5JzogMSwgJ2N6JzogMSwgJ2RhJzogMSwgJ2RiJzogMSwgJ2RjJzogMSwgJ2RkJzogMSwgJ2RlJzogMSwgJ2RmJzogMSwgJ2RnJzogMSwgJ2RoJzogMSwgJ2RpJzogMSwgJ2RqJzogMSwgJ2RrJzogMSwgJ2RsJzogMSwgJ2RtJzogMSwgJ2RuJzogMSwgJ2RvJzogMSwgJ2RwJzogMSwgJ2RxJzogMSwgJ2RyJzogMSwgJ2RzJzogMSwgJ2R0JzogMSwgJ2R1JzogMSwgJ2R2JzogMSwgJ2R3JzogMSwgJ2R4JzogMSwgJ2R5JzogMSwgJ2R6JzogMSwgJ2VhJzogMSwgJ2ViJzogMSwgJ2VjJzogMSwgJ2VkJzogMSwgJ2VlJzogMSwgJ2VmJzogMSwgJ2VnJzogMSwgJ2VoJzogMSwgJ2VpJzogMSwgJ2VqJzogMSwgJ2VrJzogMSwgJ2VsJzogMSwgJ2VtJzogMSwgJ2VuJzogMSwgJ2VvJzogMSwgJ2VwJzogMSwgJ2VxJzogMSwgJ2VyJzogMSwgJ2VzJzogMSwgJ2V0JzogMSwgJ2V1JzogMSwgJ2V2JzogMSwgJ2V3JzogMSwgJ2V4JzogMSwgJ2V5JzogMSwgJ2V6JzogMSwgJ2ZhJzogMSwgJ2ZiJzogMSwgJ2ZjJzogMSwgJ2ZkJzogMSwgJ2ZlJzogMSwgJ2ZmJzogMSwgJ2ZnJzogMSwgJ2ZoJzogMSwgJ2ZpJzogMSwgJ2ZqJzogMSwgJ2ZrJzogMSwgJ2ZsJzogMSwgJ2ZtJzogMSwgJ2ZuJzogMSwgJ2ZvJzogMSwgJ2ZwJzogMSwgJ2ZyJzogMSwgJ2ZzJzogMSwgJ2Z0JzogMSwgJ2Z1JzogMSwgJ2Z3JzogMSwgJ2Z5JzogMSwgJ2dhJzogMSwgJ2diJzogMSwgJ2djJzogMSwgJ2dkJzogMSwgJ2dlJzogMSwgJ2dmJzogMSwgJ2dnJzogMSwgJ2doJzogMSwgJ2dpJzogMSwgJ2dqJzogMSwgJ2drJzogMSwgJ2dsJzogMSwgJ2dtJzogMSwgJ2duJzogMSwgJ2dvJzogMSwgJ2dwJzogMSwgJ2dyJzogMSwgJ2dzJzogMSwgJ2d0JzogMSwgJ2d1JzogMSwgJ2d3JzogMSwgJ2d5JzogMSwgJ2d6JzogMSwgJ2hhJzogMSwgJ2hiJzogMSwgJ2hjJzogMSwgJ2hkJzogMSwgJ2hlJzogMSwgJ2hmJzogMSwgJ2hnJzogMSwgJ2hoJzogMSwgJ2hpJzogMSwgJ2hqJzogMSwgJ2hrJzogMSwgJ2hsJzogMSwgJ2htJzogMSwgJ2huJzogMSwgJ2hvJzogMSwgJ2hwJzogMSwgJ2hxJzogMSwgJ2hyJzogMSwgJ2hzJzogMSwgJ2h0JzogMSwgJ2h1JzogMSwgJ2h2JzogMSwgJ2h3JzogMSwgJ2h5JzogMSwgJ2lhJzogMSwgJ2liJzogMSwgJ2ljJzogMSwgJ2lkJzogMSwgJ2llJzogMSwgJ2lmJzogMSwgJ2lnJzogMSwgJ2loJzogMSwgJ2lpJzogMSwgJ2lqJzogMSwgJ2lrJzogMSwgJ2lsJzogMSwgJ2ltJzogMSwgJ2luJzogMSwgJ2lvJzogMSwgJ2lwJzogMSwgJ2lxJzogMSwgJ2lyJzogMSwgJ2lzJzogMSwgJ2l0JzogMSwgJ2l1JzogMSwgJ2l2JzogMSwgJ2l3JzogMSwgJ2l4JzogMSwgJ2l5JzogMSwgJ2l6JzogMSwgJ2phJzogMSwgJ2pjJzogMSwgJ2plJzogMSwgJ2ppJzogMSwgJ2pqJzogMSwgJ2prJzogMSwgJ2puJzogMSwgJ2pvJzogMSwgJ2p1JzogMSwgJ2thJzogMSwgJ2tiJzogMSwgJ2tjJzogMSwgJ2tkJzogMSwgJ2tlJzogMSwgJ2tmJzogMSwgJ2tnJzogMSwgJ2toJzogMSwgJ2tpJzogMSwgJ2tqJzogMSwgJ2trJzogMSwgJ2tsJzogMSwgJ2ttJzogMSwgJ2tuJzogMSwgJ2tvJzogMSwgJ2twJzogMSwgJ2tyJzogMSwgJ2tzJzogMSwgJ2t0JzogMSwgJ2t1JzogMSwgJ2t2JzogMSwgJ2t3JzogMSwgJ2t5JzogMSwgJ2xhJzogMSwgJ2xiJzogMSwgJ2xjJzogMSwgJ2xkJzogMSwgJ2xlJzogMSwgJ2xmJzogMSwgJ2xnJzogMSwgJ2xoJzogMSwgJ2xpJzogMSwgJ2xqJzogMSwgJ2xrJzogMSwgJ2xsJzogMSwgJ2xtJzogMSwgJ2xuJzogMSwgJ2xvJzogMSwgJ2xwJzogMSwgJ2xxJzogMSwgJ2xyJzogMSwgJ2xzJzogMSwgJ2x0JzogMSwgJ2x1JzogMSwgJ2x2JzogMSwgJ2x3JzogMSwgJ2x4JzogMSwgJ2x5JzogMSwgJ2x6JzogMSwgJ21hJzogMSwgJ21iJzogMSwgJ21jJzogMSwgJ21kJzogMSwgJ21lJzogMSwgJ21mJzogMSwgJ21nJzogMSwgJ21oJzogMSwgJ21pJzogMSwgJ21qJzogMSwgJ21rJzogMSwgJ21sJzogMSwgJ21tJzogMSwgJ21uJzogMSwgJ21vJzogMSwgJ21wJzogMSwgJ21xJzogMSwgJ21yJzogMSwgJ21zJzogMSwgJ210JzogMSwgJ211JzogMSwgJ212JzogMSwgJ213JzogMSwgJ215JzogMSwgJ25hJzogMSwgJ25iJzogMSwgJ25jJzogMSwgJ25kJzogMSwgJ25lJzogMSwgJ25mJzogMSwgJ25nJzogMSwgJ25oJzogMSwgJ25pJzogMSwgJ25qJzogMSwgJ25rJzogMSwgJ25sJzogMSwgJ25tJzogMSwgJ25uJzogMSwgJ25vJzogMSwgJ25wJzogMSwgJ25xJzogMSwgJ25yJzogMSwgJ25zJzogMSwgJ250JzogMSwgJ251JzogMSwgJ252JzogMSwgJ253JzogMSwgJ254JzogMSwgJ255JzogMSwgJ256JzogMSwgJ29hJzogMSwgJ29iJzogMSwgJ29jJzogMSwgJ29kJzogMSwgJ29lJzogMSwgJ29mJzogMSwgJ29nJzogMSwgJ29oJzogMSwgJ29pJzogMSwgJ29qJzogMSwgJ29rJzogMSwgJ29sJzogMSwgJ29tJzogMSwgJ29uJzogMSwgJ29vJzogMSwgJ29wJzogMSwgJ29xJzogMSwgJ29yJzogMSwgJ29zJzogMSwgJ290JzogMSwgJ291JzogMSwgJ292JzogMSwgJ293JzogMSwgJ294JzogMSwgJ295JzogMSwgJ296JzogMSwgJ3BhJzogMSwgJ3BiJzogMSwgJ3BjJzogMSwgJ3BkJzogMSwgJ3BlJzogMSwgJ3BmJzogMSwgJ3BnJzogMSwgJ3BoJzogMSwgJ3BpJzogMSwgJ3BqJzogMSwgJ3BrJzogMSwgJ3BsJzogMSwgJ3BtJzogMSwgJ3BuJzogMSwgJ3BvJzogMSwgJ3BwJzogMSwgJ3ByJzogMSwgJ3BzJzogMSwgJ3B0JzogMSwgJ3B1JzogMSwgJ3B3JzogMSwgJ3B5JzogMSwgJ3B6JzogMSwgJ3FhJzogMSwgJ3FlJzogMSwgJ3FpJzogMSwgJ3FvJzogMSwgJ3FyJzogMSwgJ3FzJzogMSwgJ3F0JzogMSwgJ3F1JzogMSwgJ3JhJzogMSwgJ3JiJzogMSwgJ3JjJzogMSwgJ3JkJzogMSwgJ3JlJzogMSwgJ3JmJzogMSwgJ3JnJzogMSwgJ3JoJzogMSwgJ3JpJzogMSwgJ3JqJzogMSwgJ3JrJzogMSwgJ3JsJzogMSwgJ3JtJzogMSwgJ3JuJzogMSwgJ3JvJzogMSwgJ3JwJzogMSwgJ3JxJzogMSwgJ3JyJzogMSwgJ3JzJzogMSwgJ3J0JzogMSwgJ3J1JzogMSwgJ3J2JzogMSwgJ3J3JzogMSwgJ3J4JzogMSwgJ3J5JzogMSwgJ3J6JzogMSwgJ3NhJzogMSwgJ3NiJzogMSwgJ3NjJzogMSwgJ3NkJzogMSwgJ3NlJzogMSwgJ3NmJzogMSwgJ3NnJzogMSwgJ3NoJzogMSwgJ3NpJzogMSwgJ3NqJzogMSwgJ3NrJzogMSwgJ3NsJzogMSwgJ3NtJzogMSwgJ3NuJzogMSwgJ3NvJzogMSwgJ3NwJzogMSwgJ3NxJzogMSwgJ3NyJzogMSwgJ3NzJzogMSwgJ3N0JzogMSwgJ3N1JzogMSwgJ3N2JzogMSwgJ3N3JzogMSwgJ3N5JzogMSwgJ3N6JzogMSwgJ3RhJzogMSwgJ3RiJzogMSwgJ3RjJzogMSwgJ3RkJzogMSwgJ3RlJzogMSwgJ3RmJzogMSwgJ3RnJzogMSwgJ3RoJzogMSwgJ3RpJzogMSwgJ3RqJzogMSwgJ3RrJzogMSwgJ3RsJzogMSwgJ3RtJzogMSwgJ3RuJzogMSwgJ3RvJzogMSwgJ3RwJzogMSwgJ3RyJzogMSwgJ3RzJzogMSwgJ3R0JzogMSwgJ3R1JzogMSwgJ3R2JzogMSwgJ3R3JzogMSwgJ3R4JzogMSwgJ3R5JzogMSwgJ3R6JzogMSwgJ3VhJzogMSwgJ3ViJzogMSwgJ3VjJzogMSwgJ3VkJzogMSwgJ3VlJzogMSwgJ3VmJzogMSwgJ3VnJzogMSwgJ3VoJzogMSwgJ3VpJzogMSwgJ3VqJzogMSwgJ3VrJzogMSwgJ3VsJzogMSwgJ3VtJzogMSwgJ3VuJzogMSwgJ3VvJzogMSwgJ3VwJzogMSwgJ3VxJzogMSwgJ3VyJzogMSwgJ3VzJzogMSwgJ3V0JzogMSwgJ3V1JzogMSwgJ3V2JzogMSwgJ3V3JzogMSwgJ3V4JzogMSwgJ3V5JzogMSwgJ3V6JzogMSwgJ3ZhJzogMSwgJ3ZjJzogMSwgJ3ZkJzogMSwgJ3ZlJzogMSwgJ3ZnJzogMSwgJ3ZpJzogMSwgJ3ZsJzogMSwgJ3ZuJzogMSwgJ3ZvJzogMSwgJ3ZyJzogMSwgJ3ZzJzogMSwgJ3Z0JzogMSwgJ3Z1JzogMSwgJ3Z2JzogMSwgJ3Z5JzogMSwgJ3Z6JzogMSwgJ3dhJzogMSwgJ3diJzogMSwgJ3djJzogMSwgJ3dkJzogMSwgJ3dlJzogMSwgJ3dmJzogMSwgJ3dnJzogMSwgJ3doJzogMSwgJ3dpJzogMSwgJ3dqJzogMSwgJ3drJzogMSwgJ3dsJzogMSwgJ3dtJzogMSwgJ3duJzogMSwgJ3dvJzogMSwgJ3dwJzogMSwgJ3dyJzogMSwgJ3dzJzogMSwgJ3d0JzogMSwgJ3d1JzogMSwgJ3d3JzogMSwgJ3d5JzogMSwgJ3d6JzogMSwgJ3hhJzogMSwgJ3hiJzogMSwgJ3hjJzogMSwgJ3hlJzogMSwgJ3hmJzogMSwgJ3hnJzogMSwgJ3hoJzogMSwgJ3hpJzogMSwgJ3hsJzogMSwgJ3htJzogMSwgJ3huJzogMSwgJ3hvJzogMSwgJ3hwJzogMSwgJ3hxJzogMSwgJ3hzJzogMSwgJ3h0JzogMSwgJ3h1JzogMSwgJ3h2JzogMSwgJ3h3JzogMSwgJ3h4JzogMSwgJ3h5JzogMSwgJ3lhJzogMSwgJ3liJzogMSwgJ3ljJzogMSwgJ3lkJzogMSwgJ3llJzogMSwgJ3lmJzogMSwgJ3lnJzogMSwgJ3loJzogMSwgJ3lpJzogMSwgJ3lqJzogMSwgJ3lrJzogMSwgJ3lsJzogMSwgJ3ltJzogMSwgJ3luJzogMSwgJ3lvJzogMSwgJ3lwJzogMSwgJ3lyJzogMSwgJ3lzJzogMSwgJ3l0JzogMSwgJ3l1JzogMSwgJ3l2JzogMSwgJ3l3JzogMSwgJ3l4JzogMSwgJ3l6JzogMSwgJ3phJzogMSwgJ3piJzogMSwgJ3pjJzogMSwgJ3pkJzogMSwgJ3plJzogMSwgJ3pnJzogMSwgJ3poJzogMSwgJ3ppJzogMSwgJ3pqJzogMSwgJ3prJzogMSwgJ3psJzogMSwgJ3ptJzogMSwgJ3puJzogMSwgJ3pvJzogMSwgJ3pwJzogMSwgJ3pxJzogMSwgJ3pzJzogMSwgJ3p0JzogMSwgJ3p1JzogMSwgJ3p2JzogMSwgJ3p3JzogMSwgJ3p5JzogMSwgJ3p6JzogMSB9Ow0KICAgIGNvbnN0IGdpYmJlcmlzaCA9IChzdHIsIHsgc3RyaWN0ID0gZmFsc2UgfSA9IHt9KSA9PiB7DQogICAgICAgIGlmICghc3RyKSB7DQogICAgICAgICAgICByZXR1cm4gW107DQogICAgICAgIH0NCiAgICAgICAgLy8gdGVzdCBsZXR0ZXIgY2FzZSBzZXF1ZW5jZQ0KICAgICAgICBjb25zdCBsZXR0ZXJDYXNlU2VxdWVuY2VHaWJiZXJzID0gW107DQogICAgICAgIGNvbnN0IHRlc3RzID0gWw0KICAgICAgICAgICAgLyhbQS1aXXszLH1bYS16XSkvZywNCiAgICAgICAgICAgIC8oW2Etel1bQS1aXXszLH0pL2csDQogICAgICAgICAgICAvKFthLXpdW0EtWl17Mix9W2Etel0pL2csDQogICAgICAgICAgICAvKFthLXpdW1xkXXsyLH1bYS16XSkvZywNCiAgICAgICAgICAgIC8oW0EtWl1bXGRdezIsfVthLXpdKS9nLA0KICAgICAgICAgICAgLyhbYS16XVtcZF17Mix9W0EtWl0pL2csIC8vIGEjIy4uLkINCiAgICAgICAgXTsNCiAgICAgICAgdGVzdHMuZm9yRWFjaCgocmVnRXhwKSA9PiB7DQogICAgICAgICAgICBjb25zdCBtYXRjaCA9IHN0ci5tYXRjaChyZWdFeHApOw0KICAgICAgICAgICAgaWYgKG1hdGNoKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlckNhc2VTZXF1ZW5jZUdpYmJlcnMucHVzaChtYXRjaC5qb2luKCcsICcpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfSk7DQogICAgICAgIC8vIHRlc3QgbGV0dGVyIHNlcXVlbmNlDQogICAgICAgIGNvbnN0IGxldHRlclNlcXVlbmNlR2liYmVycyA9IFtdOw0KICAgICAgICBjb25zdCBjbGVhbiA9IHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xkfFxXfF8vZywgJyAnKS5yZXBsYWNlKC9ccysvZywgJyAnKS50cmltKCkuc3BsaXQoJyAnKS5qb2luKCdfJyk7DQogICAgICAgIGNvbnN0IGxlbiA9IGNsZWFuLmxlbmd0aDsNCiAgICAgICAgY29uc3QgYXJyID0gWy4uLmNsZWFuXTsNCiAgICAgICAgYXJyLmZvckVhY2goKGNoYXIsIGluZGV4KSA9PiB7DQogICAgICAgICAgICBjb25zdCBuZXh0ID0gaW5kZXggKyAxOw0KICAgICAgICAgICAgaWYgKGFycltuZXh0XSA9PSAnXycgfHwgY2hhciA9PSAnXycgfHwgbmV4dCA9PSBsZW4pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGNvbWJvID0gY2hhciArIGFycltpbmRleCArIDFdOw0KICAgICAgICAgICAgY29uc3QgYWNjZXB0YWJsZSA9ICEhYWNjZXB0W2NvbWJvXTsNCiAgICAgICAgICAgICFhY2NlcHRhYmxlICYmIGxldHRlclNlcXVlbmNlR2liYmVycy5wdXNoKGNvbWJvKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfSk7DQogICAgICAgIGNvbnN0IGdpYmJlcnMgPSBbDQogICAgICAgICAgICAvLyBpZ25vcmUgc2VxdWVuY2UgaWYgbGVzcyB0aGFuIDMgZXhpc3QNCiAgICAgICAgICAgIC4uLighc3RyaWN0ICYmIChsZXR0ZXJTZXF1ZW5jZUdpYmJlcnMubGVuZ3RoIDwgMykgPyBbXSA6IGxldHRlclNlcXVlbmNlR2liYmVycyksDQogICAgICAgICAgICAuLi4oIXN0cmljdCAmJiAobGV0dGVyQ2FzZVNlcXVlbmNlR2liYmVycy5sZW5ndGggPCA0KSA/IFtdIDogbGV0dGVyQ2FzZVNlcXVlbmNlR2liYmVycyksDQogICAgICAgIF07DQogICAgICAgIGNvbnN0IGFsbG93ID0gWw0KICAgICAgICAgICAgLy8ga25vd24gZ2liYmVycw0KICAgICAgICAgICAgJ2J6JywNCiAgICAgICAgICAgICdjZicsDQogICAgICAgICAgICAnZngnLA0KICAgICAgICAgICAgJ214JywNCiAgICAgICAgICAgICd2YicsDQogICAgICAgICAgICAneGQnLA0KICAgICAgICAgICAgJ2d4JywNCiAgICAgICAgICAgICdQQ0llJywNCiAgICAgICAgICAgICd2bScsDQogICAgICAgICAgICAnTlZJRElBR2EnLA0KICAgICAgICBdOw0KICAgICAgICByZXR1cm4gZ2liYmVycy5maWx0ZXIoKHgpID0+ICFhbGxvdy5pbmNsdWRlcyh4KSk7DQogICAgfTsNCiAgICAvLyBXZWJHTCBSZW5kZXJlciBoZWxwZXJzDQogICAgZnVuY3Rpb24gY29tcHJlc3NXZWJHTFJlbmRlcmVyKHgpIHsNCiAgICAgICAgaWYgKCF4KQ0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICByZXR1cm4gKCcnICsgeCkNCiAgICAgICAgICAgIC5yZXBsYWNlKC9BTkdMRSBcKHxcc0RpcmVjdDNELit8XHNEM0QuK3xcc3ZzXy4rXCl8XCgoRFJNfFBPTEFSSVN8TExWTSkuK3xNZXNhLit8KEFUSXxJTlRFTCktLit8TWV0YWxccy1ccy4rfE5WSURJQVxzW1xkfFwuXSsvaWcsICcnKQ0KICAgICAgICAgICAgLnJlcGxhY2UoLyhccyh0aXxcZHsxLDJ9R0J8c3VwZXIpJCkvaWcsICcnKQ0KICAgICAgICAgICAgLnJlcGxhY2UoL1xzezIsfS9nLCAnICcpDQogICAgICAgICAgICAudHJpbSgpDQogICAgICAgICAgICAucmVwbGFjZSgvKChyfGcpKHR8KSh4fHN8XGQpIHxHcmFwaGljcyB8R2VGb3JjZSB8UmFkZW9uIChIRCB8UHJvIHwpKShcZCspL2ksICguLi5hcmdzKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gYCR7YXJnc1sxXX0ke2FyZ3NbNl1bMF19JHthcmdzWzZdLnNsaWNlKDEpLnJlcGxhY2UoL1xkL2csICcwJyl9c2A7DQogICAgICAgIH0pOw0KICAgIH0NCiAgICBjb25zdCBnZXRXZWJHTFJlbmRlcmVyUGFydHMgPSAoeCkgPT4gew0KICAgICAgICBjb25zdCBrbm93blBhcnRzID0gWw0KICAgICAgICAgICAgJ0FNRCcsDQogICAgICAgICAgICAnQU5HTEUnLA0KICAgICAgICAgICAgJ0FTVVMnLA0KICAgICAgICAgICAgJ0FUSScsDQogICAgICAgICAgICAnQVRJIFJhZGVvbicsDQogICAgICAgICAgICAnQVRJIFRlY2hub2xvZ2llcyBJbmMnLA0KICAgICAgICAgICAgJ0FkcmVubycsDQogICAgICAgICAgICAnQW5kcm9pZCBFbXVsYXRvcicsDQogICAgICAgICAgICAnQXBwbGUnLA0KICAgICAgICAgICAgJ0FwcGxlIEdQVScsDQogICAgICAgICAgICAnQXBwbGUgTTEnLA0KICAgICAgICAgICAgJ0NoaXBzZXQnLA0KICAgICAgICAgICAgJ0QzRDExJywNCiAgICAgICAgICAgICdEaXJlY3QzRCcsDQogICAgICAgICAgICAnRXhwcmVzcyBDaGlwc2V0JywNCiAgICAgICAgICAgICdHZUZvcmNlJywNCiAgICAgICAgICAgICdHZW5lcmF0aW9uJywNCiAgICAgICAgICAgICdHZW5lcmljIFJlbmRlcmVyJywNCiAgICAgICAgICAgICdHb29nbGUnLA0KICAgICAgICAgICAgJ0dvb2dsZSBTd2lmdFNoYWRlcicsDQogICAgICAgICAgICAnR3JhcGhpY3MnLA0KICAgICAgICAgICAgJ0dyYXBoaWNzIE1lZGlhIEFjY2VsZXJhdG9yJywNCiAgICAgICAgICAgICdIRCBHcmFwaGljcyBGYW1pbHknLA0KICAgICAgICAgICAgJ0ludGVsJywNCiAgICAgICAgICAgICdJbnRlbChSKSBIRCBHcmFwaGljcycsDQogICAgICAgICAgICAnSW50ZWwoUikgVUhEIEdyYXBoaWNzJywNCiAgICAgICAgICAgICdJcmlzJywNCiAgICAgICAgICAgICdLQkwgR3JhcGhpY3MnLA0KICAgICAgICAgICAgJ01hbGknLA0KICAgICAgICAgICAgJ01lc2EnLA0KICAgICAgICAgICAgJ01lc2EgRFJJJywNCiAgICAgICAgICAgICdNZXRhbCcsDQogICAgICAgICAgICAnTWljcm9zb2Z0JywNCiAgICAgICAgICAgICdNaWNyb3NvZnQgQmFzaWMgUmVuZGVyIERyaXZlcicsDQogICAgICAgICAgICAnTWljcm9zb2Z0IENvcnBvcmF0aW9uJywNCiAgICAgICAgICAgICdOVklESUEnLA0KICAgICAgICAgICAgJ05WSURJQSBDb3Jwb3JhdGlvbicsDQogICAgICAgICAgICAnTlZJRElBR2FtZVJlYWR5RDNEJywNCiAgICAgICAgICAgICdPcGVuR0wnLA0KICAgICAgICAgICAgJ09wZW5HTCBFbmdpbmUnLA0KICAgICAgICAgICAgJ09wZW4gU291cmNlIFRlY2hub2xvZ3kgQ2VudGVyJywNCiAgICAgICAgICAgICdQYXJhbGxlbHMnLA0KICAgICAgICAgICAgJ1BhcmFsbGVscyBEaXNwbGF5IEFkYXB0ZXInLA0KICAgICAgICAgICAgJ1BDSWUnLA0KICAgICAgICAgICAgJ1BsdXMgR3JhcGhpY3MnLA0KICAgICAgICAgICAgJ1Bvd2VyVlInLA0KICAgICAgICAgICAgJ1BybyBHcmFwaGljcycsDQogICAgICAgICAgICAnUXVhZHJvJywNCiAgICAgICAgICAgICdSYWRlb24nLA0KICAgICAgICAgICAgJ1JhZGVvbiBQcm8nLA0KICAgICAgICAgICAgJ1JhZGVvbiBQcm8gVmVnYScsDQogICAgICAgICAgICAnU2Ftc3VuZycsDQogICAgICAgICAgICAnU1NFMicsDQogICAgICAgICAgICAnVk13YXJlJywNCiAgICAgICAgICAgICdWTXdhcmUgU1ZHQSAzRCcsDQogICAgICAgICAgICAnVmVnYScsDQogICAgICAgICAgICAnVmlydHVhbEJveCcsDQogICAgICAgICAgICAnVmlydHVhbEJveCBHcmFwaGljcyBBZGFwdGVyJywNCiAgICAgICAgICAgICdWdWxrYW4nLA0KICAgICAgICAgICAgJ1hlIEdyYXBoaWNzJywNCiAgICAgICAgICAgICdsbHZtcGlwZScsDQogICAgICAgIF07DQogICAgICAgIGNvbnN0IHBhcnRzID0gWy4uLmtub3duUGFydHNdLmZpbHRlcigobmFtZSkgPT4gKCcnICsgeCkuaW5jbHVkZXMobmFtZSkpOw0KICAgICAgICByZXR1cm4gWy4uLm5ldyBTZXQocGFydHMpXS5zb3J0KCkuam9pbignLCAnKTsNCiAgICB9Ow0KICAgIGNvbnN0IGdldFdlYkdMUmVuZGVyZXJDb25maWRlbmNlID0gKHgpID0+IHsNCiAgICAgICAgaWYgKCF4KSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgcGFydHMgPSBnZXRXZWJHTFJlbmRlcmVyUGFydHMoeCk7DQogICAgICAgIGNvbnN0IGhhc0tub3duUGFydHMgPSBwYXJ0cy5sZW5ndGg7DQogICAgICAgIGNvbnN0IGhhc0JsYW5rU3BhY2VOb2lzZSA9IC9cc3syLH18XlxzfFxzJC8udGVzdCh4KTsNCiAgICAgICAgY29uc3QgaGFzQnJva2VuQW5nbGVTdHJ1Y3R1cmUgPSAvXkFOR0xFLy50ZXN0KHgpICYmICEoL15BTkdMRSBcKCguKylcKS8uZXhlYyh4KSB8fCBbXSlbMV07DQogICAgICAgIC8vIGh0dHBzOi8vY2hyb21pdW0uZ29vZ2xlc291cmNlLmNvbS9hbmdsZS9hbmdsZS8rLzgzZmExODkwNWQ4ZmVkNGYzOTRlNGYzMDE0MGE4M2EzZTc2YjE1Nzcvc3JjL2dwdV9pbmZvX3V0aWwvU3lzdGVtSW5mby5jcHANCiAgICAgICAgLy8gaHR0cHM6Ly9jaHJvbWl1bS5nb29nbGVzb3VyY2UuY29tL2FuZ2xlL2FuZ2xlLysvODNmYTE4OTA1ZDhmZWQ0ZjM5NGU0ZjMwMTQwYTgzYTNlNzZiMTU3Ny9zcmMvZ3B1X2luZm9fdXRpbC9TeXN0ZW1JbmZvLmgNCiAgICAgICAgLy8gaHR0cHM6Ly9jaHJvbWl1bS5nb29nbGVzb3VyY2UuY29tL2Nocm9taXVtL3NyYy8rL3JlZnMvaGVhZHMvbWFpbi91aS9nbC9nbF92ZXJzaW9uX2luZm8uY2MNCiAgICAgICAgLyoNCiAgICAgICAgY29uc3Qga25vd25WZW5kb3JzID0gWw0KICAgICAgICAgICAgJ0FNRCcsDQogICAgICAgICAgICAnQVJNJywNCiAgICAgICAgICAgICdCcm9hZGNvbScsDQogICAgICAgICAgICAnR29vZ2xlJywNCiAgICAgICAgICAgICdJbWdUZWMnLA0KICAgICAgICAgICAgJ0ludGVsJywNCiAgICAgICAgICAgICdLYXphbicsDQogICAgICAgICAgICAnTlZJRElBJywNCiAgICAgICAgICAgICdRdWFsY29tbScsDQogICAgICAgICAgICAnVmVyaVNpbGljb24nLA0KICAgICAgICAgICAgJ1ZpdmFudGUnLA0KICAgICAgICAgICAgJ1ZNV2FyZScsDQogICAgICAgICAgICAnQXBwbGUnLA0KICAgICAgICAgICAgJ1Vua25vd24nDQogICAgICAgIF0NCiAgICAgICAgY29uc3QgYW5nbGUgPSB7DQogICAgICAgICAgICB2ZW5kb3JJZDogKC9eQU5HTEUgXCgoW14sXSspLC8uZXhlYyh4KXx8W10pWzFdIHx8IGtub3duVmVuZG9ycy5maW5kKHZlbmRvciA9PiB4LmluY2x1ZGVzKHZlbmRvcikpLA0KICAgICAgICAgICAgZGV2aWNlSWQ6ICgNCiAgICAgICAgICAgICAgICAoeC5tYXRjaCgvLC9nKXx8W10pLmxlbmd0aCA9PSAyID8gKC9eQU5HTEUgXCgoW14sXSspLCAoW14sXSspWyx8XCldLy5leGVjKHgpfHxbXSlbMl0gOg0KICAgICAgICAgICAgICAgICAgICAoL15BTkdMRSBcKChbXixdKyksIChbXixdKylbLHxcKV0vLmV4ZWMoeCl8fFtdKVsxXSB8fCAoL15BTkdMRSBcKCguKylcKSQvLmV4ZWMoeCl8fFtdKVsxXQ0KICAgICAgICAgICAgKS5yZXBsYWNlKC9cc0RpcmVjdDNELisvLCAnJykNCiAgICAgICAgfQ0KICAgICAgICAqLw0KICAgICAgICBjb25zdCBnaWJiZXJzID0gZ2liYmVyaXNoKHgsIHsgc3RyaWN0OiB0cnVlIH0pLmpvaW4oJywgJyk7DQogICAgICAgIGNvbnN0IHZhbGlkID0gKGhhc0tub3duUGFydHMgJiYgIWhhc0JsYW5rU3BhY2VOb2lzZSAmJiAhaGFzQnJva2VuQW5nbGVTdHJ1Y3R1cmUpOw0KICAgICAgICBjb25zdCBjb25maWRlbmNlID0gKHZhbGlkICYmICFnaWJiZXJzLmxlbmd0aCA/ICdoaWdoJyA6DQogICAgICAgICAgICB2YWxpZCAmJiBnaWJiZXJzLmxlbmd0aCA/ICdtb2RlcmF0ZScgOg0KICAgICAgICAgICAgICAgICdsb3cnKTsNCiAgICAgICAgY29uc3QgZ3JhZGUgPSAoY29uZmlkZW5jZSA9PSAnaGlnaCcgPyAnQScgOg0KICAgICAgICAgICAgY29uZmlkZW5jZSA9PSAnbW9kZXJhdGUnID8gJ0MnIDoNCiAgICAgICAgICAgICAgICAnRicpOw0KICAgICAgICBjb25zdCB3YXJuaW5ncyA9IG5ldyBTZXQoWw0KICAgICAgICAgICAgKGhhc0JsYW5rU3BhY2VOb2lzZSA/ICdmb3VuZCBleHRyYSBzcGFjZXMnIDogdW5kZWZpbmVkKSwNCiAgICAgICAgICAgIChoYXNCcm9rZW5BbmdsZVN0cnVjdHVyZSA/ICdicm9rZW4gYW5nbGUgc3RydWN0dXJlJyA6IHVuZGVmaW5lZCksDQogICAgICAgIF0pOw0KICAgICAgICB3YXJuaW5ncy5kZWxldGUodW5kZWZpbmVkKTsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHBhcnRzLA0KICAgICAgICAgICAgd2FybmluZ3M6IFsuLi53YXJuaW5nc10sDQogICAgICAgICAgICBnaWJiZXJzLA0KICAgICAgICAgICAgY29uZmlkZW5jZSwNCiAgICAgICAgICAgIGdyYWRlLA0KICAgICAgICB9Ow0KICAgIH07DQogICAgLy8gQ29sbGVjdCB0cmFzaCB2YWx1ZXMNCiAgICBjb25zdCBjcmVhdGVUcmFzaEJpbiA9ICgpID0+IHsNCiAgICAgICAgY29uc3QgYmluID0gW107DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBnZXRCaW46ICgpID0+IGJpbiwNCiAgICAgICAgICAgIHNlbmRUb1RyYXNoOiAobmFtZSwgdmFsLCByZXNwb25zZSA9IHVuZGVmaW5lZCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHByb3h5TGlrZSA9IHByb3h5QmVoYXZpb3IodmFsKTsNCiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9ICFwcm94eUxpa2UgPyB2YWwgOiAncHJveHkgYmVoYXZpb3IgZGV0ZWN0ZWQnOw0KICAgICAgICAgICAgICAgIGJpbi5wdXNoKHsgbmFtZSwgdmFsdWUgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgfTsNCiAgICB9Ow0KICAgIGNvbnN0IHRyYXNoQmluID0gY3JlYXRlVHJhc2hCaW4oKTsNCiAgICBjb25zdCB7IHNlbmRUb1RyYXNoIH0gPSB0cmFzaEJpbjsNCiAgICBjb25zdCBnZXRUcmFzaCA9ICgpID0+ICh7IHRyYXNoQmluOiB0cmFzaEJpbi5nZXRCaW4oKSB9KTsKCiAgICBmdW5jdGlvbiBpc0ZvbnRPU0JhZCh1c2VyQWdlbnRPUywgZm9udHMpIHsNCiAgICAgICAgaWYgKCF1c2VyQWdlbnRPUyB8fCAhZm9udHMgfHwgIWZvbnRzLmxlbmd0aCkNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgY29uc3QgZm9udE1hcCA9IGZvbnRzLnJlZHVjZSgoYWNjLCB4KSA9PiB7DQogICAgICAgICAgICBhY2NbeF0gPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIGFjYzsNCiAgICAgICAgfSwge30pOw0KICAgICAgICBjb25zdCBpc0xpa2VXaW5kb3dzID0gKCdDYW1icmlhIE1hdGgnIGluIGZvbnRNYXAgfHwNCiAgICAgICAgICAgICdOaXJtYWxhIFVJJyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnTGVlbGF3YWRlZSBVSScgaW4gZm9udE1hcCB8fA0KICAgICAgICAgICAgJ0hvbG9MZW5zIE1ETDIgQXNzZXRzJyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnU2Vnb2UgRmx1ZW50IEljb25zJyBpbiBmb250TWFwKTsNCiAgICAgICAgY29uc3QgaXNMaWtlQXBwbGUgPSAoJ0hlbHZldGljYSBOZXVlJyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnTHVtaW5hcmknIGluIGZvbnRNYXAgfHwNCiAgICAgICAgICAgICdQaW5nRmFuZyBISyBMaWdodCcgaW4gZm9udE1hcCB8fA0KICAgICAgICAgICAgJ0Z1dHVyYSBCb2xkJyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnSW5haU1hdGhpIEJvbGQnIGluIGZvbnRNYXAgfHwNCiAgICAgICAgICAgICdHYWx2amknIGluIGZvbnRNYXAgfHwNCiAgICAgICAgICAgICdDaGFrcmEgUGV0Y2gnIGluIGZvbnRNYXApOw0KICAgICAgICBjb25zdCBpc0xpa2VMaW51eCA9ICgnQXJpbW8nIGluIGZvbnRNYXAgfHwNCiAgICAgICAgICAgICdNT05PJyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnVWJ1bnR1JyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnTm90byBDb2xvciBFbW9qaScgaW4gZm9udE1hcCB8fA0KICAgICAgICAgICAgJ0RhbmNpbmcgU2NyaXB0JyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnRHJvaWQgU2FucyBNb25vJyBpbiBmb250TWFwIHx8DQogICAgICAgICAgICAnUm9ib3RvJyBpbiBmb250TWFwKTsNCiAgICAgICAgaWYgKGlzTGlrZVdpbmRvd3MgJiYgdXNlckFnZW50T1MgIT0gIldpbmRvd3MiIC8qIFBsYXRmb3JtQ2xhc3NpZmllci5XSU5ET1dTICovKSB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmIChpc0xpa2VBcHBsZSAmJiB1c2VyQWdlbnRPUyAhPSAiQXBwbGUiIC8qIFBsYXRmb3JtQ2xhc3NpZmllci5BUFBMRSAqLykgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZiAoaXNMaWtlTGludXggJiYgdXNlckFnZW50T1MgIT0gIkxpbnV4IiAvKiBQbGF0Zm9ybUNsYXNzaWZpZXIuTElOVVggKi8pIHsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQogICAgLy8gaW5zcGlyZWQgYnkgTGFsaXQgUGF0ZWwncyBmb250ZGV0ZWN0LmpzDQogICAgLy8gaHR0cHM6Ly93d3cubGFsaXQub3JnL3dvcmRwcmVzcy93cC1jb250ZW50L3VwbG9hZHMvMjAwOC8wNS9mb250ZGV0ZWN0LmpzP3Zlcj0wLjMNCiAgICBjb25zdCBXaW5kb3dzRm9udHMgPSB7DQogICAgICAgIC8vIGh0dHBzOi8vZG9jcy5taWNyb3NvZnQuY29tL2VuLXVzL3R5cG9ncmFwaHkvZm9udHMvd2luZG93c18xMV9mb250X2xpc3QNCiAgICAgICAgJzcnOiBbDQogICAgICAgICAgICAnQ2FtYnJpYSBNYXRoJywNCiAgICAgICAgICAgICdMdWNpZGEgQ29uc29sZScsDQogICAgICAgIF0sDQogICAgICAgICc4JzogWw0KICAgICAgICAgICAgJ0FsZGhhYmknLA0KICAgICAgICAgICAgJ0dhZHVnaScsDQogICAgICAgICAgICAnTXlhbm1hciBUZXh0JywNCiAgICAgICAgICAgICdOaXJtYWxhIFVJJywNCiAgICAgICAgXSwNCiAgICAgICAgJzguMSc6IFsNCiAgICAgICAgICAgICdMZWVsYXdhZGVlIFVJJywNCiAgICAgICAgICAgICdKYXZhbmVzZSBUZXh0JywNCiAgICAgICAgICAgICdTZWdvZSBVSSBFbW9qaScsDQogICAgICAgIF0sDQogICAgICAgICcxMCc6IFsNCiAgICAgICAgICAgICdIb2xvTGVucyBNREwyIEFzc2V0cycsDQogICAgICAgICAgICAnU2Vnb2UgTURMMiBBc3NldHMnLA0KICAgICAgICAgICAgJ0JhaG5zY2hyaWZ0JywNCiAgICAgICAgICAgICdJbmsgRnJlZScsIC8vIDEwICh2MTgwMykgKy0NCiAgICAgICAgXSwNCiAgICAgICAgJzExJzogWydTZWdvZSBGbHVlbnQgSWNvbnMnXSwNCiAgICB9Ow0KICAgIGNvbnN0IE1hY09TRm9udHMgPSB7DQogICAgICAgIC8vIE1hdmVyaWNrcyBhbmQgYmVsb3cNCiAgICAgICAgJzEwLjknOiBbDQogICAgICAgICAgICAnSGVsdmV0aWNhIE5ldWUnLA0KICAgICAgICAgICAgJ0dlbmV2YScsIC8vIG1hYyAobm90IGlPUykNCiAgICAgICAgXSwNCiAgICAgICAgLy8gWW9zZW1pdGUNCiAgICAgICAgJzEwLjEwJzogWw0KICAgICAgICAgICAgJ0tvaGlub29yIERldmFuYWdhcmkgTWVkaXVtJywNCiAgICAgICAgICAgICdMdW1pbmFyaScsDQogICAgICAgIF0sDQogICAgICAgIC8vIEVsIENhcGl0YW4NCiAgICAgICAgJzEwLjExJzogWw0KICAgICAgICAgICAgJ1BpbmdGYW5nIEhLIExpZ2h0JywNCiAgICAgICAgXSwNCiAgICAgICAgLy8gU2llcnJhOiBodHRwczovL3N1cHBvcnQuYXBwbGUuY29tL2VuLWllL0hUMjA2ODcyDQogICAgICAgICcxMC4xMic6IFsNCiAgICAgICAgICAgICdBbWVyaWNhbiBUeXBld3JpdGVyIFNlbWlib2xkJywNCiAgICAgICAgICAgICdGdXR1cmEgQm9sZCcsDQogICAgICAgICAgICAnU2lnblBhaW50ZXItSG91c2VTY3JpcHQgU2VtaWJvbGQnLA0KICAgICAgICBdLA0KICAgICAgICAvLyBIaWdoIFNpZXJyYTogaHR0cHM6Ly9zdXBwb3J0LmFwcGxlLmNvbS9lbi1tZS9IVDIwNzk2Mg0KICAgICAgICAvLyBNb2phdmU6IGh0dHBzOi8vc3VwcG9ydC5hcHBsZS5jb20vZW4tdXMvSFQyMDg5NjgNCiAgICAgICAgJzEwLjEzLTEwLjE0JzogWw0KICAgICAgICAgICAgJ0luYWlNYXRoaSBCb2xkJywNCiAgICAgICAgXSwNCiAgICAgICAgLy8gQ2F0YWxpbmE6IGh0dHBzOi8vc3VwcG9ydC5hcHBsZS5jb20vZW4tdXMvSFQyMTAxOTINCiAgICAgICAgLy8gQmlnIFN1cjogaHR0cHM6Ly9zdXBwb3J0LmFwcGxlLmNvbS9lbi1zZy9IVDIxMTI0MA0KICAgICAgICAnMTAuMTUtMTEnOiBbDQogICAgICAgICAgICAnR2FsdmppJywNCiAgICAgICAgICAgICdNdWt0YU1haGVlIFJlZ3VsYXInLA0KICAgICAgICBdLA0KICAgICAgICAvLyBNb250ZXJleTogaHR0cHM6Ly9zdXBwb3J0LmFwcGxlLmNvbS9lbi11cy9IVDIxMjU4Nw0KICAgICAgICAnMTInOiBbDQogICAgICAgICAgICAnQmFpIEphbWp1cmVlJywNCiAgICAgICAgICAgICdDaGFrcmEgUGV0Y2gnLA0KICAgICAgICAgICAgJ0NoYXJtb25tYW4nLA0KICAgICAgICAgICAgJ0tvZGNoYXNhbicsDQogICAgICAgIF0sDQogICAgfTsNCiAgICBjb25zdCBEZXNrdG9wQXBwRm9udHMgPSB7DQogICAgICAgIC8vIGRvY3MubWljcm9zb2Z0LmNvbS9lbi11cy90eXBvZ3JhcGh5L2ZvbnQtbGlzdC9tcy1vdXRsb29rDQogICAgICAgICdNaWNyb3NvZnQgT3V0bG9vayc6IFsnTVMgT3V0bG9vayddLA0KICAgICAgICAvLyBodHRwczovL2NvbW11bml0eS5hZG9iZS5jb20vdDUvcG9zdHNjcmlwdC1kaXNjdXNzaW9ucy96d2Fkb2JlZi1mb250L20tcC8zNzMwNDI3I003ODUNCiAgICAgICAgJ0Fkb2JlIEFjcm9iYXQnOiBbJ1pXQWRvYmVGJ10sDQogICAgICAgIC8vIGh0dHBzOi8vd2lraS5kb2N1bWVudGZvdW5kYXRpb24ub3JnL0ZvbnRzDQogICAgICAgICdMaWJyZU9mZmljZSc6IFsNCiAgICAgICAgICAgICdBbWlyaScsDQogICAgICAgICAgICAnS0FDU1RPZmZpY2UnLA0KICAgICAgICAgICAgJ0xpYmVyYXRpb24gTW9ubycsDQogICAgICAgICAgICAnU291cmNlIENvZGUgUHJvJywNCiAgICAgICAgXSwNCiAgICAgICAgLy8gaHR0cHM6Ly9zdXBlcnVzZXIuY29tL2EvNjExODA0DQogICAgICAgICdPcGVuT2ZmaWNlJzogWw0KICAgICAgICAgICAgJ0RlamFWdSBTYW5zJywNCiAgICAgICAgICAgICdHZW50aXVtIEJvb2sgQmFzaWMnLA0KICAgICAgICAgICAgJ09wZW5TeW1ib2wnLA0KICAgICAgICBdLA0KICAgIH07DQogICAgY29uc3QgQVBQTEVfRk9OVFMgPSBPYmplY3Qua2V5cyhNYWNPU0ZvbnRzKS5tYXAoKGtleSkgPT4gTWFjT1NGb250c1trZXldKS5mbGF0KCk7DQogICAgY29uc3QgV0lORE9XU19GT05UUyA9IE9iamVjdC5rZXlzKFdpbmRvd3NGb250cykubWFwKChrZXkpID0+IFdpbmRvd3NGb250c1trZXldKS5mbGF0KCk7DQogICAgY29uc3QgREVTS1RPUF9BUFBfRk9OVFMgPSAoT2JqZWN0LmtleXMoRGVza3RvcEFwcEZvbnRzKS5tYXAoKGtleSkgPT4gRGVza3RvcEFwcEZvbnRzW2tleV0pLmZsYXQoKSk7DQogICAgY29uc3QgTElOVVhfRk9OVFMgPSBbDQogICAgICAgICdBcmltbycsDQogICAgICAgICdDaGlsYW5rYScsDQogICAgICAgICdDb3VzaW5lJywNCiAgICAgICAgJ0pvbW9saGFyaScsDQogICAgICAgICdNT05PJywNCiAgICAgICAgJ05vdG8gQ29sb3IgRW1vamknLA0KICAgICAgICAnVWJ1bnR1JywgLy8gdWJ1bnR1IChub3QgVEIpDQogICAgXTsNCiAgICBjb25zdCBBTkRST0lEX0ZPTlRTID0gWw0KICAgICAgICAnRGFuY2luZyBTY3JpcHQnLA0KICAgICAgICAnRHJvaWQgU2FucyBNb25vJywNCiAgICAgICAgJ1JvYm90bycsIC8vIEFuZHJvaWQsIENocm9tZSBPUw0KICAgIF07DQogICAgY29uc3QgRk9OVF9MSVNUID0gWw0KICAgICAgICAuLi5BUFBMRV9GT05UUywNCiAgICAgICAgLi4uV0lORE9XU19GT05UUywNCiAgICAgICAgLi4uTElOVVhfRk9OVFMsDQogICAgICAgIC4uLkFORFJPSURfRk9OVFMsDQogICAgICAgIC4uLkRFU0tUT1BfQVBQX0ZPTlRTLA0KICAgIF0uc29ydCgpOw0KICAgIGFzeW5jIGZ1bmN0aW9uIGdldEZvbnRzKCkgew0KICAgICAgICBjb25zdCBnZXRQaXhlbEVtb2ppcyA9ICh7IGRvYywgaWQsIGVtb2ppcyB9KSA9PiB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHBhdGNoKGRvYy5nZXRFbGVtZW50QnlJZChpZCksIGh0bWwgYA0KCQkJCTxkaXYgaWQ9InBpeGVsLWVtb2ppLWNvbnRhaW5lciI+DQoJCQkJPHN0eWxlPg0KCQkJCQkucGl4ZWwtZW1vamkgew0KCQkJCQkJZm9udC1mYW1pbHk6ICR7Q1NTX0ZPTlRfRkFNSUxZfTsNCgkJCQkJCWZvbnQtc2l6ZTogMjAwcHggIWltcG9ydGFudDsNCgkJCQkJCWhlaWdodDogYXV0bzsNCgkJCQkJCXBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50Ow0KCQkJCQkJdHJhbnNmb3JtOiBzY2FsZSgxLjAwMDk5OSk7DQoJCQkJCX0NCgkJCQkJPC9zdHlsZT4NCgkJCQkJJHtlbW9qaXMubWFwKChlbW9qaSkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz0icGl4ZWwtZW1vamkiPiR7ZW1vaml9PC9kaXY+YDsNCiAgICAgICAgICAgIH0pLmpvaW4oJycpfQ0KCQkJCTwvZGl2Pg0KCQkJYCk7DQogICAgICAgICAgICAgICAgLy8gZ2V0IGVtb2ppIHNldCBhbmQgc3lzdGVtDQogICAgICAgICAgICAgICAgY29uc3QgZ2V0RW1vamlEaW1lbnNpb25zID0gKHN0eWxlKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogc3R5bGUuaW5saW5lU2l6ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogc3R5bGUuYmxvY2tTaXplLA0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IG5ldyBTZXQoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBlbW9qaUVsZW1zID0gWy4uLmRvYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwaXhlbC1lbW9qaScpXTsNCiAgICAgICAgICAgICAgICBjb25zdCBlbW9qaVNldCA9IGVtb2ppRWxlbXMucmVkdWNlKChlbW9qaVNldCwgZWwsIGkpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1vamkgPSBlbW9qaXNbaV07DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgaGVpZ2h0LCB3aWR0aCB9ID0gZ2V0RW1vamlEaW1lbnNpb25zKHN0eWxlKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IGAke3dpZHRofSwke2hlaWdodH1gOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIXBhdHRlcm4uaGFzKGRpbWVuc2lvbnMpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLmFkZChkaW1lbnNpb25zKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVtb2ppU2V0LmFkZChlbW9qaSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtb2ppU2V0Ow0KICAgICAgICAgICAgICAgIH0sIG5ldyBTZXQoKSk7DQogICAgICAgICAgICAgICAgY29uc3QgcGl4ZWxUb051bWJlciA9IChwaXhlbHMpID0+ICsocGl4ZWxzLnJlcGxhY2UoJ3B4JywgJycpKTsNCiAgICAgICAgICAgICAgICBjb25zdCBwaXhlbFNpemVTeXN0ZW1TdW0gPSAwLjAwMDAxICogWy4uLnBhdHRlcm5dLm1hcCgoeCkgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4geC5zcGxpdCgnLCcpLm1hcCgoeCkgPT4gcGl4ZWxUb051bWJlcih4KSkucmVkdWNlKChhY2MsIHgpID0+IGFjYyArPSAoK3ggfHwgMCksIDApOw0KICAgICAgICAgICAgICAgIH0pLnJlZHVjZSgoYWNjLCB4KSA9PiBhY2MgKz0geCwgMCk7DQogICAgICAgICAgICAgICAgZG9jLmJvZHkucmVtb3ZlQ2hpbGQoZG9jLmdldEVsZW1lbnRCeUlkKCdwaXhlbC1lbW9qaS1jb250YWluZXInKSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgZW1vamlTZXQ6IFsuLi5lbW9qaVNldF0sDQogICAgICAgICAgICAgICAgICAgIHBpeGVsU2l6ZVN5c3RlbVN1bSwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgZW1vamlTZXQ6IFtdLA0KICAgICAgICAgICAgICAgICAgICBwaXhlbFNpemVTeXN0ZW1TdW06IDAsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2V0Rm9udEZhY2VMb2FkRm9udHMgPSBhc3luYyAoZm9udExpc3QpID0+IHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgbGV0IGZvbnRzQ2hlY2tlZCA9IFtdOw0KICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuZm9udHMuY2hlY2soYDBweCAiJHtnZXRSYW5kb21WYWx1ZXMoKX0iYCkpIHsNCiAgICAgICAgICAgICAgICAgICAgZm9udHNDaGVja2VkID0gZm9udExpc3QucmVkdWNlKChhY2MsIGZvbnQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gZG9jdW1lbnQuZm9udHMuY2hlY2soYDBweCAiJHtmb250fSJgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2MucHVzaChmb250KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICAgICAgICAgIH0sIFtdKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29uc3QgZm9udEZhY2VMaXN0ID0gZm9udExpc3QubWFwKChmb250KSA9PiBuZXcgRm9udEZhY2UoZm9udCwgYGxvY2FsKCIke2ZvbnR9IilgKSk7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VDb2xsZWN0aW9uID0gYXdhaXQgUHJvbWlzZQ0KICAgICAgICAgICAgICAgICAgICAuYWxsU2V0dGxlZChmb250RmFjZUxpc3QubWFwKChmb250KSA9PiBmb250LmxvYWQoKSkpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGZvbnRzTG9hZGVkID0gcmVzcG9uc2VDb2xsZWN0aW9uLnJlZHVjZSgoYWNjLCBmb250KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChmb250LnN0YXR1cyA9PSAnZnVsZmlsbGVkJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgYWNjLnB1c2goZm9udC52YWx1ZS5mYW1pbHkpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICAgICAgfSwgW10pOw0KICAgICAgICAgICAgICAgIHJldHVybiBbLi4ubmV3IFNldChbLi4uZm9udHNDaGVja2VkLCAuLi5mb250c0xvYWRlZF0pXS5zb3J0KCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gW107DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGdldFBsYXRmb3JtVmVyc2lvbiA9IChmb250cykgPT4gew0KICAgICAgICAgICAgY29uc3QgZ2V0V2luZG93cyA9ICh7IGZvbnRzLCBmb250TWFwIH0pID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBmb250VmVyc2lvbiA9IHsNCiAgICAgICAgICAgICAgICAgICAgWycxMSddOiBmb250TWFwWycxMSddLmZpbmQoKHgpID0+IGZvbnRzLmluY2x1ZGVzKHgpKSwNCiAgICAgICAgICAgICAgICAgICAgWycxMCddOiBmb250TWFwWycxMCddLmZpbmQoKHgpID0+IGZvbnRzLmluY2x1ZGVzKHgpKSwNCiAgICAgICAgICAgICAgICAgICAgWyc4LjEnXTogZm9udE1hcFsnOC4xJ10uZmluZCgoeCkgPT4gZm9udHMuaW5jbHVkZXMoeCkpLA0KICAgICAgICAgICAgICAgICAgICBbJzgnXTogZm9udE1hcFsnOCddLmZpbmQoKHgpID0+IGZvbnRzLmluY2x1ZGVzKHgpKSwNCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSBjb21wbGV0ZSBzZXQgb2YgV2luZG93cyA3IGZvbnRzDQogICAgICAgICAgICAgICAgICAgIFsnNyddOiBmb250TWFwWyc3J10uZmlsdGVyKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSkubGVuZ3RoID09IGZvbnRNYXBbJzcnXS5sZW5ndGgsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBjb25zdCBoYXNoID0gKCcnICsgT2JqZWN0LmtleXMoZm9udFZlcnNpb24pLnNvcnQoKS5maWx0ZXIoKGtleSkgPT4gISFmb250VmVyc2lvbltrZXldKSk7DQogICAgICAgICAgICAgICAgY29uc3QgaGFzaE1hcCA9IHsNCiAgICAgICAgICAgICAgICAgICAgJzEwLDExLDcsOCw4LjEnOiAnMTEnLA0KICAgICAgICAgICAgICAgICAgICAnMTAsNyw4LDguMSc6ICcxMCcsDQogICAgICAgICAgICAgICAgICAgICc3LDgsOC4xJzogJzguMScsDQogICAgICAgICAgICAgICAgICAgICcxMSw3LDgsOC4xJzogJzguMScsDQogICAgICAgICAgICAgICAgICAgICc3LDgnOiAnOCcsDQogICAgICAgICAgICAgICAgICAgICcxMCw3LDgnOiAnOCcsDQogICAgICAgICAgICAgICAgICAgICcxMCwxMSw3LDgnOiAnOCcsDQogICAgICAgICAgICAgICAgICAgICc3JzogJzcnLA0KICAgICAgICAgICAgICAgICAgICAnNyw4LjEnOiAnNycsDQogICAgICAgICAgICAgICAgICAgICcxMCw3LDguMSc6ICc3JywNCiAgICAgICAgICAgICAgICAgICAgJzEwLDExLDcsOC4xJzogJzcnLCAvLyBtaXNzaW5nIDgNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSBoYXNoTWFwW2hhc2hdOw0KICAgICAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uID8gYFdpbmRvd3MgJHt2ZXJzaW9ufWAgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgZ2V0TWFjT1MgPSAoeyBmb250cywgZm9udE1hcCB9KSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgZm9udFZlcnNpb24gPSB7DQogICAgICAgICAgICAgICAgICAgIFsnMTInXTogZm9udE1hcFsnMTInXS5maW5kKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSksDQogICAgICAgICAgICAgICAgICAgIFsnMTAuMTUtMTEnXTogZm9udE1hcFsnMTAuMTUtMTEnXS5maW5kKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSksDQogICAgICAgICAgICAgICAgICAgIFsnMTAuMTMtMTAuMTQnXTogZm9udE1hcFsnMTAuMTMtMTAuMTQnXS5maW5kKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSksDQogICAgICAgICAgICAgICAgICAgIFsnMTAuMTInXTogZm9udE1hcFsnMTAuMTInXS5maW5kKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSksDQogICAgICAgICAgICAgICAgICAgIFsnMTAuMTEnXTogZm9udE1hcFsnMTAuMTEnXS5maW5kKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSksDQogICAgICAgICAgICAgICAgICAgIFsnMTAuMTAnXTogZm9udE1hcFsnMTAuMTAnXS5maW5kKCh4KSA9PiBmb250cy5pbmNsdWRlcyh4KSksDQogICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmUgY29tcGxldGUgc2V0IG9mIDEwLjkgZm9udHMNCiAgICAgICAgICAgICAgICAgICAgWycxMC45J106IGZvbnRNYXBbJzEwLjknXS5maWx0ZXIoKHgpID0+IGZvbnRzLmluY2x1ZGVzKHgpKS5sZW5ndGggPT0gZm9udE1hcFsnMTAuOSddLmxlbmd0aCwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGNvbnN0IGhhc2ggPSAoJycgKyBPYmplY3Qua2V5cyhmb250VmVyc2lvbikuc29ydCgpLmZpbHRlcigoa2V5KSA9PiAhIWZvbnRWZXJzaW9uW2tleV0pKTsNCiAgICAgICAgICAgICAgICBjb25zdCBoYXNoTWFwID0gew0KICAgICAgICAgICAgICAgICAgICAnMTAuMTAsMTAuMTEsMTAuMTIsMTAuMTMtMTAuMTQsMTAuMTUtMTEsMTAuOSwxMic6ICdNb250ZXJleScsDQogICAgICAgICAgICAgICAgICAgICcxMC4xMCwxMC4xMSwxMC4xMiwxMC4xMy0xMC4xNCwxMC4xNS0xMSwxMC45JzogJzEwLjE1LTExJywNCiAgICAgICAgICAgICAgICAgICAgJzEwLjEwLDEwLjExLDEwLjEyLDEwLjEzLTEwLjE0LDEwLjknOiAnMTAuMTMtMTAuMTQnLA0KICAgICAgICAgICAgICAgICAgICAnMTAuMTAsMTAuMTEsMTAuMTIsMTAuOSc6ICdTaWVycmEnLA0KICAgICAgICAgICAgICAgICAgICAnMTAuMTAsMTAuMTEsMTAuOSc6ICdFbCBDYXBpdGFuJywNCiAgICAgICAgICAgICAgICAgICAgJzEwLjEwLDEwLjknOiAnWW9zZW1pdGUnLA0KICAgICAgICAgICAgICAgICAgICAnMTAuOSc6ICdNYXZlcmlja3MnLCAvLyAxMC45DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gaGFzaE1hcFtoYXNoXTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvbiA/IGBtYWNPUyAke3ZlcnNpb259YCA6IHVuZGVmaW5lZDsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICByZXR1cm4gKGdldFdpbmRvd3MoeyBmb250cywgZm9udE1hcDogV2luZG93c0ZvbnRzIH0pIHx8DQogICAgICAgICAgICAgICAgZ2V0TWFjT1MoeyBmb250cywgZm9udE1hcDogTWFjT1NGb250cyB9KSk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGdldERlc2t0b3BBcHBzID0gKGZvbnRzKSA9PiB7DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBhcHBzID0gT2JqZWN0LmtleXMoRGVza3RvcEFwcEZvbnRzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgYXBwRm9udFNldCA9IERlc2t0b3BBcHBGb250c1trZXldOw0KICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gYXBwRm9udFNldC5maWx0ZXIoKHgpID0+IGZvbnRzLmluY2x1ZGVzKHgpKS5sZW5ndGggPT0gYXBwRm9udFNldC5sZW5ndGg7DQogICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoID8gWy4uLmFjYywga2V5XSA6IGFjYzsNCiAgICAgICAgICAgIH0sIFtdKTsNCiAgICAgICAgICAgIHJldHVybiBhcHBzOw0KICAgICAgICB9Ow0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpOw0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICBjb25zdCBkb2MgPSAoUEhBTlRPTV9EQVJLTkVTUyAmJg0KICAgICAgICAgICAgICAgIFBIQU5UT01fREFSS05FU1MuZG9jdW1lbnQgJiYNCiAgICAgICAgICAgICAgICBQSEFOVE9NX0RBUktORVNTLmRvY3VtZW50LmJvZHkgPyBQSEFOVE9NX0RBUktORVNTLmRvY3VtZW50IDoNCiAgICAgICAgICAgICAgICBkb2N1bWVudCk7DQogICAgICAgICAgICBjb25zdCBpZCA9IGBmb250LWZpbmdlcnByaW50YDsNCiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgaWQpOw0KICAgICAgICAgICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTsNCiAgICAgICAgICAgIGNvbnN0IHsgZW1vamlTZXQsIHBpeGVsU2l6ZVN5c3RlbVN1bSwgfSA9IGdldFBpeGVsRW1vamlzKHsNCiAgICAgICAgICAgICAgICBkb2MsDQogICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgZW1vamlzOiBFTU9KSVMsDQogICAgICAgICAgICB9KSB8fCB7fTsNCiAgICAgICAgICAgIGNvbnN0IGZvbnRMaXN0ID0gRk9OVF9MSVNUOw0KICAgICAgICAgICAgY29uc3QgZm9udEZhY2VMb2FkRm9udHMgPSBhd2FpdCBnZXRGb250RmFjZUxvYWRGb250cyhmb250TGlzdCk7DQogICAgICAgICAgICBjb25zdCBwbGF0Zm9ybVZlcnNpb24gPSBnZXRQbGF0Zm9ybVZlcnNpb24oZm9udEZhY2VMb2FkRm9udHMpOw0KICAgICAgICAgICAgY29uc3QgYXBwcyA9IGdldERlc2t0b3BBcHBzKGZvbnRGYWNlTG9hZEZvbnRzKTsNCiAgICAgICAgICAgIC8vIGRldGVjdCBsaWVzDQogICAgICAgICAgICBjb25zdCBsaWVkID0gKGxpZVByb3BzWydGb250RmFjZS5sb2FkJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snRm9udEZhY2UuZmFtaWx5J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snRm9udEZhY2Uuc3RhdHVzJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snU3RyaW5nLmZyb21Db2RlUG9pbnQnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydDU1NTdHlsZURlY2xhcmF0aW9uLnNldFByb3BlcnR5J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snQ1NTMlByb3BlcnRpZXMuc2V0UHJvcGVydHknXSk7DQogICAgICAgICAgICBpZiAoaXNGb250T1NCYWQoVVNFUl9BR0VOVF9PUywgZm9udEZhY2VMb2FkRm9udHMpKSB7DQogICAgICAgICAgICAgICAgTG93ZXJFbnRyb3B5LkZPTlRTID0gdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgQW5hbHlzaXMuRm9udE9zSXNCYWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKCdwbGF0Zm9ybScsIGAke1VTRVJfQUdFTlRfT1N9IHN5c3RlbSBhbmQgZm9udHMgYXJlIHN1c3BpY2lvdXNgKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdmb250cycsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgZm9udEZhY2VMb2FkRm9udHMsDQogICAgICAgICAgICAgICAgcGxhdGZvcm1WZXJzaW9uLA0KICAgICAgICAgICAgICAgIGFwcHMsDQogICAgICAgICAgICAgICAgZW1vamlTZXQsDQogICAgICAgICAgICAgICAgcGl4ZWxTaXplU3lzdGVtU3VtLA0KICAgICAgICAgICAgICAgIGxpZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdmb250cycsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIGxldCBXT1JLRVJfVFlQRSA9ICcnOw0KICAgIGxldCBXT1JLRVJfTkFNRSA9ICcnOw0KICAgIGFzeW5jIGZ1bmN0aW9uIHNwYXduV29ya2VyKCkgew0KICAgICAgICBjb25zdCBhc2sgPSAoZm4pID0+IHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZuKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgZnVuY3Rpb24gZ2V0V29ya2VyUHJvdG90eXBlTGllcyhzY29wZSkgew0KICAgICAgICAgICAgY29uc3QgbGllRGV0ZWN0b3IgPSBjcmVhdGVMaWVEZXRlY3RvcihzY29wZSk7DQogICAgICAgICAgICBjb25zdCB7IHNlYXJjaExpZXMsIH0gPSBsaWVEZXRlY3RvcjsNCiAgICAgICAgICAgIHNlYXJjaExpZXMoKCkgPT4gRnVuY3Rpb24sIHsNCiAgICAgICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAgICAgJ3RvU3RyaW5nJywNCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIGlnbm9yZTogWw0KICAgICAgICAgICAgICAgICAgICAnY2FsbGVyJywNCiAgICAgICAgICAgICAgICAgICAgJ2FyZ3VtZW50cycsDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcg0KICAgICAgICAgICAgc2VhcmNoTGllcygoKSA9PiBXb3JrZXJOYXZpZ2F0b3IsIHsNCiAgICAgICAgICAgICAgICB0YXJnZXQ6IFsNCiAgICAgICAgICAgICAgICAgICAgJ2RldmljZU1lbW9yeScsDQogICAgICAgICAgICAgICAgICAgICdoYXJkd2FyZUNvbmN1cnJlbmN5JywNCiAgICAgICAgICAgICAgICAgICAgJ2xhbmd1YWdlJywNCiAgICAgICAgICAgICAgICAgICAgJ2xhbmd1YWdlcycsDQogICAgICAgICAgICAgICAgICAgICdwbGF0Zm9ybScsDQogICAgICAgICAgICAgICAgICAgICd1c2VyQWdlbnQnLA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIC8vIHJldHVybiBsaWVzIGxpc3QgYW5kIGRldGFpbA0KICAgICAgICAgICAgY29uc3QgcHJvcHMgPSBsaWVEZXRlY3Rvci5nZXRQcm9wcygpOw0KICAgICAgICAgICAgY29uc3QgcHJvcHNTZWFyY2hlZCA9IGxpZURldGVjdG9yLmdldFByb3BzU2VhcmNoZWQoKTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgbGllRGV0ZWN0b3IsDQogICAgICAgICAgICAgICAgbGllTGlzdDogT2JqZWN0LmtleXMocHJvcHMpLnNvcnQoKSwNCiAgICAgICAgICAgICAgICBsaWVEZXRhaWw6IHByb3BzLA0KICAgICAgICAgICAgICAgIGxpZUNvdW50OiBPYmplY3Qua2V5cyhwcm9wcykucmVkdWNlKChhY2MsIGtleSkgPT4gYWNjICsgcHJvcHNba2V5XS5sZW5ndGgsIDApLA0KICAgICAgICAgICAgICAgIHByb3BzU2VhcmNoZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGNvbnN0IGdldFVzZXJBZ2VudERhdGEgPSBhc3luYyAobmF2aWdhdG9yKSA9PiB7DQogICAgICAgICAgICBpZiAoISgndXNlckFnZW50RGF0YScgaW4gbmF2aWdhdG9yKSkgew0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBuYXZpZ2F0b3IudXNlckFnZW50RGF0YS5nZXRIaWdoRW50cm9weVZhbHVlcyhbJ3BsYXRmb3JtJywgJ3BsYXRmb3JtVmVyc2lvbicsICdhcmNoaXRlY3R1cmUnLCAnYml0bmVzcycsICdtb2RlbCcsICd1YUZ1bGxWZXJzaW9uJ10pOw0KICAgICAgICAgICAgY29uc3QgeyBicmFuZHMsIG1vYmlsZSB9ID0gbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEgfHwge307DQogICAgICAgICAgICBjb25zdCBjb21wcmVzc2VkQnJhbmRzID0gKGJyYW5kcywgY2FwdHVyZVZlcnNpb24gPSBmYWxzZSkgPT4gYnJhbmRzDQogICAgICAgICAgICAgICAgLmZpbHRlcigob2JqKSA9PiAhL05vdC8udGVzdChvYmouYnJhbmQpKS5tYXAoKG9iaikgPT4gYCR7b2JqLmJyYW5kfSR7Y2FwdHVyZVZlcnNpb24gPyBgICR7b2JqLnZlcnNpb259YCA6ICcnfWApOw0KICAgICAgICAgICAgY29uc3QgcmVtb3ZlQ2hyb21pdW0gPSAoYnJhbmRzKSA9PiAoYnJhbmRzLmxlbmd0aCA+IDEgPyBicmFuZHMuZmlsdGVyKChicmFuZCkgPT4gIS9DaHJvbWl1bS8udGVzdChicmFuZCkpIDogYnJhbmRzKTsNCiAgICAgICAgICAgIC8vIGNvbXByZXNzIGJyYW5kcw0KICAgICAgICAgICAgaWYgKCFkYXRhLmJyYW5kcykgew0KICAgICAgICAgICAgICAgIGRhdGEuYnJhbmRzID0gYnJhbmRzOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZGF0YS5icmFuZHNWZXJzaW9uID0gY29tcHJlc3NlZEJyYW5kcyhkYXRhLmJyYW5kcywgdHJ1ZSk7DQogICAgICAgICAgICBkYXRhLmJyYW5kcyA9IGNvbXByZXNzZWRCcmFuZHMoZGF0YS5icmFuZHMpOw0KICAgICAgICAgICAgZGF0YS5icmFuZHNWZXJzaW9uID0gcmVtb3ZlQ2hyb21pdW0oZGF0YS5icmFuZHNWZXJzaW9uKTsNCiAgICAgICAgICAgIGRhdGEuYnJhbmRzID0gcmVtb3ZlQ2hyb21pdW0oZGF0YS5icmFuZHMpOw0KICAgICAgICAgICAgaWYgKCFkYXRhLm1vYmlsZSkgew0KICAgICAgICAgICAgICAgIGRhdGEubW9iaWxlID0gbW9iaWxlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgZGF0YVNvcnRlZCA9IE9iamVjdC5rZXlzKGRhdGEpLnNvcnQoKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7DQogICAgICAgICAgICAgICAgYWNjW2tleV0gPSBkYXRhW2tleV07DQogICAgICAgICAgICAgICAgcmV0dXJuIGFjYzsNCiAgICAgICAgICAgIH0sIHt9KTsNCiAgICAgICAgICAgIHJldHVybiBkYXRhU29ydGVkOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBnZXRXZWJnbERhdGEgPSAoKSA9PiBhc2soKCkgPT4gew0KICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgY29uc3QgY2FudmFzT2Zmc2NyZWVuV2ViZ2wgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKDI1NiwgMjU2KTsNCiAgICAgICAgICAgIGNvbnN0IGNvbnRleHRXZWJnbCA9IGNhbnZhc09mZnNjcmVlbldlYmdsLmdldENvbnRleHQoJ3dlYmdsJyk7DQogICAgICAgICAgICBjb25zdCByZW5kZXJlckluZm8gPSBjb250ZXh0V2ViZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvJyk7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHdlYmdsVmVuZG9yOiBjb250ZXh0V2ViZ2wuZ2V0UGFyYW1ldGVyKHJlbmRlcmVySW5mby5VTk1BU0tFRF9WRU5ET1JfV0VCR0wpLA0KICAgICAgICAgICAgICAgIHdlYmdsUmVuZGVyZXI6IGNvbnRleHRXZWJnbC5nZXRQYXJhbWV0ZXIocmVuZGVyZXJJbmZvLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKSwNCiAgICAgICAgICAgIH07DQogICAgICAgIH0pOw0KICAgICAgICBjb25zdCBjb21wdXRlVGltZXpvbmVPZmZzZXQgPSAoKSA9PiB7DQogICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKS5nZXREYXRlKCk7DQogICAgICAgICAgICBjb25zdCBtb250aCA9IG5ldyBEYXRlKCkuZ2V0TW9udGgoKTsNCiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgIGNvbnN0IHllYXIgPSBEYXRlKCkuc3BsaXQgYCBgWzNdOyAvLyBjdXJyZW50IHllYXINCiAgICAgICAgICAgIGNvbnN0IGZvcm1hdCA9IChuKSA9PiAoJycgKyBuKS5sZW5ndGggPT0gMSA/IGAwJHtufWAgOiBuOw0KICAgICAgICAgICAgY29uc3QgZGF0ZVN0cmluZyA9IGAke21vbnRoICsgMX0vJHtmb3JtYXQoZGF0ZSl9LyR7eWVhcn1gOw0KICAgICAgICAgICAgY29uc3QgZGF0ZVN0cmluZ1VUQyA9IGAke3llYXJ9LSR7Zm9ybWF0KG1vbnRoICsgMSl9LSR7Zm9ybWF0KGRhdGUpfWA7DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCB1dGMgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKGRhdGVTdHJpbmcpKTsNCiAgICAgICAgICAgIGNvbnN0IG5vdyA9ICtuZXcgRGF0ZShkYXRlU3RyaW5nVVRDKTsNCiAgICAgICAgICAgIHJldHVybiArKCgodXRjIC0gbm93KSAvIDYwMDAwKS50b0ZpeGVkKDApKTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2V0TG9jYWxlID0gKCkgPT4gew0KICAgICAgICAgICAgY29uc3QgY29uc3RydWN0b3JzID0gWw0KICAgICAgICAgICAgICAgICdDb2xsYXRvcicsDQogICAgICAgICAgICAgICAgJ0RhdGVUaW1lRm9ybWF0JywNCiAgICAgICAgICAgICAgICAnRGlzcGxheU5hbWVzJywNCiAgICAgICAgICAgICAgICAnTGlzdEZvcm1hdCcsDQogICAgICAgICAgICAgICAgJ051bWJlckZvcm1hdCcsDQogICAgICAgICAgICAgICAgJ1BsdXJhbFJ1bGVzJywNCiAgICAgICAgICAgICAgICAnUmVsYXRpdmVUaW1lRm9ybWF0JywNCiAgICAgICAgICAgIF07DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBsb2NhbGUgPSBjb25zdHJ1Y3RvcnMucmVkdWNlKChhY2MsIG5hbWUpID0+IHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBuZXcgSW50bFtuYW1lXTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmopIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBsb2NhbGUgfSA9IG9iai5yZXNvbHZlZE9wdGlvbnMoKSB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIGxvY2FsZV07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sIFtdKTsNCiAgICAgICAgICAgIHJldHVybiBbLi4ubmV3IFNldChsb2NhbGUpXTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2V0V29ya2VyRGF0YSA9IGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgdXNlckFnZW50RGF0YSA9IGF3YWl0IGdldFVzZXJBZ2VudERhdGEobmF2aWdhdG9yKS5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTsNCiAgICAgICAgICAgIC8vIHdlYmdsDQogICAgICAgICAgICBjb25zdCB7IHdlYmdsVmVuZG9yLCB3ZWJnbFJlbmRlcmVyIH0gPSBnZXRXZWJnbERhdGEoKSB8fCB7fTsNCiAgICAgICAgICAgIC8vIHRpbWV6b25lICYgbG9jYWxlDQogICAgICAgICAgICBjb25zdCB0aW1lem9uZU9mZnNldCA9IGNvbXB1dGVUaW1lem9uZU9mZnNldCgpOw0KICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5ldy1jYXANCiAgICAgICAgICAgIGNvbnN0IHRpbWV6b25lTG9jYXRpb24gPSBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7DQogICAgICAgICAgICBjb25zdCBsb2NhbGUgPSBnZXRMb2NhbGUoKTsNCiAgICAgICAgICAgIC8vIG5hdmlnYXRvcg0KICAgICAgICAgICAgY29uc3QgeyBoYXJkd2FyZUNvbmN1cnJlbmN5LCBsYW5ndWFnZSwgbGFuZ3VhZ2VzLCBwbGF0Zm9ybSwgdXNlckFnZW50LCANCiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3INCiAgICAgICAgICAgIGRldmljZU1lbW9yeSwgfSA9IG5hdmlnYXRvciB8fCB7fTsNCiAgICAgICAgICAgIC8vIHByb3RvdHlwZSBsaWVzDQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IHsgDQogICAgICAgICAgICAvLyBsaWVEZXRlY3RvcjogbGllUHJvcHMsDQogICAgICAgICAgICBsaWVMaXN0LCBsaWVEZXRhaWwsDQogICAgICAgICAgICAvLyBsaWVDb3VudCwNCiAgICAgICAgICAgIC8vIHByb3BzU2VhcmNoZWQsDQogICAgICAgICAgICAgfSA9IGdldFdvcmtlclByb3RvdHlwZUxpZXMoc2VsZik7IC8vIGV4ZWN1dGUgYW5kIGRlc3RydWN0dXJlIHRoZSBsaXN0IGFuZCBkZXRhaWwNCiAgICAgICAgICAgIC8vIGNvbnN0IHByb3RvdHlwZUxpZXMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGxpZURldGFpbCkpDQogICAgICAgICAgICBjb25zdCBwcm90b0xpZUxlbiA9IGxpZUxpc3QubGVuZ3RoOw0KICAgICAgICAgICAgLy8gbWF0Y2ggZW5naW5lIGxvY2FsZSB0byBzeXN0ZW0gbG9jYWxlIHRvIGRldGVybWluZSBpZiBsb2NhbGUgZW50cm9weSBpcyB0cnVzdHkNCiAgICAgICAgICAgIGxldCBzeXN0ZW1DdXJyZW5jeUxvY2FsZTsNCiAgICAgICAgICAgIGNvbnN0IGxhbmcgPSAoJycgKyBsYW5ndWFnZSkuc3BsaXQoJywnKVswXTsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgc3lzdGVtQ3VycmVuY3lMb2NhbGUgPSAoMSkudG9Mb2NhbGVTdHJpbmcoKGxhbmcgfHwgdW5kZWZpbmVkKSwgew0KICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywNCiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICdVU0QnLA0KICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeURpc3BsYXk6ICduYW1lJywNCiAgICAgICAgICAgICAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwLA0KICAgICAgICAgICAgICAgICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDAsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZSkgeyB9DQogICAgICAgICAgICBjb25zdCBlbmdpbmVDdXJyZW5jeUxvY2FsZSA9ICgxKS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsIHsNCiAgICAgICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JywNCiAgICAgICAgICAgICAgICBjdXJyZW5jeTogJ1VTRCcsDQogICAgICAgICAgICAgICAgY3VycmVuY3lEaXNwbGF5OiAnbmFtZScsDQogICAgICAgICAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwLA0KICAgICAgICAgICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMCwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgY29uc3QgbG9jYWxlRW50cm9weUlzVHJ1c3R5ID0gZW5naW5lQ3VycmVuY3lMb2NhbGUgPT0gc3lzdGVtQ3VycmVuY3lMb2NhbGU7DQogICAgICAgICAgICBjb25zdCBsb2NhbGVJbnRsRW50cm9weUlzVHJ1c3R5ID0gbmV3IFNldCgoJycgKyBsYW5ndWFnZSkuc3BsaXQoJywnKSkuaGFzKCcnICsgbG9jYWxlKTsNCiAgICAgICAgICAgIGNvbnN0IHsgaHJlZiwgcGF0aG5hbWUgfSA9IHNlbGYubG9jYXRpb24gfHwge307DQogICAgICAgICAgICBjb25zdCBsb2NhdGlvblBhdGhOYW1lTGllID0gKCFocmVmIHx8DQogICAgICAgICAgICAgICAgIXBhdGhuYW1lIHx8DQogICAgICAgICAgICAgICAgIS9eXC8oZG9jc3xjcmVlcGpzfHB1YmxpYyl8XC9jcmVlcC5qcyQvLnRlc3QocGF0aG5hbWUpIHx8DQogICAgICAgICAgICAgICAgIW5ldyBSZWdFeHAoYCR7cGF0aG5hbWV9JGApLnRlc3QoaHJlZikpOw0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICBsaWVkOiBwcm90b0xpZUxlbiB8fCArbG9jYXRpb25QYXRoTmFtZUxpZSwNCiAgICAgICAgICAgICAgICBsaWVzOiB7DQogICAgICAgICAgICAgICAgICAgIHByb3RvOiBwcm90b0xpZUxlbiA/IGxpZURldGFpbCA6IGZhbHNlLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgbG9jYWxlOiAnJyArIGxvY2FsZSwNCiAgICAgICAgICAgICAgICBzeXN0ZW1DdXJyZW5jeUxvY2FsZSwNCiAgICAgICAgICAgICAgICBlbmdpbmVDdXJyZW5jeUxvY2FsZSwNCiAgICAgICAgICAgICAgICBsb2NhbGVFbnRyb3B5SXNUcnVzdHksDQogICAgICAgICAgICAgICAgbG9jYWxlSW50bEVudHJvcHlJc1RydXN0eSwNCiAgICAgICAgICAgICAgICB0aW1lem9uZU9mZnNldCwNCiAgICAgICAgICAgICAgICB0aW1lem9uZUxvY2F0aW9uLA0KICAgICAgICAgICAgICAgIGRldmljZU1lbW9yeSwNCiAgICAgICAgICAgICAgICBoYXJkd2FyZUNvbmN1cnJlbmN5LA0KICAgICAgICAgICAgICAgIGxhbmd1YWdlLA0KICAgICAgICAgICAgICAgIGxhbmd1YWdlczogJycgKyBsYW5ndWFnZXMsDQogICAgICAgICAgICAgICAgcGxhdGZvcm0sDQogICAgICAgICAgICAgICAgdXNlckFnZW50LA0KICAgICAgICAgICAgICAgIHdlYmdsUmVuZGVyZXIsDQogICAgICAgICAgICAgICAgd2ViZ2xWZW5kb3IsDQogICAgICAgICAgICAgICAgdXNlckFnZW50RGF0YSwNCiAgICAgICAgICAgIH07DQogICAgICAgIH07DQogICAgICAgIC8vIENvbXB1dGUgYW5kIGNvbW11bmljYXRlIGZyb20gd29ya2VyIHNjb3BlDQogICAgICAgIGNvbnN0IG9uRXZlbnQgPSAoZXZlbnRUeXBlLCBmbikgPT4gYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGZuKTsNCiAgICAgICAgY29uc3Qgc2VuZCA9IChzb3VyY2UpID0+IHsNCiAgICAgICAgICAgIHJldHVybiBnZXRXb3JrZXJEYXRhKCkudGhlbigoZGF0YSkgPT4gc291cmNlLnBvc3RNZXNzYWdlKGRhdGEpKTsNCiAgICAgICAgfTsNCiAgICAgICAgaWYgKElTX1dPUktFUl9TQ09QRSkgew0KICAgICAgICAgICAgZ2xvYmFsVGhpcy5TZXJ2aWNlV29ya2VyR2xvYmFsU2NvcGUgPyBvbkV2ZW50KCdtZXNzYWdlJywgKGUpID0+IHNlbmQoZS5zb3VyY2UpKSA6DQogICAgICAgICAgICAgICAgZ2xvYmFsVGhpcy5TaGFyZWRXb3JrZXJHbG9iYWxTY29wZSA/IG9uRXZlbnQoJ2Nvbm5lY3QnLCAoZSkgPT4gc2VuZChlLnBvcnRzWzBdKSkgOg0KICAgICAgICAgICAgICAgICAgICBzZW5kKHNlbGYpOyAvLyBEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBJU19XT1JLRVJfU0NPUEUgPyAwIC8qIFNjb3BlLldPUktFUiAqLyA6IDEgLyogU2NvcGUuV0lORE9XICovOw0KICAgIH0NCiAgICBhc3luYyBmdW5jdGlvbiBnZXRCZXN0V29ya2VyU2NvcGUoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IGFzayA9IChmbikgPT4gew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmbigpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IGhhc0NvbnN0cnVjdG9yID0gKHgsIG5hbWUpID0+IHggJiYgeC5fX3Byb3RvX18uY29uc3RydWN0b3IubmFtZSA9PSBuYW1lOw0KICAgICAgICAgICAgY29uc3QgZ2V0RGVkaWNhdGVkV29ya2VyID0gKHsgc2NyaXB0U291cmNlIH0pID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgZ2l2ZVVwT25Xb3JrZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICAgICAgfSwgMzAwMCk7DQogICAgICAgICAgICAgICAgY29uc3QgZGVkaWNhdGVkV29ya2VyID0gYXNrKCgpID0+IG5ldyBXb3JrZXIoc2NyaXB0U291cmNlKSk7DQogICAgICAgICAgICAgICAgaWYgKCFoYXNDb25zdHJ1Y3RvcihkZWRpY2F0ZWRXb3JrZXIsICdXb3JrZXInKSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICAgICAgZGVkaWNhdGVkV29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBkZWRpY2F0ZWRXb3JrZXIudGVybWluYXRlKCk7DQogICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChnaXZlVXBPbldvcmtlcik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGV2ZW50LmRhdGEpOw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IGdldFNoYXJlZFdvcmtlciA9ICh7IHNjcmlwdFNvdXJjZSB9KSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IGdpdmVVcE9uV29ya2VyID0gc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpOw0KICAgICAgICAgICAgICAgIH0sIDMwMDApOw0KICAgICAgICAgICAgICAgIGNvbnN0IHNoYXJlZFdvcmtlciA9IGFzaygoKSA9PiBuZXcgU2hhcmVkV29ya2VyKHNjcmlwdFNvdXJjZSkpOw0KICAgICAgICAgICAgICAgIGlmICghaGFzQ29uc3RydWN0b3Ioc2hhcmVkV29ya2VyLCAnU2hhcmVkV29ya2VyJykpDQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpOw0KICAgICAgICAgICAgICAgIHNoYXJlZFdvcmtlci5wb3J0LnN0YXJ0KCk7DQogICAgICAgICAgICAgICAgc2hhcmVkV29ya2VyLnBvcnQub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIHNoYXJlZFdvcmtlci5wb3J0LmNsb3NlKCk7DQogICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChnaXZlVXBPbldvcmtlcik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGV2ZW50LmRhdGEpOw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IGdldFNlcnZpY2VXb3JrZXIgPSAoeyBzY3JpcHRTb3VyY2UgfSkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBnaXZlVXBPbldvcmtlciA9IHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTsNCiAgICAgICAgICAgICAgICB9LCA0MDApOw0KICAgICAgICAgICAgICAgIGlmICghYXNrKCgpID0+IG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKHNjcmlwdFNvdXJjZSkudGhlbigocmVnaXN0cmF0aW9uKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmICghaGFzQ29uc3RydWN0b3IocmVnaXN0cmF0aW9uLCAnU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbicpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWFkeS50aGVuKChyZWdpc3RyYXRpb24pID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbi5hY3RpdmUucG9zdE1lc3NhZ2UodW5kZWZpbmVkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvbi51bnJlZ2lzdGVyKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGdpdmVVcE9uV29ya2VyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShldmVudC5kYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsNCiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGdpdmVVcE9uV29ya2VyKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IHNjcmlwdFNvdXJjZSA9ICcuL2NyZWVwLmpzJzsNCiAgICAgICAgICAgIGxldCB3b3JrZXJTY29wZTsNCiAgICAgICAgICAgIC8qDQogICAgICAgICAgICBXT1JLRVJfTkFNRSA9ICdTZXJ2aWNlV29ya2VyR2xvYmFsU2NvcGUnDQogICAgICAgICAgICBXT1JLRVJfVFlQRSA9ICdzZXJ2aWNlJyAvLyBsb2FkcyBmYXN0IGJ1dCBpcyBub3QgYXZhaWxhYmxlIGluIGZyYW1lcw0KICAgICAgICAgICAgd29ya2VyU2NvcGUgPSBhd2FpdCBnZXRTZXJ2aWNlV29ya2VyKHsgc2NyaXB0U291cmNlIH0pLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcikNCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UpDQogICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgKi8NCiAgICAgICAgICAgIGlmICghKHdvcmtlclNjb3BlIHx8IHt9KS51c2VyQWdlbnQpIHsNCiAgICAgICAgICAgICAgICBXT1JLRVJfTkFNRSA9ICdTaGFyZWRXb3JrZXJHbG9iYWxTY29wZSc7DQogICAgICAgICAgICAgICAgV09SS0VSX1RZUEUgPSAnc2hhcmVkJzsgLy8gbm8gc3VwcG9ydCBpbiBTYWZhcmksIGlPUywgYW5kIENocm9tZSBBbmRyb2lkDQogICAgICAgICAgICAgICAgd29ya2VyU2NvcGUgPSBhd2FpdCBnZXRTaGFyZWRXb3JrZXIoeyBzY3JpcHRTb3VyY2UgfSkuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICghKHdvcmtlclNjb3BlIHx8IHt9KS51c2VyQWdlbnQpIHsNCiAgICAgICAgICAgICAgICBXT1JLRVJfTkFNRSA9ICdEZWRpY2F0ZWRXb3JrZXJHbG9iYWxTY29wZSc7DQogICAgICAgICAgICAgICAgV09SS0VSX1RZUEUgPSAnZGVkaWNhdGVkJzsgLy8gZGV2aWNlIGVtdWxhdG9ycyBjYW4gZWFzaWx5IHNwb29mIGRlZGljYXRlZCBzY29wZQ0KICAgICAgICAgICAgICAgIHdvcmtlclNjb3BlID0gYXdhaXQgZ2V0RGVkaWNhdGVkV29ya2VyKHsgc2NyaXB0U291cmNlIH0pLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoISh3b3JrZXJTY29wZSB8fCB7fSkudXNlckFnZW50KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgd29ya2VyU2NvcGUuc3lzdGVtID0gZ2V0T1Mod29ya2VyU2NvcGUudXNlckFnZW50KTsNCiAgICAgICAgICAgIHdvcmtlclNjb3BlLmRldmljZSA9IGdldFVzZXJBZ2VudFBsYXRmb3JtKHsgdXNlckFnZW50OiB3b3JrZXJTY29wZS51c2VyQWdlbnQgfSk7DQogICAgICAgICAgICAvLyBkZXRlY3QgbGllcw0KICAgICAgICAgICAgY29uc3QgeyBzeXN0ZW0sIHVzZXJBZ2VudCwgdXNlckFnZW50RGF0YSwgcGxhdGZvcm0sIGRldmljZU1lbW9yeSwgaGFyZHdhcmVDb25jdXJyZW5jeSwgfSA9IHdvcmtlclNjb3BlIHx8IHt9Ow0KICAgICAgICAgICAgLy8gbmF2aWdhdG9yIGxpZXMNCiAgICAgICAgICAgIC8vIHNraXAgbGFuZ3VhZ2UgYW5kIGxhbmd1YWdlcyB0byByZXNwZWN0IHZhbGlkIGVuZ2luZSBsYW5ndWFnZSBzd2l0Y2hpbmcgYnVnIGluIENocm9tZQ0KICAgICAgICAgICAgLy8gdGhlc2UgYXJlIG1vcmUgbGlrZWx5IG5hdmlnYXRvciBsaWVzLCBzbyBkb24ndCB0cmlnZ2VyIGxpZWQgd29ya2VyIHNjb3BlDQogICAgICAgICAgICBjb25zdCB3b3JrZXJTY29wZU1hdGNoTGllID0gJ2RvZXMgbm90IG1hdGNoIHdvcmtlciBzY29wZSc7DQogICAgICAgICAgICBpZiAocGxhdGZvcm0gIT0gbmF2aWdhdG9yLnBsYXRmb3JtKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ05hdmlnYXRvci5wbGF0Zm9ybScsIHdvcmtlclNjb3BlTWF0Y2hMaWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKHVzZXJBZ2VudCAhPSBuYXZpZ2F0b3IudXNlckFnZW50KSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ05hdmlnYXRvci51c2VyQWdlbnQnLCB3b3JrZXJTY29wZU1hdGNoTGllKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChoYXJkd2FyZUNvbmN1cnJlbmN5ICYmIChoYXJkd2FyZUNvbmN1cnJlbmN5ICE9IG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5KSkgew0KICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKCdOYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeScsIHdvcmtlclNjb3BlTWF0Y2hMaWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgaWYgKGRldmljZU1lbW9yeSAmJiAoZGV2aWNlTWVtb3J5ICE9IG5hdmlnYXRvci5kZXZpY2VNZW1vcnkpKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ05hdmlnYXRvci5kZXZpY2VNZW1vcnknLCB3b3JrZXJTY29wZU1hdGNoTGllKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIHByb3RvdHlwZSBsaWVzDQogICAgICAgICAgICBpZiAod29ya2VyU2NvcGUubGllcy5wcm90bykgew0KICAgICAgICAgICAgICAgIGNvbnN0IHsgcHJvdG8gfSA9IHdvcmtlclNjb3BlLmxpZXM7DQogICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb3RvKTsNCiAgICAgICAgICAgICAgICBrZXlzLmZvckVhY2goKGtleSkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBhcGkgPSBgV29ya2VyR2xvYmFsU2NvcGUuJHtrZXl9YDsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGllcyA9IHByb3RvW2tleV07DQogICAgICAgICAgICAgICAgICAgIGxpZXMuZm9yRWFjaCgobGllKSA9PiBkb2N1bWVudExpZShhcGksIGxpZSkpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gdXNlciBhZ2VudCBvcyBsaWUNCiAgICAgICAgICAgIGNvbnN0IFt1c2VyQWdlbnRPUywgcGxhdGZvcm1PU10gPSBnZXRSZXBvcnRlZFBsYXRmb3JtKHVzZXJBZ2VudCwgcGxhdGZvcm0pOw0KICAgICAgICAgICAgaWYgKHVzZXJBZ2VudE9TICE9IHBsYXRmb3JtT1MpIHsNCiAgICAgICAgICAgICAgICB3b3JrZXJTY29wZS5saWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB3b3JrZXJTY29wZS5saWVzLm9zID0gYCR7cGxhdGZvcm1PU30gcGxhdGZvcm0gYW5kICR7dXNlckFnZW50T1N9IHVzZXIgYWdlbnQgZG8gbm90IG1hdGNoYDsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnV29ya2VyR2xvYmFsU2NvcGUnLCB3b3JrZXJTY29wZS5saWVzLm9zKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIHVzZXIgYWdlbnQgZW5naW5lIGxpZQ0KICAgICAgICAgICAgY29uc3QgZGVjcnlwdGVkTmFtZSA9IGRlY3J5cHRVc2VyQWdlbnQoew0KICAgICAgICAgICAgICAgIHVhOiB1c2VyQWdlbnQsDQogICAgICAgICAgICAgICAgb3M6IHN5c3RlbSwNCiAgICAgICAgICAgICAgICBpc0JyYXZlOiBmYWxzZSwgLy8gZGVmYXVsdCBmYWxzZSBzaW5jZSB3ZSBhcmUgb25seSBsb29raW5nIGZvciBKUyBydW50aW1lIGFuZCB2ZXJzaW9uDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IHVzZXJBZ2VudEVuZ2luZSA9ICgoL3NhZmFyaS9pLnRlc3QoZGVjcnlwdGVkTmFtZSkgfHwgL2lwaG9uZXxpcGFkL2kudGVzdCh1c2VyQWdlbnQpKSA/ICdKYXZhU2NyaXB0Q29yZScgOg0KICAgICAgICAgICAgICAgIC9maXJlZm94L2kudGVzdCh1c2VyQWdlbnQpID8gJ1NwaWRlck1vbmtleScgOg0KICAgICAgICAgICAgICAgICAgICAvY2hyb21lL2kudGVzdCh1c2VyQWdlbnQpID8gJ1Y4JyA6DQogICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQpOw0KICAgICAgICAgICAgaWYgKHVzZXJBZ2VudEVuZ2luZSAhPSBKU19FTkdJTkUpIHsNCiAgICAgICAgICAgICAgICB3b3JrZXJTY29wZS5saWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB3b3JrZXJTY29wZS5saWVzLmVuZ2luZSA9IGAke0pTX0VOR0lORX0gSlMgcnVudGltZSBhbmQgJHt1c2VyQWdlbnRFbmdpbmV9IHVzZXIgYWdlbnQgZG8gbm90IG1hdGNoYDsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnV29ya2VyR2xvYmFsU2NvcGUnLCB3b3JrZXJTY29wZS5saWVzLmVuZ2luZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyB1c2VyIGFnZW50IHZlcnNpb24gbGllDQogICAgICAgICAgICBjb25zdCBnZXRWZXJzaW9uID0gKHgpID0+ICgvXGQrLy5leGVjKHgpIHx8IFtdKVswXTsNCiAgICAgICAgICAgIGNvbnN0IHVzZXJBZ2VudFZlcnNpb24gPSBnZXRWZXJzaW9uKGRlY3J5cHRlZE5hbWUpOw0KICAgICAgICAgICAgY29uc3QgdXNlckFnZW50RGF0YVZlcnNpb24gPSBnZXRWZXJzaW9uKHVzZXJBZ2VudERhdGEgPyB1c2VyQWdlbnREYXRhLnVhRnVsbFZlcnNpb24gOiAnJyk7DQogICAgICAgICAgICBjb25zdCB2ZXJzaW9uU3VwcG9ydGVkID0gdXNlckFnZW50RGF0YVZlcnNpb24gJiYgdXNlckFnZW50VmVyc2lvbjsNCiAgICAgICAgICAgIGNvbnN0IHZlcnNpb25NYXRjaCA9IHVzZXJBZ2VudERhdGFWZXJzaW9uID09IHVzZXJBZ2VudFZlcnNpb247DQogICAgICAgICAgICBpZiAodmVyc2lvblN1cHBvcnRlZCAmJiAhdmVyc2lvbk1hdGNoKSB7DQogICAgICAgICAgICAgICAgd29ya2VyU2NvcGUubGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgd29ya2VyU2NvcGUubGllcy52ZXJzaW9uID0gYHVzZXJBZ2VudERhdGEgdmVyc2lvbiAke3VzZXJBZ2VudERhdGFWZXJzaW9ufSBhbmQgdXNlciBhZ2VudCB2ZXJzaW9uICR7dXNlckFnZW50VmVyc2lvbn0gZG8gbm90IG1hdGNoYDsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnV29ya2VyR2xvYmFsU2NvcGUnLCB3b3JrZXJTY29wZS5saWVzLnZlcnNpb24pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gcGxhdGZvcm1WZXJzaW9uIGxpZQ0KICAgICAgICAgICAgY29uc3QgRkVBVFVSRV9DQVNFID0gSVNfQkxJTksgJiYgQ1NTLnN1cHBvcnRzKCdhY2NlbnQtY29sb3I6IGluaXRpYWwnKTsNCiAgICAgICAgICAgIGNvbnN0IGdldFBsYXRmb3JtVmVyc2lvbkxpZSA9IChkZXZpY2UsIHVzZXJBZ2VudERhdGEpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoIS93aW5kb3dzfG1hYy9pLnRlc3QoZGV2aWNlKSB8fCAhdXNlckFnZW50RGF0YT8ucGxhdGZvcm1WZXJzaW9uKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHVzZXJBZ2VudERhdGEucGxhdGZvcm0gPT0gJ21hY09TJykgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gRkVBVFVSRV9DQVNFID8gL18vLnRlc3QodXNlckFnZW50RGF0YS5wbGF0Zm9ybVZlcnNpb24pIDogZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydGVkVmVyc2lvbk51bWJlciA9ICgvd2luZG93cyAoW1xkfFwuXSspL2kuZXhlYyhkZXZpY2UpIHx8IFtdKVsxXTsNCiAgICAgICAgICAgICAgICBjb25zdCB3aW5kb3dzMTBPckhpZ2hlclJlcG9ydCA9ICtyZXBvcnRlZFZlcnNpb25OdW1iZXIgPT0gMTA7DQogICAgICAgICAgICAgICAgY29uc3QgeyBwbGF0Zm9ybVZlcnNpb24gfSA9IHVzZXJBZ2VudERhdGE7DQogICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbk1hcCA9IHsNCiAgICAgICAgICAgICAgICAgICAgJzYuMSc6ICc3JywNCiAgICAgICAgICAgICAgICAgICAgJzYuMic6ICc4JywNCiAgICAgICAgICAgICAgICAgICAgJzYuMyc6ICc4LjEnLA0KICAgICAgICAgICAgICAgICAgICAnMTAuMCc6ICcxMCcsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gdmVyc2lvbk1hcFtwbGF0Zm9ybVZlcnNpb25dOw0KICAgICAgICAgICAgICAgIGlmICghRkVBVFVSRV9DQVNFICYmIHZlcnNpb24pIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZlcnNpb24gIT0gcmVwb3J0ZWRWZXJzaW9uTnVtYmVyOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0cyA9IHBsYXRmb3JtVmVyc2lvbi5zcGxpdCgnLicpOw0KICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggIT0gMykNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgY29uc3Qgd2luZG93czEwT3JIaWdoZXJQbGF0Zm9ybSA9ICtwYXJ0c1swXSA+IDA7DQogICAgICAgICAgICAgICAgcmV0dXJuICgod2luZG93czEwT3JIaWdoZXJQbGF0Zm9ybSAmJiAhd2luZG93czEwT3JIaWdoZXJSZXBvcnQpIHx8DQogICAgICAgICAgICAgICAgICAgICghd2luZG93czEwT3JIaWdoZXJQbGF0Zm9ybSAmJiB3aW5kb3dzMTBPckhpZ2hlclJlcG9ydCkpOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IHdpbmRvd3NWZXJzaW9uTGllID0gZ2V0UGxhdGZvcm1WZXJzaW9uTGllKHdvcmtlclNjb3BlLmRldmljZSwgdXNlckFnZW50RGF0YSk7DQogICAgICAgICAgICBpZiAod2luZG93c1ZlcnNpb25MaWUpIHsNCiAgICAgICAgICAgICAgICB3b3JrZXJTY29wZS5saWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB3b3JrZXJTY29wZS5saWVzLnBsYXRmb3JtVmVyc2lvbiA9IGBwbGF0Zm9ybSB2ZXJzaW9uIGlzIGZha2VgOw0KICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKCdXb3JrZXJHbG9iYWxTY29wZScsIHdvcmtlclNjb3BlLmxpZXMucGxhdGZvcm1WZXJzaW9uKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIGNhcHR1cmUgdXNlckFnZW50IHZlcnNpb24NCiAgICAgICAgICAgIHdvcmtlclNjb3BlLnVzZXJBZ2VudFZlcnNpb24gPSB1c2VyQWdlbnRWZXJzaW9uOw0KICAgICAgICAgICAgd29ya2VyU2NvcGUudXNlckFnZW50RGF0YVZlcnNpb24gPSB1c2VyQWdlbnREYXRhVmVyc2lvbjsNCiAgICAgICAgICAgIHdvcmtlclNjb3BlLnVzZXJBZ2VudEVuZ2luZSA9IHVzZXJBZ2VudEVuZ2luZTsNCiAgICAgICAgICAgIGNvbnN0IGdwdSA9IHsNCiAgICAgICAgICAgICAgICAuLi4oZ2V0V2ViR0xSZW5kZXJlckNvbmZpZGVuY2Uod29ya2VyU2NvcGUud2ViZ2xSZW5kZXJlcikgfHwge30pLA0KICAgICAgICAgICAgICAgIGNvbXByZXNzZWRHUFU6IGNvbXByZXNzV2ViR0xSZW5kZXJlcih3b3JrZXJTY29wZS53ZWJnbFJlbmRlcmVyKSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGltZTogdGltZXIuc3RvcCgpLCB0ZXN0OiBgJHtXT1JLRVJfVFlQRX0gd29ya2VyYCwgcGFzc2VkOiB0cnVlIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAuLi53b3JrZXJTY29wZSwNCiAgICAgICAgICAgICAgICBncHUsDQogICAgICAgICAgICAgICAgdWFQb3N0UmVkdWN0aW9uOiBpc1VBUG9zdFJlZHVjdGlvbih3b3JrZXJTY29wZS51c2VyQWdlbnQpLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnd29ya2VyJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvciwgJ3dvcmtlcnMgZmFpbGVkIG9yIGJsb2NrZWQgYnkgY2xpZW50Jyk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNDI5Njc5DQogICAgY29uc3QgaGFzaE1pbmkgPSAoeCkgPT4gew0KICAgICAgICBjb25zdCBqc29uID0gYCR7SlNPTi5zdHJpbmdpZnkoeCl9YDsNCiAgICAgICAgY29uc3QgaGFzaCA9IGpzb24uc3BsaXQoJycpLnJlZHVjZSgoaGFzaCwgY2hhciwgaSkgPT4gew0KICAgICAgICAgICAgcmV0dXJuIE1hdGguaW11bCgzMSwgaGFzaCkgKyBqc29uLmNoYXJDb2RlQXQoaSkgfCAwOw0KICAgICAgICB9LCAweDgxMWM5ZGM1KTsNCiAgICAgICAgcmV0dXJuICgnMDAwMDAwMCcgKyAoaGFzaCA+Pj4gMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTgpOw0KICAgIH07DQogICAgLy8gaW5zdGFuY2UgaWQNCiAgICBjb25zdCBpbnN0YW5jZUlkID0gKFN0cmluZy5mcm9tQ2hhckNvZGUoTWF0aC5yYW5kb20oKSAqIDI2ICsgOTcpICsNCiAgICAgICAgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoLTcpKTsNCiAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTM0OTA5NTgNCiAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDMzODM5OTANCiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU3VidGxlQ3J5cHRvL2RpZ2VzdA0KICAgIGNvbnN0IGhhc2hpZnkgPSAoeCwgYWxnb3JpdGhtID0gJ1NIQS0yNTYnKSA9PiB7DQogICAgICAgIGNvbnN0IGpzb24gPSBgJHtKU09OLnN0cmluZ2lmeSh4KX1gOw0KICAgICAgICBjb25zdCBqc29uQnVmZmVyID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGpzb24pOw0KICAgICAgICByZXR1cm4gY3J5cHRvLnN1YnRsZS5kaWdlc3QoYWxnb3JpdGhtLCBqc29uQnVmZmVyKS50aGVuKChoYXNoQnVmZmVyKSA9PiB7DQogICAgICAgICAgICBjb25zdCBoYXNoQXJyYXkgPSBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGhhc2hCdWZmZXIpKTsNCiAgICAgICAgICAgIGNvbnN0IGhhc2hIZXggPSBoYXNoQXJyYXkubWFwKChiKSA9PiAoJzAwJyArIGIudG9TdHJpbmcoMTYpKS5zbGljZSgtMikpLmpvaW4oJycpOw0KICAgICAgICAgICAgcmV0dXJuIGhhc2hIZXg7DQogICAgICAgIH0pOw0KICAgIH07CgogICAgY29uc3QgQVVESU9fVFJBUCA9IE1hdGgucmFuZG9tKCk7DQogICAgYXN5bmMgZnVuY3Rpb24gaGFzRmFrZUF1ZGlvKCkgew0KICAgICAgICBjb25zdCBjb250ZXh0ID0gbmV3IE9mZmxpbmVBdWRpb0NvbnRleHQoMSwgMTAwLCA0NDEwMCk7DQogICAgICAgIGNvbnN0IG9zY2lsbGF0b3IgPSBjb250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKTsNCiAgICAgICAgb3NjaWxsYXRvci5mcmVxdWVuY3kudmFsdWUgPSAwOw0KICAgICAgICBvc2NpbGxhdG9yLnN0YXJ0KDApOw0KICAgICAgICBjb250ZXh0LnN0YXJ0UmVuZGVyaW5nKCk7DQogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gew0KICAgICAgICAgICAgY29udGV4dC5vbmNvbXBsZXRlID0gKGV2ZW50KSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbERhdGEgPSBldmVudC5yZW5kZXJlZEJ1ZmZlci5nZXRDaGFubmVsRGF0YT8uKDApOw0KICAgICAgICAgICAgICAgIGlmICghY2hhbm5lbERhdGEpDQogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpOw0KICAgICAgICAgICAgICAgIHJlc29sdmUoJycgKyBbLi4ubmV3IFNldChjaGFubmVsRGF0YSldICE9PSAnMCcpOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgfSkuZmluYWxseSgoKSA9PiBvc2NpbGxhdG9yLmRpc2Nvbm5lY3QoKSk7DQogICAgfQ0KICAgIGFzeW5jIGZ1bmN0aW9uIGdldE9mZmxpbmVBdWRpb0NvbnRleHQoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpZiB1bnN1cHBvcnRlZA0KICAgICAgICAgICAgICAgIHdpbmRvdy5PZmZsaW5lQXVkaW9Db250ZXh0ID0gT2ZmbGluZUF1ZGlvQ29udGV4dCB8fCB3ZWJraXRPZmZsaW5lQXVkaW9Db250ZXh0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKGVycikgeyB9DQogICAgICAgICAgICBpZiAoIXdpbmRvdy5PZmZsaW5lQXVkaW9Db250ZXh0KSB7DQogICAgICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdhdWRpbycsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gZGV0ZWN0IGxpZXMNCiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxEYXRhTGllID0gbGllUHJvcHNbJ0F1ZGlvQnVmZmVyLmdldENoYW5uZWxEYXRhJ107DQogICAgICAgICAgICBjb25zdCBjb3B5RnJvbUNoYW5uZWxMaWUgPSBsaWVQcm9wc1snQXVkaW9CdWZmZXIuY29weUZyb21DaGFubmVsJ107DQogICAgICAgICAgICBsZXQgbGllZCA9IChjaGFubmVsRGF0YUxpZSB8fCBjb3B5RnJvbUNoYW5uZWxMaWUpIHx8IGZhbHNlOw0KICAgICAgICAgICAgY29uc3QgYnVmZmVyTGVuID0gNTAwMDsNCiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dCgxLCBidWZmZXJMZW4sIDQ0MTAwKTsNCiAgICAgICAgICAgIGNvbnN0IGFuYWx5c2VyID0gY29udGV4dC5jcmVhdGVBbmFseXNlcigpOw0KICAgICAgICAgICAgY29uc3Qgb3NjaWxsYXRvciA9IGNvbnRleHQuY3JlYXRlT3NjaWxsYXRvcigpOw0KICAgICAgICAgICAgY29uc3QgZHluYW1pY3NDb21wcmVzc29yID0gY29udGV4dC5jcmVhdGVEeW5hbWljc0NvbXByZXNzb3IoKTsNCiAgICAgICAgICAgIGNvbnN0IGJpcXVhZEZpbHRlciA9IGNvbnRleHQuY3JlYXRlQmlxdWFkRmlsdGVyKCk7DQogICAgICAgICAgICAvLyBkZXRlY3QgbGllDQogICAgICAgICAgICBjb25zdCBkYXRhQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTsNCiAgICAgICAgICAgIGFuYWx5c2VyLmdldEZsb2F0RnJlcXVlbmN5RGF0YT8uKGRhdGFBcnJheSk7DQogICAgICAgICAgICBjb25zdCBmbG9hdEZyZXF1ZW5jeVVuaXF1ZURhdGFTaXplID0gbmV3IFNldChkYXRhQXJyYXkpLnNpemU7DQogICAgICAgICAgICBpZiAoZmxvYXRGcmVxdWVuY3lVbmlxdWVEYXRhU2l6ZSA+IDEpIHsNCiAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBjb25zdCBmbG9hdEZyZXF1ZW5jeURhdGFMaWUgPSBgZXhwZWN0ZWQgLUluZmluaXR5IChzaWxlbmNlKSBhbmQgZ290ICR7ZmxvYXRGcmVxdWVuY3lVbmlxdWVEYXRhU2l6ZX0gZnJlcXVlbmNpZXNgOw0KICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKGBBbmFseXNlck5vZGUuZ2V0RmxvYXRGcmVxdWVuY3lEYXRhYCwgZmxvYXRGcmVxdWVuY3lEYXRhTGllKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IHsNCiAgICAgICAgICAgICAgICBbJ0FuYWx5c2VyTm9kZS5jaGFubmVsQ291bnQnXTogYXR0ZW1wdCgoKSA9PiBhbmFseXNlci5jaGFubmVsQ291bnQpLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLmNoYW5uZWxDb3VudE1vZGUnXTogYXR0ZW1wdCgoKSA9PiBhbmFseXNlci5jaGFubmVsQ291bnRNb2RlKSwNCiAgICAgICAgICAgICAgICBbJ0FuYWx5c2VyTm9kZS5jaGFubmVsSW50ZXJwcmV0YXRpb24nXTogYXR0ZW1wdCgoKSA9PiBhbmFseXNlci5jaGFubmVsSW50ZXJwcmV0YXRpb24pLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLmNvbnRleHQuc2FtcGxlUmF0ZSddOiBhdHRlbXB0KCgpID0+IGFuYWx5c2VyLmNvbnRleHQuc2FtcGxlUmF0ZSksDQogICAgICAgICAgICAgICAgWydBbmFseXNlck5vZGUuZmZ0U2l6ZSddOiBhdHRlbXB0KCgpID0+IGFuYWx5c2VyLmZmdFNpemUpLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLmZyZXF1ZW5jeUJpbkNvdW50J106IGF0dGVtcHQoKCkgPT4gYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLm1heERlY2liZWxzJ106IGF0dGVtcHQoKCkgPT4gYW5hbHlzZXIubWF4RGVjaWJlbHMpLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLm1pbkRlY2liZWxzJ106IGF0dGVtcHQoKCkgPT4gYW5hbHlzZXIubWluRGVjaWJlbHMpLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLm51bWJlck9mSW5wdXRzJ106IGF0dGVtcHQoKCkgPT4gYW5hbHlzZXIubnVtYmVyT2ZJbnB1dHMpLA0KICAgICAgICAgICAgICAgIFsnQW5hbHlzZXJOb2RlLm51bWJlck9mT3V0cHV0cyddOiBhdHRlbXB0KCgpID0+IGFuYWx5c2VyLm51bWJlck9mT3V0cHV0cyksDQogICAgICAgICAgICAgICAgWydBbmFseXNlck5vZGUuc21vb3RoaW5nVGltZUNvbnN0YW50J106IGF0dGVtcHQoKCkgPT4gYW5hbHlzZXIuc21vb3RoaW5nVGltZUNvbnN0YW50KSwNCiAgICAgICAgICAgICAgICBbJ0FuYWx5c2VyTm9kZS5jb250ZXh0Lmxpc3RlbmVyLmZvcndhcmRYLm1heFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FuaXVzZSgoKSA9PiBhbmFseXNlci5jb250ZXh0Lmxpc3RlbmVyLmZvcndhcmRYLm1heFZhbHVlKTsNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBbJ0JpcXVhZEZpbHRlck5vZGUuZ2Fpbi5tYXhWYWx1ZSddOiBhdHRlbXB0KCgpID0+IGJpcXVhZEZpbHRlci5nYWluLm1heFZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ0JpcXVhZEZpbHRlck5vZGUuZnJlcXVlbmN5LmRlZmF1bHRWYWx1ZSddOiBhdHRlbXB0KCgpID0+IGJpcXVhZEZpbHRlci5mcmVxdWVuY3kuZGVmYXVsdFZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ0JpcXVhZEZpbHRlck5vZGUuZnJlcXVlbmN5Lm1heFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gYmlxdWFkRmlsdGVyLmZyZXF1ZW5jeS5tYXhWYWx1ZSksDQogICAgICAgICAgICAgICAgWydEeW5hbWljc0NvbXByZXNzb3JOb2RlLmF0dGFjay5kZWZhdWx0VmFsdWUnXTogYXR0ZW1wdCgoKSA9PiBkeW5hbWljc0NvbXByZXNzb3IuYXR0YWNrLmRlZmF1bHRWYWx1ZSksDQogICAgICAgICAgICAgICAgWydEeW5hbWljc0NvbXByZXNzb3JOb2RlLmtuZWUuZGVmYXVsdFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gZHluYW1pY3NDb21wcmVzc29yLmtuZWUuZGVmYXVsdFZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ0R5bmFtaWNzQ29tcHJlc3Nvck5vZGUua25lZS5tYXhWYWx1ZSddOiBhdHRlbXB0KCgpID0+IGR5bmFtaWNzQ29tcHJlc3Nvci5rbmVlLm1heFZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ0R5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmF0aW8uZGVmYXVsdFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gZHluYW1pY3NDb21wcmVzc29yLnJhdGlvLmRlZmF1bHRWYWx1ZSksDQogICAgICAgICAgICAgICAgWydEeW5hbWljc0NvbXByZXNzb3JOb2RlLnJhdGlvLm1heFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gZHluYW1pY3NDb21wcmVzc29yLnJhdGlvLm1heFZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ0R5bmFtaWNzQ29tcHJlc3Nvck5vZGUucmVsZWFzZS5kZWZhdWx0VmFsdWUnXTogYXR0ZW1wdCgoKSA9PiBkeW5hbWljc0NvbXByZXNzb3IucmVsZWFzZS5kZWZhdWx0VmFsdWUpLA0KICAgICAgICAgICAgICAgIFsnRHluYW1pY3NDb21wcmVzc29yTm9kZS5yZWxlYXNlLm1heFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gZHluYW1pY3NDb21wcmVzc29yLnJlbGVhc2UubWF4VmFsdWUpLA0KICAgICAgICAgICAgICAgIFsnRHluYW1pY3NDb21wcmVzc29yTm9kZS50aHJlc2hvbGQuZGVmYXVsdFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gZHluYW1pY3NDb21wcmVzc29yLnRocmVzaG9sZC5kZWZhdWx0VmFsdWUpLA0KICAgICAgICAgICAgICAgIFsnRHluYW1pY3NDb21wcmVzc29yTm9kZS50aHJlc2hvbGQubWluVmFsdWUnXTogYXR0ZW1wdCgoKSA9PiBkeW5hbWljc0NvbXByZXNzb3IudGhyZXNob2xkLm1pblZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ09zY2lsbGF0b3JOb2RlLmRldHVuZS5tYXhWYWx1ZSddOiBhdHRlbXB0KCgpID0+IG9zY2lsbGF0b3IuZGV0dW5lLm1heFZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ09zY2lsbGF0b3JOb2RlLmRldHVuZS5taW5WYWx1ZSddOiBhdHRlbXB0KCgpID0+IG9zY2lsbGF0b3IuZGV0dW5lLm1pblZhbHVlKSwNCiAgICAgICAgICAgICAgICBbJ09zY2lsbGF0b3JOb2RlLmZyZXF1ZW5jeS5kZWZhdWx0VmFsdWUnXTogYXR0ZW1wdCgoKSA9PiBvc2NpbGxhdG9yLmZyZXF1ZW5jeS5kZWZhdWx0VmFsdWUpLA0KICAgICAgICAgICAgICAgIFsnT3NjaWxsYXRvck5vZGUuZnJlcXVlbmN5Lm1heFZhbHVlJ106IGF0dGVtcHQoKCkgPT4gb3NjaWxsYXRvci5mcmVxdWVuY3kubWF4VmFsdWUpLA0KICAgICAgICAgICAgICAgIFsnT3NjaWxsYXRvck5vZGUuZnJlcXVlbmN5Lm1pblZhbHVlJ106IGF0dGVtcHQoKCkgPT4gb3NjaWxsYXRvci5mcmVxdWVuY3kubWluVmFsdWUpLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IGdldFJlbmRlcmVkQnVmZmVyID0gKGNvbnRleHQpID0+IChuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IGFuYWx5c2VyID0gY29udGV4dC5jcmVhdGVBbmFseXNlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IG9zY2lsbGF0b3IgPSBjb250ZXh0LmNyZWF0ZU9zY2lsbGF0b3IoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBkeW5hbWljc0NvbXByZXNzb3IgPSBjb250ZXh0LmNyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpOw0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIG9zY2lsbGF0b3IudHlwZSA9ICd0cmlhbmdsZSc7DQogICAgICAgICAgICAgICAgICAgIG9zY2lsbGF0b3IuZnJlcXVlbmN5LnZhbHVlID0gMTAwMDA7DQogICAgICAgICAgICAgICAgICAgIGR5bmFtaWNzQ29tcHJlc3Nvci50aHJlc2hvbGQudmFsdWUgPSAtNTA7DQogICAgICAgICAgICAgICAgICAgIGR5bmFtaWNzQ29tcHJlc3Nvci5rbmVlLnZhbHVlID0gNDA7DQogICAgICAgICAgICAgICAgICAgIGR5bmFtaWNzQ29tcHJlc3Nvci5hdHRhY2sudmFsdWUgPSAwOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7IH0NCiAgICAgICAgICAgICAgICBvc2NpbGxhdG9yLmNvbm5lY3QoZHluYW1pY3NDb21wcmVzc29yKTsNCiAgICAgICAgICAgICAgICBkeW5hbWljc0NvbXByZXNzb3IuY29ubmVjdChhbmFseXNlcik7DQogICAgICAgICAgICAgICAgZHluYW1pY3NDb21wcmVzc29yLmNvbm5lY3QoY29udGV4dC5kZXN0aW5hdGlvbik7DQogICAgICAgICAgICAgICAgb3NjaWxsYXRvci5zdGFydCgwKTsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnN0YXJ0UmVuZGVyaW5nKCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuYWRkRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCAoZXZlbnQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNzQ29tcHJlc3Nvci5kaXNjb25uZWN0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBvc2NpbGxhdG9yLmRpc2Nvbm5lY3QoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZsb2F0RnJlcXVlbmN5RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYW5hbHlzZXIuZ2V0RmxvYXRGcmVxdWVuY3lEYXRhPy4oZmxvYXRGcmVxdWVuY3lEYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZsb2F0VGltZURvbWFpbkRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGFuYWx5c2VyLmZmdFNpemUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdnZXRGbG9hdFRpbWVEb21haW5EYXRhJyBpbiBhbmFseXNlcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuYWx5c2VyLmdldEZsb2F0VGltZURvbWFpbkRhdGEoZmxvYXRUaW1lRG9tYWluRGF0YSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXRGcmVxdWVuY3lEYXRhLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0VGltZURvbWFpbkRhdGEsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiBldmVudC5yZW5kZXJlZEJ1ZmZlciwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wcmVzc29yR2FpblJlZHVjdGlvbjogKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaWYgdW5zdXBwb3J0ZWQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljc0NvbXByZXNzb3IucmVkdWN0aW9uLnZhbHVlIHx8IC8vIHdlYmtpdA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkeW5hbWljc0NvbXByZXNzb3IucmVkdWN0aW9uKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pKTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgW2F1ZGlvRGF0YSwgYXVkaW9Jc0Zha2UsXSA9IGF3YWl0IFByb21pc2UuYWxsKFsNCiAgICAgICAgICAgICAgICBnZXRSZW5kZXJlZEJ1ZmZlcihuZXcgT2ZmbGluZUF1ZGlvQ29udGV4dCgxLCBidWZmZXJMZW4sIDQ0MTAwKSksDQogICAgICAgICAgICAgICAgaGFzRmFrZUF1ZGlvKCkuY2F0Y2goKCkgPT4gZmFsc2UpLA0KICAgICAgICAgICAgXSk7DQogICAgICAgICAgICBjb25zdCB7IGZsb2F0RnJlcXVlbmN5RGF0YSwgZmxvYXRUaW1lRG9tYWluRGF0YSwgYnVmZmVyLCBjb21wcmVzc29yR2FpblJlZHVjdGlvbiwgfSA9IGF1ZGlvRGF0YSB8fCB7fTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgZ2V0U25hcHNob3QgPSAoYXJyLCBzdGFydCwgZW5kKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgY29sbGVjdGlvbiA9IFtdOw0KICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucHVzaChhcnJbaV0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCBnZXRTdW0gPSAoYXJyKSA9PiAhYXJyID8gMCA6IFsuLi5hcnJdDQogICAgICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiAoYWNjICs9IE1hdGguYWJzKGN1cnIpKSwgMCk7DQogICAgICAgICAgICBjb25zdCBmbG9hdEZyZXF1ZW5jeURhdGFTdW0gPSBnZXRTdW0oZmxvYXRGcmVxdWVuY3lEYXRhKTsNCiAgICAgICAgICAgIGNvbnN0IGZsb2F0VGltZURvbWFpbkRhdGFTdW0gPSBnZXRTdW0oZmxvYXRUaW1lRG9tYWluRGF0YSk7DQogICAgICAgICAgICBjb25zdCBjb3B5ID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXJMZW4pOw0KICAgICAgICAgICAgbGV0IGJpbnMgPSBuZXcgRmxvYXQzMkFycmF5KCk7DQogICAgICAgICAgICBpZiAoYnVmZmVyKSB7DQogICAgICAgICAgICAgICAgYnVmZmVyLmNvcHlGcm9tQ2hhbm5lbD8uKGNvcHksIDApOw0KICAgICAgICAgICAgICAgIGJpbnMgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGE/LigwKSB8fCBbXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGNvcHlTYW1wbGUgPSBnZXRTbmFwc2hvdChbLi4uY29weV0sIDQ1MDAsIDQ2MDApOw0KICAgICAgICAgICAgY29uc3QgYmluc1NhbXBsZSA9IGdldFNuYXBzaG90KFsuLi5iaW5zXSwgNDUwMCwgNDYwMCk7DQogICAgICAgICAgICBjb25zdCBzYW1wbGVTdW0gPSBnZXRTdW0oZ2V0U25hcHNob3QoWy4uLmJpbnNdLCA0NTAwLCBidWZmZXJMZW4pKTsNCiAgICAgICAgICAgIC8vIGRldGVjdCBsaWVzDQogICAgICAgICAgICBpZiAoYXVkaW9Jc0Zha2UpIHsNCiAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnQXVkaW9CdWZmZXInLCAnYXVkaW8gaXMgZmFrZScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gc2FtcGxlIG1hdGNoaW5nDQogICAgICAgICAgICBjb25zdCBtYXRjaGluZyA9ICcnICsgYmluc1NhbXBsZSA9PSAnJyArIGNvcHlTYW1wbGU7DQogICAgICAgICAgICBjb25zdCBjb3B5RnJvbUNoYW5uZWxTdXBwb3J0ZWQgPSAoJ2NvcHlGcm9tQ2hhbm5lbCcgaW4gQXVkaW9CdWZmZXIucHJvdG90eXBlKTsNCiAgICAgICAgICAgIGlmIChjb3B5RnJvbUNoYW5uZWxTdXBwb3J0ZWQgJiYgIW1hdGNoaW5nKSB7DQogICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgY29uc3QgYXVkaW9TYW1wbGVMaWUgPSAnZ2V0Q2hhbm5lbERhdGEgYW5kIGNvcHlGcm9tQ2hhbm5lbCBzYW1wbGVzIG1pc21hdGNoJzsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnQXVkaW9CdWZmZXInLCBhdWRpb1NhbXBsZUxpZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBzYW1wbGUgdW5pcXVlbmVzcw0KICAgICAgICAgICAgY29uc3QgdG90YWxVbmlxdWVTYW1wbGVzID0gbmV3IFNldChbLi4uYmluc10pLnNpemU7DQogICAgICAgICAgICBpZiAodG90YWxVbmlxdWVTYW1wbGVzID09IGJ1ZmZlckxlbikgew0KICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvVW5pcXVlbmVzc1RyYXNoID0gYCR7dG90YWxVbmlxdWVTYW1wbGVzfSB1bmlxdWUgc2FtcGxlcyBvZiAke2J1ZmZlckxlbn0gaXMgdG9vIGhpZ2hgOw0KICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKCdBdWRpb0J1ZmZlcicsIGF1ZGlvVW5pcXVlbmVzc1RyYXNoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIHNhbXBsZSBub2lzZSBmYWN0b3INCiAgICAgICAgICAgIGNvbnN0IGdldFJhbmRGcm9tUmFuZ2UgPSAobWluLCBtYXgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47DQogICAgICAgICAgICBjb25zdCBnZXRDb3B5RnJvbSA9IChyYW5kLCBidWZmZXIsIGNvcHkpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gYnVmZmVyOw0KICAgICAgICAgICAgICAgIGNvbnN0IG1heCA9IDIwOw0KICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gZ2V0UmFuZEZyb21SYW5nZSgyNzUsIGxlbmd0aCAtIChtYXggKyAxKSk7DQogICAgICAgICAgICAgICAgY29uc3QgbWlkID0gc3RhcnQgKyBtYXggLyAyOw0KICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IHN0YXJ0ICsgbWF4Ow0KICAgICAgICAgICAgICAgIGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKVtzdGFydF0gPSByYW5kOw0KICAgICAgICAgICAgICAgIGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKVttaWRdID0gcmFuZDsNCiAgICAgICAgICAgICAgICBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoMClbZW5kXSA9IHJhbmQ7DQogICAgICAgICAgICAgICAgYnVmZmVyLmNvcHlGcm9tQ2hhbm5lbChjb3B5LCAwKTsNCiAgICAgICAgICAgICAgICBjb25zdCBhdHRhY2sgPSBbDQogICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKVtzdGFydF0gPT09IDAgPyBNYXRoLnJhbmRvbSgpIDogMCwNCiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmdldENoYW5uZWxEYXRhKDApW21pZF0gPT09IDAgPyBNYXRoLnJhbmRvbSgpIDogMCwNCiAgICAgICAgICAgICAgICAgICAgYnVmZmVyLmdldENoYW5uZWxEYXRhKDApW2VuZF0gPT09IDAgPyBNYXRoLnJhbmRvbSgpIDogMCwNCiAgICAgICAgICAgICAgICBdOw0KICAgICAgICAgICAgICAgIHJldHVybiBbLi4ubmV3IFNldChbLi4uYnVmZmVyLmdldENoYW5uZWxEYXRhKDApLCAuLi5jb3B5LCAuLi5hdHRhY2tdKV0uZmlsdGVyKCh4KSA9PiB4ICE9PSAwKTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCBnZXRDb3B5VG8gPSAocmFuZCwgYnVmZmVyLCBjb3B5KSA9PiB7DQogICAgICAgICAgICAgICAgYnVmZmVyLmNvcHlUb0NoYW5uZWwoY29weS5tYXAoKCkgPT4gcmFuZCksIDApOw0KICAgICAgICAgICAgICAgIGNvbnN0IGZyZXF1ZW5jeSA9IGJ1ZmZlci5nZXRDaGFubmVsRGF0YSgwKVswXTsNCiAgICAgICAgICAgICAgICBjb25zdCBkYXRhQXR0YWNrZWQgPSBbLi4uYnVmZmVyLmdldENoYW5uZWxEYXRhKDApXQ0KICAgICAgICAgICAgICAgICAgICAubWFwKCh4KSA9PiB4ICE9PSBmcmVxdWVuY3kgfHwgIXggPyBNYXRoLnJhbmRvbSgpIDogeCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFBdHRhY2tlZC5maWx0ZXIoKHgpID0+IHggIT09IGZyZXF1ZW5jeSk7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgZ2V0Tm9pc2VGYWN0b3IgPSAoKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gMjAwMDsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBbLi4ubmV3IFNldChbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZ2V0Q29weUZyb20oQVVESU9fVFJBUCwgbmV3IEF1ZGlvQnVmZmVyKHsgbGVuZ3RoLCBzYW1wbGVSYXRlOiA0NDEwMCB9KSwgbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5nZXRDb3B5VG8oQVVESU9fVFJBUCwgbmV3IEF1ZGlvQnVmZmVyKHsgbGVuZ3RoLCBzYW1wbGVSYXRlOiA0NDEwMCB9KSwgbmV3IEZsb2F0MzJBcnJheShsZW5ndGgpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIF0pXTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICsocmVzdWx0Lmxlbmd0aCAhPT0gMSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJlZHVjZSgoYWNjLCBuKSA9PiBhY2MgKz0gK24sIDApKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3Qgbm9pc2VGYWN0b3IgPSBnZXROb2lzZUZhY3RvcigpOw0KICAgICAgICAgICAgY29uc3Qgbm9pc2UgPSAobm9pc2VGYWN0b3IgfHwgWy4uLm5ldyBTZXQoYmlucy5zbGljZSgwLCAxMDApKV0NCiAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIG4pID0+IGFjYyArPSBuLCAwKSk7DQogICAgICAgICAgICAvLyBMb2NrZWQgUGF0dGVybnMNCiAgICAgICAgICAgIGNvbnN0IGtub3duID0gew0KICAgICAgICAgICAgICAgIC8qIEJMSU5LICovDQogICAgICAgICAgICAgICAgLy8gMTI0LjA0MzQ3NTI3NTE2MDc0LzEyNC4wNDM0NzUxODU3NTM3OA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg2MjA5MTA2NDQ1LDE2NDUzNy42NDc5NjgyOTIyNCw1MDIuNTk5OTI4MzA2ODEyMic6IFsxMjQuMDQzNDc1Mjc1MTYwNzRdLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDUzNy42NDc5NjgyOTIyNCw1MDIuNTk5OTI4MzA2ODEyMic6IFsxMjQuMDQzNDc1Mjc1MTYwNzRdLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDUzNy42NDc5NTMwMzM0NSw1MDIuNTk5OTI4MzA2ODEyMic6IFsNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQ3NTI3NTE2MDc0LA0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc1MTg1NzUzNzgsDQogICAgICAgICAgICAgICAgICAgIC8vIHN1czoNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQ3NTE5MzIwNDM2LA0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc1MjMwNDU3MjYsDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4NjIwOTEwNjQ0NSwxNjQ1MzcuNjQ4MDU5ODQ0OTcsNTAyLjU5OTkyODMwNjgxMjInOiBbMTI0LjA0MzQ3NTI3NTE2MDc0XSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ1MzcuNjQ4MDU5ODQ0OTcsNTAyLjU5OTkyODMwNjgxMjInOiBbDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzUyNzUxNjA3NCwNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQ3NTE4NTc1Mzc4LA0KICAgICAgICAgICAgICAgICAgICAvLyBzdXMNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQ3NTIwMDY1NDk0LA0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc1MjM3OTA3ODQsDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzUyNTI4MDksDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzUyNjAyNTk1OCwNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQ3NTIyMzAwNjY4LA0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc1MjMwNDU3MjYsDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzUyNDUzNTg0MiwNCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIC8vIDEyNC4wNDM0NDg4NDM5NTY4Nw0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDg4MS45NzI3OTM1NzkxLDUwMi41OTk5MDMxNzkwODg4Nyc6IFsxMjQuMDQzNDQ4ODQzOTU2ODddLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDg4MS45NzI5MzA5MDgyLDUwMi41OTk5MDMxNzkwODg4Nyc6IFsxMjQuMDQzNDQ4ODQzOTU2ODddLA0KICAgICAgICAgICAgICAgIC8vIDEyNC4wNDM0NDg4NDM5Nzg3DQogICAgICAgICAgICAgICAgJy0yMC41MzgyODYyMDkxMDY0NDUsMTY0ODgyLjIwODI3NDg0MTMsNTAyLjU5OTkwMzE3OTExNDM0JzogWzEyNC4wNDM0NDg4NDM5Nzg3XSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ4ODIuMjA4MzY2Mzk0MDQsNTAyLjU5OTkwMzE3OTExNDM0JzogWzEyNC4wNDM0NDg4NDM5Nzg3XSwNCiAgICAgICAgICAgICAgICAvLyAxMjQuMDQzNDQ5Njg0NzUxOTgNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4NjIwOTEwNjQ0NSwxNjQ4NjMuNDUzMTkzNjY0NTUsNTAyLjU5OTkwMzM0OTU3OTEnOiBbMTI0LjA0MzQ0OTY4NDc1MTk4XSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ4NjMuNDUzMTkzNjY0NTUsNTAyLjU5OTkwMzM0OTU3OTEnOiBbDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NDk2ODQ3NTE5OCwNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0Mzc1MzE0Njg5OTY5LA0KICAgICAgICAgICAgICAgICAgICAvLyBzdXMNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQxNTQxMjA4MTIzLA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgLy8gMTI0LjA0MzQ3NTAzNzIwNzgzIChyYXJlKQ0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDUzMS44MjY3MDU5MzI2Miw1MDIuNTk5OTI3Njc4ODY3OTcnOiBbDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzUwMzcyMDc4MywNCiAgICAgICAgICAgICAgICAgICAgLy8gc3VzDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzQ5NDc4MDA4NiwNCiAgICAgICAgICAgICAgICAgICAgMTI0LjA0MzQ3NDk1NTI1MTQ0LA0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc0OTkyNTA0MzQsDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzUwMDc0MDU1LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgLy8gMTI0LjA0MzQ3NjU3ODA4MTAzDQogICAgICAgICAgICAgICAgJy0yMC41MzgyODYyMDkxMDY0NDUsMTY0NTQwLjE1Njc5OTMxNjQsNTAyLjU5OTkyMjA5MjU4NDE3JzogWzEyNC4wNDM0NzY1NzgwODEwM10sDQogICAgICAgICAgICAgICAgJy0yMC41MzgyODgxMTY0NTUwNzgsMTY0NTQwLjE1Njc5OTMxNjQsNTAyLjU5OTkyMjA5MjU4NDE3JzogWw0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc2NTc4MDgxMDMsDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM0NzY1MTEwMjU4LA0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc2NTYzMTc5ODcsDQogICAgICAgICAgICAgICAgICAgIC8vIHN1cw0KICAgICAgICAgICAgICAgICAgICAxMjQuMDQzNDc2NTcwNjMwNDUsDQogICAgICAgICAgICAgICAgICAgIDEyNC4wNDM3ODAwNDAyMjg3NCwNCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDU0MC4xNTgwODEwNTQ3LDUwMi41OTk5MjIwOTI1ODQxNyc6IFsxMjQuMDQzNDc2NTc4MDgxMDNdLA0KICAgICAgICAgICAgICAgIC8vIDEyNC4wODA3MjI1NjgwOTEvMTI0LjA0MzQ3NzMwNTkwOTYyIChyYXJlKQ0KICAgICAgICAgICAgICAgICctMjAuNTM1MjY4NzgzNTY5MzM2LDE2NDk0MC4zNjA3ODY0MzgsNTAyLjY5Njk1NDU4MjMzNzY0JzogWzEyNC4wODA3MjI1NjgwOTFdLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDUzOC41NTA3MzkyODgzMyw1MDIuNTk5OTMwNzE3NTQwNyc6IFsxMjQuMDQzNDc3MzA1OTA5NjJdLA0KICAgICAgICAgICAgICAgIC8vIEFuZHJvaWQvTGludXgNCiAgICAgICAgICAgICAgICAnLTIwLjUzNTI2ODc4MzU2OTMzNiwxNjQ5NDguMTQ1OTY1NTc2MTcsNTAyLjY5Njk1NDU4MjM2MzEnOiBbMTI0LjA4MDcyMjU2ODExMjgzXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzNTI2ODc4MzU2OTMzNiwxNjQ5MjYuNjU5MTI2MjgxNzQsNTAyLjY5Njk2MTA5MzAwNjQnOiBbMTI0LjA4MDcyNzY2MTA1MDMzXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzNTI2ODc4MzU2OTMzNiwxNjQ5MzIuOTYxNjg1MTgwNjYsNTAyLjY5Njk2MTc5OTg1NDc2JzogWzEyNC4wODA3Mjc4NzgwMjY2Nl0sDQogICAgICAgICAgICAgICAgJy0yMC41MzUyNjg3ODM1NjkzMzYsMTY0OTMxLjU0MjUyNjI0NTEyLDUwMi42OTY5NjE3OTk4ODAyJzogWzEyNC4wODA3Mjc4NzgwNDg0OV0sDQogICAgICAgICAgICAgICAgJy0yMC41MzUyNjg3ODM1NjkzMzYsMTY0NTkxLjk2NTk3MjkwMDQsNTAyLjY5Njk5MjUwNTk3ODQnOiBbMTI0LjA4MDc0NTAwMDI4MzA2XSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzNTI2ODc4MzU2OTMzNiwxNjQ1OTAuNDExMTQ4MDcxMyw1MDIuNjk2OTk0Nzc3NDc0Mic6IFsxMjQuMDgwNzQ3MDExMDA4NV0sDQogICAgICAgICAgICAgICAgJy0yMC41MzUyNjg3ODM1NjkzMzYsMTY0NTkwLjQxMTE1NTcwMDY4LDUwMi42OTY5OTQ3Nzc0NzQyJzogWzEyNC4wODA3NDcwMTEwMDg1XSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzNTI2ODc4MzU2OTMzNiwxNjQ1OTMuNjQyNjM5MTYwMTYsNTAyLjY5NzAwNDkwMTE5MDY3JzogWzEyNC4wODA3NTUyODI3OTAwNV0sDQogICAgICAgICAgICAgICAgJy0yMC41MzUyNjg3ODM1NjkzMzYsMTY0NTk1LjAyODU3OTcxMTksNTAyLjY5NzAwNTc4MzE1MzE0JzogWzEyNC4wODA3NTY0MzQ4MzYwOF0sDQogICAgICAgICAgICAgICAgLy8gc3VzDQogICAgICAgICAgICAgICAgJy0yMC41MzgyODgxMTY0NTUwNzgsMTY0ODYwLjk2NTc2NjkwNjc0LDUwMi42MDc1NzQ4MTE4OTE1JzogWzEyNC4wNDM0NDk2Mjc5NDEzXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ4NjAuOTkzODU4MzM3NCw1MDIuNjA3MzcyMzg2MTQwNyc6IFsxMjQuMDQzNDQ5NjI4MTc0MTNdLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDg2Mi4xNDA3ODUyMTcyOSw1MDIuNTk5OTEwMDQxMzA2NDMnOiBbMTI0LjA0MzQ1NzM0ODMzNjIzXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ1MzQuNTAwNDc2ODM3MTYsNTAyLjYxNTQyMTEwNDcxMDU1JzogWzEyNC4wNDM0NzUyMDM2ODE3NF0sDQogICAgICAgICAgICAgICAgJy0yMC41MzgyODgxMTY0NTUwNzgsMTY0NTM1LjEzMjQwNDMyNzQsNTAyLjYwNzkyMDA1NzI5MzEnOiBbMTI0LjA0MzQ3NTIxOTk3OTg4XSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ1MzUuNTExMzU2MzUzNzYsNTAyLjYwNjMzMTI2NDQ4Mzc0JzogWzEyNC4wNDM0NzUyMjk1MjU5NF0sDQogICAgICAgICAgICAgICAgLyogR0VDS08gKi8NCiAgICAgICAgICAgICAgICAnLTMxLjUwOTI2MjA4NDk2MDkzOCwxNjc3MjIuNjg5NDQ1NDk1NiwxNDguNDI3MTc3ODcyNTA4NzYnOiBbMzUuNzM4MzI5NTkzMDkyMl0sDQogICAgICAgICAgICAgICAgJy0zMS41MDkyNjIwODQ5NjA5MzgsMTY3NzI4LjcyNzU2OTU4MDA4LDE0OC40MjcxODQzNDMzMzgnOiBbMzUuNzM4MzM0MDIyNDYyMzddLA0KICAgICAgICAgICAgICAgICctMzEuNTAyMTg5NjM2MjMwNDcsMTY3NzIxLjI3NTE3NzAwMTk1LDE0OC40NzUzNzgyODYwOTM0Nyc6IFszNS43NDk5NjAzMTQ0ODI0NV0sDQogICAgICAgICAgICAgICAgJy0zMS41MDIxODU4MjE1MzMyMDMsMTY3NzI3LjUyOTMxOTc2MzE4LDE0OC40NzU0MjAyMzY1ODc1Mic6IFszNS43NDk5NjgxNjczOTQ0XSwNCiAgICAgICAgICAgICAgICAvKiBXRUJLSVQgKi8NCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ4NzMuODAzNjE1NTcwMDcsNTAyLjU5OTg5OTA0NDUyNTk2JzogWzEyNC4wNDM0NDg1MzAxODEyXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ4NjMuNDc3NjAzOTEyMzUsNTAyLjU5OTkwMzM0NTMzNzInOiBbMTI0LjA0MzQ0OTY4NDk1NTddLA0KICAgICAgICAgICAgICAgICctMjAuNTM4Mjg4MTE2NDU1MDc4LDE2NDg3Ni42MjQ2NjA0OTE5NCw1MDIuNTk5ODkxMTk2MTcyNCc6IFsxMjQuMDQzNDUzMjY1ODkxXSwNCiAgICAgICAgICAgICAgICAnLTIwLjUzODI4ODExNjQ1NTA3OCwxNjQ4NjIuMTQ4Nzk5ODk2MjQsNTAyLjU5OTkxMDA0MTMwNjQzJzogWzEyNC4wNDM0NTczNDgzMzYyM10sDQogICAgICAgICAgICAgICAgJy0yMC41MzgyODgxMTY0NTUwNzgsMTY0ODk2LjU0MTY3MTc1MjkzLDUwMi41OTk5MDU0OTE2NDY1JzogWzEyNC4wNDM0NTgwODg3Mzc2OF0sDQogICAgICAgICAgICAgICAgJy0yOS44Mzc4NzM0NTg4NjIzMDUsMTYzMjA2LjQzMDUwMzg0NTIxLDAnOiBbMzUuMTA4OTI3MTc1NDAyNjRdLA0KICAgICAgICAgICAgICAgICctMjkuODM3ODczNDU4ODYyMzA1LDE2MzIyNC42OTc4NTMwODgzOCwwJzogWzM1LjEwODkyNzUyNTU3OTkzXSwNCiAgICAgICAgICAgICAgICAnLTI5LjgzNzg2OTY0NDE2NTA0LDE2MzIwOS4xNzI0NTQ4MzM5OCwwJzogWzM1LjEwODkzMjMyMDAyODU0XSwNCiAgICAgICAgICAgICAgICAnLTI5LjgzNzg2OTY0NDE2NTA0LDE2MzIwMi43NzMzNjg4MzU0NSwwJzogWzM1LjEwODkzMjUzMjM3MDA5XSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBpZiAobm9pc2UpIHsNCiAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnQXVkaW9CdWZmZXInLCAnc2FtcGxlIG5vaXNlIGRldGVjdGVkJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gJycgKyBbDQogICAgICAgICAgICAgICAgY29tcHJlc3NvckdhaW5SZWR1Y3Rpb24sDQogICAgICAgICAgICAgICAgZmxvYXRGcmVxdWVuY3lEYXRhU3VtLA0KICAgICAgICAgICAgICAgIGZsb2F0VGltZURvbWFpbkRhdGFTdW0sDQogICAgICAgICAgICBdOw0KICAgICAgICAgICAgY29uc3Qga25vd25QYXR0ZXJuID0ga25vd25bcGF0dGVybl07DQogICAgICAgICAgICBpZiAoa25vd25QYXR0ZXJuICYmICFrbm93blBhdHRlcm4uaW5jbHVkZXMoc2FtcGxlU3VtKSkgew0KICAgICAgICAgICAgICAgIExvd2VyRW50cm9weS5BVURJTyA9IHRydWU7DQogICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ0F1ZGlvQnVmZmVyJywgJ3N1c3BpY2lvdXMgZnJlcXVlbmN5IGRhdGEnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdhdWRpbycsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgdG90YWxVbmlxdWVTYW1wbGVzLA0KICAgICAgICAgICAgICAgIGNvbXByZXNzb3JHYWluUmVkdWN0aW9uLA0KICAgICAgICAgICAgICAgIGZsb2F0RnJlcXVlbmN5RGF0YVN1bSwNCiAgICAgICAgICAgICAgICBmbG9hdFRpbWVEb21haW5EYXRhU3VtLA0KICAgICAgICAgICAgICAgIHNhbXBsZVN1bSwNCiAgICAgICAgICAgICAgICBiaW5zU2FtcGxlLA0KICAgICAgICAgICAgICAgIGNvcHlTYW1wbGU6IGNvcHlGcm9tQ2hhbm5lbFN1cHBvcnRlZCA/IGNvcHlTYW1wbGUgOiBbdW5kZWZpbmVkXSwNCiAgICAgICAgICAgICAgICB2YWx1ZXMsDQogICAgICAgICAgICAgICAgbm9pc2UsDQogICAgICAgICAgICAgICAgbGllZCwNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ2F1ZGlvJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvciwgJ09mZmxpbmVBdWRpb0NvbnRleHQgZmFpbGVkIG9yIGJsb2NrZWQgYnkgY2xpZW50Jyk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgLy8gaW5zcGlyZWQgYnkgaHR0cHM6Ly9hcmtlbmZveC5naXRodWIuaW8vVFpQL3Rlc3RzL2NhbnZhc25vaXNlLmh0bWwNCiAgICBsZXQgcGl4ZWxJbWFnZVJhbmRvbSA9ICcnOw0KICAgIGNvbnN0IGdldFBpeGVsTW9kcyA9ICgpID0+IHsNCiAgICAgICAgY29uc3QgcGF0dGVybjEgPSBbXTsNCiAgICAgICAgY29uc3QgcGF0dGVybjIgPSBbXTsNCiAgICAgICAgY29uc3QgbGVuID0gODsgLy8gY2FudmFzIGRpbWVuc2lvbnMNCiAgICAgICAgY29uc3QgYWxwaGEgPSAyNTU7DQogICAgICAgIGNvbnN0IHZpc3VhbE11bHRpcGxpZXIgPSA1Ow0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgLy8gY3JlYXRlIDIgY2FudmFzIGNvbnRleHRzDQogICAgICAgICAgICBjb25zdCBvcHRpb25zID0gew0KICAgICAgICAgICAgICAgIHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZSwNCiAgICAgICAgICAgICAgICBkZXN5bmNocm9uaXplZDogdHJ1ZSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCBjYW52YXNEaXNwbGF5MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOw0KICAgICAgICAgICAgY29uc3QgY2FudmFzRGlzcGxheTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsNCiAgICAgICAgICAgIGNvbnN0IGNhbnZhczEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsNCiAgICAgICAgICAgIGNvbnN0IGNhbnZhczIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsNCiAgICAgICAgICAgIGNvbnN0IGNvbnRleHREaXNwbGF5MSA9IGNhbnZhc0Rpc3BsYXkxLmdldENvbnRleHQoJzJkJywgb3B0aW9ucyk7DQogICAgICAgICAgICBjb25zdCBjb250ZXh0RGlzcGxheTIgPSBjYW52YXNEaXNwbGF5Mi5nZXRDb250ZXh0KCcyZCcsIG9wdGlvbnMpOw0KICAgICAgICAgICAgY29uc3QgY29udGV4dDEgPSBjYW52YXMxLmdldENvbnRleHQoJzJkJywgb3B0aW9ucyk7DQogICAgICAgICAgICBjb25zdCBjb250ZXh0MiA9IGNhbnZhczIuZ2V0Q29udGV4dCgnMmQnLCBvcHRpb25zKTsNCiAgICAgICAgICAgIGlmICghY29udGV4dERpc3BsYXkxIHx8ICFjb250ZXh0RGlzcGxheTIgfHwgIWNvbnRleHQxIHx8ICFjb250ZXh0Mikgew0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2FudmFzIGNvbnRleHQgYmxvY2tlZCcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gc2V0IHRoZSBkaW1lbnNpb25zDQogICAgICAgICAgICBjYW52YXNEaXNwbGF5MS53aWR0aCA9IGxlbiAqIHZpc3VhbE11bHRpcGxpZXI7DQogICAgICAgICAgICBjYW52YXNEaXNwbGF5MS5oZWlnaHQgPSBsZW4gKiB2aXN1YWxNdWx0aXBsaWVyOw0KICAgICAgICAgICAgY2FudmFzRGlzcGxheTIud2lkdGggPSBsZW4gKiB2aXN1YWxNdWx0aXBsaWVyOw0KICAgICAgICAgICAgY2FudmFzRGlzcGxheTIuaGVpZ2h0ID0gbGVuICogdmlzdWFsTXVsdGlwbGllcjsNCiAgICAgICAgICAgIGNhbnZhczEud2lkdGggPSBsZW47DQogICAgICAgICAgICBjYW52YXMxLmhlaWdodCA9IGxlbjsNCiAgICAgICAgICAgIGNhbnZhczIud2lkdGggPSBsZW47DQogICAgICAgICAgICBjYW52YXMyLmhlaWdodCA9IGxlbjsNCiAgICAgICAgICAgIFsuLi5BcnJheShsZW4pXS5mb3JFYWNoKChlLCB4KSA9PiBbLi4uQXJyYXkobGVuKV0uZm9yRWFjaCgoZSwgeSkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHJlZCA9IH5+KE1hdGgucmFuZG9tKCkgKiAyNTYpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGdyZWVuID0gfn4oTWF0aC5yYW5kb20oKSAqIDI1Nik7DQogICAgICAgICAgICAgICAgY29uc3QgYmx1ZSA9IH5+KE1hdGgucmFuZG9tKCkgKiAyNTYpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IGAke3JlZH0sICR7Z3JlZW59LCAke2JsdWV9LCAke2FscGhhfWA7DQogICAgICAgICAgICAgICAgY29udGV4dDEuZmlsbFN0eWxlID0gYHJnYmEoJHtjb2xvcnN9KWA7DQogICAgICAgICAgICAgICAgY29udGV4dDEuZmlsbFJlY3QoeCwgeSwgMSwgMSk7DQogICAgICAgICAgICAgICAgLy8gY2FwdHVyZSBkYXRhIGluIHZpc3VhbHMNCiAgICAgICAgICAgICAgICBjb250ZXh0RGlzcGxheTEuZmlsbFN0eWxlID0gYHJnYmEoJHtjb2xvcnN9KWA7DQogICAgICAgICAgICAgICAgY29udGV4dERpc3BsYXkxLmZpbGxSZWN0KHggKiB2aXN1YWxNdWx0aXBsaWVyLCB5ICogdmlzdWFsTXVsdGlwbGllciwgMSAqIHZpc3VhbE11bHRpcGxpZXIsIDEgKiB2aXN1YWxNdWx0aXBsaWVyKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gcGF0dGVybjEucHVzaChjb2xvcnMpOyAvLyBjb2xsZWN0IHRoZSBwaXhlbCBwYXR0ZXJuDQogICAgICAgICAgICB9KSk7DQogICAgICAgICAgICBbLi4uQXJyYXkobGVuKV0uZm9yRWFjaCgoZSwgeCkgPT4gWy4uLkFycmF5KGxlbildLmZvckVhY2goKGUsIHkpID0+IHsNCiAgICAgICAgICAgICAgICAvLyBnZXQgY29udGV4dDEgcGl4ZWwgZGF0YSBhbmQgbWlycm9yIHRvIGNvbnRleHQyDQogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBbcmVkLCBncmVlbiwgYmx1ZSwgYWxwaGFdLCB9ID0gY29udGV4dDEuZ2V0SW1hZ2VEYXRhKHgsIHksIDEsIDEpIHx8IHt9Ow0KICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9ycyA9IGAke3JlZH0sICR7Z3JlZW59LCAke2JsdWV9LCAke2FscGhhfWA7DQogICAgICAgICAgICAgICAgY29udGV4dDIuZmlsbFN0eWxlID0gYHJnYmEoJHtjb2xvcnN9KWA7DQogICAgICAgICAgICAgICAgY29udGV4dDIuZmlsbFJlY3QoeCwgeSwgMSwgMSk7DQogICAgICAgICAgICAgICAgLy8gY2FwdHVyZSBub2lzZSBpbiB2aXN1YWxzDQogICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBbcmVkMiwgZ3JlZW4yLCBibHVlMiwgYWxwaGEyXSwgfSA9IGNvbnRleHQyLmdldEltYWdlRGF0YSh4LCB5LCAxLCAxKSB8fCB7fTsNCiAgICAgICAgICAgICAgICBjb25zdCBjb2xvcnNEaXNwbGF5ID0gYA0KCQkJCSR7cmVkICE9IHJlZDIgPyByZWQyIDogMjU1fSwNCgkJCQkke2dyZWVuICE9IGdyZWVuMiA/IGdyZWVuMiA6IDI1NX0sDQoJCQkJJHtibHVlICE9IGJsdWUyID8gYmx1ZTIgOiAyNTV9LA0KCQkJCSR7YWxwaGEgIT0gYWxwaGEyID8gYWxwaGEyIDogMX0NCgkJCWA7DQogICAgICAgICAgICAgICAgY29udGV4dERpc3BsYXkyLmZpbGxTdHlsZSA9IGByZ2JhKCR7Y29sb3JzRGlzcGxheX0pYDsNCiAgICAgICAgICAgICAgICBjb250ZXh0RGlzcGxheTIuZmlsbFJlY3QoeCAqIHZpc3VhbE11bHRpcGxpZXIsIHkgKiB2aXN1YWxNdWx0aXBsaWVyLCAxICogdmlzdWFsTXVsdGlwbGllciwgMSAqIHZpc3VhbE11bHRpcGxpZXIpOw0KICAgICAgICAgICAgICAgIHJldHVybiBwYXR0ZXJuMi5wdXNoKGNvbG9ycyk7IC8vIGNvbGxlY3QgdGhlIHBpeGVsIHBhdHRlcm4NCiAgICAgICAgICAgIH0pKTsNCiAgICAgICAgICAgIC8vIGNvbXBhcmUgdGhlIHBhdHRlcm4gY29sbGVjdGlvbnMgYW5kIGNvbGxlY3QgZGlmZnMNCiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5EaWZmcyA9IFtdOw0KICAgICAgICAgICAgY29uc3QgcmdiYUNoYW5uZWxzID0gbmV3IFNldCgpOw0KICAgICAgICAgICAgWy4uLkFycmF5KHBhdHRlcm4xLmxlbmd0aCldLmZvckVhY2goKGUsIGkpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBwaXhlbENvbG9yMSA9IHBhdHRlcm4xW2ldOw0KICAgICAgICAgICAgICAgIGNvbnN0IHBpeGVsQ29sb3IyID0gcGF0dGVybjJbaV07DQogICAgICAgICAgICAgICAgaWYgKHBpeGVsQ29sb3IxICE9IHBpeGVsQ29sb3IyKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJnYmFWYWx1ZXMxID0gcGl4ZWxDb2xvcjEuc3BsaXQoJywnKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmdiYVZhbHVlczIgPSBwaXhlbENvbG9yMi5zcGxpdCgnLCcpOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xvcnMgPSBbDQogICAgICAgICAgICAgICAgICAgICAgICByZ2JhVmFsdWVzMVswXSAhPSByZ2JhVmFsdWVzMlswXSA/ICdyJyA6ICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgcmdiYVZhbHVlczFbMV0gIT0gcmdiYVZhbHVlczJbMV0gPyAnZycgOiAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHJnYmFWYWx1ZXMxWzJdICE9IHJnYmFWYWx1ZXMyWzJdID8gJ2InIDogJycsDQogICAgICAgICAgICAgICAgICAgICAgICByZ2JhVmFsdWVzMVszXSAhPSByZ2JhVmFsdWVzMlszXSA/ICdhJyA6ICcnLA0KICAgICAgICAgICAgICAgICAgICBdLmpvaW4oJycpOw0KICAgICAgICAgICAgICAgICAgICByZ2JhQ2hhbm5lbHMuYWRkKGNvbG9ycyk7DQogICAgICAgICAgICAgICAgICAgIHBhdHRlcm5EaWZmcy5wdXNoKFtpLCBjb2xvcnNdKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHBpeGVsSW1hZ2VSYW5kb20gPSBjYW52YXNEaXNwbGF5MS50b0RhdGFVUkwoKTsgLy8gdGVtcGxhdGUgdXNlIG9ubHkNCiAgICAgICAgICAgIGNvbnN0IHBpeGVsSW1hZ2UgPSBjYW52YXNEaXNwbGF5Mi50b0RhdGFVUkwoKTsNCiAgICAgICAgICAgIGNvbnN0IHJnYmEgPSByZ2JhQ2hhbm5lbHMuc2l6ZSA/IFsuLi5yZ2JhQ2hhbm5lbHNdLnNvcnQoKS5qb2luKCcsICcpIDogdW5kZWZpbmVkOw0KICAgICAgICAgICAgY29uc3QgcGl4ZWxzID0gcGF0dGVybkRpZmZzLmxlbmd0aCB8fCB1bmRlZmluZWQ7DQogICAgICAgICAgICByZXR1cm4geyByZ2JhLCBwaXhlbHMsIHBpeGVsSW1hZ2UgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGVycm9yKTsNCiAgICAgICAgfQ0KICAgIH07DQogICAgLy8gYmFzZWQgb24gYW5kIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnRvaW5ldmFzdGVsL3BpY2Fzc28tbGlrZS1jYW52YXMtZmluZ2VycHJpbnRpbmcNCiAgICBjb25zdCBwYWludENhbnZhcyA9ICh7IGNhbnZhcywgY29udGV4dCwgc3Ryb2tlVGV4dCA9IGZhbHNlLCBjc3NGb250RmFtaWx5ID0gJycsIGFyZWEgPSB7IHdpZHRoOiA1MCwgaGVpZ2h0OiA1MCB9LCByb3VuZHMgPSAxMCwgbWF4U2hhZG93Qmx1ciA9IDUwLCBzZWVkID0gNTAwLCBvZmZzZXQgPSAyMDAxMDAwMDAxLCBtdWx0aXBsaWVyID0gMTUwMDAsIH0pID0+IHsNCiAgICAgICAgaWYgKCFjb250ZXh0KSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsNCiAgICAgICAgY2FudmFzLndpZHRoID0gYXJlYS53aWR0aDsNCiAgICAgICAgY2FudmFzLmhlaWdodCA9IGFyZWEuaGVpZ2h0Ow0KICAgICAgICBpZiAoY2FudmFzLnN0eWxlKSB7DQogICAgICAgICAgICBjYW52YXMuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBjcmVhdGVQaWNhc3NvU2VlZCA9ICh7IHNlZWQsIG9mZnNldCwgbXVsdGlwbGllciB9KSA9PiB7DQogICAgICAgICAgICBsZXQgY3VycmVudCA9IE51bWJlcihzZWVkKSAlIE51bWJlcihvZmZzZXQpOw0KICAgICAgICAgICAgY29uc3QgZ2V0TmV4dFNlZWQgPSAoKSA9PiB7DQogICAgICAgICAgICAgICAgY3VycmVudCA9IChOdW1iZXIobXVsdGlwbGllcikgKiBjdXJyZW50KSAlIE51bWJlcihvZmZzZXQpOw0KICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50Ow0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgZ2V0TmV4dFNlZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBwaWNhc3NvU2VlZCA9IGNyZWF0ZVBpY2Fzc29TZWVkKHsgc2VlZCwgb2Zmc2V0LCBtdWx0aXBsaWVyIH0pOw0KICAgICAgICBjb25zdCB7IGdldE5leHRTZWVkIH0gPSBwaWNhc3NvU2VlZDsNCiAgICAgICAgY29uc3QgcGF0Y2hTZWVkID0gKGN1cnJlbnQsIG9mZnNldCwgbWF4Qm91bmQsIGNvbXB1dGVGbG9hdCkgPT4gew0KICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKCgoY3VycmVudCAtIDEpIC8gb2Zmc2V0KSAqIChtYXhCb3VuZCB8fCAxKSkgfHwgMDsNCiAgICAgICAgICAgIHJldHVybiBjb21wdXRlRmxvYXQgPyByZXN1bHQgOiBNYXRoLmZsb29yKHJlc3VsdCk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGFkZFJhbmRvbUNhbnZhc0dyYWRpZW50ID0gKGNvbnRleHQsIG9mZnNldCwgYXJlYSwgY29sb3JzLCBnZXROZXh0U2VlZCkgPT4gew0KICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBhcmVhOw0KICAgICAgICAgICAgY29uc3QgY2FudmFzR3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZVJhZGlhbEdyYWRpZW50KHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIHdpZHRoKSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgaGVpZ2h0KSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgd2lkdGgpLCBwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCB3aWR0aCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIGhlaWdodCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIHdpZHRoKSk7DQogICAgICAgICAgICBjYW52YXNHcmFkaWVudC5hZGRDb2xvclN0b3AoMCwgY29sb3JzW3BhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIGNvbG9ycy5sZW5ndGgpXSk7DQogICAgICAgICAgICBjYW52YXNHcmFkaWVudC5hZGRDb2xvclN0b3AoMSwgY29sb3JzW3BhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIGNvbG9ycy5sZW5ndGgpXSk7DQogICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNhbnZhc0dyYWRpZW50Ow0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBjb2xvcnMgPSBbDQogICAgICAgICAgICAnI0ZGNjYzMycsICcjRkZCMzk5JywgJyNGRjMzRkYnLCAnI0ZGRkY5OScsICcjMDBCM0U2JywNCiAgICAgICAgICAgICcjRTZCMzMzJywgJyMzMzY2RTYnLCAnIzk5OTk2NicsICcjOTlGRjk5JywgJyNCMzRENEQnLA0KICAgICAgICAgICAgJyM4MEIzMDAnLCAnIzgwOTkwMCcsICcjRTZCM0IzJywgJyM2NjgwQjMnLCAnIzY2OTkxQScsDQogICAgICAgICAgICAnI0ZGOTlFNicsICcjQ0NGRjFBJywgJyNGRjFBNjYnLCAnI0U2MzMxQScsICcjMzNGRkNDJywNCiAgICAgICAgICAgICcjNjY5OTREJywgJyNCMzY2Q0MnLCAnIzREODAwMCcsICcjQjMzMzAwJywgJyNDQzgwQ0MnLA0KICAgICAgICAgICAgJyM2NjY2NEQnLCAnIzk5MUFGRicsICcjRTY2NkZGJywgJyM0REIzRkYnLCAnIzFBQjM5OScsDQogICAgICAgICAgICAnI0U2NjZCMycsICcjMzM5OTFBJywgJyNDQzk5OTknLCAnI0IzQjMxQScsICcjMDBFNjgwJywNCiAgICAgICAgICAgICcjNEQ4MDY2JywgJyM4MDk5ODAnLCAnI0U2RkY4MCcsICcjMUFGRjMzJywgJyM5OTk5MzMnLA0KICAgICAgICAgICAgJyNGRjMzODAnLCAnI0NDQ0MwMCcsICcjNjZFNjREJywgJyM0RDgwQ0MnLCAnIzk5MDBCMycsDQogICAgICAgICAgICAnI0U2NEQ2NicsICcjNERCMzgwJywgJyNGRjRENEQnLCAnIzk5RTZFNicsICcjNjY2NkZGJywNCiAgICAgICAgXTsNCiAgICAgICAgY29uc3QgZHJhd091dGxpbmVPZlRleHQgPSAoY29udGV4dCwgb2Zmc2V0LCBhcmVhLCBnZXROZXh0U2VlZCkgPT4gew0KICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBhcmVhOw0KICAgICAgICAgICAgY29uc3QgZm9udFNpemUgPSAyLjk5Ow0KICAgICAgICAgICAgY29udGV4dC5mb250ID0gYCR7aGVpZ2h0IC8gZm9udFNpemV9cHggJHtjc3NGb250RmFtaWx5LnJlcGxhY2UoLyFpbXBvcnRhbnQvZ20sICcnKX1gOw0KICAgICAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KCfwn5G+QScsIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIHdpZHRoKSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgaGVpZ2h0KSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgd2lkdGgpKTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgY3JlYXRlQ2lyY3VsYXJBcmMgPSAoY29udGV4dCwgb2Zmc2V0LCBhcmVhLCBnZXROZXh0U2VlZCkgPT4gew0KICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBhcmVhOw0KICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTsNCiAgICAgICAgICAgIGNvbnRleHQuYXJjKHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIHdpZHRoKSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgaGVpZ2h0KSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgTWF0aC5taW4od2lkdGgsIGhlaWdodCkpLCBwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCAyICogTWF0aC5QSSwgdHJ1ZSksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIDIgKiBNYXRoLlBJLCB0cnVlKSk7DQogICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBjcmVhdGVCZXppZXJDdXJ2ZSA9IChjb250ZXh0LCBvZmZzZXQsIGFyZWEsIGdldE5leHRTZWVkKSA9PiB7DQogICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGFyZWE7DQogICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOw0KICAgICAgICAgICAgY29udGV4dC5tb3ZlVG8ocGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgd2lkdGgpLCBwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCBoZWlnaHQpKTsNCiAgICAgICAgICAgIGNvbnRleHQuYmV6aWVyQ3VydmVUbyhwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCB3aWR0aCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIGhlaWdodCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIHdpZHRoKSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgaGVpZ2h0KSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgd2lkdGgpLCBwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCBoZWlnaHQpKTsNCiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGNyZWF0ZVF1YWRyYXRpY0N1cnZlID0gKGNvbnRleHQsIG9mZnNldCwgYXJlYSwgZ2V0TmV4dFNlZWQpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gYXJlYTsNCiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7DQogICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCB3aWR0aCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIGhlaWdodCkpOw0KICAgICAgICAgICAgY29udGV4dC5xdWFkcmF0aWNDdXJ2ZVRvKHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIHdpZHRoKSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgaGVpZ2h0KSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgd2lkdGgpLCBwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCBoZWlnaHQpKTsNCiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGNyZWF0ZUVsbGlwdGljYWxBcmMgPSAoY29udGV4dCwgb2Zmc2V0LCBhcmVhLCBnZXROZXh0U2VlZCkgPT4gew0KICAgICAgICAgICAgaWYgKCEoJ2VsbGlwc2UnIGluIGNvbnRleHQpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBhcmVhOw0KICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTsNCiAgICAgICAgICAgIGNvbnRleHQuZWxsaXBzZShwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCB3aWR0aCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIGhlaWdodCksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIE1hdGguZmxvb3Iod2lkdGggLyAyKSksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIE1hdGguZmxvb3IoaGVpZ2h0IC8gMikpLCBwYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCAyICogTWF0aC5QSSwgdHJ1ZSksIHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIDIgKiBNYXRoLlBJLCB0cnVlKSwgcGF0Y2hTZWVkKGdldE5leHRTZWVkKCksIG9mZnNldCwgMiAqIE1hdGguUEksIHRydWUpKTsNCiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IG1ldGhvZHMgPSBbDQogICAgICAgICAgICBjcmVhdGVDaXJjdWxhckFyYywNCiAgICAgICAgICAgIGNyZWF0ZUJlemllckN1cnZlLA0KICAgICAgICAgICAgY3JlYXRlUXVhZHJhdGljQ3VydmUsDQogICAgICAgIF07DQogICAgICAgIGlmICghSVNfV0VCS0lUKQ0KICAgICAgICAgICAgbWV0aG9kcy5wdXNoKGNyZWF0ZUVsbGlwdGljYWxBcmMpOyAvLyB1bnN0YWJsZSBpbiB3ZWJraXQNCiAgICAgICAgaWYgKHN0cm9rZVRleHQpDQogICAgICAgICAgICBtZXRob2RzLnB1c2goZHJhd091dGxpbmVPZlRleHQpOw0KICAgICAgICBbLi4uQXJyYXkocm91bmRzKV0uZm9yRWFjaCgoeCkgPT4gew0KICAgICAgICAgICAgYWRkUmFuZG9tQ2FudmFzR3JhZGllbnQoY29udGV4dCwgb2Zmc2V0LCBhcmVhLCBjb2xvcnMsIGdldE5leHRTZWVkKTsNCiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHBhdGNoU2VlZChnZXROZXh0U2VlZCgpLCBvZmZzZXQsIG1heFNoYWRvd0JsdXIsIHRydWUpOw0KICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IGNvbG9yc1twYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCBjb2xvcnMubGVuZ3RoKV07DQogICAgICAgICAgICBjb25zdCBuZXh0TWV0aG9kID0gbWV0aG9kc1twYXRjaFNlZWQoZ2V0TmV4dFNlZWQoKSwgb2Zmc2V0LCBtZXRob2RzLmxlbmd0aCldOw0KICAgICAgICAgICAgbmV4dE1ldGhvZChjb250ZXh0LCBvZmZzZXQsIGFyZWEsIGdldE5leHRTZWVkKTsNCiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH07DQogICAgYXN5bmMgZnVuY3Rpb24gZ2V0Q2FudmFzMmQoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IGRhdGFMaWUgPSBsaWVQcm9wc1snSFRNTENhbnZhc0VsZW1lbnQudG9EYXRhVVJMJ107DQogICAgICAgICAgICBjb25zdCBjb250ZXh0TGllID0gbGllUHJvcHNbJ0hUTUxDYW52YXNFbGVtZW50LmdldENvbnRleHQnXTsNCiAgICAgICAgICAgIGNvbnN0IGltYWdlRGF0YUxpZSA9IChsaWVQcm9wc1snQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELmZpbGxUZXh0J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELmZvbnQnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQuZ2V0SW1hZ2VEYXRhJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnN0cm9rZVRleHQnXSk7DQogICAgICAgICAgICBjb25zdCBjb2RlUG9pbnRMaWUgPSBsaWVQcm9wc1snU3RyaW5nLmZyb21Db2RlUG9pbnQnXTsNCiAgICAgICAgICAgIGxldCB0ZXh0TWV0cmljc0xpZSA9IChsaWVQcm9wc1snQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELm1lYXN1cmVUZXh0J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snVGV4dE1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydUZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydUZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveExlZnQnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydUZXh0TWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snVGV4dE1ldHJpY3MuZm9udEJvdW5kaW5nQm94QXNjZW50J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snVGV4dE1ldHJpY3MuZm9udEJvdW5kaW5nQm94RGVzY2VudCddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1RleHRNZXRyaWNzLndpZHRoJ10pOw0KICAgICAgICAgICAgbGV0IGxpZWQgPSAoZGF0YUxpZSB8fA0KICAgICAgICAgICAgICAgIGNvbnRleHRMaWUgfHwNCiAgICAgICAgICAgICAgICBpbWFnZURhdGFMaWUgfHwNCiAgICAgICAgICAgICAgICB0ZXh0TWV0cmljc0xpZSB8fA0KICAgICAgICAgICAgICAgIGNvZGVQb2ludExpZSkgfHwgZmFsc2U7DQogICAgICAgICAgICAvLyBjcmVhdGUgY2FudmFzIGNvbnRleHQNCiAgICAgICAgICAgIGxldCB3aW4gPSB3aW5kb3c7DQogICAgICAgICAgICBpZiAoIUxJS0VfQlJBVkUgJiYgUEhBTlRPTV9EQVJLTkVTUykgew0KICAgICAgICAgICAgICAgIHdpbiA9IFBIQU5UT01fREFSS05FU1M7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBkb2MgPSB3aW4uZG9jdW1lbnQ7DQogICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2MuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7DQogICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7DQogICAgICAgICAgICBjb25zdCBjYW52YXNDUFUgPSBkb2MuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7DQogICAgICAgICAgICBjb25zdCBjb250ZXh0Q1BVID0gY2FudmFzQ1BVLmdldENvbnRleHQoJzJkJywgew0KICAgICAgICAgICAgICAgIGRlc3luY2hyb25pemVkOiB0cnVlLA0KICAgICAgICAgICAgICAgIHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZSwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaWYgKCFjb250ZXh0KSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW52YXMgY29udGV4dCBibG9ja2VkJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IGltYWdlU2l6ZU1heCA9IElTX1dFQktJVCA/IDUwIDogNzU7IC8vIHdlYmtpdCBpcyB1bnN0YWJsZQ0KICAgICAgICAgICAgcGFpbnRDYW52YXMoew0KICAgICAgICAgICAgICAgIGNhbnZhcywNCiAgICAgICAgICAgICAgICBjb250ZXh0LA0KICAgICAgICAgICAgICAgIHN0cm9rZVRleHQ6IHRydWUsDQogICAgICAgICAgICAgICAgY3NzRm9udEZhbWlseTogQ1NTX0ZPTlRfRkFNSUxZLA0KICAgICAgICAgICAgICAgIGFyZWE6IHsgd2lkdGg6IGltYWdlU2l6ZU1heCwgaGVpZ2h0OiBpbWFnZVNpemVNYXggfSwNCiAgICAgICAgICAgICAgICByb3VuZHM6IDEwLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb25zdCBkYXRhVVJJID0gY2FudmFzLnRvRGF0YVVSTCgpOw0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICBjb25zdCBtb2RzID0gZ2V0UGl4ZWxNb2RzKCk7DQogICAgICAgICAgICAvLyBUZXh0TWV0cmljczogZ2V0IGVtb2ppIHNldCBhbmQgc3lzdGVtDQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IGAxMHB4ICR7Q1NTX0ZPTlRfRkFNSUxZLnJlcGxhY2UoLyFpbXBvcnRhbnQvZ20sICcnKX1gOw0KICAgICAgICAgICAgY29uc3QgcGF0dGVybiA9IG5ldyBTZXQoKTsNCiAgICAgICAgICAgIGNvbnN0IGVtb2ppU2V0ID0gRU1PSklTLnJlZHVjZSgoZW1vamlTZXQsIGVtb2ppKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBhY3R1YWxCb3VuZGluZ0JveEFzY2VudCwgYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50LCBhY3R1YWxCb3VuZGluZ0JveExlZnQsIGFjdHVhbEJvdW5kaW5nQm94UmlnaHQsIGZvbnRCb3VuZGluZ0JveEFzY2VudCwgZm9udEJvdW5kaW5nQm94RGVzY2VudCwgd2lkdGgsIH0gPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGVtb2ppKSB8fCB7fTsNCiAgICAgICAgICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gWw0KICAgICAgICAgICAgICAgICAgICBhY3R1YWxCb3VuZGluZ0JveEFzY2VudCwNCiAgICAgICAgICAgICAgICAgICAgYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50LA0KICAgICAgICAgICAgICAgICAgICBhY3R1YWxCb3VuZGluZ0JveExlZnQsDQogICAgICAgICAgICAgICAgICAgIGFjdHVhbEJvdW5kaW5nQm94UmlnaHQsDQogICAgICAgICAgICAgICAgICAgIGZvbnRCb3VuZGluZ0JveEFzY2VudCwNCiAgICAgICAgICAgICAgICAgICAgZm9udEJvdW5kaW5nQm94RGVzY2VudCwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgXS5qb2luKCcsJyk7DQogICAgICAgICAgICAgICAgaWYgKCFwYXR0ZXJuLmhhcyhkaW1lbnNpb25zKSkgew0KICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLmFkZChkaW1lbnNpb25zKTsNCiAgICAgICAgICAgICAgICAgICAgZW1vamlTZXQuYWRkKGVtb2ppKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGVtb2ppU2V0Ow0KICAgICAgICAgICAgfSwgbmV3IFNldCgpKTsNCiAgICAgICAgICAgIC8vIHRleHRNZXRyaWNzIFN5c3RlbSBTdW0NCiAgICAgICAgICAgIGNvbnN0IHRleHRNZXRyaWNzU3lzdGVtU3VtID0gMC4wMDAwMSAqIFsuLi5wYXR0ZXJuXS5tYXAoKHgpID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4geC5zcGxpdCgnLCcpLnJlZHVjZSgoYWNjLCB4KSA9PiBhY2MgKz0gKCt4IHx8IDApLCAwKTsNCiAgICAgICAgICAgIH0pLnJlZHVjZSgoYWNjLCB4KSA9PiBhY2MgKz0geCwgMCk7DQogICAgICAgICAgICAvLyBQYWludA0KICAgICAgICAgICAgY29uc3QgbWF4U2l6ZSA9IDc1Ow0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICBwYWludENhbnZhcyh7DQogICAgICAgICAgICAgICAgY2FudmFzLA0KICAgICAgICAgICAgICAgIGNvbnRleHQsDQogICAgICAgICAgICAgICAgYXJlYTogeyB3aWR0aDogbWF4U2l6ZSwgaGVpZ2h0OiBtYXhTaXplIH0sDQogICAgICAgICAgICB9KTsgLy8gY2xlYXJzIGltYWdlDQogICAgICAgICAgICBjb25zdCBwYWludFVSSSA9IGNhbnZhcy50b0RhdGFVUkwoKTsNCiAgICAgICAgICAgIC8vIFBhaW50IHdpdGggQ1BVDQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIHBhaW50Q2FudmFzKHsNCiAgICAgICAgICAgICAgICBjYW52YXM6IGNhbnZhc0NQVSwNCiAgICAgICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0Q1BVLA0KICAgICAgICAgICAgICAgIGFyZWE6IHsgd2lkdGg6IG1heFNpemUsIGhlaWdodDogbWF4U2l6ZSB9LA0KICAgICAgICAgICAgfSk7IC8vIGNsZWFycyBpbWFnZQ0KICAgICAgICAgICAgY29uc3QgcGFpbnRDcHVVUkkgPSBjYW52YXNDUFUudG9EYXRhVVJMKCk7DQogICAgICAgICAgICAvLyBUZXh0DQogICAgICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTsNCiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7DQogICAgICAgICAgICBjYW52YXMud2lkdGggPSA1MDsNCiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSA1MDsNCiAgICAgICAgICAgIGNvbnRleHQuZm9udCA9IGA1MHB4ICR7Q1NTX0ZPTlRfRkFNSUxZLnJlcGxhY2UoLyFpbXBvcnRhbnQvZ20sICcnKX1gOw0KICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dCgnQScsIDcsIDM3KTsNCiAgICAgICAgICAgIGNvbnN0IHRleHRVUkkgPSBjYW52YXMudG9EYXRhVVJMKCk7DQogICAgICAgICAgICAvLyBFbW9qaQ0KICAgICAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7DQogICAgICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOw0KICAgICAgICAgICAgY2FudmFzLndpZHRoID0gNTA7DQogICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gNTA7DQogICAgICAgICAgICBjb250ZXh0LmZvbnQgPSBgMzVweCAke0NTU19GT05UX0ZBTUlMWS5yZXBsYWNlKC8haW1wb3J0YW50L2dtLCAnJyl9YDsNCiAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQoJ/Cfkb4nLCAwLCAzNyk7DQogICAgICAgICAgICBjb25zdCBlbW9qaVVSSSA9IGNhbnZhcy50b0RhdGFVUkwoKTsNCiAgICAgICAgICAgIC8vIGxpZXMNCiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7DQogICAgICAgICAgICBpZiAoKG1vZHMgJiYgbW9kcy5waXhlbHMpIHx8ICEhTWF0aC5tYXgoLi4uY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgOCwgOCkuZGF0YSkpIHsNCiAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZShgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELmdldEltYWdlRGF0YWAsIGBwaXhlbCBkYXRhIG1vZGlmaWVkYCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyB2ZXJpZnkgbG93IGVudHJvcHkgaW1hZ2UgZGF0YQ0KICAgICAgICAgICAgY2FudmFzLndpZHRoID0gMjsNCiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSAyOw0KICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7DQogICAgICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7DQogICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZmZmJzsNCiAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMiwgMiwgMSwgMSk7DQogICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOw0KICAgICAgICAgICAgY29udGV4dC5hcmMoMCwgMCwgMiwgMCwgMSwgdHJ1ZSk7DQogICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpOw0KICAgICAgICAgICAgY29udGV4dC5maWxsKCk7DQogICAgICAgICAgICBjb25zdCBpbWFnZURhdGFMb3dFbnRyb3B5ID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgMiwgMikuZGF0YS5qb2luKCcnKTsNCiAgICAgICAgICAgIGNvbnN0IEtub3duSW1hZ2VEYXRhID0gew0KICAgICAgICAgICAgICAgIEJMSU5LOiBbDQogICAgICAgICAgICAgICAgICAgICcyNTUyNTUyNTUyNTUxOTIxOTIxOTIyNTUyNDAyNDAyNDAyNTU0ODQ4NDgyNTUnLA0KICAgICAgICAgICAgICAgICAgICAnMjU1MjU1MjU1MjU1MTc3MTc3MTc3MjU1MjQ2MjQ2MjQ2MjU1NTM1MzUzMjU1JywNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTEyODEyODEyODI1NTE5MTE5MTE5MTI1NTY0NjQ2NDI1NScsDQogICAgICAgICAgICAgICAgICAgICcyNTUyNTUyNTUyNTUxNzgxNzgxNzgyNTUyNDcyNDcyNDcyNTU1NjU2NTYyNTUnLA0KICAgICAgICAgICAgICAgICAgICAnMjU1MjU1MjU1MjU1MTc0MTc0MTc0MjU1MjQyMjQyMjQyMjU1NDc0NzQ3MjU1JywNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTIyOTIyOTIyOTI1NTEyNzEyNzEyNzI1NTY4Njg2ODI1NScsDQogICAgICAgICAgICAgICAgICAgICcyNTUyNTUyNTUyNTUxOTIxOTIxOTIyNTUyNDQyNDQyNDQyNTU1MzUzNTMyNTUnLA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgR0VDS086IFsNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTE5MjE5MjE5MjI1NTI0MDI0MDI0MDI1NTQ4NDg0ODI1NScsDQogICAgICAgICAgICAgICAgICAgICcyNTUyNTUyNTUyNTUxOTExOTExOTEyNTUyMzkyMzkyMzkyNTU2NDY0NjQyNTUnLA0KICAgICAgICAgICAgICAgICAgICAnMjU1MjU1MjU1MjU1MTkxMTkxMTkxMjU1MjIzMjIzMjIzMjU1NjA2MDYwMjU1JywNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTE3MTE3MTE3MTI1NTIyMzIyMzIyMzI1NTYwNjA2MDI1NScsIC8vID8NCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIFdFQktJVDogWw0KICAgICAgICAgICAgICAgICAgICAnMjU1MjU1MjU1MjU1MTg1MTg1MTg1MjU1MjMzMjMzMjMzMjU1NDc0NzQ3MjU1JywNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTE4NTE4NTE4NTI1NTIyOTIyOTIyOTI1NTQ3NDc0NzI1NScsDQogICAgICAgICAgICAgICAgICAgICcyNTUyNTUyNTUyNTUxODUxODUxODUyNTUyMTgyMTgyMTgyNTU0NzQ3NDcyNTUnLA0KICAgICAgICAgICAgICAgICAgICAnMjU1MjU1MjU1MjU1MTkyMTkyMTkyMjU1MjQwMjQwMjQwMjU1NDg0ODQ4MjU1JywNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTE3ODE3ODE3ODI1NTI0NzI0NzI0NzI1NTU2NTY1NjI1NScsDQogICAgICAgICAgICAgICAgICAgICcyNTUyNTUyNTUyNTUxNzgxNzgxNzgyNTUyNDcyNDcyNDcyNTU1NjU2NTYyNTUnLA0KICAgICAgICAgICAgICAgICAgICAnMjU1MjU1MjU1MjU1MTkyMTkyMTkyMjU1MjQwMjQwMjQwMjU1NDg0ODQ4MjU1JywNCiAgICAgICAgICAgICAgICAgICAgJzI1NTI1NTI1NTI1NTE4NjE4NjE4NjI1NTIxODIxODIxODI1NTQ2NDY0NjI1NScsDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBBbmFseXNpcy5pbWFnZURhdGFMb3dFbnRyb3B5ID0gaW1hZ2VEYXRhTG93RW50cm9weTsNCiAgICAgICAgICAgIGlmIChJU19CTElOSyAmJiAhS25vd25JbWFnZURhdGEuQkxJTksuaW5jbHVkZXMoaW1hZ2VEYXRhTG93RW50cm9weSkpIHsNCiAgICAgICAgICAgICAgICBMb3dlckVudHJvcHkuQ0FOVkFTID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKElTX0dFQ0tPICYmICFLbm93bkltYWdlRGF0YS5HRUNLTy5pbmNsdWRlcyhpbWFnZURhdGFMb3dFbnRyb3B5KSkgew0KICAgICAgICAgICAgICAgIExvd2VyRW50cm9weS5DQU5WQVMgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAoSVNfV0VCS0lUICYmICFLbm93bkltYWdlRGF0YS5XRUJLSVQuaW5jbHVkZXMoaW1hZ2VEYXRhTG93RW50cm9weSkpIHsNCiAgICAgICAgICAgICAgICBMb3dlckVudHJvcHkuQ0FOVkFTID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChMb3dlckVudHJvcHkuQ0FOVkFTKSB7DQogICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5nZXRJbWFnZURhdGEnLCAnc3VzcGljaW91cyBwaXhlbCBkYXRhJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBnZXRUZXh0TWV0cmljc0Zsb2F0TGllID0gKGNvbnRleHQpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBpc0Zsb2F0ID0gKG4pID0+IG4gJSAxICE9PSAwOw0KICAgICAgICAgICAgICAgIGNvbnN0IHsgYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQ6IGFiYmEsIGFjdHVhbEJvdW5kaW5nQm94RGVzY2VudDogYWJiZCwgYWN0dWFsQm91bmRpbmdCb3hMZWZ0OiBhYmJsLCBhY3R1YWxCb3VuZGluZ0JveFJpZ2h0OiBhYmJyLCBmb250Qm91bmRpbmdCb3hBc2NlbnQ6IGZiYmEsIGZvbnRCb3VuZGluZ0JveERlc2NlbnQ6IGZiYmQsDQogICAgICAgICAgICAgICAgLy8gd2lkdGg6IHcsDQogICAgICAgICAgICAgICAgIH0gPSBjb250ZXh0Lm1lYXN1cmVUZXh0KCcnKSB8fCB7fTsNCiAgICAgICAgICAgICAgICBjb25zdCBsaWVkID0gWw0KICAgICAgICAgICAgICAgICAgICBhYmJhLA0KICAgICAgICAgICAgICAgICAgICBhYmJkLA0KICAgICAgICAgICAgICAgICAgICBhYmJsLA0KICAgICAgICAgICAgICAgICAgICBhYmJyLA0KICAgICAgICAgICAgICAgICAgICBmYmJhLA0KICAgICAgICAgICAgICAgICAgICBmYmJkLA0KICAgICAgICAgICAgICAgIF0uZmluZCgoeCkgPT4gaXNGbG9hdCgoeCB8fCAwKSkpOw0KICAgICAgICAgICAgICAgIHJldHVybiBsaWVkOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgaWYgKGdldFRleHRNZXRyaWNzRmxvYXRMaWUoY29udGV4dCkpIHsNCiAgICAgICAgICAgICAgICB0ZXh0TWV0cmljc0xpZSA9IHRydWU7DQogICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5tZWFzdXJlVGV4dCcsICdtZXRyaWMgbm9pc2UgZGV0ZWN0ZWQnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdjYW52YXMgMmQnLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIGRhdGFVUkksDQogICAgICAgICAgICAgICAgcGFpbnRVUkksDQogICAgICAgICAgICAgICAgcGFpbnRDcHVVUkksDQogICAgICAgICAgICAgICAgdGV4dFVSSSwNCiAgICAgICAgICAgICAgICBlbW9qaVVSSSwNCiAgICAgICAgICAgICAgICBtb2RzLA0KICAgICAgICAgICAgICAgIHRleHRNZXRyaWNzU3lzdGVtU3VtLA0KICAgICAgICAgICAgICAgIGxpZWRUZXh0TWV0cmljczogdGV4dE1ldHJpY3NMaWUsDQogICAgICAgICAgICAgICAgZW1vamlTZXQ6IFsuLi5lbW9qaVNldF0sDQogICAgICAgICAgICAgICAgbGllZCwNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ2NhbnZhcyAyZCcsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIGZ1bmN0aW9uIGdldENTUygpIHsNCiAgICAgICAgY29uc3QgY29tcHV0ZVN0eWxlID0gKHR5cGUsIHsgcmVxdWlyZTogW2NhcHR1cmVFcnJvcl0gfSkgPT4gew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAvLyBnZXQgQ1NTU3R5bGVEZWNsYXJhdGlvbg0KICAgICAgICAgICAgICAgIGNvbnN0IGNzc1N0eWxlRGVjbGFyYXRpb24gPSAodHlwZSA9PSAnZ2V0Q29tcHV0ZWRTdHlsZScgPyBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpIDoNCiAgICAgICAgICAgICAgICAgICAgdHlwZSA9PSAnSFRNTEVsZW1lbnQuc3R5bGUnID8gZG9jdW1lbnQuYm9keS5zdHlsZSA6DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlID09ICdDU1NSdWxlTGlzdC5zdHlsZScgPyBkb2N1bWVudC5zdHlsZVNoZWV0c1swXS5jc3NSdWxlc1swXS5zdHlsZSA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkKTsNCiAgICAgICAgICAgICAgICBpZiAoIWNzc1N0eWxlRGVjbGFyYXRpb24pIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBhcmd1bWVudCBzdHJpbmcnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy8gZ2V0IHByb3BlcnRpZXMNCiAgICAgICAgICAgICAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjc3NTdHlsZURlY2xhcmF0aW9uKTsNCiAgICAgICAgICAgICAgICBjb25zdCBwcm90b3R5cGVQcm9wZXJ0aWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8pOw0KICAgICAgICAgICAgICAgIGNvbnN0IG93bkVudW1lcmFibGVQcm9wZXJ0eU5hbWVzID0gW107DQogICAgICAgICAgICAgICAgY29uc3QgY3NzVmFyID0gL14tLS4qJC87DQogICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoY3NzU3R5bGVEZWNsYXJhdGlvbikuZm9yRWFjaCgoa2V5KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bWVyaWNLZXkgPSAhaXNOYU4oK2tleSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3NzU3R5bGVEZWNsYXJhdGlvbltrZXldOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21Qcm9wS2V5ID0gY3NzVmFyLnRlc3Qoa2V5KTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tUHJvcFZhbHVlID0gY3NzVmFyLnRlc3QodmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICBpZiAobnVtZXJpY0tleSAmJiAhY3VzdG9tUHJvcFZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3duRW51bWVyYWJsZVByb3BlcnR5TmFtZXMucHVzaCh2YWx1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIW51bWVyaWNLZXkgJiYgIWN1c3RvbVByb3BLZXkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvd25FbnVtZXJhYmxlUHJvcGVydHlOYW1lcy5wdXNoKGtleSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIC8vIGdldCBwcm9wZXJ0aWVzIGluIHByb3RvdHlwZSBjaGFpbiAocmVxdWlyZWQgb25seSBpbiBjaHJvbWUpDQogICAgICAgICAgICAgICAgY29uc3QgcHJvcGVydGllc0luUHJvdG90eXBlQ2hhaW4gPSB7fTsNCiAgICAgICAgICAgICAgICBjb25zdCBjYXBpdGFsaXplID0gKHN0cikgPT4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHVuY2FwaXRhbGl6ZSA9IChzdHIpID0+IHN0ci5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIHN0ci5zbGljZSgxKTsNCiAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVGaXJzdENoYXIgPSAoc3RyKSA9PiBzdHIuc2xpY2UoMSk7DQogICAgICAgICAgICAgICAgY29uc3QgY2FwcyA9IC9bQS1aXS9nOw0KICAgICAgICAgICAgICAgIG93bkVudW1lcmFibGVQcm9wZXJ0eU5hbWVzLmZvckVhY2goKGtleSkgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllc0luUHJvdG90eXBlQ2hhaW5ba2V5XSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSBhdHRyaWJ1dGUgdHlwZQ0KICAgICAgICAgICAgICAgICAgICBjb25zdCBpc05hbWVkQXR0cmlidXRlID0ga2V5LmluZGV4T2YoJy0nKSA+IC0xOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0FsaWFzQXR0cmlidXRlID0gY2Fwcy50ZXN0KGtleSk7DQogICAgICAgICAgICAgICAgICAgIC8vIHJlZHVjZSBrZXkgZm9yIGNvbXB1dGF0aW9uDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0Q2hhciA9IGtleS5jaGFyQXQoMCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzUHJlZml4ZWROYW1lID0gaXNOYW1lZEF0dHJpYnV0ZSAmJiBmaXJzdENoYXIgPT0gJy0nOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0NhcGl0YWxpemVkQWxpYXMgPSBpc0FsaWFzQXR0cmlidXRlICYmIGZpcnN0Q2hhciA9PSBmaXJzdENoYXIudG9VcHBlckNhc2UoKTsNCiAgICAgICAgICAgICAgICAgICAga2V5ID0gKGlzUHJlZml4ZWROYW1lID8gcmVtb3ZlRmlyc3RDaGFyKGtleSkgOg0KICAgICAgICAgICAgICAgICAgICAgICAgaXNDYXBpdGFsaXplZEFsaWFzID8gdW5jYXBpdGFsaXplKGtleSkgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSk7DQogICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgY291bnRlcnBhcnQgaW4gQ1NTU3R5bGVEZWNsYXJhdGlvbiBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbg0KICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYW1lZEF0dHJpYnV0ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxpYXNBdHRyaWJ1dGUgPSBrZXkuc3BsaXQoJy0nKS5tYXAoKHdvcmQsIGluZGV4KSA9PiBpbmRleCA9PSAwID8gd29yZCA6IGNhcGl0YWxpemUod29yZCkpLmpvaW4oJycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsaWFzQXR0cmlidXRlIGluIGNzc1N0eWxlRGVjbGFyYXRpb24pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzSW5Qcm90b3R5cGVDaGFpblthbGlhc0F0dHJpYnV0ZV0gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2FwaXRhbGl6ZShhbGlhc0F0dHJpYnV0ZSkgaW4gY3NzU3R5bGVEZWNsYXJhdGlvbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXNJblByb3RvdHlwZUNoYWluW2NhcGl0YWxpemUoYWxpYXNBdHRyaWJ1dGUpXSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBbGlhc0F0dHJpYnV0ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZWRBdHRyaWJ1dGUgPSBrZXkucmVwbGFjZShjYXBzLCAoY2hhcikgPT4gJy0nICsgY2hhci50b0xvd2VyQ2FzZSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lZEF0dHJpYnV0ZSBpbiBjc3NTdHlsZURlY2xhcmF0aW9uKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc0luUHJvdG90eXBlQ2hhaW5bbmFtZWRBdHRyaWJ1dGVdID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGAtJHtuYW1lZEF0dHJpYnV0ZX1gIGluIGNzc1N0eWxlRGVjbGFyYXRpb24pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzSW5Qcm90b3R5cGVDaGFpbltgLSR7bmFtZWRBdHRyaWJ1dGV9YF0gPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAvLyBjb21waWxlIGtleXMNCiAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0gWw0KICAgICAgICAgICAgICAgICAgICAuLi5uZXcgU2V0KFsNCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByb3RvdHlwZVByb3BlcnRpZXMsDQogICAgICAgICAgICAgICAgICAgICAgICAuLi5vd25FbnVtZXJhYmxlUHJvcGVydHlOYW1lcywNCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLk9iamVjdC5rZXlzKHByb3BlcnRpZXNJblByb3RvdHlwZUNoYWluKSwNCiAgICAgICAgICAgICAgICAgICAgXSksDQogICAgICAgICAgICAgICAgXTsNCiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgY29uc3QgaW50ZXJmYWNlTmFtZSA9ICgnJyArIHByb3RvKS5tYXRjaCgvXFtvYmplY3QgKC4rKVxdLylbMV07DQogICAgICAgICAgICAgICAgcmV0dXJuIHsga2V5cywgaW50ZXJmYWNlTmFtZSB9Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGdldFN5c3RlbVN0eWxlcyA9IChlbCkgPT4gew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBjb25zdCBjb2xvcnMgPSBbDQogICAgICAgICAgICAgICAgICAgICdBY3RpdmVCb3JkZXInLA0KICAgICAgICAgICAgICAgICAgICAnQWN0aXZlQ2FwdGlvbicsDQogICAgICAgICAgICAgICAgICAgICdBY3RpdmVUZXh0JywNCiAgICAgICAgICAgICAgICAgICAgJ0FwcFdvcmtzcGFjZScsDQogICAgICAgICAgICAgICAgICAgICdCYWNrZ3JvdW5kJywNCiAgICAgICAgICAgICAgICAgICAgJ0J1dHRvbkJvcmRlcicsDQogICAgICAgICAgICAgICAgICAgICdCdXR0b25GYWNlJywNCiAgICAgICAgICAgICAgICAgICAgJ0J1dHRvbkhpZ2hsaWdodCcsDQogICAgICAgICAgICAgICAgICAgICdCdXR0b25TaGFkb3cnLA0KICAgICAgICAgICAgICAgICAgICAnQnV0dG9uVGV4dCcsDQogICAgICAgICAgICAgICAgICAgICdDYW52YXMnLA0KICAgICAgICAgICAgICAgICAgICAnQ2FudmFzVGV4dCcsDQogICAgICAgICAgICAgICAgICAgICdDYXB0aW9uVGV4dCcsDQogICAgICAgICAgICAgICAgICAgICdGaWVsZCcsDQogICAgICAgICAgICAgICAgICAgICdGaWVsZFRleHQnLA0KICAgICAgICAgICAgICAgICAgICAnR3JheVRleHQnLA0KICAgICAgICAgICAgICAgICAgICAnSGlnaGxpZ2h0JywNCiAgICAgICAgICAgICAgICAgICAgJ0hpZ2hsaWdodFRleHQnLA0KICAgICAgICAgICAgICAgICAgICAnSW5hY3RpdmVCb3JkZXInLA0KICAgICAgICAgICAgICAgICAgICAnSW5hY3RpdmVDYXB0aW9uJywNCiAgICAgICAgICAgICAgICAgICAgJ0luYWN0aXZlQ2FwdGlvblRleHQnLA0KICAgICAgICAgICAgICAgICAgICAnSW5mb0JhY2tncm91bmQnLA0KICAgICAgICAgICAgICAgICAgICAnSW5mb1RleHQnLA0KICAgICAgICAgICAgICAgICAgICAnTGlua1RleHQnLA0KICAgICAgICAgICAgICAgICAgICAnTWFyaycsDQogICAgICAgICAgICAgICAgICAgICdNYXJrVGV4dCcsDQogICAgICAgICAgICAgICAgICAgICdNZW51JywNCiAgICAgICAgICAgICAgICAgICAgJ01lbnVUZXh0JywNCiAgICAgICAgICAgICAgICAgICAgJ1Njcm9sbGJhcicsDQogICAgICAgICAgICAgICAgICAgICdUaHJlZUREYXJrU2hhZG93JywNCiAgICAgICAgICAgICAgICAgICAgJ1RocmVlREZhY2UnLA0KICAgICAgICAgICAgICAgICAgICAnVGhyZWVESGlnaGxpZ2h0JywNCiAgICAgICAgICAgICAgICAgICAgJ1RocmVlRExpZ2h0U2hhZG93JywNCiAgICAgICAgICAgICAgICAgICAgJ1RocmVlRFNoYWRvdycsDQogICAgICAgICAgICAgICAgICAgICdWaXNpdGVkVGV4dCcsDQogICAgICAgICAgICAgICAgICAgICdXaW5kb3cnLA0KICAgICAgICAgICAgICAgICAgICAnV2luZG93RnJhbWUnLA0KICAgICAgICAgICAgICAgICAgICAnV2luZG93VGV4dCcsDQogICAgICAgICAgICAgICAgXTsNCiAgICAgICAgICAgICAgICBjb25zdCBmb250cyA9IFsNCiAgICAgICAgICAgICAgICAgICAgJ2NhcHRpb24nLA0KICAgICAgICAgICAgICAgICAgICAnaWNvbicsDQogICAgICAgICAgICAgICAgICAgICdtZW51JywNCiAgICAgICAgICAgICAgICAgICAgJ21lc3NhZ2UtYm94JywNCiAgICAgICAgICAgICAgICAgICAgJ3NtYWxsLWNhcHRpb24nLA0KICAgICAgICAgICAgICAgICAgICAnc3RhdHVzLWJhcicsDQogICAgICAgICAgICAgICAgXTsNCiAgICAgICAgICAgICAgICBjb25zdCBnZXRTdHlsZXMgPSAoZWwpID0+ICh7DQogICAgICAgICAgICAgICAgICAgIGNvbG9yczogY29sb3JzLm1hcCgoY29sb3IpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgYmFja2dyb3VuZC1jb2xvcjogJHtjb2xvcn0gIWltcG9ydGFudGApOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbY29sb3JdOiBnZXRDb21wdXRlZFN0eWxlKGVsKS5iYWNrZ3JvdW5kQ29sb3IsDQogICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgZm9udHM6IGZvbnRzLm1hcCgoZm9udCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdzdHlsZScsIGBmb250OiAke2ZvbnR9ICFpbXBvcnRhbnRgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgW2ZvbnRdOiBgJHtjb21wdXRlZFN0eWxlLmZvbnRTaXplfSAke2NvbXB1dGVkU3R5bGUuZm9udEZhbWlseX1gLA0KICAgICAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgaWYgKCFlbCkgew0KICAgICAgICAgICAgICAgICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChlbCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHN5c3RlbVN0eWxlcyA9IGdldFN0eWxlcyhlbCk7DQogICAgICAgICAgICAgICAgICAgIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3lzdGVtU3R5bGVzOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U3R5bGVzKGVsKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpOw0KICAgICAgICAgICAgdGltZXIuc3RhcnQoKTsNCiAgICAgICAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBjb21wdXRlU3R5bGUoJ2dldENvbXB1dGVkU3R5bGUnLCB7IHJlcXVpcmU6IFtjYXB0dXJlRXJyb3JdIH0pOw0KICAgICAgICAgICAgY29uc3Qgc3lzdGVtID0gZ2V0U3lzdGVtU3R5bGVzKFBBUkVOVF9QSEFOVE9NKTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdjb21wdXRlZCBzdHlsZScsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZSwNCiAgICAgICAgICAgICAgICBzeXN0ZW0sDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdjb21wdXRlZCBzdHlsZScsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIGZ1bmN0aW9uIGdldENTU01lZGlhKCkgew0KICAgICAgICBjb25zdCBnY2QgPSAoYSwgYikgPT4gYiA9PSAwID8gYSA6IGdjZChiLCBhICUgYik7DQogICAgICAgIGNvbnN0IGdldEFzcGVjdFJhdGlvID0gKHdpZHRoLCBoZWlnaHQpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHIgPSBnY2Qod2lkdGgsIGhlaWdodCk7DQogICAgICAgICAgICBjb25zdCBhc3BlY3RSYXRpbyA9IGAke3dpZHRoIC8gcn0vJHtoZWlnaHQgLyByfWA7DQogICAgICAgICAgICByZXR1cm4gYXNwZWN0UmF0aW87DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IHF1ZXJ5ID0gKHsgYm9keSwgdHlwZSwgcmFuZ2VTdGFydCwgcmFuZ2VMZW4gfSkgPT4gew0KICAgICAgICAgICAgY29uc3QgaHRtbCA9IFsuLi5BcnJheShyYW5nZUxlbildLm1hcCgoc2xvdCwgaSkgPT4gew0KICAgICAgICAgICAgICAgIGkgKz0gcmFuZ2VTdGFydDsNCiAgICAgICAgICAgICAgICByZXR1cm4gYEBtZWRpYShkZXZpY2UtJHt0eXBlfToke2l9cHgpe2JvZHl7LS1kZXZpY2UtJHt0eXBlfToke2l9O319YDsNCiAgICAgICAgICAgIH0pLmpvaW4oJycpOw0KICAgICAgICAgICAgYm9keS5pbm5lckhUTUwgPSBgPHN0eWxlPiR7aHRtbH08L3N0eWxlPmA7DQogICAgICAgICAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoYm9keSk7DQogICAgICAgICAgICByZXR1cm4gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShgLS1kZXZpY2UtJHt0eXBlfWApLnRyaW0oKTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2V0U2NyZWVuTWVkaWEgPSAoeyBib2R5LCB3aWR0aCwgaGVpZ2h0IH0pID0+IHsNCiAgICAgICAgICAgIGxldCB3aWR0aE1hdGNoID0gcXVlcnkoeyBib2R5LCB0eXBlOiAnd2lkdGgnLCByYW5nZVN0YXJ0OiB3aWR0aCwgcmFuZ2VMZW46IDEgfSk7DQogICAgICAgICAgICBsZXQgaGVpZ2h0TWF0Y2ggPSBxdWVyeSh7IGJvZHksIHR5cGU6ICdoZWlnaHQnLCByYW5nZVN0YXJ0OiBoZWlnaHQsIHJhbmdlTGVuOiAxIH0pOw0KICAgICAgICAgICAgaWYgKHdpZHRoTWF0Y2ggJiYgaGVpZ2h0TWF0Y2gpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4geyB3aWR0aCwgaGVpZ2h0IH07DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCByYW5nZUxlbiA9IDEwMDA7DQogICAgICAgICAgICBbLi4uQXJyYXkoMTApXS5maW5kKChzbG90LCBpKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCF3aWR0aE1hdGNoKSB7DQogICAgICAgICAgICAgICAgICAgIHdpZHRoTWF0Y2ggPSBxdWVyeSh7IGJvZHksIHR5cGU6ICd3aWR0aCcsIHJhbmdlU3RhcnQ6IGkgKiByYW5nZUxlbiwgcmFuZ2VMZW4gfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICghaGVpZ2h0TWF0Y2gpIHsNCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0TWF0Y2ggPSBxdWVyeSh7IGJvZHksIHR5cGU6ICdoZWlnaHQnLCByYW5nZVN0YXJ0OiBpICogcmFuZ2VMZW4sIHJhbmdlTGVuIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGhNYXRjaCAmJiBoZWlnaHRNYXRjaDsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHsgd2lkdGg6ICt3aWR0aE1hdGNoLCBoZWlnaHQ6ICtoZWlnaHRNYXRjaCB9Ow0KICAgICAgICB9Ow0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpOw0KICAgICAgICAgICAgdGltZXIuc3RhcnQoKTsNCiAgICAgICAgICAgIGNvbnN0IHdpbiA9IFBIQU5UT01fREFSS05FU1Mud2luZG93Ow0KICAgICAgICAgICAgY29uc3QgeyBib2R5IH0gPSB3aW4uZG9jdW1lbnQ7DQogICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBhdmFpbFdpZHRoLCBoZWlnaHQsIGF2YWlsSGVpZ2h0IH0gPSB3aW4uc2NyZWVuOw0KICAgICAgICAgICAgY29uc3Qgbm9UYXNrYmFyID0gISh3aWR0aCAtIGF2YWlsV2lkdGggfHwgaGVpZ2h0IC0gYXZhaWxIZWlnaHQpOw0KICAgICAgICAgICAgaWYgKHNjcmVlbi53aWR0aCAhPT0gd2lkdGggfHwgKHdpZHRoID4gODAwICYmIG5vVGFza2JhcikpIHsNCiAgICAgICAgICAgICAgICBMb3dlckVudHJvcHkuSUZSQU1FX1NDUkVFTiA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBkZXZpY2VBc3BlY3RSYXRpbyA9IGdldEFzcGVjdFJhdGlvKHdpZHRoLCBoZWlnaHQpOw0KICAgICAgICAgICAgY29uc3QgbWF0Y2hNZWRpYUNTUyA9IHsNCiAgICAgICAgICAgICAgICBbJ3ByZWZlcnMtcmVkdWNlZC1tb3Rpb24nXTogKHdpbi5tYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogbm8tcHJlZmVyZW5jZSknKS5tYXRjaGVzID8gJ25vLXByZWZlcmVuY2UnIDoNCiAgICAgICAgICAgICAgICAgICAgd2luLm1hdGNoTWVkaWEoJyhwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpJykubWF0Y2hlcyA/ICdyZWR1Y2UnIDogdW5kZWZpbmVkKSwNCiAgICAgICAgICAgICAgICBbJ3ByZWZlcnMtY29sb3Itc2NoZW1lJ106ICh3aW4ubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodCknKS5tYXRjaGVzID8gJ2xpZ2h0JyA6DQogICAgICAgICAgICAgICAgICAgIHdpbi5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcyA/ICdkYXJrJyA6IHVuZGVmaW5lZCksDQogICAgICAgICAgICAgICAgbW9ub2Nocm9tZTogKHdpbi5tYXRjaE1lZGlhKCcobW9ub2Nocm9tZSknKS5tYXRjaGVzID8gJ21vbm9jaHJvbWUnIDoNCiAgICAgICAgICAgICAgICAgICAgd2luLm1hdGNoTWVkaWEoJyhtb25vY2hyb21lOiAwKScpLm1hdGNoZXMgPyAnbm9uLW1vbm9jaHJvbWUnIDogdW5kZWZpbmVkKSwNCiAgICAgICAgICAgICAgICBbJ2ludmVydGVkLWNvbG9ycyddOiAod2luLm1hdGNoTWVkaWEoJyhpbnZlcnRlZC1jb2xvcnM6IGludmVydGVkKScpLm1hdGNoZXMgPyAnaW52ZXJ0ZWQnIDoNCiAgICAgICAgICAgICAgICAgICAgd2luLm1hdGNoTWVkaWEoJyhpbnZlcnRlZC1jb2xvcnM6IG5vbmUpJykubWF0Y2hlcyA/ICdub25lJyA6IHVuZGVmaW5lZCksDQogICAgICAgICAgICAgICAgWydmb3JjZWQtY29sb3JzJ106ICh3aW4ubWF0Y2hNZWRpYSgnKGZvcmNlZC1jb2xvcnM6IG5vbmUpJykubWF0Y2hlcyA/ICdub25lJyA6DQogICAgICAgICAgICAgICAgICAgIHdpbi5tYXRjaE1lZGlhKCcoZm9yY2VkLWNvbG9yczogYWN0aXZlKScpLm1hdGNoZXMgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZCksDQogICAgICAgICAgICAgICAgWydhbnktaG92ZXInXTogKHdpbi5tYXRjaE1lZGlhKCcoYW55LWhvdmVyOiBob3ZlciknKS5tYXRjaGVzID8gJ2hvdmVyJyA6DQogICAgICAgICAgICAgICAgICAgIHdpbi5tYXRjaE1lZGlhKCcoYW55LWhvdmVyOiBub25lKScpLm1hdGNoZXMgPyAnbm9uZScgOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIGhvdmVyOiAod2luLm1hdGNoTWVkaWEoJyhob3ZlcjogaG92ZXIpJykubWF0Y2hlcyA/ICdob3ZlcicgOg0KICAgICAgICAgICAgICAgICAgICB3aW4ubWF0Y2hNZWRpYSgnKGhvdmVyOiBub25lKScpLm1hdGNoZXMgPyAnbm9uZScgOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIFsnYW55LXBvaW50ZXInXTogKHdpbi5tYXRjaE1lZGlhKCcoYW55LXBvaW50ZXI6IGZpbmUpJykubWF0Y2hlcyA/ICdmaW5lJyA6DQogICAgICAgICAgICAgICAgICAgIHdpbi5tYXRjaE1lZGlhKCcoYW55LXBvaW50ZXI6IGNvYXJzZSknKS5tYXRjaGVzID8gJ2NvYXJzZScgOg0KICAgICAgICAgICAgICAgICAgICAgICAgd2luLm1hdGNoTWVkaWEoJyhhbnktcG9pbnRlcjogbm9uZSknKS5tYXRjaGVzID8gJ25vbmUnIDogdW5kZWZpbmVkKSwNCiAgICAgICAgICAgICAgICBwb2ludGVyOiAod2luLm1hdGNoTWVkaWEoJyhwb2ludGVyOiBmaW5lKScpLm1hdGNoZXMgPyAnZmluZScgOg0KICAgICAgICAgICAgICAgICAgICB3aW4ubWF0Y2hNZWRpYSgnKHBvaW50ZXI6IGNvYXJzZSknKS5tYXRjaGVzID8gJ2NvYXJzZScgOg0KICAgICAgICAgICAgICAgICAgICAgICAgd2luLm1hdGNoTWVkaWEoJyhwb2ludGVyOiBub25lKScpLm1hdGNoZXMgPyAnbm9uZScgOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIFsnZGV2aWNlLWFzcGVjdC1yYXRpbyddOiAod2luLm1hdGNoTWVkaWEoYChkZXZpY2UtYXNwZWN0LXJhdGlvOiAke2RldmljZUFzcGVjdFJhdGlvfSlgKS5tYXRjaGVzID8gZGV2aWNlQXNwZWN0UmF0aW8gOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIFsnZGV2aWNlLXNjcmVlbiddOiAod2luLm1hdGNoTWVkaWEoYChkZXZpY2Utd2lkdGg6ICR7d2lkdGh9cHgpIGFuZCAoZGV2aWNlLWhlaWdodDogJHtoZWlnaHR9cHgpYCkubWF0Y2hlcyA/IGAke3dpZHRofSB4ICR7aGVpZ2h0fWAgOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIFsnZGlzcGxheS1tb2RlJ106ICh3aW4ubWF0Y2hNZWRpYSgnKGRpc3BsYXktbW9kZTogZnVsbHNjcmVlbiknKS5tYXRjaGVzID8gJ2Z1bGxzY3JlZW4nIDoNCiAgICAgICAgICAgICAgICAgICAgd2luLm1hdGNoTWVkaWEoJyhkaXNwbGF5LW1vZGU6IHN0YW5kYWxvbmUpJykubWF0Y2hlcyA/ICdzdGFuZGFsb25lJyA6DQogICAgICAgICAgICAgICAgICAgICAgICB3aW4ubWF0Y2hNZWRpYSgnKGRpc3BsYXktbW9kZTogbWluaW1hbC11aSknKS5tYXRjaGVzID8gJ21pbmltYWwtdWknIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW4ubWF0Y2hNZWRpYSgnKGRpc3BsYXktbW9kZTogYnJvd3NlciknKS5tYXRjaGVzID8gJ2Jyb3dzZXInIDogdW5kZWZpbmVkKSwNCiAgICAgICAgICAgICAgICBbJ2NvbG9yLWdhbXV0J106ICh3aW4ubWF0Y2hNZWRpYSgnKGNvbG9yLWdhbXV0OiBzcmdiKScpLm1hdGNoZXMgPyAnc3JnYicgOg0KICAgICAgICAgICAgICAgICAgICB3aW4ubWF0Y2hNZWRpYSgnKGNvbG9yLWdhbXV0OiBwMyknKS5tYXRjaGVzID8gJ3AzJyA6DQogICAgICAgICAgICAgICAgICAgICAgICB3aW4ubWF0Y2hNZWRpYSgnKGNvbG9yLWdhbXV0OiByZWMyMDIwKScpLm1hdGNoZXMgPyAncmVjMjAyMCcgOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiAod2luLm1hdGNoTWVkaWEoJyhvcmllbnRhdGlvbjogbGFuZHNjYXBlKScpLm1hdGNoZXMgPyAnbGFuZHNjYXBlJyA6DQogICAgICAgICAgICAgICAgICAgIHdpbi5tYXRjaE1lZGlhKCcob3JpZW50YXRpb246IHBvcnRyYWl0KScpLm1hdGNoZXMgPyAncG9ydHJhaXQnIDogdW5kZWZpbmVkKSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBib2R5LmlubmVySFRNTCA9IGANCgkJPHN0eWxlPg0KCQlAbWVkaWEgKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IG5vLXByZWZlcmVuY2UpIHtib2R5IHstLXByZWZlcnMtcmVkdWNlZC1tb3Rpb246IG5vLXByZWZlcmVuY2V9fQ0KCQlAbWVkaWEgKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSkge2JvZHkgey0tcHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlfX0NCgkJQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpIHtib2R5IHstLXByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodH19DQoJCUBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIHtib2R5IHstLXByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrfX0NCgkJQG1lZGlhIChtb25vY2hyb21lKSB7Ym9keSB7LS1tb25vY2hyb21lOiBtb25vY2hyb21lfX0NCgkJQG1lZGlhIChtb25vY2hyb21lOiAwKSB7Ym9keSB7LS1tb25vY2hyb21lOiBub24tbW9ub2Nocm9tZX19DQoJCUBtZWRpYSAoaW52ZXJ0ZWQtY29sb3JzOiBpbnZlcnRlZCkge2JvZHkgey0taW52ZXJ0ZWQtY29sb3JzOiBpbnZlcnRlZH19DQoJCUBtZWRpYSAoaW52ZXJ0ZWQtY29sb3JzOiBub25lKSB7Ym9keSB7LS1pbnZlcnRlZC1jb2xvcnM6IG5vbmV9fQ0KCQlAbWVkaWEgKGZvcmNlZC1jb2xvcnM6IG5vbmUpIHtib2R5IHstLWZvcmNlZC1jb2xvcnM6IG5vbmV9fQ0KCQlAbWVkaWEgKGZvcmNlZC1jb2xvcnM6IGFjdGl2ZSkge2JvZHkgey0tZm9yY2VkLWNvbG9yczogYWN0aXZlfX0NCgkJQG1lZGlhIChhbnktaG92ZXI6IGhvdmVyKSB7Ym9keSB7LS1hbnktaG92ZXI6IGhvdmVyfX0NCgkJQG1lZGlhIChhbnktaG92ZXI6IG5vbmUpIHtib2R5IHstLWFueS1ob3Zlcjogbm9uZX19DQoJCUBtZWRpYSAoaG92ZXI6IGhvdmVyKSB7Ym9keSB7LS1ob3ZlcjogaG92ZXJ9fQ0KCQlAbWVkaWEgKGhvdmVyOiBub25lKSB7Ym9keSB7LS1ob3Zlcjogbm9uZX19DQoJCUBtZWRpYSAoYW55LXBvaW50ZXI6IGZpbmUpIHtib2R5IHstLWFueS1wb2ludGVyOiBmaW5lfX0NCgkJQG1lZGlhIChhbnktcG9pbnRlcjogY29hcnNlKSB7Ym9keSB7LS1hbnktcG9pbnRlcjogY29hcnNlfX0NCgkJQG1lZGlhIChhbnktcG9pbnRlcjogbm9uZSkge2JvZHkgey0tYW55LXBvaW50ZXI6IG5vbmV9fQ0KCQlAbWVkaWEgKHBvaW50ZXI6IGZpbmUpIHtib2R5IHstLXBvaW50ZXI6IGZpbmV9fQ0KCQlAbWVkaWEgKHBvaW50ZXI6IGNvYXJzZSkge2JvZHkgey0tcG9pbnRlcjogY29hcnNlfX0NCgkJQG1lZGlhIChwb2ludGVyOiBub25lKSB7Ym9keSB7LS1wb2ludGVyOiBub25lfX0NCgkJQG1lZGlhIChkZXZpY2UtYXNwZWN0LXJhdGlvOiAke2RldmljZUFzcGVjdFJhdGlvfSkge2JvZHkgey0tZGV2aWNlLWFzcGVjdC1yYXRpbzogJHtkZXZpY2VBc3BlY3RSYXRpb319fQ0KCQlAbWVkaWEgKGRldmljZS13aWR0aDogJHt3aWR0aH1weCkgYW5kIChkZXZpY2UtaGVpZ2h0OiAke2hlaWdodH1weCkge2JvZHkgey0tZGV2aWNlLXNjcmVlbjogJHt3aWR0aH0geCAke2hlaWdodH19fQ0KCQlAbWVkaWEgKGRpc3BsYXktbW9kZTogZnVsbHNjcmVlbikge2JvZHkgey0tZGlzcGxheS1tb2RlOiBmdWxsc2NyZWVufX0NCgkJQG1lZGlhIChkaXNwbGF5LW1vZGU6IHN0YW5kYWxvbmUpIHtib2R5IHstLWRpc3BsYXktbW9kZTogc3RhbmRhbG9uZX19DQoJCUBtZWRpYSAoZGlzcGxheS1tb2RlOiBtaW5pbWFsLXVpKSB7Ym9keSB7LS1kaXNwbGF5LW1vZGU6IG1pbmltYWwtdWl9fQ0KCQlAbWVkaWEgKGRpc3BsYXktbW9kZTogYnJvd3Nlcikge2JvZHkgey0tZGlzcGxheS1tb2RlOiBicm93c2VyfX0NCgkJQG1lZGlhIChjb2xvci1nYW11dDogc3JnYikge2JvZHkgey0tY29sb3ItZ2FtdXQ6IHNyZ2J9fQ0KCQlAbWVkaWEgKGNvbG9yLWdhbXV0OiBwMykge2JvZHkgey0tY29sb3ItZ2FtdXQ6IHAzfX0NCgkJQG1lZGlhIChjb2xvci1nYW11dDogcmVjMjAyMCkge2JvZHkgey0tY29sb3ItZ2FtdXQ6IHJlYzIwMjB9fQ0KCQlAbWVkaWEgKG9yaWVudGF0aW9uOiBsYW5kc2NhcGUpIHtib2R5IHstLW9yaWVudGF0aW9uOiBsYW5kc2NhcGV9fQ0KCQlAbWVkaWEgKG9yaWVudGF0aW9uOiBwb3J0cmFpdCkge2JvZHkgey0tb3JpZW50YXRpb246IHBvcnRyYWl0fX0NCgkJPC9zdHlsZT4NCgkJYDsNCiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShib2R5KTsNCiAgICAgICAgICAgIGNvbnN0IG1lZGlhQ1NTID0gew0KICAgICAgICAgICAgICAgIFsncHJlZmVycy1yZWR1Y2VkLW1vdGlvbiddOiBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLXByZWZlcnMtcmVkdWNlZC1tb3Rpb24nKS50cmltKCkgfHwgdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgIFsncHJlZmVycy1jb2xvci1zY2hlbWUnXTogc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1wcmVmZXJzLWNvbG9yLXNjaGVtZScpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgbW9ub2Nocm9tZTogc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1tb25vY2hyb21lJykudHJpbSgpIHx8IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICBbJ2ludmVydGVkLWNvbG9ycyddOiBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWludmVydGVkLWNvbG9ycycpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgWydmb3JjZWQtY29sb3JzJ106IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tZm9yY2VkLWNvbG9ycycpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgWydhbnktaG92ZXInXTogc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1hbnktaG92ZXInKS50cmltKCkgfHwgdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgIGhvdmVyOiBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctLWhvdmVyJykudHJpbSgpIHx8IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICBbJ2FueS1wb2ludGVyJ106IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tYW55LXBvaW50ZXInKS50cmltKCkgfHwgdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgIHBvaW50ZXI6IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tcG9pbnRlcicpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgWydkZXZpY2UtYXNwZWN0LXJhdGlvJ106IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tZGV2aWNlLWFzcGVjdC1yYXRpbycpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgWydkZXZpY2Utc2NyZWVuJ106IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tZGV2aWNlLXNjcmVlbicpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgWydkaXNwbGF5LW1vZGUnXTogc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1kaXNwbGF5LW1vZGUnKS50cmltKCkgfHwgdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgIFsnY29sb3ItZ2FtdXQnXTogc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1jb2xvci1nYW11dCcpLnRyaW0oKSB8fCB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgb3JpZW50YXRpb246IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tb3JpZW50YXRpb24nKS50cmltKCkgfHwgdW5kZWZpbmVkLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIC8vIGdldCBzY3JlZW4gcXVlcnkNCiAgICAgICAgICAgIGNvbnN0IHNjcmVlblF1ZXJ5ID0gZ2V0U2NyZWVuTWVkaWEoeyBib2R5LCB3aWR0aCwgaGVpZ2h0IH0pOw0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRpbWU6IHRpbWVyLnN0b3AoKSwgdGVzdDogJ2NzcyBtZWRpYScsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7IG1lZGlhQ1NTLCBtYXRjaE1lZGlhQ1NTLCBzY3JlZW5RdWVyeSB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdjc3MgbWVkaWEnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRIVE1MRWxlbWVudFZlcnNpb24oKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICB0aW1lci5zdGFydCgpOw0KICAgICAgICAgICAgY29uc3Qga2V5cyA9IFtdOw0KICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pbg0KICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7DQogICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGltZTogdGltZXIuc3RvcCgpLCB0ZXN0OiAnaHRtbCBlbGVtZW50JywgcGFzc2VkOiB0cnVlIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHsga2V5cyB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdodG1sIGVsZW1lbnQnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICAvLyBpbnNwaXJlZCBieQ0KICAgIC8vIGh0dHBzOi8vcHJpdmFjeWNoZWNrLnNlYy5scnouZGUvYWN0aXZlL2ZwX2djci9mcF9nZXRjbGllbnRyZWN0cy5odG1sDQogICAgLy8gaHR0cHM6Ly9wcml2YWN5Y2hlY2suc2VjLmxyei5kZS9hY3RpdmUvZnBfZS9mcF9lbW9qaS5odG1sDQogICAgYXN5bmMgZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdHMoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IHRvTmF0aXZlT2JqZWN0ID0gKGRvbVJlY3QpID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICBib3R0b206IGRvbVJlY3QuYm90dG9tLA0KICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGRvbVJlY3QuaGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICBsZWZ0OiBkb21SZWN0LmxlZnQsDQogICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBkb21SZWN0LnJpZ2h0LA0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogZG9tUmVjdC53aWR0aCwNCiAgICAgICAgICAgICAgICAgICAgdG9wOiBkb21SZWN0LnRvcCwNCiAgICAgICAgICAgICAgICAgICAgeDogZG9tUmVjdC54LA0KICAgICAgICAgICAgICAgICAgICB5OiBkb21SZWN0LnksDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBsZXQgbGllZCA9IChsaWVQcm9wc1snRWxlbWVudC5nZXRDbGllbnRSZWN0cyddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ0VsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snUmFuZ2UuZ2V0Q2xpZW50UmVjdHMnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydSYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydTdHJpbmcuZnJvbUNvZGVQb2ludCddKSB8fCBmYWxzZTsNCiAgICAgICAgICAgIGNvbnN0IERPQyA9IChQSEFOVE9NX0RBUktORVNTICYmDQogICAgICAgICAgICAgICAgUEhBTlRPTV9EQVJLTkVTUy5kb2N1bWVudCAmJg0KICAgICAgICAgICAgICAgIFBIQU5UT01fREFSS05FU1MuZG9jdW1lbnQuYm9keSA/IFBIQU5UT01fREFSS05FU1MuZG9jdW1lbnQgOg0KICAgICAgICAgICAgICAgIGRvY3VtZW50KTsNCiAgICAgICAgICAgIGNvbnN0IGdldEJlc3RSZWN0ID0gKGVsKSA9PiB7DQogICAgICAgICAgICAgICAgbGV0IHJhbmdlOw0KICAgICAgICAgICAgICAgIGlmICghbGllUHJvcHNbJ0VsZW1lbnQuZ2V0Q2xpZW50UmVjdHMnXSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwuZ2V0Q2xpZW50UmVjdHMoKVswXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoIWxpZVByb3BzWydFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCddKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSBpZiAoIWxpZVByb3BzWydSYW5nZS5nZXRDbGllbnRSZWN0cyddKSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlID0gRE9DLmNyZWF0ZVJhbmdlKCk7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGUoZWwpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2UuZ2V0Q2xpZW50UmVjdHMoKVswXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmFuZ2UgPSBET0MuY3JlYXRlUmFuZ2UoKTsNCiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlKGVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgcmVjdHNJZCA9IGAke2luc3RhbmNlSWR9LWNsaWVudC1yZWN0cy1kaXZgOw0KICAgICAgICAgICAgY29uc3QgZGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgZGl2RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgcmVjdHNJZCk7DQogICAgICAgICAgICBET0MuYm9keS5hcHBlbmRDaGlsZChkaXZFbGVtZW50KTsNCiAgICAgICAgICAgIHBhdGNoKGRpdkVsZW1lbnQsIGh0bWwgYA0KCQk8ZGl2IGlkPSIke3JlY3RzSWR9Ij4NCgkJCTxzdHlsZT4NCgkJCS5yZWN0LWdob3N0LA0KCQkJLnJlY3Qta25vd24gew0KCQkJCXRvcDogMDsNCgkJCQlsZWZ0OiAwOw0KCQkJCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCgkJCQl2aXNpYmlsaXR5OiBoaWRkZW47DQoJCQl9DQoJCQkucmVjdC1rbm93biB7DQoJCQkJd2lkdGg6IDEwMHB4Ow0KCQkJCWhlaWdodDogMTAwcHg7DQoJCQkJdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpOw0KCQkJfQ0KCQkJLnJlY3QtZ2hvc3Qgew0KCQkJCXdpZHRoOiAwOw0KCQkJCWhlaWdodDogMDsNCgkJCX0NCgkJCTwvc3R5bGU+DQoJCQk8ZGl2IGNsYXNzPSJyZWN0LWtub3duIj48L2Rpdj4NCgkJCTxkaXYgY2xhc3M9InJlY3QtZ2hvc3QiPjwvZGl2Pg0KCQkJPGRpdiBzdHlsZT0icGVyc3BlY3RpdmU6MTAwcHg7d2lkdGg6MTAwMC4wOTklOyIgaWQ9InJlY3QtY29udGFpbmVyIj4NCgkJCQk8c3R5bGU+DQoJCQkJLnJlY3RzIHsNCgkJCQkJd2lkdGg6IDEwMDAlOw0KCQkJCQloZWlnaHQ6IDEwMDAlOw0KCQkJCQltYXgtd2lkdGg6IDEwMDAlOw0KCQkJCX0NCgkJCQkuYWJzb2x1dGUgew0KCQkJCQlwb3NpdGlvbjogYWJzb2x1dGU7DQoJCQkJfQ0KCQkJCSNjUmVjdDEgew0KCQkJCQlib3JkZXI6IHNvbGlkIDIuNzE1cHg7DQoJCQkJCWJvcmRlci1jb2xvcjogI0Y3MjU4NTsNCgkJCQkJcGFkZGluZzogMy45OHB4Ow0KCQkJCQltYXJnaW4tbGVmdDogMTIuMTJweDsNCgkJCQl9DQoJCQkJI2NSZWN0MiB7DQoJCQkJCWJvcmRlcjogc29saWQgMnB4Ow0KCQkJCQlib3JkZXItY29sb3I6ICM3MjA5Qjc7DQoJCQkJCWZvbnQtc2l6ZTogMzBweDsNCgkJCQkJbWFyZ2luLXRvcDogMjBweDsNCgkJCQkJcGFkZGluZzogMy45OHB4Ow0KCQkJCQl0cmFuc2Zvcm06IHNrZXdZKDIzLjE3NTMyMThkZWcpIHJvdGF0ZTNkKDEwLjAwMDk5LCA5MCwgMC4xMDAwMDAwMDAwMDAwMDksIDYwMDAwMDAwMDAwMDA4LjAwMDAwMDA5ZGVnKTsNCgkJCQl9DQoJCQkJI2NSZWN0MyB7DQoJCQkJCWJvcmRlcjogc29saWQgMi44OXB4Ow0KCQkJCQlib3JkZXItY29sb3I6ICMzQTBDQTM7DQoJCQkJCWZvbnQtc2l6ZTogNDVweDsNCgkJCQkJdHJhbnNmb3JtOiBza2V3WSgtMjMuMTc1MzIxOGRlZykgc2NhbGUoMTA5OS4wMDAwMDAwMDk5LCAxLjg5KSBtYXRyaXgoMS4xMSwgMi4wMDAxLCAtMS4wMDAxLCAxLjAwOSwgMTUwLCA5NC40KTsNCgkJCQkJbWFyZ2luLXRvcDogNTBweDsNCgkJCQl9DQoJCQkJI2NSZWN0NCB7DQoJCQkJCWJvcmRlcjogc29saWQgMnB4Ow0KCQkJCQlib3JkZXItY29sb3I6ICM0MzYxRUU7DQoJCQkJCXRyYW5zZm9ybTogbWF0cml4KDEuMTEsIDIuMDAwMSwgLTEuMDAwMSwgMS4wMDksIDE1MCwgOTQuNCk7DQoJCQkJCW1hcmdpbi10b3A6IDExLjEzMzFweDsNCgkJCQkJbWFyZ2luLWxlZnQ6IDEyLjEyMTJweDsNCgkJCQkJcGFkZGluZzogNC40NTQ1cHg7DQoJCQkJCWxlZnQ6IDIzOS40MTQxcHg7DQoJCQkJCXRvcDogOC41MDUwcHg7DQoJCQkJfQ0KCQkJCSNjUmVjdDUgew0KCQkJCQlib3JkZXI6IHNvbGlkIDJweDsNCgkJCQkJYm9yZGVyLWNvbG9yOiAjNENDOUYwOw0KCQkJCQltYXJnaW4tbGVmdDogNDIuMzk1cHQ7DQoJCQkJfQ0KCQkJCSNjUmVjdDYgew0KCQkJCQlib3JkZXI6IHNvbGlkIDJweDsNCgkJCQkJYm9yZGVyLWNvbG9yOiAjRjcyNTg1Ow0KCQkJCQl0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDEyODkwcHgpIHRyYW5zbGF0ZVooMTAxLjVweCk7DQoJCQkJCXBhZGRpbmc6IDEycHg7DQoJCQkJfQ0KCQkJCSNjUmVjdDcgew0KCQkJCQltYXJnaW4tdG9wOiAtMzUwLjU1MnB4Ow0KCQkJCQltYXJnaW4tbGVmdDogMC45MDk5cmVtOw0KCQkJCQlib3JkZXI6IHNvbGlkIDJweDsNCgkJCQkJYm9yZGVyLWNvbG9yOiAjNDM2MUVFOw0KCQkJCX0NCgkJCQkjY1JlY3Q4IHsNCgkJCQkJbWFyZ2luLXRvcDogLTE1MC41NTJweDsNCgkJCQkJbWFyZ2luLWxlZnQ6IDE1LjkwOTlyZW07DQoJCQkJCWJvcmRlcjogc29saWQgMnB4Ow0KCQkJCQlib3JkZXItY29sb3I6ICMzQTBDQTM7DQoJCQkJfQ0KCQkJCSNjUmVjdDkgew0KCQkJCQltYXJnaW4tdG9wOiAtMTEwLjU1MnB4Ow0KCQkJCQltYXJnaW4tbGVmdDogMTUuOTA5OXJlbTsNCgkJCQkJYm9yZGVyOiBzb2xpZCAycHg7DQoJCQkJCWJvcmRlci1jb2xvcjogIzcyMDlCNzsNCgkJCQl9DQoJCQkJI2NSZWN0MTAgew0KCQkJCQltYXJnaW4tdG9wOiAtMzE1LjU1MnB4Ow0KCQkJCQltYXJnaW4tbGVmdDogMTUuOTA5OXJlbTsNCgkJCQkJYm9yZGVyOiBzb2xpZCAycHg7DQoJCQkJCWJvcmRlci1jb2xvcjogI0Y3MjU4NTsNCgkJCQl9DQoJCQkJI2NSZWN0MTEgew0KCQkJCQl3aWR0aDogMTBweDsNCgkJCQkJaGVpZ2h0OiAxMHB4Ow0KCQkJCQltYXJnaW4tbGVmdDogMTUuMDAwMDAwOTA5OXJlbTsNCgkJCQkJYm9yZGVyOiBzb2xpZCAycHg7DQoJCQkJCWJvcmRlci1jb2xvcjogI0Y3MjU4NTsNCgkJCQl9DQoJCQkJI2NSZWN0MTIgew0KCQkJCQl3aWR0aDogMTBweDsNCgkJCQkJaGVpZ2h0OiAxMHB4Ow0KCQkJCQltYXJnaW4tbGVmdDogMTUuMDAwMDAwOTA5OXJlbTsNCgkJCQkJYm9yZGVyOiBzb2xpZCAycHg7DQoJCQkJCWJvcmRlci1jb2xvcjogI0Y3MjU4NTsNCgkJCQl9DQoJCQkJI3JlY3QtY29udGFpbmVyIC5zaGlmdC1kb20tcmVjdCB7DQoJCQkJCXRvcDogMXB4ICFpbXBvcnRhbnQ7DQoJCQkJCWxlZnQ6IDFweCAhaW1wb3J0YW50Ow0KCQkJCX0NCgkJCQk8L3N0eWxlPg0KCQkJCTxkaXYgaWQ9ImNSZWN0MSIgY2xhc3M9InJlY3RzIj48L2Rpdj4NCgkJCQk8ZGl2IGlkPSJjUmVjdDIiIGNsYXNzPSJyZWN0cyI+PC9kaXY+DQoJCQkJPGRpdiBpZD0iY1JlY3QzIiBjbGFzcz0icmVjdHMiPjwvZGl2Pg0KCQkJCTxkaXYgaWQ9ImNSZWN0NCIgY2xhc3M9InJlY3RzIGFic29sdXRlIj48L2Rpdj4NCgkJCQk8ZGl2IGlkPSJjUmVjdDUiIGNsYXNzPSJyZWN0cyI+PC9kaXY+DQoJCQkJPGRpdiBpZD0iY1JlY3Q2IiBjbGFzcz0icmVjdHMiPjwvZGl2Pg0KCQkJCTxkaXYgaWQ9ImNSZWN0NyIgY2xhc3M9InJlY3RzIGFic29sdXRlIj48L2Rpdj4NCgkJCQk8ZGl2IGlkPSJjUmVjdDgiIGNsYXNzPSJyZWN0cyBhYnNvbHV0ZSI+PC9kaXY+DQoJCQkJPGRpdiBpZD0iY1JlY3Q5IiBjbGFzcz0icmVjdHMgYWJzb2x1dGUiPjwvZGl2Pg0KCQkJCTxkaXYgaWQ9ImNSZWN0MTAiIGNsYXNzPSJyZWN0cyBhYnNvbHV0ZSI+PC9kaXY+DQoJCQkJPGRpdiBpZD0iY1JlY3QxMSIgY2xhc3M9InJlY3RzIj48L2Rpdj4NCgkJCQk8ZGl2IGlkPSJjUmVjdDEyIiBjbGFzcz0icmVjdHMiPjwvZGl2Pg0KCQkJCTxkaXYgaWQ9ImVtb2ppIiBjbGFzcz0iZW1vamlzIj48L2Rpdj4NCgkJCTwvZGl2Pg0KCQkJPGRpdiBpZD0iZW1vamktY29udGFpbmVyIj4NCgkJCQk8c3R5bGU+DQoJCQkJLmRvbXJlY3QtZW1vamkgew0KCQkJCQlmb250LWZhbWlseTogJHtDU1NfRk9OVF9GQU1JTFl9Ow0KCQkJCQlmb250LXNpemU6IDIwMHB4ICFpbXBvcnRhbnQ7DQoJCQkJCWhlaWdodDogYXV0bzsNCgkJCQkJcG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7DQoJCQkJCXRyYW5zZm9ybTogc2NhbGUoMS4wMDA5OTkpOw0KCQkJCX0NCgkJCQk8L3N0eWxlPg0KCQkJCSR7RU1PSklTLm1hcCgoZW1vamkpID0+IHsNCiAgICAgICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz0iZG9tcmVjdC1lbW9qaSI+JHtlbW9qaX08L2Rpdj5gOw0KICAgICAgICB9KS5qb2luKCcnKX0NCgkJCTwvZGl2Pg0KCQk8L2Rpdj4NCgkJYCk7DQogICAgICAgICAgICAvLyBnZXQgZW1vamkgc2V0IGFuZCBzeXN0ZW0NCiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgU2V0KCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IGVtb2ppRWxlbXMgPSBbLi4uRE9DLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RvbXJlY3QtZW1vamknKV07DQogICAgICAgICAgICBjb25zdCBlbW9qaVNldCA9IGVtb2ppRWxlbXMucmVkdWNlKChlbW9qaVNldCwgZWwsIGkpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBlbW9qaSA9IEVNT0pJU1tpXTsNCiAgICAgICAgICAgICAgICBjb25zdCB7IGhlaWdodCwgd2lkdGggfSA9IGdldEJlc3RSZWN0KGVsKTsNCiAgICAgICAgICAgICAgICBjb25zdCBkaW1lbnNpb25zID0gYCR7d2lkdGh9LCR7aGVpZ2h0fWA7DQogICAgICAgICAgICAgICAgaWYgKCFwYXR0ZXJuLmhhcyhkaW1lbnNpb25zKSkgew0KICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuLmFkZChkaW1lbnNpb25zKTsNCiAgICAgICAgICAgICAgICAgICAgZW1vamlTZXQuYWRkKGVtb2ppKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGVtb2ppU2V0Ow0KICAgICAgICAgICAgfSwgbmV3IFNldCgpKTsNCiAgICAgICAgICAgIGNvbnN0IGRvbXJlY3RTeXN0ZW1TdW0gPSAwLjAwMDAxICogWy4uLnBhdHRlcm5dLm1hcCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiB4LnNwbGl0KCcsJykucmVkdWNlKChhY2MsIHgpID0+IGFjYyArPSAoK3ggfHwgMCksIDApOw0KICAgICAgICAgICAgfSkucmVkdWNlKChhY2MsIHgpID0+IGFjYyArPSB4LCAwKTsNCiAgICAgICAgICAgIC8vIGdldCBjbGllbnRSZWN0cw0KICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpOw0KICAgICAgICAgICAgY29uc3QgcmVjdEVsZW1zID0gRE9DLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3JlY3RzJyk7DQogICAgICAgICAgICBjb25zdCBlbGVtZW50Q2xpZW50UmVjdHMgPSBbLi4ucmVjdEVsZW1zXS5tYXAoKGVsKSA9PiB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRvTmF0aXZlT2JqZWN0KGVsLmdldENsaWVudFJlY3RzKClbMF0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb25zdCBlbGVtZW50Qm91bmRpbmdDbGllbnRSZWN0ID0gWy4uLnJlY3RFbGVtc10ubWFwKChlbCkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiB0b05hdGl2ZU9iamVjdChlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IHJhbmdlQ2xpZW50UmVjdHMgPSBbLi4ucmVjdEVsZW1zXS5tYXAoKGVsKSA9PiB7DQogICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShlbCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRvTmF0aXZlT2JqZWN0KHJhbmdlLmdldENsaWVudFJlY3RzKClbMF0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb25zdCByYW5nZUJvdW5kaW5nQ2xpZW50UmVjdCA9IFsuLi5yZWN0RWxlbXNdLm1hcCgoZWwpID0+IHsNCiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlKGVsKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdG9OYXRpdmVPYmplY3QoZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAvLyBkZXRlY3QgZmFpbGVkIHNoaWZ0IGNhbGN1bGF0aW9uDQogICAgICAgICAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2Fya2VuZm94LmdpdGh1Yi5pby9UWlANCiAgICAgICAgICAgIGNvbnN0IHJlY3Q0ID0gWy4uLnJlY3RFbGVtc11bM107DQogICAgICAgICAgICBjb25zdCB7IHRvcDogaW5pdGlhbFRvcCB9ID0gZWxlbWVudENsaWVudFJlY3RzWzNdOw0KICAgICAgICAgICAgcmVjdDQuY2xhc3NMaXN0LmFkZCgnc2hpZnQtZG9tLXJlY3QnKTsNCiAgICAgICAgICAgIGNvbnN0IHsgdG9wOiBzaGlmdGVkVG9wIH0gPSB0b05hdGl2ZU9iamVjdChyZWN0NC5nZXRDbGllbnRSZWN0cygpWzBdKTsNCiAgICAgICAgICAgIHJlY3Q0LmNsYXNzTGlzdC5yZW1vdmUoJ3NoaWZ0LWRvbS1yZWN0Jyk7DQogICAgICAgICAgICBjb25zdCB7IHRvcDogdW5zaGlmdGVkVG9wIH0gPSB0b05hdGl2ZU9iamVjdChyZWN0NC5nZXRDbGllbnRSZWN0cygpWzBdKTsNCiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBpbml0aWFsVG9wIC0gc2hpZnRlZFRvcDsNCiAgICAgICAgICAgIGNvbnN0IHVuc2hpZnRMaWUgPSBkaWZmICE9ICh1bnNoaWZ0ZWRUb3AgLSBzaGlmdGVkVG9wKTsNCiAgICAgICAgICAgIGlmICh1bnNoaWZ0TGllKSB7DQogICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ0VsZW1lbnQuZ2V0Q2xpZW50UmVjdHMnLCAnZmFpbGVkIHVuc2hpZnQgY2FsY3VsYXRpb24nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIGRldGVjdCBmYWlsZWQgbWF0aCBjYWxjdWxhdGlvbiBsaWUNCiAgICAgICAgICAgIGxldCBtYXRoTGllID0gZmFsc2U7DQogICAgICAgICAgICBlbGVtZW50Q2xpZW50UmVjdHMuZm9yRWFjaCgocmVjdCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHsgcmlnaHQsIGxlZnQsIHdpZHRoLCBib3R0b20sIHRvcCwgaGVpZ2h0LCB4LCB5IH0gPSByZWN0Ow0KICAgICAgICAgICAgICAgIGlmIChyaWdodCAtIGxlZnQgIT0gd2lkdGggfHwNCiAgICAgICAgICAgICAgICAgICAgYm90dG9tIC0gdG9wICE9IGhlaWdodCB8fA0KICAgICAgICAgICAgICAgICAgICByaWdodCAtIHggIT0gd2lkdGggfHwNCiAgICAgICAgICAgICAgICAgICAgYm90dG9tIC0geSAhPSBoZWlnaHQpIHsNCiAgICAgICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIG1hdGhMaWUgPSB0cnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGlmIChtYXRoTGllKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ0VsZW1lbnQuZ2V0Q2xpZW50UmVjdHMnLCAnZmFpbGVkIG1hdGggY2FsY3VsYXRpb24nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIGRldGVjdCBlcXVhbCBlbGVtZW50cyBtaXNtYXRjaCBsaWUNCiAgICAgICAgICAgIGNvbnN0IHsgcmlnaHQ6IHJpZ2h0MSwgbGVmdDogbGVmdDEgfSA9IGVsZW1lbnRDbGllbnRSZWN0c1sxMF07DQogICAgICAgICAgICBjb25zdCB7IHJpZ2h0OiByaWdodDIsIGxlZnQ6IGxlZnQyIH0gPSBlbGVtZW50Q2xpZW50UmVjdHNbMTFdOw0KICAgICAgICAgICAgaWYgKHJpZ2h0MSAhPSByaWdodDIgfHwgbGVmdDEgIT0gbGVmdDIpIHsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnRWxlbWVudC5nZXRDbGllbnRSZWN0cycsICdlcXVhbCBlbGVtZW50cyBtaXNtYXRjaCcpOw0KICAgICAgICAgICAgICAgIGxpZWQgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8gZGV0ZWN0IHVua25vd24gcm90YXRlIGRpbWVuc2lvbnMNCiAgICAgICAgICAgIGNvbnN0IGtub3duRWwgPSBbLi4uRE9DLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3JlY3Qta25vd24nKV1bMF07DQogICAgICAgICAgICBjb25zdCBrbm93bkRpbWVuc2lvbnMgPSB0b05hdGl2ZU9iamVjdChrbm93bkVsLmdldENsaWVudFJlY3RzKClbMF0pOw0KICAgICAgICAgICAgY29uc3Qga25vd25IYXNoID0gaGFzaE1pbmkoa25vd25EaW1lbnNpb25zKTsNCiAgICAgICAgICAgIGlmIChJU19CTElOSykgew0KICAgICAgICAgICAgICAgIGNvbnN0IFJvdGF0ZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgJzlkOTIxNWNjJzogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgJzQ3ZGVkMzIyJzogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgJ2QwZWNlYWE4JzogdHJ1ZSwgLy8gOTANCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGlmICghUm90YXRlW2tub3duSGFzaF0pIHsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ0VsZW1lbnQuZ2V0Q2xpZW50UmVjdHMnLCAndW5rbm93biByb3RhdGUgZGltZW5zaW9ucycpOw0KICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIGlmIChJU19HRUNLTykgew0KICAgICAgICAgICAgICAgIGNvbnN0IFJvdGF0ZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgJ2UzODQ1M2YwJzogdHJ1ZSwgLy8gMTAwLCBldGMNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGlmICghUm90YXRlW2tub3duSGFzaF0pIHsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ0VsZW1lbnQuZ2V0Q2xpZW50UmVjdHMnLCAndW5rbm93biByb3RhdGUgZGltZW5zaW9ucycpOw0KICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBkZXRlY3QgZ2hvc3QgZGltZW5zaW9ucw0KICAgICAgICAgICAgY29uc3QgZ2hvc3RFbCA9IFsuLi5ET0MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncmVjdC1naG9zdCcpXVswXTsNCiAgICAgICAgICAgIGNvbnN0IGdob3N0RGltZW5zaW9ucyA9IHRvTmF0aXZlT2JqZWN0KGdob3N0RWwuZ2V0Q2xpZW50UmVjdHMoKVswXSk7DQogICAgICAgICAgICBjb25zdCBoYXNHaG9zdERpbWVuc2lvbnMgPSBPYmplY3Qua2V5cyhnaG9zdERpbWVuc2lvbnMpDQogICAgICAgICAgICAgICAgLnNvbWUoKGtleSkgPT4gZ2hvc3REaW1lbnNpb25zW2tleV0gIT09IDApOw0KICAgICAgICAgICAgaWYgKGhhc0dob3N0RGltZW5zaW9ucykgew0KICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKCdFbGVtZW50LmdldENsaWVudFJlY3RzJywgJ3Vua25vd24gZ2hvc3QgZGltZW5zaW9ucycpOw0KICAgICAgICAgICAgICAgIGxpZWQgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgRE9DLmJvZHkucmVtb3ZlQ2hpbGQoRE9DLmdldEVsZW1lbnRCeUlkKHJlY3RzSWQpKTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdyZWN0cycsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgZWxlbWVudENsaWVudFJlY3RzLA0KICAgICAgICAgICAgICAgIGVsZW1lbnRCb3VuZGluZ0NsaWVudFJlY3QsDQogICAgICAgICAgICAgICAgcmFuZ2VDbGllbnRSZWN0cywNCiAgICAgICAgICAgICAgICByYW5nZUJvdW5kaW5nQ2xpZW50UmVjdCwNCiAgICAgICAgICAgICAgICBlbW9qaVNldDogWy4uLmVtb2ppU2V0XSwNCiAgICAgICAgICAgICAgICBkb21yZWN0U3lzdGVtU3VtLA0KICAgICAgICAgICAgICAgIGxpZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdyZWN0cycsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIGZ1bmN0aW9uIGdldEVycm9ycyhlcnJGbnMpIHsNCiAgICAgICAgY29uc3QgZXJyb3JzID0gW107DQogICAgICAgIGxldCBpOw0KICAgICAgICBjb25zdCBsZW4gPSBlcnJGbnMubGVuZ3RoOw0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgZXJyRm5zW2ldKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZXJyKSB7DQogICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyLm1lc3NhZ2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBlcnJvcnM7DQogICAgfQ0KICAgIGZ1bmN0aW9uIGdldENvbnNvbGVFcnJvcnMoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICB0aW1lci5zdGFydCgpOw0KICAgICAgICAgICAgY29uc3QgZXJyb3JUZXN0cyA9IFsNCiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgRnVuY3Rpb24oJ2FsZXJ0KCIpJykoKSwNCiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgRnVuY3Rpb24oJ2NvbnN0IGZvbztmb28uYmFyJykoKSwNCiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgRnVuY3Rpb24oJ251bGwuYmFyJykoKSwNCiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgRnVuY3Rpb24oJ2FiYy54eXogPSAxMjMnKSgpLA0KICAgICAgICAgICAgICAgICgpID0+IG5ldyBGdW5jdGlvbignY29uc3QgZm9vO2Zvby5iYXInKSgpLA0KICAgICAgICAgICAgICAgICgpID0+IG5ldyBGdW5jdGlvbignKDEpLnRvU3RyaW5nKDEwMDApJykoKSwNCiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgRnVuY3Rpb24oJ1suLi51bmRlZmluZWRdLmxlbmd0aCcpKCksDQogICAgICAgICAgICAgICAgKCkgPT4gbmV3IEZ1bmN0aW9uKCd2YXIgeCA9IG5ldyBBcnJheSgtMSknKSgpLA0KICAgICAgICAgICAgICAgICgpID0+IG5ldyBGdW5jdGlvbignY29uc3QgYT0xOyBjb25zdCBhPTI7JykoKSwNCiAgICAgICAgICAgIF07DQogICAgICAgICAgICBjb25zdCBlcnJvcnMgPSBnZXRFcnJvcnMoZXJyb3JUZXN0cyk7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGltZTogdGltZXIuc3RvcCgpLCB0ZXN0OiAnY29uc29sZSBlcnJvcnMnLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4geyBlcnJvcnMgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnY29uc29sZSBlcnJvcnMnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICAvKg0KICAgIFN0ZXBzIHRvIHVwZGF0ZToNCiAgICAwLiBnZXQgYmV0YSByZWxlYXNlIGRlc2t0b3AvbW9iaWxlDQogICAgMS4gZ2V0IGRpZmZzIGZyb20gdGVtcGxhdGUNCiAgICAyLiB1cGRhdGUgZmVhdHVyZSBsaXN0DQogICAgMy4gdXBkYXRlIHN0YWJsZSBmZWF0dXJlcyBvYmplY3QNCiAgICAqLw0KICAgIGNvbnN0IGdldFN0YWJsZUZlYXR1cmVzID0gKCkgPT4gKHsNCiAgICAgICAgJ0Nocm9tZSc6IHsNCiAgICAgICAgICAgIHZlcnNpb246IDEwOSwNCiAgICAgICAgICAgIHdpbmRvd0tleXM6IGBPYmplY3QsIEZ1bmN0aW9uLCBBcnJheSwgTnVtYmVyLCBwYXJzZUZsb2F0LCBwYXJzZUludCwgSW5maW5pdHksIE5hTiwgdW5kZWZpbmVkLCBCb29sZWFuLCBTdHJpbmcsIFN5bWJvbCwgRGF0ZSwgUHJvbWlzZSwgUmVnRXhwLCBFcnJvciwgQWdncmVnYXRlRXJyb3IsIEV2YWxFcnJvciwgUmFuZ2VFcnJvciwgUmVmZXJlbmNlRXJyb3IsIFN5bnRheEVycm9yLCBUeXBlRXJyb3IsIFVSSUVycm9yLCBnbG9iYWxUaGlzLCBKU09OLCBNYXRoLCBJbnRsLCBBcnJheUJ1ZmZlciwgVWludDhBcnJheSwgSW50OEFycmF5LCBVaW50MTZBcnJheSwgSW50MTZBcnJheSwgVWludDMyQXJyYXksIEludDMyQXJyYXksIEZsb2F0MzJBcnJheSwgRmxvYXQ2NEFycmF5LCBVaW50OENsYW1wZWRBcnJheSwgQmlnVWludDY0QXJyYXksIEJpZ0ludDY0QXJyYXksIERhdGFWaWV3LCBNYXAsIEJpZ0ludCwgU2V0LCBXZWFrTWFwLCBXZWFrU2V0LCBQcm94eSwgUmVmbGVjdCwgRmluYWxpemF0aW9uUmVnaXN0cnksIFdlYWtSZWYsIGRlY29kZVVSSSwgZGVjb2RlVVJJQ29tcG9uZW50LCBlbmNvZGVVUkksIGVuY29kZVVSSUNvbXBvbmVudCwgZXNjYXBlLCB1bmVzY2FwZSwgZXZhbCwgaXNGaW5pdGUsIGlzTmFOLCBjb25zb2xlLCBPcHRpb24sIEltYWdlLCBBdWRpbywgd2Via2l0VVJMLCB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbiwgd2Via2l0TWVkaWFTdHJlYW0sIFdlYktpdE11dGF0aW9uT2JzZXJ2ZXIsIFdlYktpdENTU01hdHJpeCwgWFNMVFByb2Nlc3NvciwgWFBhdGhSZXN1bHQsIFhQYXRoRXhwcmVzc2lvbiwgWFBhdGhFdmFsdWF0b3IsIFhNTFNlcmlhbGl6ZXIsIFhNTEh0dHBSZXF1ZXN0VXBsb2FkLCBYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0LCBYTUxIdHRwUmVxdWVzdCwgWE1MRG9jdW1lbnQsIFdyaXRhYmxlU3RyZWFtRGVmYXVsdFdyaXRlciwgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlciwgV3JpdGFibGVTdHJlYW0sIFdvcmtlciwgV2luZG93LCBXaGVlbEV2ZW50LCBXZWJTb2NrZXQsIFdlYkdMVmVydGV4QXJyYXlPYmplY3QsIFdlYkdMVW5pZm9ybUxvY2F0aW9uLCBXZWJHTFRyYW5zZm9ybUZlZWRiYWNrLCBXZWJHTFRleHR1cmUsIFdlYkdMU3luYywgV2ViR0xTaGFkZXJQcmVjaXNpb25Gb3JtYXQsIFdlYkdMU2hhZGVyLCBXZWJHTFNhbXBsZXIsIFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgV2ViR0xSZW5kZXJidWZmZXIsIFdlYkdMUXVlcnksIFdlYkdMUHJvZ3JhbSwgV2ViR0xGcmFtZWJ1ZmZlciwgV2ViR0xDb250ZXh0RXZlbnQsIFdlYkdMQnVmZmVyLCBXZWJHTEFjdGl2ZUluZm8sIFdlYkdMMlJlbmRlcmluZ0NvbnRleHQsIFdhdmVTaGFwZXJOb2RlLCBWaXN1YWxWaWV3cG9ydCwgVmlydHVhbEtleWJvYXJkR2VvbWV0cnlDaGFuZ2VFdmVudCwgVmFsaWRpdHlTdGF0ZSwgVlRUQ3VlLCBVc2VyQWN0aXZhdGlvbiwgVVJMU2VhcmNoUGFyYW1zLCBVUkxQYXR0ZXJuLCBVUkwsIFVJRXZlbnQsIFRydXN0ZWRUeXBlUG9saWN5RmFjdG9yeSwgVHJ1c3RlZFR5cGVQb2xpY3ksIFRydXN0ZWRTY3JpcHRVUkwsIFRydXN0ZWRTY3JpcHQsIFRydXN0ZWRIVE1MLCBUcmVlV2Fsa2VyLCBUcmFuc2l0aW9uRXZlbnQsIFRyYW5zZm9ybVN0cmVhbURlZmF1bHRDb250cm9sbGVyLCBUcmFuc2Zvcm1TdHJlYW0sIFRyYWNrRXZlbnQsIFRvdWNoTGlzdCwgVG91Y2hFdmVudCwgVG91Y2gsIFRpbWVSYW5nZXMsIFRleHRUcmFja0xpc3QsIFRleHRUcmFja0N1ZUxpc3QsIFRleHRUcmFja0N1ZSwgVGV4dFRyYWNrLCBUZXh0TWV0cmljcywgVGV4dEV2ZW50LCBUZXh0RW5jb2RlclN0cmVhbSwgVGV4dEVuY29kZXIsIFRleHREZWNvZGVyU3RyZWFtLCBUZXh0RGVjb2RlciwgVGV4dCwgVGFza1NpZ25hbCwgVGFza1ByaW9yaXR5Q2hhbmdlRXZlbnQsIFRhc2tDb250cm9sbGVyLCBUYXNrQXR0cmlidXRpb25UaW1pbmcsIFN5bmNNYW5hZ2VyLCBTdWJtaXRFdmVudCwgU3R5bGVTaGVldExpc3QsIFN0eWxlU2hlZXQsIFN0eWxlUHJvcGVydHlNYXBSZWFkT25seSwgU3R5bGVQcm9wZXJ0eU1hcCwgU3RvcmFnZUV2ZW50LCBTdG9yYWdlLCBTdGVyZW9QYW5uZXJOb2RlLCBTdGF0aWNSYW5nZSwgU2hhZG93Um9vdCwgU2VsZWN0aW9uLCBTZWN1cml0eVBvbGljeVZpb2xhdGlvbkV2ZW50LCBTY3JpcHRQcm9jZXNzb3JOb2RlLCBTY3JlZW5PcmllbnRhdGlvbiwgU2NyZWVuLCBTY2hlZHVsaW5nLCBTY2hlZHVsZXIsIFNWR1ZpZXdFbGVtZW50LCBTVkdVc2VFbGVtZW50LCBTVkdVbml0VHlwZXMsIFNWR1RyYW5zZm9ybUxpc3QsIFNWR1RyYW5zZm9ybSwgU1ZHVGl0bGVFbGVtZW50LCBTVkdUZXh0UG9zaXRpb25pbmdFbGVtZW50LCBTVkdUZXh0UGF0aEVsZW1lbnQsIFNWR1RleHRFbGVtZW50LCBTVkdUZXh0Q29udGVudEVsZW1lbnQsIFNWR1RTcGFuRWxlbWVudCwgU1ZHU3ltYm9sRWxlbWVudCwgU1ZHU3dpdGNoRWxlbWVudCwgU1ZHU3R5bGVFbGVtZW50LCBTVkdTdHJpbmdMaXN0LCBTVkdTdG9wRWxlbWVudCwgU1ZHU2V0RWxlbWVudCwgU1ZHU2NyaXB0RWxlbWVudCwgU1ZHU1ZHRWxlbWVudCwgU1ZHUmVjdEVsZW1lbnQsIFNWR1JlY3QsIFNWR1JhZGlhbEdyYWRpZW50RWxlbWVudCwgU1ZHUHJlc2VydmVBc3BlY3RSYXRpbywgU1ZHUG9seWxpbmVFbGVtZW50LCBTVkdQb2x5Z29uRWxlbWVudCwgU1ZHUG9pbnRMaXN0LCBTVkdQb2ludCwgU1ZHUGF0dGVybkVsZW1lbnQsIFNWR1BhdGhFbGVtZW50LCBTVkdOdW1iZXJMaXN0LCBTVkdOdW1iZXIsIFNWR01ldGFkYXRhRWxlbWVudCwgU1ZHTWF0cml4LCBTVkdNYXNrRWxlbWVudCwgU1ZHTWFya2VyRWxlbWVudCwgU1ZHTVBhdGhFbGVtZW50LCBTVkdMaW5lYXJHcmFkaWVudEVsZW1lbnQsIFNWR0xpbmVFbGVtZW50LCBTVkdMZW5ndGhMaXN0LCBTVkdMZW5ndGgsIFNWR0ltYWdlRWxlbWVudCwgU1ZHR3JhcGhpY3NFbGVtZW50LCBTVkdHcmFkaWVudEVsZW1lbnQsIFNWR0dlb21ldHJ5RWxlbWVudCwgU1ZHR0VsZW1lbnQsIFNWR0ZvcmVpZ25PYmplY3RFbGVtZW50LCBTVkdGaWx0ZXJFbGVtZW50LCBTVkdGRVR1cmJ1bGVuY2VFbGVtZW50LCBTVkdGRVRpbGVFbGVtZW50LCBTVkdGRVNwb3RMaWdodEVsZW1lbnQsIFNWR0ZFU3BlY3VsYXJMaWdodGluZ0VsZW1lbnQsIFNWR0ZFUG9pbnRMaWdodEVsZW1lbnQsIFNWR0ZFT2Zmc2V0RWxlbWVudCwgU1ZHRkVNb3JwaG9sb2d5RWxlbWVudCwgU1ZHRkVNZXJnZU5vZGVFbGVtZW50LCBTVkdGRU1lcmdlRWxlbWVudCwgU1ZHRkVJbWFnZUVsZW1lbnQsIFNWR0ZFR2F1c3NpYW5CbHVyRWxlbWVudCwgU1ZHRkVGdW5jUkVsZW1lbnQsIFNWR0ZFRnVuY0dFbGVtZW50LCBTVkdGRUZ1bmNCRWxlbWVudCwgU1ZHRkVGdW5jQUVsZW1lbnQsIFNWR0ZFRmxvb2RFbGVtZW50LCBTVkdGRURyb3BTaGFkb3dFbGVtZW50LCBTVkdGRURpc3RhbnRMaWdodEVsZW1lbnQsIFNWR0ZFRGlzcGxhY2VtZW50TWFwRWxlbWVudCwgU1ZHRkVEaWZmdXNlTGlnaHRpbmdFbGVtZW50LCBTVkdGRUNvbnZvbHZlTWF0cml4RWxlbWVudCwgU1ZHRkVDb21wb3NpdGVFbGVtZW50LCBTVkdGRUNvbXBvbmVudFRyYW5zZmVyRWxlbWVudCwgU1ZHRkVDb2xvck1hdHJpeEVsZW1lbnQsIFNWR0ZFQmxlbmRFbGVtZW50LCBTVkdFbGxpcHNlRWxlbWVudCwgU1ZHRWxlbWVudCwgU1ZHRGVzY0VsZW1lbnQsIFNWR0RlZnNFbGVtZW50LCBTVkdDb21wb25lbnRUcmFuc2ZlckZ1bmN0aW9uRWxlbWVudCwgU1ZHQ2xpcFBhdGhFbGVtZW50LCBTVkdDaXJjbGVFbGVtZW50LCBTVkdBbmltYXRpb25FbGVtZW50LCBTVkdBbmltYXRlZFRyYW5zZm9ybUxpc3QsIFNWR0FuaW1hdGVkU3RyaW5nLCBTVkdBbmltYXRlZFJlY3QsIFNWR0FuaW1hdGVkUHJlc2VydmVBc3BlY3RSYXRpbywgU1ZHQW5pbWF0ZWROdW1iZXJMaXN0LCBTVkdBbmltYXRlZE51bWJlciwgU1ZHQW5pbWF0ZWRMZW5ndGhMaXN0LCBTVkdBbmltYXRlZExlbmd0aCwgU1ZHQW5pbWF0ZWRJbnRlZ2VyLCBTVkdBbmltYXRlZEVudW1lcmF0aW9uLCBTVkdBbmltYXRlZEJvb2xlYW4sIFNWR0FuaW1hdGVkQW5nbGUsIFNWR0FuaW1hdGVUcmFuc2Zvcm1FbGVtZW50LCBTVkdBbmltYXRlTW90aW9uRWxlbWVudCwgU1ZHQW5pbWF0ZUVsZW1lbnQsIFNWR0FuZ2xlLCBTVkdBRWxlbWVudCwgUmVzcG9uc2UsIFJlc2l6ZU9ic2VydmVyU2l6ZSwgUmVzaXplT2JzZXJ2ZXJFbnRyeSwgUmVzaXplT2JzZXJ2ZXIsIFJlcXVlc3QsIFJlcG9ydGluZ09ic2VydmVyLCBSZWFkYWJsZVN0cmVhbURlZmF1bHRSZWFkZXIsIFJlYWRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIsIFJlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QsIFJlYWRhYmxlU3RyZWFtQllPQlJlYWRlciwgUmVhZGFibGVTdHJlYW0sIFJlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXIsIFJhbmdlLCBSYWRpb05vZGVMaXN0LCBSVENUcmFja0V2ZW50LCBSVENTdGF0c1JlcG9ydCwgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uLCBSVENTY3RwVHJhbnNwb3J0LCBSVENSdHBUcmFuc2NlaXZlciwgUlRDUnRwU2VuZGVyLCBSVENSdHBSZWNlaXZlciwgUlRDUGVlckNvbm5lY3Rpb25JY2VFdmVudCwgUlRDUGVlckNvbm5lY3Rpb25JY2VFcnJvckV2ZW50LCBSVENQZWVyQ29ubmVjdGlvbiwgUlRDSWNlVHJhbnNwb3J0LCBSVENJY2VDYW5kaWRhdGUsIFJUQ0Vycm9yRXZlbnQsIFJUQ0Vycm9yLCBSVENFbmNvZGVkVmlkZW9GcmFtZSwgUlRDRW5jb2RlZEF1ZGlvRnJhbWUsIFJUQ0R0bHNUcmFuc3BvcnQsIFJUQ0RhdGFDaGFubmVsRXZlbnQsIFJUQ0RhdGFDaGFubmVsLCBSVENEVE1GVG9uZUNoYW5nZUV2ZW50LCBSVENEVE1GU2VuZGVyLCBSVENDZXJ0aWZpY2F0ZSwgUHJvbWlzZVJlamVjdGlvbkV2ZW50LCBQcm9ncmVzc0V2ZW50LCBQcm9maWxlciwgUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBQb3BTdGF0ZUV2ZW50LCBQb2ludGVyRXZlbnQsIFBsdWdpbkFycmF5LCBQbHVnaW4sIFBlcmlvZGljV2F2ZSwgUGVyZm9ybWFuY2VUaW1pbmcsIFBlcmZvcm1hbmNlU2VydmVyVGltaW5nLCBQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nLCBQZXJmb3JtYW5jZVBhaW50VGltaW5nLCBQZXJmb3JtYW5jZU9ic2VydmVyRW50cnlMaXN0LCBQZXJmb3JtYW5jZU9ic2VydmVyLCBQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmcsIFBlcmZvcm1hbmNlTmF2aWdhdGlvbiwgUGVyZm9ybWFuY2VNZWFzdXJlLCBQZXJmb3JtYW5jZU1hcmssIFBlcmZvcm1hbmNlTG9uZ1Rhc2tUaW1pbmcsIFBlcmZvcm1hbmNlRXZlbnRUaW1pbmcsIFBlcmZvcm1hbmNlRW50cnksIFBlcmZvcm1hbmNlRWxlbWVudFRpbWluZywgUGVyZm9ybWFuY2UsIFBhdGgyRCwgUGFubmVyTm9kZSwgUGFnZVRyYW5zaXRpb25FdmVudCwgT3ZlcmNvbnN0cmFpbmVkRXJyb3IsIE9zY2lsbGF0b3JOb2RlLCBPZmZzY3JlZW5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIE9mZnNjcmVlbkNhbnZhcywgT2ZmbGluZUF1ZGlvQ29udGV4dCwgT2ZmbGluZUF1ZGlvQ29tcGxldGlvbkV2ZW50LCBOb2RlTGlzdCwgTm9kZUl0ZXJhdG9yLCBOb2RlRmlsdGVyLCBOb2RlLCBOZXR3b3JrSW5mb3JtYXRpb24sIE5hdmlnYXRvciwgTmFtZWROb2RlTWFwLCBNdXRhdGlvblJlY29yZCwgTXV0YXRpb25PYnNlcnZlciwgTXV0YXRpb25FdmVudCwgTW91c2VFdmVudCwgTWltZVR5cGVBcnJheSwgTWltZVR5cGUsIE1lc3NhZ2VQb3J0LCBNZXNzYWdlRXZlbnQsIE1lc3NhZ2VDaGFubmVsLCBNZWRpYVN0cmVhbVRyYWNrUHJvY2Vzc29yLCBNZWRpYVN0cmVhbVRyYWNrRXZlbnQsIE1lZGlhU3RyZWFtRXZlbnQsIE1lZGlhU3RyZWFtQXVkaW9Tb3VyY2VOb2RlLCBNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlLCBNZWRpYVN0cmVhbSwgTWVkaWFSZWNvcmRlciwgTWVkaWFRdWVyeUxpc3RFdmVudCwgTWVkaWFRdWVyeUxpc3QsIE1lZGlhTGlzdCwgTWVkaWFFcnJvciwgTWVkaWFFbmNyeXB0ZWRFdmVudCwgTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlLCBNZWRpYUNhcGFiaWxpdGllcywgTG9jYXRpb24sIExheW91dFNoaWZ0QXR0cmlidXRpb24sIExheW91dFNoaWZ0LCBMYXJnZXN0Q29udGVudGZ1bFBhaW50LCBLZXlmcmFtZUVmZmVjdCwgS2V5Ym9hcmRFdmVudCwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsIElucHV0RXZlbnQsIElucHV0RGV2aWNlSW5mbywgSW5wdXREZXZpY2VDYXBhYmlsaXRpZXMsIEltYWdlRGF0YSwgSW1hZ2VDYXB0dXJlLCBJbWFnZUJpdG1hcFJlbmRlcmluZ0NvbnRleHQsIEltYWdlQml0bWFwLCBJZGxlRGVhZGxpbmUsIElJUkZpbHRlck5vZGUsIElEQlZlcnNpb25DaGFuZ2VFdmVudCwgSURCVHJhbnNhY3Rpb24sIElEQlJlcXVlc3QsIElEQk9wZW5EQlJlcXVlc3QsIElEQk9iamVjdFN0b3JlLCBJREJLZXlSYW5nZSwgSURCSW5kZXgsIElEQkZhY3RvcnksIElEQkRhdGFiYXNlLCBJREJDdXJzb3JXaXRoVmFsdWUsIElEQkN1cnNvciwgSGlzdG9yeSwgSGVhZGVycywgSGFzaENoYW5nZUV2ZW50LCBIVE1MVmlkZW9FbGVtZW50LCBIVE1MVW5rbm93bkVsZW1lbnQsIEhUTUxVTGlzdEVsZW1lbnQsIEhUTUxUcmFja0VsZW1lbnQsIEhUTUxUaXRsZUVsZW1lbnQsIEhUTUxUaW1lRWxlbWVudCwgSFRNTFRleHRBcmVhRWxlbWVudCwgSFRNTFRlbXBsYXRlRWxlbWVudCwgSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQsIEhUTUxUYWJsZVJvd0VsZW1lbnQsIEhUTUxUYWJsZUVsZW1lbnQsIEhUTUxUYWJsZUNvbEVsZW1lbnQsIEhUTUxUYWJsZUNlbGxFbGVtZW50LCBIVE1MVGFibGVDYXB0aW9uRWxlbWVudCwgSFRNTFN0eWxlRWxlbWVudCwgSFRNTFNwYW5FbGVtZW50LCBIVE1MU291cmNlRWxlbWVudCwgSFRNTFNsb3RFbGVtZW50LCBIVE1MU2VsZWN0RWxlbWVudCwgSFRNTFNjcmlwdEVsZW1lbnQsIEhUTUxRdW90ZUVsZW1lbnQsIEhUTUxQcm9ncmVzc0VsZW1lbnQsIEhUTUxQcmVFbGVtZW50LCBIVE1MUGljdHVyZUVsZW1lbnQsIEhUTUxQYXJhbUVsZW1lbnQsIEhUTUxQYXJhZ3JhcGhFbGVtZW50LCBIVE1MT3V0cHV0RWxlbWVudCwgSFRNTE9wdGlvbnNDb2xsZWN0aW9uLCBIVE1MT3B0aW9uRWxlbWVudCwgSFRNTE9wdEdyb3VwRWxlbWVudCwgSFRNTE9iamVjdEVsZW1lbnQsIEhUTUxPTGlzdEVsZW1lbnQsIEhUTUxNb2RFbGVtZW50LCBIVE1MTWV0ZXJFbGVtZW50LCBIVE1MTWV0YUVsZW1lbnQsIEhUTUxNZW51RWxlbWVudCwgSFRNTE1lZGlhRWxlbWVudCwgSFRNTE1hcnF1ZWVFbGVtZW50LCBIVE1MTWFwRWxlbWVudCwgSFRNTExpbmtFbGVtZW50LCBIVE1MTGVnZW5kRWxlbWVudCwgSFRNTExhYmVsRWxlbWVudCwgSFRNTExJRWxlbWVudCwgSFRNTElucHV0RWxlbWVudCwgSFRNTEltYWdlRWxlbWVudCwgSFRNTElGcmFtZUVsZW1lbnQsIEhUTUxIdG1sRWxlbWVudCwgSFRNTEhlYWRpbmdFbGVtZW50LCBIVE1MSGVhZEVsZW1lbnQsIEhUTUxIUkVsZW1lbnQsIEhUTUxGcmFtZVNldEVsZW1lbnQsIEhUTUxGcmFtZUVsZW1lbnQsIEhUTUxGb3JtRWxlbWVudCwgSFRNTEZvcm1Db250cm9sc0NvbGxlY3Rpb24sIEhUTUxGb250RWxlbWVudCwgSFRNTEZpZWxkU2V0RWxlbWVudCwgSFRNTEVtYmVkRWxlbWVudCwgSFRNTEVsZW1lbnQsIEhUTUxEb2N1bWVudCwgSFRNTERpdkVsZW1lbnQsIEhUTUxEaXJlY3RvcnlFbGVtZW50LCBIVE1MRGlhbG9nRWxlbWVudCwgSFRNTERldGFpbHNFbGVtZW50LCBIVE1MRGF0YUxpc3RFbGVtZW50LCBIVE1MRGF0YUVsZW1lbnQsIEhUTUxETGlzdEVsZW1lbnQsIEhUTUxDb2xsZWN0aW9uLCBIVE1MQ2FudmFzRWxlbWVudCwgSFRNTEJ1dHRvbkVsZW1lbnQsIEhUTUxCb2R5RWxlbWVudCwgSFRNTEJhc2VFbGVtZW50LCBIVE1MQlJFbGVtZW50LCBIVE1MQXVkaW9FbGVtZW50LCBIVE1MQXJlYUVsZW1lbnQsIEhUTUxBbmNob3JFbGVtZW50LCBIVE1MQWxsQ29sbGVjdGlvbiwgR2VvbG9jYXRpb25Qb3NpdGlvbkVycm9yLCBHZW9sb2NhdGlvblBvc2l0aW9uLCBHZW9sb2NhdGlvbkNvb3JkaW5hdGVzLCBHZW9sb2NhdGlvbiwgR2FtZXBhZEhhcHRpY0FjdHVhdG9yLCBHYW1lcGFkRXZlbnQsIEdhbWVwYWRCdXR0b24sIEdhbWVwYWQsIEdhaW5Ob2RlLCBGb3JtRGF0YUV2ZW50LCBGb3JtRGF0YSwgRm9udEZhY2VTZXRMb2FkRXZlbnQsIEZvbnRGYWNlLCBGb2N1c0V2ZW50LCBGaWxlUmVhZGVyLCBGaWxlTGlzdCwgRmlsZSwgRmVhdHVyZVBvbGljeSwgRXh0ZXJuYWwsIEV2ZW50VGFyZ2V0LCBFdmVudFNvdXJjZSwgRXZlbnRDb3VudHMsIEV2ZW50LCBFcnJvckV2ZW50LCBFbGVtZW50SW50ZXJuYWxzLCBFbGVtZW50LCBEeW5hbWljc0NvbXByZXNzb3JOb2RlLCBEcmFnRXZlbnQsIERvY3VtZW50VHlwZSwgRG9jdW1lbnRGcmFnbWVudCwgRG9jdW1lbnQsIERlbGF5Tm9kZSwgRGVjb21wcmVzc2lvblN0cmVhbSwgRGF0YVRyYW5zZmVySXRlbUxpc3QsIERhdGFUcmFuc2Zlckl0ZW0sIERhdGFUcmFuc2ZlciwgRE9NVG9rZW5MaXN0LCBET01TdHJpbmdNYXAsIERPTVN0cmluZ0xpc3QsIERPTVJlY3RSZWFkT25seSwgRE9NUmVjdExpc3QsIERPTVJlY3QsIERPTVF1YWQsIERPTVBvaW50UmVhZE9ubHksIERPTVBvaW50LCBET01QYXJzZXIsIERPTU1hdHJpeFJlYWRPbmx5LCBET01NYXRyaXgsIERPTUltcGxlbWVudGF0aW9uLCBET01FeGNlcHRpb24sIERPTUVycm9yLCBDdXN0b21TdGF0ZVNldCwgQ3VzdG9tRXZlbnQsIEN1c3RvbUVsZW1lbnRSZWdpc3RyeSwgQ3J5cHRvLCBDb3VudFF1ZXVpbmdTdHJhdGVneSwgQ29udm9sdmVyTm9kZSwgQ29uc3RhbnRTb3VyY2VOb2RlLCBDb21wcmVzc2lvblN0cmVhbSwgQ29tcG9zaXRpb25FdmVudCwgQ29tbWVudCwgQ2xvc2VFdmVudCwgQ2xpcGJvYXJkRXZlbnQsIENoYXJhY3RlckRhdGEsIENoYW5uZWxTcGxpdHRlck5vZGUsIENoYW5uZWxNZXJnZXJOb2RlLCBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIENhbnZhc1BhdHRlcm4sIENhbnZhc0dyYWRpZW50LCBDYW52YXNGaWx0ZXIsIENhbnZhc0NhcHR1cmVNZWRpYVN0cmVhbVRyYWNrLCBDU1NWYXJpYWJsZVJlZmVyZW5jZVZhbHVlLCBDU1NVbnBhcnNlZFZhbHVlLCBDU1NVbml0VmFsdWUsIENTU1RyYW5zbGF0ZSwgQ1NTVHJhbnNmb3JtVmFsdWUsIENTU1RyYW5zZm9ybUNvbXBvbmVudCwgQ1NTU3VwcG9ydHNSdWxlLCBDU1NTdHlsZVZhbHVlLCBDU1NTdHlsZVNoZWV0LCBDU1NTdHlsZVJ1bGUsIENTU1N0eWxlRGVjbGFyYXRpb24sIENTU1NrZXdZLCBDU1NTa2V3WCwgQ1NTU2tldywgQ1NTU2NhbGUsIENTU1J1bGVMaXN0LCBDU1NSdWxlLCBDU1NSb3RhdGUsIENTU1Byb3BlcnR5UnVsZSwgQ1NTUG9zaXRpb25WYWx1ZSwgQ1NTUGVyc3BlY3RpdmUsIENTU1BhZ2VSdWxlLCBDU1NOdW1lcmljVmFsdWUsIENTU051bWVyaWNBcnJheSwgQ1NTTmFtZXNwYWNlUnVsZSwgQ1NTTWVkaWFSdWxlLCBDU1NNYXRyaXhDb21wb25lbnQsIENTU01hdGhWYWx1ZSwgQ1NTTWF0aFN1bSwgQ1NTTWF0aFByb2R1Y3QsIENTU01hdGhOZWdhdGUsIENTU01hdGhNaW4sIENTU01hdGhNYXgsIENTU01hdGhJbnZlcnQsIENTU01hdGhDbGFtcCwgQ1NTTGF5ZXJTdGF0ZW1lbnRSdWxlLCBDU1NMYXllckJsb2NrUnVsZSwgQ1NTS2V5d29yZFZhbHVlLCBDU1NLZXlmcmFtZXNSdWxlLCBDU1NLZXlmcmFtZVJ1bGUsIENTU0ltcG9ydFJ1bGUsIENTU0ltYWdlVmFsdWUsIENTU0dyb3VwaW5nUnVsZSwgQ1NTRm9udEZhY2VSdWxlLCBDU1NDb3VudGVyU3R5bGVSdWxlLCBDU1NDb25kaXRpb25SdWxlLCBDU1MsIENEQVRBU2VjdGlvbiwgQnl0ZUxlbmd0aFF1ZXVpbmdTdHJhdGVneSwgQnJvYWRjYXN0Q2hhbm5lbCwgQmxvYkV2ZW50LCBCbG9iLCBCaXF1YWRGaWx0ZXJOb2RlLCBCZWZvcmVVbmxvYWRFdmVudCwgQmVmb3JlSW5zdGFsbFByb21wdEV2ZW50LCBCYXNlQXVkaW9Db250ZXh0LCBCYXJQcm9wLCBBdWRpb1dvcmtsZXROb2RlLCBBdWRpb1NjaGVkdWxlZFNvdXJjZU5vZGUsIEF1ZGlvUHJvY2Vzc2luZ0V2ZW50LCBBdWRpb1BhcmFtTWFwLCBBdWRpb1BhcmFtLCBBdWRpb05vZGUsIEF1ZGlvTGlzdGVuZXIsIEF1ZGlvRGVzdGluYXRpb25Ob2RlLCBBdWRpb0NvbnRleHQsIEF1ZGlvQnVmZmVyU291cmNlTm9kZSwgQXVkaW9CdWZmZXIsIEF0dHIsIEFuaW1hdGlvbkV2ZW50LCBBbmltYXRpb25FZmZlY3QsIEFuaW1hdGlvbiwgQW5hbHlzZXJOb2RlLCBBYnN0cmFjdFJhbmdlLCBBYm9ydFNpZ25hbCwgQWJvcnRDb250cm9sbGVyLCB3aW5kb3csIHNlbGYsIGRvY3VtZW50LCBuYW1lLCBsb2NhdGlvbiwgY3VzdG9tRWxlbWVudHMsIGhpc3RvcnksIGxvY2F0aW9uYmFyLCBtZW51YmFyLCBwZXJzb25hbGJhciwgc2Nyb2xsYmFycywgc3RhdHVzYmFyLCB0b29sYmFyLCBzdGF0dXMsIGNsb3NlZCwgZnJhbWVzLCBsZW5ndGgsIHRvcCwgb3BlbmVyLCBwYXJlbnQsIGZyYW1lRWxlbWVudCwgbmF2aWdhdG9yLCBvcmlnaW4sIGV4dGVybmFsLCBzY3JlZW4sIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0LCBzY3JvbGxYLCBwYWdlWE9mZnNldCwgc2Nyb2xsWSwgcGFnZVlPZmZzZXQsIHZpc3VhbFZpZXdwb3J0LCBzY3JlZW5YLCBzY3JlZW5ZLCBvdXRlcldpZHRoLCBvdXRlckhlaWdodCwgZGV2aWNlUGl4ZWxSYXRpbywgZXZlbnQsIGNsaWVudEluZm9ybWF0aW9uLCBvZmZzY3JlZW5CdWZmZXJpbmcsIHNjcmVlbkxlZnQsIHNjcmVlblRvcCwgc3R5bGVNZWRpYSwgb25zZWFyY2gsIGlzU2VjdXJlQ29udGV4dCwgdHJ1c3RlZFR5cGVzLCBwZXJmb3JtYW5jZSwgb25hcHBpbnN0YWxsZWQsIG9uYmVmb3JlaW5zdGFsbHByb21wdCwgY3J5cHRvLCBpbmRleGVkREIsIHNlc3Npb25TdG9yYWdlLCBsb2NhbFN0b3JhZ2UsIG9uYmVmb3JleHJzZWxlY3QsIG9uYWJvcnQsIG9uYmVmb3JlaW5wdXQsIG9uYmx1ciwgb25jYW5jZWwsIG9uY2FucGxheSwgb25jYW5wbGF5dGhyb3VnaCwgb25jaGFuZ2UsIG9uY2xpY2ssIG9uY2xvc2UsIG9uY29udGV4dGxvc3QsIG9uY29udGV4dG1lbnUsIG9uY29udGV4dHJlc3RvcmVkLCBvbmN1ZWNoYW5nZSwgb25kYmxjbGljaywgb25kcmFnLCBvbmRyYWdlbmQsIG9uZHJhZ2VudGVyLCBvbmRyYWdsZWF2ZSwgb25kcmFnb3Zlciwgb25kcmFnc3RhcnQsIG9uZHJvcCwgb25kdXJhdGlvbmNoYW5nZSwgb25lbXB0aWVkLCBvbmVuZGVkLCBvbmVycm9yLCBvbmZvY3VzLCBvbmZvcm1kYXRhLCBvbmlucHV0LCBvbmludmFsaWQsIG9ua2V5ZG93biwgb25rZXlwcmVzcywgb25rZXl1cCwgb25sb2FkLCBvbmxvYWRlZGRhdGEsIG9ubG9hZGVkbWV0YWRhdGEsIG9ubG9hZHN0YXJ0LCBvbm1vdXNlZG93biwgb25tb3VzZWVudGVyLCBvbm1vdXNlbGVhdmUsIG9ubW91c2Vtb3ZlLCBvbm1vdXNlb3V0LCBvbm1vdXNlb3Zlciwgb25tb3VzZXVwLCBvbm1vdXNld2hlZWwsIG9ucGF1c2UsIG9ucGxheSwgb25wbGF5aW5nLCBvbnByb2dyZXNzLCBvbnJhdGVjaGFuZ2UsIG9ucmVzZXQsIG9ucmVzaXplLCBvbnNjcm9sbCwgb25zZWN1cml0eXBvbGljeXZpb2xhdGlvbiwgb25zZWVrZWQsIG9uc2Vla2luZywgb25zZWxlY3QsIG9uc2xvdGNoYW5nZSwgb25zdGFsbGVkLCBvbnN1Ym1pdCwgb25zdXNwZW5kLCBvbnRpbWV1cGRhdGUsIG9udG9nZ2xlLCBvbnZvbHVtZWNoYW5nZSwgb253YWl0aW5nLCBvbndlYmtpdGFuaW1hdGlvbmVuZCwgb253ZWJraXRhbmltYXRpb25pdGVyYXRpb24sIG9ud2Via2l0YW5pbWF0aW9uc3RhcnQsIG9ud2Via2l0dHJhbnNpdGlvbmVuZCwgb253aGVlbCwgb25hdXhjbGljaywgb25nb3Rwb2ludGVyY2FwdHVyZSwgb25sb3N0cG9pbnRlcmNhcHR1cmUsIG9ucG9pbnRlcmRvd24sIG9ucG9pbnRlcm1vdmUsIG9ucG9pbnRlcnJhd3VwZGF0ZSwgb25wb2ludGVydXAsIG9ucG9pbnRlcmNhbmNlbCwgb25wb2ludGVyb3Zlciwgb25wb2ludGVyb3V0LCBvbnBvaW50ZXJlbnRlciwgb25wb2ludGVybGVhdmUsIG9uc2VsZWN0c3RhcnQsIG9uc2VsZWN0aW9uY2hhbmdlLCBvbmFuaW1hdGlvbmVuZCwgb25hbmltYXRpb25pdGVyYXRpb24sIG9uYW5pbWF0aW9uc3RhcnQsIG9udHJhbnNpdGlvbnJ1biwgb250cmFuc2l0aW9uc3RhcnQsIG9udHJhbnNpdGlvbmVuZCwgb250cmFuc2l0aW9uY2FuY2VsLCBvbmFmdGVycHJpbnQsIG9uYmVmb3JlcHJpbnQsIG9uYmVmb3JldW5sb2FkLCBvbmhhc2hjaGFuZ2UsIG9ubGFuZ3VhZ2VjaGFuZ2UsIG9ubWVzc2FnZSwgb25tZXNzYWdlZXJyb3IsIG9ub2ZmbGluZSwgb25vbmxpbmUsIG9ucGFnZWhpZGUsIG9ucGFnZXNob3csIG9ucG9wc3RhdGUsIG9ucmVqZWN0aW9uaGFuZGxlZCwgb25zdG9yYWdlLCBvbnVuaGFuZGxlZHJlamVjdGlvbiwgb251bmxvYWQsIGNyb3NzT3JpZ2luSXNvbGF0ZWQsIHNjaGVkdWxlciwgYWxlcnQsIGF0b2IsIGJsdXIsIGJ0b2EsIGNhbmNlbEFuaW1hdGlvbkZyYW1lLCBjYW5jZWxJZGxlQ2FsbGJhY2ssIGNhcHR1cmVFdmVudHMsIGNsZWFySW50ZXJ2YWwsIGNsZWFyVGltZW91dCwgY2xvc2UsIGNvbmZpcm0sIGNyZWF0ZUltYWdlQml0bWFwLCBmZXRjaCwgZmluZCwgZm9jdXMsIGdldENvbXB1dGVkU3R5bGUsIGdldFNlbGVjdGlvbiwgbWF0Y2hNZWRpYSwgbW92ZUJ5LCBtb3ZlVG8sIG9wZW4sIHBvc3RNZXNzYWdlLCBwcmludCwgcHJvbXB0LCBxdWV1ZU1pY3JvdGFzaywgcmVsZWFzZUV2ZW50cywgcmVwb3J0RXJyb3IsIHJlcXVlc3RBbmltYXRpb25GcmFtZSwgcmVxdWVzdElkbGVDYWxsYmFjaywgcmVzaXplQnksIHJlc2l6ZVRvLCBzY3JvbGwsIHNjcm9sbEJ5LCBzY3JvbGxUbywgc2V0SW50ZXJ2YWwsIHNldFRpbWVvdXQsIHN0b3AsIHN0cnVjdHVyZWRDbG9uZSwgd2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUsIHdlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSwgQXRvbWljcywgY2hyb21lLCBXZWJBc3NlbWJseSwgY2FjaGVzLCBjb29raWVTdG9yZSwgb25kZXZpY2Vtb3Rpb24sIG9uZGV2aWNlb3JpZW50YXRpb24sIG9uZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZSwgbGF1bmNoUXVldWUsIG9uYmVmb3JlbWF0Y2gsIEFic29sdXRlT3JpZW50YXRpb25TZW5zb3IsIEFjY2VsZXJvbWV0ZXIsIEF1ZGlvV29ya2xldCwgQmF0dGVyeU1hbmFnZXIsIENhY2hlLCBDYWNoZVN0b3JhZ2UsIENsaXBib2FyZCwgQ2xpcGJvYXJkSXRlbSwgQ29va2llQ2hhbmdlRXZlbnQsIENvb2tpZVN0b3JlLCBDb29raWVTdG9yZU1hbmFnZXIsIENyZWRlbnRpYWwsIENyZWRlbnRpYWxzQ29udGFpbmVyLCBDcnlwdG9LZXksIERldmljZU1vdGlvbkV2ZW50LCBEZXZpY2VNb3Rpb25FdmVudEFjY2VsZXJhdGlvbiwgRGV2aWNlTW90aW9uRXZlbnRSb3RhdGlvblJhdGUsIERldmljZU9yaWVudGF0aW9uRXZlbnQsIEZlZGVyYXRlZENyZWRlbnRpYWwsIEdyYXZpdHlTZW5zb3IsIEd5cm9zY29wZSwgS2V5Ym9hcmQsIEtleWJvYXJkTGF5b3V0TWFwLCBMaW5lYXJBY2NlbGVyYXRpb25TZW5zb3IsIExvY2ssIExvY2tNYW5hZ2VyLCBNSURJQWNjZXNzLCBNSURJQ29ubmVjdGlvbkV2ZW50LCBNSURJSW5wdXQsIE1JRElJbnB1dE1hcCwgTUlESU1lc3NhZ2VFdmVudCwgTUlESU91dHB1dCwgTUlESU91dHB1dE1hcCwgTUlESVBvcnQsIE1lZGlhRGV2aWNlSW5mbywgTWVkaWFEZXZpY2VzLCBNZWRpYUtleU1lc3NhZ2VFdmVudCwgTWVkaWFLZXlTZXNzaW9uLCBNZWRpYUtleVN0YXR1c01hcCwgTWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIE1lZGlhS2V5cywgTmF2aWdhdGlvblByZWxvYWRNYW5hZ2VyLCBOYXZpZ2F0b3JNYW5hZ2VkRGF0YSwgT3JpZW50YXRpb25TZW5zb3IsIFBhc3N3b3JkQ3JlZGVudGlhbCwgUmVsYXRpdmVPcmllbnRhdGlvblNlbnNvciwgU2NyZWVuRGV0YWlsZWQsIFNjcmVlbkRldGFpbHMsIFNlbnNvciwgU2Vuc29yRXJyb3JFdmVudCwgU2VydmljZVdvcmtlciwgU2VydmljZVdvcmtlckNvbnRhaW5lciwgU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiwgU3RvcmFnZU1hbmFnZXIsIFN1YnRsZUNyeXB0bywgVmlydHVhbEtleWJvYXJkLCBXZWJUcmFuc3BvcnQsIFdlYlRyYW5zcG9ydEJpZGlyZWN0aW9uYWxTdHJlYW0sIFdlYlRyYW5zcG9ydERhdGFncmFtRHVwbGV4U3RyZWFtLCBXZWJUcmFuc3BvcnRFcnJvciwgV29ya2xldCwgWFJET01PdmVybGF5U3RhdGUsIFhSTGF5ZXIsIFhSV2ViR0xCaW5kaW5nLCBBdWRpb0RhdGEsIEVuY29kZWRBdWRpb0NodW5rLCBFbmNvZGVkVmlkZW9DaHVuaywgSW1hZ2VUcmFjaywgSW1hZ2VUcmFja0xpc3QsIFZpZGVvQ29sb3JTcGFjZSwgVmlkZW9GcmFtZSwgQXVkaW9EZWNvZGVyLCBBdWRpb0VuY29kZXIsIEltYWdlRGVjb2RlciwgVmlkZW9EZWNvZGVyLCBWaWRlb0VuY29kZXIsIEF1dGhlbnRpY2F0b3JBc3NlcnRpb25SZXNwb25zZSwgQXV0aGVudGljYXRvckF0dGVzdGF0aW9uUmVzcG9uc2UsIEF1dGhlbnRpY2F0b3JSZXNwb25zZSwgUHVibGljS2V5Q3JlZGVudGlhbCwgQmx1ZXRvb3RoLCBCbHVldG9vdGhDaGFyYWN0ZXJpc3RpY1Byb3BlcnRpZXMsIEJsdWV0b290aERldmljZSwgQmx1ZXRvb3RoUmVtb3RlR0FUVENoYXJhY3RlcmlzdGljLCBCbHVldG9vdGhSZW1vdGVHQVRURGVzY3JpcHRvciwgQmx1ZXRvb3RoUmVtb3RlR0FUVFNlcnZlciwgQmx1ZXRvb3RoUmVtb3RlR0FUVFNlcnZpY2UsIENhcHR1cmVDb250cm9sbGVyLCBFeWVEcm9wcGVyLCBGaWxlU3lzdGVtRGlyZWN0b3J5SGFuZGxlLCBGaWxlU3lzdGVtRmlsZUhhbmRsZSwgRmlsZVN5c3RlbUhhbmRsZSwgRmlsZVN5c3RlbVdyaXRhYmxlRmlsZVN0cmVhbSwgRm9udERhdGEsIEZyYWdtZW50RGlyZWN0aXZlLCBISUQsIEhJRENvbm5lY3Rpb25FdmVudCwgSElERGV2aWNlLCBISURJbnB1dFJlcG9ydEV2ZW50LCBJZGVudGl0eUNyZWRlbnRpYWwsIElkbGVEZXRlY3RvciwgTGF1bmNoUGFyYW1zLCBMYXVuY2hRdWV1ZSwgT1RQQ3JlZGVudGlhbCwgUGF5bWVudEFkZHJlc3MsIFBheW1lbnRSZXF1ZXN0LCBQYXltZW50UmVzcG9uc2UsIFBheW1lbnRNZXRob2RDaGFuZ2VFdmVudCwgUHJlc2VudGF0aW9uLCBQcmVzZW50YXRpb25BdmFpbGFiaWxpdHksIFByZXNlbnRhdGlvbkNvbm5lY3Rpb24sIFByZXNlbnRhdGlvbkNvbm5lY3Rpb25BdmFpbGFibGVFdmVudCwgUHJlc2VudGF0aW9uQ29ubmVjdGlvbkNsb3NlRXZlbnQsIFByZXNlbnRhdGlvbkNvbm5lY3Rpb25MaXN0LCBQcmVzZW50YXRpb25SZWNlaXZlciwgUHJlc2VudGF0aW9uUmVxdWVzdCwgU2FuaXRpemVyLCBTZXJpYWwsIFNlcmlhbFBvcnQsIFVTQiwgVVNCQWx0ZXJuYXRlSW50ZXJmYWNlLCBVU0JDb25maWd1cmF0aW9uLCBVU0JDb25uZWN0aW9uRXZlbnQsIFVTQkRldmljZSwgVVNCRW5kcG9pbnQsIFVTQkluVHJhbnNmZXJSZXN1bHQsIFVTQkludGVyZmFjZSwgVVNCSXNvY2hyb25vdXNJblRyYW5zZmVyUGFja2V0LCBVU0JJc29jaHJvbm91c0luVHJhbnNmZXJSZXN1bHQsIFVTQklzb2Nocm9ub3VzT3V0VHJhbnNmZXJQYWNrZXQsIFVTQklzb2Nocm9ub3VzT3V0VHJhbnNmZXJSZXN1bHQsIFVTQk91dFRyYW5zZmVyUmVzdWx0LCBXYWtlTG9jaywgV2FrZUxvY2tTZW50aW5lbCwgV2luZG93Q29udHJvbHNPdmVybGF5LCBXaW5kb3dDb250cm9sc092ZXJsYXlHZW9tZXRyeUNoYW5nZUV2ZW50LCBYUkFuY2hvciwgWFJBbmNob3JTZXQsIFhSQm91bmRlZFJlZmVyZW5jZVNwYWNlLCBYUkZyYW1lLCBYUklucHV0U291cmNlLCBYUklucHV0U291cmNlQXJyYXksIFhSSW5wdXRTb3VyY2VFdmVudCwgWFJJbnB1dFNvdXJjZXNDaGFuZ2VFdmVudCwgWFJQb3NlLCBYUlJlZmVyZW5jZVNwYWNlLCBYUlJlZmVyZW5jZVNwYWNlRXZlbnQsIFhSUmVuZGVyU3RhdGUsIFhSUmlnaWRUcmFuc2Zvcm0sIFhSU2Vzc2lvbiwgWFJTZXNzaW9uRXZlbnQsIFhSU3BhY2UsIFhSU3lzdGVtLCBYUlZpZXcsIFhSVmlld2VyUG9zZSwgWFJWaWV3cG9ydCwgWFJXZWJHTExheWVyLCBYUkNQVURlcHRoSW5mb3JtYXRpb24sIFhSRGVwdGhJbmZvcm1hdGlvbiwgWFJXZWJHTERlcHRoSW5mb3JtYXRpb24sIFhSQ2FtZXJhLCBYUkhpdFRlc3RSZXN1bHQsIFhSSGl0VGVzdFNvdXJjZSwgWFJSYXksIFhSVHJhbnNpZW50SW5wdXRIaXRUZXN0UmVzdWx0LCBYUlRyYW5zaWVudElucHV0SGl0VGVzdFNvdXJjZSwgWFJMaWdodEVzdGltYXRlLCBYUkxpZ2h0UHJvYmUsIGdldFNjcmVlbkRldGFpbHMsIHF1ZXJ5TG9jYWxGb250cywgc2hvd0RpcmVjdG9yeVBpY2tlciwgc2hvd09wZW5GaWxlUGlja2VyLCBzaG93U2F2ZUZpbGVQaWNrZXIsIG9yaWdpbkFnZW50Q2x1c3RlciwgbmF2aWdhdGlvbiwgd2Via2l0U3RvcmFnZUluZm8sIHNwZWVjaFN5bnRoZXNpcywgb25jb250ZW50dmlzaWJpbGl0eWF1dG9zdGF0ZWNoYW5nZSwgQW5pbWF0aW9uUGxheWJhY2tFdmVudCwgQW5pbWF0aW9uVGltZWxpbmUsIENTU0FuaW1hdGlvbiwgQ1NTVHJhbnNpdGlvbiwgRG9jdW1lbnRUaW1lbGluZSwgQmFja2dyb3VuZEZldGNoTWFuYWdlciwgQmFja2dyb3VuZEZldGNoUmVjb3JkLCBCYWNrZ3JvdW5kRmV0Y2hSZWdpc3RyYXRpb24sIEJsdWV0b290aFVVSUQsIEJyb3dzZXJDYXB0dXJlTWVkaWFTdHJlYW1UcmFjaywgQ3JvcFRhcmdldCwgQ1NTQ29udGFpbmVyUnVsZSwgQ1NTRm9udFBhbGV0dGVWYWx1ZXNSdWxlLCBDb250ZW50VmlzaWJpbGl0eUF1dG9TdGF0ZUNoYW5nZUV2ZW50LCBEZWxlZ2F0ZWRJbmtUcmFpbFByZXNlbnRlciwgSW5rLCBIaWdobGlnaHQsIEhpZ2hsaWdodFJlZ2lzdHJ5LCBNYXRoTUxFbGVtZW50LCBNZWRpYU1ldGFkYXRhLCBNZWRpYVNlc3Npb24sIE1lZGlhU291cmNlLCBTb3VyY2VCdWZmZXIsIFNvdXJjZUJ1ZmZlckxpc3QsIE1lZGlhU291cmNlSGFuZGxlLCBNZWRpYVN0cmVhbVRyYWNrLCBNZWRpYVN0cmVhbVRyYWNrR2VuZXJhdG9yLCBOYXZpZ2F0ZUV2ZW50LCBOYXZpZ2F0aW9uLCBOYXZpZ2F0aW9uQ3VycmVudEVudHJ5Q2hhbmdlRXZlbnQsIE5hdmlnYXRpb25EZXN0aW5hdGlvbiwgTmF2aWdhdGlvbkhpc3RvcnlFbnRyeSwgTmF2aWdhdGlvblRyYW5zaXRpb24sIE5hdmlnYXRvclVBRGF0YSwgTm90aWZpY2F0aW9uLCBQYXltZW50SW5zdHJ1bWVudHMsIFBheW1lbnRNYW5hZ2VyLCBQYXltZW50UmVxdWVzdFVwZGF0ZUV2ZW50LCBQZXJpb2RpY1N5bmNNYW5hZ2VyLCBQZXJtaXNzaW9uU3RhdHVzLCBQZXJtaXNzaW9ucywgUGljdHVyZUluUGljdHVyZUV2ZW50LCBQaWN0dXJlSW5QaWN0dXJlV2luZG93LCBQdXNoTWFuYWdlciwgUHVzaFN1YnNjcmlwdGlvbiwgUHVzaFN1YnNjcmlwdGlvbk9wdGlvbnMsIFJlbW90ZVBsYXliYWNrLCBTaGFyZWRXb3JrZXIsIFNwZWVjaFN5bnRoZXNpc0Vycm9yRXZlbnQsIFNwZWVjaFN5bnRoZXNpc0V2ZW50LCBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UsIFZpZGVvUGxheWJhY2tRdWFsaXR5LCB3ZWJraXRTcGVlY2hHcmFtbWFyLCB3ZWJraXRTcGVlY2hHcmFtbWFyTGlzdCwgd2Via2l0U3BlZWNoUmVjb2duaXRpb24sIHdlYmtpdFNwZWVjaFJlY29nbml0aW9uRXJyb3IsIHdlYmtpdFNwZWVjaFJlY29nbml0aW9uRXZlbnQsIG9wZW5EYXRhYmFzZSwgd2Via2l0UmVxdWVzdEZpbGVTeXN0ZW0sIHdlYmtpdFJlc29sdmVMb2NhbEZpbGVTeXN0ZW1VUkxgLA0KICAgICAgICAgICAgY3NzS2V5czogYGNzc1RleHQsIGxlbmd0aCwgcGFyZW50UnVsZSwgY3NzRmxvYXQsIGdldFByb3BlcnR5UHJpb3JpdHksIGdldFByb3BlcnR5VmFsdWUsIGl0ZW0sIHJlbW92ZVByb3BlcnR5LCBzZXRQcm9wZXJ0eSwgY29uc3RydWN0b3IsIGFjY2VudC1jb2xvciwgYWxpZ24tY29udGVudCwgYWxpZ24taXRlbXMsIGFsaWduLXNlbGYsIGFsaWdubWVudC1iYXNlbGluZSwgYW5pbWF0aW9uLWRlbGF5LCBhbmltYXRpb24tZGlyZWN0aW9uLCBhbmltYXRpb24tZHVyYXRpb24sIGFuaW1hdGlvbi1maWxsLW1vZGUsIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQsIGFuaW1hdGlvbi1uYW1lLCBhbmltYXRpb24tcGxheS1zdGF0ZSwgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbiwgYXBwLXJlZ2lvbiwgYXBwZWFyYW5jZSwgYmFja2Ryb3AtZmlsdGVyLCBiYWNrZmFjZS12aXNpYmlsaXR5LCBiYWNrZ3JvdW5kLWF0dGFjaG1lbnQsIGJhY2tncm91bmQtYmxlbmQtbW9kZSwgYmFja2dyb3VuZC1jbGlwLCBiYWNrZ3JvdW5kLWNvbG9yLCBiYWNrZ3JvdW5kLWltYWdlLCBiYWNrZ3JvdW5kLW9yaWdpbiwgYmFja2dyb3VuZC1wb3NpdGlvbiwgYmFja2dyb3VuZC1yZXBlYXQsIGJhY2tncm91bmQtc2l6ZSwgYmFzZWxpbmUtc2hpZnQsIGJsb2NrLXNpemUsIGJvcmRlci1ibG9jay1lbmQtY29sb3IsIGJvcmRlci1ibG9jay1lbmQtc3R5bGUsIGJvcmRlci1ibG9jay1lbmQtd2lkdGgsIGJvcmRlci1ibG9jay1zdGFydC1jb2xvciwgYm9yZGVyLWJsb2NrLXN0YXJ0LXN0eWxlLCBib3JkZXItYmxvY2stc3RhcnQtd2lkdGgsIGJvcmRlci1ib3R0b20tY29sb3IsIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMsIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzLCBib3JkZXItYm90dG9tLXN0eWxlLCBib3JkZXItYm90dG9tLXdpZHRoLCBib3JkZXItY29sbGFwc2UsIGJvcmRlci1lbmQtZW5kLXJhZGl1cywgYm9yZGVyLWVuZC1zdGFydC1yYWRpdXMsIGJvcmRlci1pbWFnZS1vdXRzZXQsIGJvcmRlci1pbWFnZS1yZXBlYXQsIGJvcmRlci1pbWFnZS1zbGljZSwgYm9yZGVyLWltYWdlLXNvdXJjZSwgYm9yZGVyLWltYWdlLXdpZHRoLCBib3JkZXItaW5saW5lLWVuZC1jb2xvciwgYm9yZGVyLWlubGluZS1lbmQtc3R5bGUsIGJvcmRlci1pbmxpbmUtZW5kLXdpZHRoLCBib3JkZXItaW5saW5lLXN0YXJ0LWNvbG9yLCBib3JkZXItaW5saW5lLXN0YXJ0LXN0eWxlLCBib3JkZXItaW5saW5lLXN0YXJ0LXdpZHRoLCBib3JkZXItbGVmdC1jb2xvciwgYm9yZGVyLWxlZnQtc3R5bGUsIGJvcmRlci1sZWZ0LXdpZHRoLCBib3JkZXItcmlnaHQtY29sb3IsIGJvcmRlci1yaWdodC1zdHlsZSwgYm9yZGVyLXJpZ2h0LXdpZHRoLCBib3JkZXItc3RhcnQtZW5kLXJhZGl1cywgYm9yZGVyLXN0YXJ0LXN0YXJ0LXJhZGl1cywgYm9yZGVyLXRvcC1jb2xvciwgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1cywgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXMsIGJvcmRlci10b3Atc3R5bGUsIGJvcmRlci10b3Atd2lkdGgsIGJvdHRvbSwgYm94LXNoYWRvdywgYm94LXNpemluZywgYnJlYWstYWZ0ZXIsIGJyZWFrLWJlZm9yZSwgYnJlYWstaW5zaWRlLCBidWZmZXJlZC1yZW5kZXJpbmcsIGNhcHRpb24tc2lkZSwgY2FyZXQtY29sb3IsIGNsZWFyLCBjbGlwLCBjbGlwLXBhdGgsIGNsaXAtcnVsZSwgY29sb3IsIGNvbG9yLWludGVycG9sYXRpb24sIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycywgY29sb3ItcmVuZGVyaW5nLCBjb2x1bW4tY291bnQsIGNvbHVtbi1nYXAsIGNvbHVtbi1ydWxlLWNvbG9yLCBjb2x1bW4tcnVsZS1zdHlsZSwgY29sdW1uLXJ1bGUtd2lkdGgsIGNvbHVtbi1zcGFuLCBjb2x1bW4td2lkdGgsIGNvbnRhaW4taW50cmluc2ljLWJsb2NrLXNpemUsIGNvbnRhaW4taW50cmluc2ljLWhlaWdodCwgY29udGFpbi1pbnRyaW5zaWMtaW5saW5lLXNpemUsIGNvbnRhaW4taW50cmluc2ljLXNpemUsIGNvbnRhaW4taW50cmluc2ljLXdpZHRoLCBjb250YWluZXItbmFtZSwgY29udGFpbmVyLXR5cGUsIGNvbnRlbnQsIGN1cnNvciwgY3gsIGN5LCBkLCBkaXJlY3Rpb24sIGRpc3BsYXksIGRvbWluYW50LWJhc2VsaW5lLCBlbXB0eS1jZWxscywgZmlsbCwgZmlsbC1vcGFjaXR5LCBmaWxsLXJ1bGUsIGZpbHRlciwgZmxleC1iYXNpcywgZmxleC1kaXJlY3Rpb24sIGZsZXgtZ3JvdywgZmxleC1zaHJpbmssIGZsZXgtd3JhcCwgZmxvYXQsIGZsb29kLWNvbG9yLCBmbG9vZC1vcGFjaXR5LCBmb250LWZhbWlseSwgZm9udC1rZXJuaW5nLCBmb250LW9wdGljYWwtc2l6aW5nLCBmb250LXBhbGV0dGUsIGZvbnQtc2l6ZSwgZm9udC1zdHJldGNoLCBmb250LXN0eWxlLCBmb250LXN5bnRoZXNpcy1zbWFsbC1jYXBzLCBmb250LXN5bnRoZXNpcy1zdHlsZSwgZm9udC1zeW50aGVzaXMtd2VpZ2h0LCBmb250LXZhcmlhbnQsIGZvbnQtdmFyaWFudC1jYXBzLCBmb250LXZhcmlhbnQtZWFzdC1hc2lhbiwgZm9udC12YXJpYW50LWxpZ2F0dXJlcywgZm9udC12YXJpYW50LW51bWVyaWMsIGZvbnQtd2VpZ2h0LCBncmlkLWF1dG8tY29sdW1ucywgZ3JpZC1hdXRvLWZsb3csIGdyaWQtYXV0by1yb3dzLCBncmlkLWNvbHVtbi1lbmQsIGdyaWQtY29sdW1uLXN0YXJ0LCBncmlkLXJvdy1lbmQsIGdyaWQtcm93LXN0YXJ0LCBncmlkLXRlbXBsYXRlLWFyZWFzLCBncmlkLXRlbXBsYXRlLWNvbHVtbnMsIGdyaWQtdGVtcGxhdGUtcm93cywgaGVpZ2h0LCBoeXBoZW5hdGUtY2hhcmFjdGVyLCBoeXBoZW5hdGUtbGltaXQtY2hhcnMsIGh5cGhlbnMsIGltYWdlLW9yaWVudGF0aW9uLCBpbWFnZS1yZW5kZXJpbmcsIGlubGluZS1zaXplLCBpbnNldC1ibG9jay1lbmQsIGluc2V0LWJsb2NrLXN0YXJ0LCBpbnNldC1pbmxpbmUtZW5kLCBpbnNldC1pbmxpbmUtc3RhcnQsIGlzb2xhdGlvbiwganVzdGlmeS1jb250ZW50LCBqdXN0aWZ5LWl0ZW1zLCBqdXN0aWZ5LXNlbGYsIGxlZnQsIGxldHRlci1zcGFjaW5nLCBsaWdodGluZy1jb2xvciwgbGluZS1icmVhaywgbGluZS1oZWlnaHQsIGxpc3Qtc3R5bGUtaW1hZ2UsIGxpc3Qtc3R5bGUtcG9zaXRpb24sIGxpc3Qtc3R5bGUtdHlwZSwgbWFyZ2luLWJsb2NrLWVuZCwgbWFyZ2luLWJsb2NrLXN0YXJ0LCBtYXJnaW4tYm90dG9tLCBtYXJnaW4taW5saW5lLWVuZCwgbWFyZ2luLWlubGluZS1zdGFydCwgbWFyZ2luLWxlZnQsIG1hcmdpbi1yaWdodCwgbWFyZ2luLXRvcCwgbWFya2VyLWVuZCwgbWFya2VyLW1pZCwgbWFya2VyLXN0YXJ0LCBtYXNrLXR5cGUsIG1hdGgtZGVwdGgsIG1hdGgtc2hpZnQsIG1hdGgtc3R5bGUsIG1heC1ibG9jay1zaXplLCBtYXgtaGVpZ2h0LCBtYXgtaW5saW5lLXNpemUsIG1heC13aWR0aCwgbWluLWJsb2NrLXNpemUsIG1pbi1oZWlnaHQsIG1pbi1pbmxpbmUtc2l6ZSwgbWluLXdpZHRoLCBtaXgtYmxlbmQtbW9kZSwgb2JqZWN0LWZpdCwgb2JqZWN0LXBvc2l0aW9uLCBvYmplY3Qtdmlldy1ib3gsIG9mZnNldC1kaXN0YW5jZSwgb2Zmc2V0LXBhdGgsIG9mZnNldC1yb3RhdGUsIG9wYWNpdHksIG9yZGVyLCBvcnBoYW5zLCBvdXRsaW5lLWNvbG9yLCBvdXRsaW5lLW9mZnNldCwgb3V0bGluZS1zdHlsZSwgb3V0bGluZS13aWR0aCwgb3ZlcmZsb3ctYW5jaG9yLCBvdmVyZmxvdy1jbGlwLW1hcmdpbiwgb3ZlcmZsb3ctd3JhcCwgb3ZlcmZsb3cteCwgb3ZlcmZsb3cteSwgb3ZlcnNjcm9sbC1iZWhhdmlvci1ibG9jaywgb3ZlcnNjcm9sbC1iZWhhdmlvci1pbmxpbmUsIHBhZGRpbmctYmxvY2stZW5kLCBwYWRkaW5nLWJsb2NrLXN0YXJ0LCBwYWRkaW5nLWJvdHRvbSwgcGFkZGluZy1pbmxpbmUtZW5kLCBwYWRkaW5nLWlubGluZS1zdGFydCwgcGFkZGluZy1sZWZ0LCBwYWRkaW5nLXJpZ2h0LCBwYWRkaW5nLXRvcCwgcGFpbnQtb3JkZXIsIHBlcnNwZWN0aXZlLCBwZXJzcGVjdGl2ZS1vcmlnaW4sIHBvaW50ZXItZXZlbnRzLCBwb3NpdGlvbiwgciwgcmVzaXplLCByaWdodCwgcm90YXRlLCByb3ctZ2FwLCBydWJ5LXBvc2l0aW9uLCByeCwgcnksIHNjYWxlLCBzY3JvbGwtYmVoYXZpb3IsIHNjcm9sbC1tYXJnaW4tYmxvY2stZW5kLCBzY3JvbGwtbWFyZ2luLWJsb2NrLXN0YXJ0LCBzY3JvbGwtbWFyZ2luLWlubGluZS1lbmQsIHNjcm9sbC1tYXJnaW4taW5saW5lLXN0YXJ0LCBzY3JvbGwtcGFkZGluZy1ibG9jay1lbmQsIHNjcm9sbC1wYWRkaW5nLWJsb2NrLXN0YXJ0LCBzY3JvbGwtcGFkZGluZy1pbmxpbmUtZW5kLCBzY3JvbGwtcGFkZGluZy1pbmxpbmUtc3RhcnQsIHNjcm9sbGJhci1ndXR0ZXIsIHNoYXBlLWltYWdlLXRocmVzaG9sZCwgc2hhcGUtbWFyZ2luLCBzaGFwZS1vdXRzaWRlLCBzaGFwZS1yZW5kZXJpbmcsIHNwZWFrLCBzdG9wLWNvbG9yLCBzdG9wLW9wYWNpdHksIHN0cm9rZSwgc3Ryb2tlLWRhc2hhcnJheSwgc3Ryb2tlLWRhc2hvZmZzZXQsIHN0cm9rZS1saW5lY2FwLCBzdHJva2UtbGluZWpvaW4sIHN0cm9rZS1taXRlcmxpbWl0LCBzdHJva2Utb3BhY2l0eSwgc3Ryb2tlLXdpZHRoLCB0YWItc2l6ZSwgdGFibGUtbGF5b3V0LCB0ZXh0LWFsaWduLCB0ZXh0LWFsaWduLWxhc3QsIHRleHQtYW5jaG9yLCB0ZXh0LWRlY29yYXRpb24sIHRleHQtZGVjb3JhdGlvbi1jb2xvciwgdGV4dC1kZWNvcmF0aW9uLWxpbmUsIHRleHQtZGVjb3JhdGlvbi1za2lwLWluaywgdGV4dC1kZWNvcmF0aW9uLXN0eWxlLCB0ZXh0LWVtcGhhc2lzLWNvbG9yLCB0ZXh0LWVtcGhhc2lzLXBvc2l0aW9uLCB0ZXh0LWVtcGhhc2lzLXN0eWxlLCB0ZXh0LWluZGVudCwgdGV4dC1vdmVyZmxvdywgdGV4dC1yZW5kZXJpbmcsIHRleHQtc2hhZG93LCB0ZXh0LXNpemUtYWRqdXN0LCB0ZXh0LXRyYW5zZm9ybSwgdGV4dC11bmRlcmxpbmUtcG9zaXRpb24sIHRvcCwgdG91Y2gtYWN0aW9uLCB0cmFuc2Zvcm0sIHRyYW5zZm9ybS1vcmlnaW4sIHRyYW5zZm9ybS1zdHlsZSwgdHJhbnNpdGlvbi1kZWxheSwgdHJhbnNpdGlvbi1kdXJhdGlvbiwgdHJhbnNpdGlvbi1wcm9wZXJ0eSwgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24sIHRyYW5zbGF0ZSwgdW5pY29kZS1iaWRpLCB1c2VyLXNlbGVjdCwgdmVjdG9yLWVmZmVjdCwgdmVydGljYWwtYWxpZ24sIHZpc2liaWxpdHksIHdoaXRlLXNwYWNlLCB3aWRvd3MsIHdpZHRoLCB3aWxsLWNoYW5nZSwgd29yZC1icmVhaywgd29yZC1zcGFjaW5nLCB3cml0aW5nLW1vZGUsIHgsIHksIHotaW5kZXgsIHpvb20sIC13ZWJraXQtYm9yZGVyLWhvcml6b250YWwtc3BhY2luZywgLXdlYmtpdC1ib3JkZXItaW1hZ2UsIC13ZWJraXQtYm9yZGVyLXZlcnRpY2FsLXNwYWNpbmcsIC13ZWJraXQtYm94LWFsaWduLCAtd2Via2l0LWJveC1kZWNvcmF0aW9uLWJyZWFrLCAtd2Via2l0LWJveC1kaXJlY3Rpb24sIC13ZWJraXQtYm94LWZsZXgsIC13ZWJraXQtYm94LW9yZGluYWwtZ3JvdXAsIC13ZWJraXQtYm94LW9yaWVudCwgLXdlYmtpdC1ib3gtcGFjaywgLXdlYmtpdC1ib3gtcmVmbGVjdCwgLXdlYmtpdC1mb250LXNtb290aGluZywgLXdlYmtpdC1oaWdobGlnaHQsIC13ZWJraXQtbGluZS1icmVhaywgLXdlYmtpdC1saW5lLWNsYW1wLCAtd2Via2l0LWxvY2FsZSwgLXdlYmtpdC1tYXNrLWJveC1pbWFnZSwgLXdlYmtpdC1tYXNrLWJveC1pbWFnZS1vdXRzZXQsIC13ZWJraXQtbWFzay1ib3gtaW1hZ2UtcmVwZWF0LCAtd2Via2l0LW1hc2stYm94LWltYWdlLXNsaWNlLCAtd2Via2l0LW1hc2stYm94LWltYWdlLXNvdXJjZSwgLXdlYmtpdC1tYXNrLWJveC1pbWFnZS13aWR0aCwgLXdlYmtpdC1tYXNrLWNsaXAsIC13ZWJraXQtbWFzay1jb21wb3NpdGUsIC13ZWJraXQtbWFzay1pbWFnZSwgLXdlYmtpdC1tYXNrLW9yaWdpbiwgLXdlYmtpdC1tYXNrLXBvc2l0aW9uLCAtd2Via2l0LW1hc2stcmVwZWF0LCAtd2Via2l0LW1hc2stc2l6ZSwgLXdlYmtpdC1wcmludC1jb2xvci1hZGp1c3QsIC13ZWJraXQtcnRsLW9yZGVyaW5nLCAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3IsIC13ZWJraXQtdGV4dC1jb21iaW5lLCAtd2Via2l0LXRleHQtZGVjb3JhdGlvbnMtaW4tZWZmZWN0LCAtd2Via2l0LXRleHQtZmlsbC1jb2xvciwgLXdlYmtpdC10ZXh0LW9yaWVudGF0aW9uLCAtd2Via2l0LXRleHQtc2VjdXJpdHksIC13ZWJraXQtdGV4dC1zdHJva2UtY29sb3IsIC13ZWJraXQtdGV4dC1zdHJva2Utd2lkdGgsIC13ZWJraXQtdXNlci1kcmFnLCAtd2Via2l0LXVzZXItbW9kaWZ5LCAtd2Via2l0LXdyaXRpbmctbW9kZSwgYWNjZW50Q29sb3IsIGFkZGl0aXZlU3ltYm9scywgYWxpZ25Db250ZW50LCBhbGlnbkl0ZW1zLCBhbGlnblNlbGYsIGFsaWdubWVudEJhc2VsaW5lLCBhbGwsIGFuaW1hdGlvbiwgYW5pbWF0aW9uRGVsYXksIGFuaW1hdGlvbkRpcmVjdGlvbiwgYW5pbWF0aW9uRHVyYXRpb24sIGFuaW1hdGlvbkZpbGxNb2RlLCBhbmltYXRpb25JdGVyYXRpb25Db3VudCwgYW5pbWF0aW9uTmFtZSwgYW5pbWF0aW9uUGxheVN0YXRlLCBhbmltYXRpb25UaW1pbmdGdW5jdGlvbiwgYXBwUmVnaW9uLCBhc2NlbnRPdmVycmlkZSwgYXNwZWN0UmF0aW8sIGJhY2tkcm9wRmlsdGVyLCBiYWNrZmFjZVZpc2liaWxpdHksIGJhY2tncm91bmQsIGJhY2tncm91bmRBdHRhY2htZW50LCBiYWNrZ3JvdW5kQmxlbmRNb2RlLCBiYWNrZ3JvdW5kQ2xpcCwgYmFja2dyb3VuZENvbG9yLCBiYWNrZ3JvdW5kSW1hZ2UsIGJhY2tncm91bmRPcmlnaW4sIGJhY2tncm91bmRQb3NpdGlvbiwgYmFja2dyb3VuZFBvc2l0aW9uWCwgYmFja2dyb3VuZFBvc2l0aW9uWSwgYmFja2dyb3VuZFJlcGVhdCwgYmFja2dyb3VuZFJlcGVhdFgsIGJhY2tncm91bmRSZXBlYXRZLCBiYWNrZ3JvdW5kU2l6ZSwgYmFzZVBhbGV0dGUsIGJhc2VsaW5lU2hpZnQsIGJsb2NrU2l6ZSwgYm9yZGVyLCBib3JkZXJCbG9jaywgYm9yZGVyQmxvY2tDb2xvciwgYm9yZGVyQmxvY2tFbmQsIGJvcmRlckJsb2NrRW5kQ29sb3IsIGJvcmRlckJsb2NrRW5kU3R5bGUsIGJvcmRlckJsb2NrRW5kV2lkdGgsIGJvcmRlckJsb2NrU3RhcnQsIGJvcmRlckJsb2NrU3RhcnRDb2xvciwgYm9yZGVyQmxvY2tTdGFydFN0eWxlLCBib3JkZXJCbG9ja1N0YXJ0V2lkdGgsIGJvcmRlckJsb2NrU3R5bGUsIGJvcmRlckJsb2NrV2lkdGgsIGJvcmRlckJvdHRvbSwgYm9yZGVyQm90dG9tQ29sb3IsIGJvcmRlckJvdHRvbUxlZnRSYWRpdXMsIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzLCBib3JkZXJCb3R0b21TdHlsZSwgYm9yZGVyQm90dG9tV2lkdGgsIGJvcmRlckNvbGxhcHNlLCBib3JkZXJDb2xvciwgYm9yZGVyRW5kRW5kUmFkaXVzLCBib3JkZXJFbmRTdGFydFJhZGl1cywgYm9yZGVySW1hZ2UsIGJvcmRlckltYWdlT3V0c2V0LCBib3JkZXJJbWFnZVJlcGVhdCwgYm9yZGVySW1hZ2VTbGljZSwgYm9yZGVySW1hZ2VTb3VyY2UsIGJvcmRlckltYWdlV2lkdGgsIGJvcmRlcklubGluZSwgYm9yZGVySW5saW5lQ29sb3IsIGJvcmRlcklubGluZUVuZCwgYm9yZGVySW5saW5lRW5kQ29sb3IsIGJvcmRlcklubGluZUVuZFN0eWxlLCBib3JkZXJJbmxpbmVFbmRXaWR0aCwgYm9yZGVySW5saW5lU3RhcnQsIGJvcmRlcklubGluZVN0YXJ0Q29sb3IsIGJvcmRlcklubGluZVN0YXJ0U3R5bGUsIGJvcmRlcklubGluZVN0YXJ0V2lkdGgsIGJvcmRlcklubGluZVN0eWxlLCBib3JkZXJJbmxpbmVXaWR0aCwgYm9yZGVyTGVmdCwgYm9yZGVyTGVmdENvbG9yLCBib3JkZXJMZWZ0U3R5bGUsIGJvcmRlckxlZnRXaWR0aCwgYm9yZGVyUmFkaXVzLCBib3JkZXJSaWdodCwgYm9yZGVyUmlnaHRDb2xvciwgYm9yZGVyUmlnaHRTdHlsZSwgYm9yZGVyUmlnaHRXaWR0aCwgYm9yZGVyU3BhY2luZywgYm9yZGVyU3RhcnRFbmRSYWRpdXMsIGJvcmRlclN0YXJ0U3RhcnRSYWRpdXMsIGJvcmRlclN0eWxlLCBib3JkZXJUb3AsIGJvcmRlclRvcENvbG9yLCBib3JkZXJUb3BMZWZ0UmFkaXVzLCBib3JkZXJUb3BSaWdodFJhZGl1cywgYm9yZGVyVG9wU3R5bGUsIGJvcmRlclRvcFdpZHRoLCBib3JkZXJXaWR0aCwgYm94U2hhZG93LCBib3hTaXppbmcsIGJyZWFrQWZ0ZXIsIGJyZWFrQmVmb3JlLCBicmVha0luc2lkZSwgYnVmZmVyZWRSZW5kZXJpbmcsIGNhcHRpb25TaWRlLCBjYXJldENvbG9yLCBjbGlwUGF0aCwgY2xpcFJ1bGUsIGNvbG9ySW50ZXJwb2xhdGlvbiwgY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVycywgY29sb3JSZW5kZXJpbmcsIGNvbG9yU2NoZW1lLCBjb2x1bW5Db3VudCwgY29sdW1uRmlsbCwgY29sdW1uR2FwLCBjb2x1bW5SdWxlLCBjb2x1bW5SdWxlQ29sb3IsIGNvbHVtblJ1bGVTdHlsZSwgY29sdW1uUnVsZVdpZHRoLCBjb2x1bW5TcGFuLCBjb2x1bW5XaWR0aCwgY29sdW1ucywgY29udGFpbiwgY29udGFpbkludHJpbnNpY0Jsb2NrU2l6ZSwgY29udGFpbkludHJpbnNpY0hlaWdodCwgY29udGFpbkludHJpbnNpY0lubGluZVNpemUsIGNvbnRhaW5JbnRyaW5zaWNTaXplLCBjb250YWluSW50cmluc2ljV2lkdGgsIGNvbnRhaW5lciwgY29udGFpbmVyTmFtZSwgY29udGFpbmVyVHlwZSwgY29udGVudFZpc2liaWxpdHksIGNvdW50ZXJJbmNyZW1lbnQsIGNvdW50ZXJSZXNldCwgY291bnRlclNldCwgZGVzY2VudE92ZXJyaWRlLCBkb21pbmFudEJhc2VsaW5lLCBlbXB0eUNlbGxzLCBmYWxsYmFjaywgZmlsbE9wYWNpdHksIGZpbGxSdWxlLCBmbGV4LCBmbGV4QmFzaXMsIGZsZXhEaXJlY3Rpb24sIGZsZXhGbG93LCBmbGV4R3JvdywgZmxleFNocmluaywgZmxleFdyYXAsIGZsb29kQ29sb3IsIGZsb29kT3BhY2l0eSwgZm9udCwgZm9udERpc3BsYXksIGZvbnRGYW1pbHksIGZvbnRGZWF0dXJlU2V0dGluZ3MsIGZvbnRLZXJuaW5nLCBmb250T3B0aWNhbFNpemluZywgZm9udFBhbGV0dGUsIGZvbnRTaXplLCBmb250U3RyZXRjaCwgZm9udFN0eWxlLCBmb250U3ludGhlc2lzLCBmb250U3ludGhlc2lzU21hbGxDYXBzLCBmb250U3ludGhlc2lzU3R5bGUsIGZvbnRTeW50aGVzaXNXZWlnaHQsIGZvbnRWYXJpYW50LCBmb250VmFyaWFudENhcHMsIGZvbnRWYXJpYW50RWFzdEFzaWFuLCBmb250VmFyaWFudExpZ2F0dXJlcywgZm9udFZhcmlhbnROdW1lcmljLCBmb250VmFyaWF0aW9uU2V0dGluZ3MsIGZvbnRXZWlnaHQsIGZvcmNlZENvbG9yQWRqdXN0LCBnYXAsIGdyaWQsIGdyaWRBcmVhLCBncmlkQXV0b0NvbHVtbnMsIGdyaWRBdXRvRmxvdywgZ3JpZEF1dG9Sb3dzLCBncmlkQ29sdW1uLCBncmlkQ29sdW1uRW5kLCBncmlkQ29sdW1uR2FwLCBncmlkQ29sdW1uU3RhcnQsIGdyaWRHYXAsIGdyaWRSb3csIGdyaWRSb3dFbmQsIGdyaWRSb3dHYXAsIGdyaWRSb3dTdGFydCwgZ3JpZFRlbXBsYXRlLCBncmlkVGVtcGxhdGVBcmVhcywgZ3JpZFRlbXBsYXRlQ29sdW1ucywgZ3JpZFRlbXBsYXRlUm93cywgaHlwaGVuYXRlQ2hhcmFjdGVyLCBoeXBoZW5hdGVMaW1pdENoYXJzLCBpbWFnZU9yaWVudGF0aW9uLCBpbWFnZVJlbmRlcmluZywgaW5oZXJpdHMsIGluaXRpYWxWYWx1ZSwgaW5saW5lU2l6ZSwgaW5zZXQsIGluc2V0QmxvY2ssIGluc2V0QmxvY2tFbmQsIGluc2V0QmxvY2tTdGFydCwgaW5zZXRJbmxpbmUsIGluc2V0SW5saW5lRW5kLCBpbnNldElubGluZVN0YXJ0LCBqdXN0aWZ5Q29udGVudCwganVzdGlmeUl0ZW1zLCBqdXN0aWZ5U2VsZiwgbGV0dGVyU3BhY2luZywgbGlnaHRpbmdDb2xvciwgbGluZUJyZWFrLCBsaW5lR2FwT3ZlcnJpZGUsIGxpbmVIZWlnaHQsIGxpc3RTdHlsZSwgbGlzdFN0eWxlSW1hZ2UsIGxpc3RTdHlsZVBvc2l0aW9uLCBsaXN0U3R5bGVUeXBlLCBtYXJnaW4sIG1hcmdpbkJsb2NrLCBtYXJnaW5CbG9ja0VuZCwgbWFyZ2luQmxvY2tTdGFydCwgbWFyZ2luQm90dG9tLCBtYXJnaW5JbmxpbmUsIG1hcmdpbklubGluZUVuZCwgbWFyZ2luSW5saW5lU3RhcnQsIG1hcmdpbkxlZnQsIG1hcmdpblJpZ2h0LCBtYXJnaW5Ub3AsIG1hcmtlciwgbWFya2VyRW5kLCBtYXJrZXJNaWQsIG1hcmtlclN0YXJ0LCBtYXNrLCBtYXNrVHlwZSwgbWF0aERlcHRoLCBtYXRoU2hpZnQsIG1hdGhTdHlsZSwgbWF4QmxvY2tTaXplLCBtYXhIZWlnaHQsIG1heElubGluZVNpemUsIG1heFdpZHRoLCBtaW5CbG9ja1NpemUsIG1pbkhlaWdodCwgbWluSW5saW5lU2l6ZSwgbWluV2lkdGgsIG1peEJsZW5kTW9kZSwgbmVnYXRpdmUsIG9iamVjdEZpdCwgb2JqZWN0UG9zaXRpb24sIG9iamVjdFZpZXdCb3gsIG9mZnNldCwgb2Zmc2V0RGlzdGFuY2UsIG9mZnNldFBhdGgsIG9mZnNldFJvdGF0ZSwgb3V0bGluZSwgb3V0bGluZUNvbG9yLCBvdXRsaW5lT2Zmc2V0LCBvdXRsaW5lU3R5bGUsIG91dGxpbmVXaWR0aCwgb3ZlcmZsb3csIG92ZXJmbG93QW5jaG9yLCBvdmVyZmxvd0NsaXBNYXJnaW4sIG92ZXJmbG93V3JhcCwgb3ZlcmZsb3dYLCBvdmVyZmxvd1ksIG92ZXJyaWRlQ29sb3JzLCBvdmVyc2Nyb2xsQmVoYXZpb3IsIG92ZXJzY3JvbGxCZWhhdmlvckJsb2NrLCBvdmVyc2Nyb2xsQmVoYXZpb3JJbmxpbmUsIG92ZXJzY3JvbGxCZWhhdmlvclgsIG92ZXJzY3JvbGxCZWhhdmlvclksIHBhZCwgcGFkZGluZywgcGFkZGluZ0Jsb2NrLCBwYWRkaW5nQmxvY2tFbmQsIHBhZGRpbmdCbG9ja1N0YXJ0LCBwYWRkaW5nQm90dG9tLCBwYWRkaW5nSW5saW5lLCBwYWRkaW5nSW5saW5lRW5kLCBwYWRkaW5nSW5saW5lU3RhcnQsIHBhZGRpbmdMZWZ0LCBwYWRkaW5nUmlnaHQsIHBhZGRpbmdUb3AsIHBhZ2UsIHBhZ2VCcmVha0FmdGVyLCBwYWdlQnJlYWtCZWZvcmUsIHBhZ2VCcmVha0luc2lkZSwgcGFnZU9yaWVudGF0aW9uLCBwYWludE9yZGVyLCBwZXJzcGVjdGl2ZU9yaWdpbiwgcGxhY2VDb250ZW50LCBwbGFjZUl0ZW1zLCBwbGFjZVNlbGYsIHBvaW50ZXJFdmVudHMsIHByZWZpeCwgcXVvdGVzLCByYW5nZSwgcm93R2FwLCBydWJ5UG9zaXRpb24sIHNjcm9sbEJlaGF2aW9yLCBzY3JvbGxNYXJnaW4sIHNjcm9sbE1hcmdpbkJsb2NrLCBzY3JvbGxNYXJnaW5CbG9ja0VuZCwgc2Nyb2xsTWFyZ2luQmxvY2tTdGFydCwgc2Nyb2xsTWFyZ2luQm90dG9tLCBzY3JvbGxNYXJnaW5JbmxpbmUsIHNjcm9sbE1hcmdpbklubGluZUVuZCwgc2Nyb2xsTWFyZ2luSW5saW5lU3RhcnQsIHNjcm9sbE1hcmdpbkxlZnQsIHNjcm9sbE1hcmdpblJpZ2h0LCBzY3JvbGxNYXJnaW5Ub3AsIHNjcm9sbFBhZGRpbmcsIHNjcm9sbFBhZGRpbmdCbG9jaywgc2Nyb2xsUGFkZGluZ0Jsb2NrRW5kLCBzY3JvbGxQYWRkaW5nQmxvY2tTdGFydCwgc2Nyb2xsUGFkZGluZ0JvdHRvbSwgc2Nyb2xsUGFkZGluZ0lubGluZSwgc2Nyb2xsUGFkZGluZ0lubGluZUVuZCwgc2Nyb2xsUGFkZGluZ0lubGluZVN0YXJ0LCBzY3JvbGxQYWRkaW5nTGVmdCwgc2Nyb2xsUGFkZGluZ1JpZ2h0LCBzY3JvbGxQYWRkaW5nVG9wLCBzY3JvbGxTbmFwQWxpZ24sIHNjcm9sbFNuYXBTdG9wLCBzY3JvbGxTbmFwVHlwZSwgc2Nyb2xsYmFyR3V0dGVyLCBzaGFwZUltYWdlVGhyZXNob2xkLCBzaGFwZU1hcmdpbiwgc2hhcGVPdXRzaWRlLCBzaGFwZVJlbmRlcmluZywgc2l6ZSwgc2l6ZUFkanVzdCwgc3BlYWtBcywgc3JjLCBzdG9wQ29sb3IsIHN0b3BPcGFjaXR5LCBzdHJva2VEYXNoYXJyYXksIHN0cm9rZURhc2hvZmZzZXQsIHN0cm9rZUxpbmVjYXAsIHN0cm9rZUxpbmVqb2luLCBzdHJva2VNaXRlcmxpbWl0LCBzdHJva2VPcGFjaXR5LCBzdHJva2VXaWR0aCwgc3VmZml4LCBzeW1ib2xzLCBzeW50YXgsIHN5c3RlbSwgdGFiU2l6ZSwgdGFibGVMYXlvdXQsIHRleHRBbGlnbiwgdGV4dEFsaWduTGFzdCwgdGV4dEFuY2hvciwgdGV4dENvbWJpbmVVcHJpZ2h0LCB0ZXh0RGVjb3JhdGlvbiwgdGV4dERlY29yYXRpb25Db2xvciwgdGV4dERlY29yYXRpb25MaW5lLCB0ZXh0RGVjb3JhdGlvblNraXBJbmssIHRleHREZWNvcmF0aW9uU3R5bGUsIHRleHREZWNvcmF0aW9uVGhpY2tuZXNzLCB0ZXh0RW1waGFzaXMsIHRleHRFbXBoYXNpc0NvbG9yLCB0ZXh0RW1waGFzaXNQb3NpdGlvbiwgdGV4dEVtcGhhc2lzU3R5bGUsIHRleHRJbmRlbnQsIHRleHRPcmllbnRhdGlvbiwgdGV4dE92ZXJmbG93LCB0ZXh0UmVuZGVyaW5nLCB0ZXh0U2hhZG93LCB0ZXh0U2l6ZUFkanVzdCwgdGV4dFRyYW5zZm9ybSwgdGV4dFVuZGVybGluZU9mZnNldCwgdGV4dFVuZGVybGluZVBvc2l0aW9uLCB0b3VjaEFjdGlvbiwgdHJhbnNmb3JtQm94LCB0cmFuc2Zvcm1PcmlnaW4sIHRyYW5zZm9ybVN0eWxlLCB0cmFuc2l0aW9uLCB0cmFuc2l0aW9uRGVsYXksIHRyYW5zaXRpb25EdXJhdGlvbiwgdHJhbnNpdGlvblByb3BlcnR5LCB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24sIHVuaWNvZGVCaWRpLCB1bmljb2RlUmFuZ2UsIHVzZXJTZWxlY3QsIHZlY3RvckVmZmVjdCwgdmVydGljYWxBbGlnbiwgd2Via2l0QWxpZ25Db250ZW50LCB3ZWJraXRBbGlnbkl0ZW1zLCB3ZWJraXRBbGlnblNlbGYsIHdlYmtpdEFuaW1hdGlvbiwgd2Via2l0QW5pbWF0aW9uRGVsYXksIHdlYmtpdEFuaW1hdGlvbkRpcmVjdGlvbiwgd2Via2l0QW5pbWF0aW9uRHVyYXRpb24sIHdlYmtpdEFuaW1hdGlvbkZpbGxNb2RlLCB3ZWJraXRBbmltYXRpb25JdGVyYXRpb25Db3VudCwgd2Via2l0QW5pbWF0aW9uTmFtZSwgd2Via2l0QW5pbWF0aW9uUGxheVN0YXRlLCB3ZWJraXRBbmltYXRpb25UaW1pbmdGdW5jdGlvbiwgd2Via2l0QXBwUmVnaW9uLCB3ZWJraXRBcHBlYXJhbmNlLCB3ZWJraXRCYWNrZmFjZVZpc2liaWxpdHksIHdlYmtpdEJhY2tncm91bmRDbGlwLCB3ZWJraXRCYWNrZ3JvdW5kT3JpZ2luLCB3ZWJraXRCYWNrZ3JvdW5kU2l6ZSwgd2Via2l0Qm9yZGVyQWZ0ZXIsIHdlYmtpdEJvcmRlckFmdGVyQ29sb3IsIHdlYmtpdEJvcmRlckFmdGVyU3R5bGUsIHdlYmtpdEJvcmRlckFmdGVyV2lkdGgsIHdlYmtpdEJvcmRlckJlZm9yZSwgd2Via2l0Qm9yZGVyQmVmb3JlQ29sb3IsIHdlYmtpdEJvcmRlckJlZm9yZVN0eWxlLCB3ZWJraXRCb3JkZXJCZWZvcmVXaWR0aCwgd2Via2l0Qm9yZGVyQm90dG9tTGVmdFJhZGl1cywgd2Via2l0Qm9yZGVyQm90dG9tUmlnaHRSYWRpdXMsIHdlYmtpdEJvcmRlckVuZCwgd2Via2l0Qm9yZGVyRW5kQ29sb3IsIHdlYmtpdEJvcmRlckVuZFN0eWxlLCB3ZWJraXRCb3JkZXJFbmRXaWR0aCwgd2Via2l0Qm9yZGVySG9yaXpvbnRhbFNwYWNpbmcsIHdlYmtpdEJvcmRlckltYWdlLCB3ZWJraXRCb3JkZXJSYWRpdXMsIHdlYmtpdEJvcmRlclN0YXJ0LCB3ZWJraXRCb3JkZXJTdGFydENvbG9yLCB3ZWJraXRCb3JkZXJTdGFydFN0eWxlLCB3ZWJraXRCb3JkZXJTdGFydFdpZHRoLCB3ZWJraXRCb3JkZXJUb3BMZWZ0UmFkaXVzLCB3ZWJraXRCb3JkZXJUb3BSaWdodFJhZGl1cywgd2Via2l0Qm9yZGVyVmVydGljYWxTcGFjaW5nLCB3ZWJraXRCb3hBbGlnbiwgd2Via2l0Qm94RGVjb3JhdGlvbkJyZWFrLCB3ZWJraXRCb3hEaXJlY3Rpb24sIHdlYmtpdEJveEZsZXgsIHdlYmtpdEJveE9yZGluYWxHcm91cCwgd2Via2l0Qm94T3JpZW50LCB3ZWJraXRCb3hQYWNrLCB3ZWJraXRCb3hSZWZsZWN0LCB3ZWJraXRCb3hTaGFkb3csIHdlYmtpdEJveFNpemluZywgd2Via2l0Q2xpcFBhdGgsIHdlYmtpdENvbHVtbkJyZWFrQWZ0ZXIsIHdlYmtpdENvbHVtbkJyZWFrQmVmb3JlLCB3ZWJraXRDb2x1bW5CcmVha0luc2lkZSwgd2Via2l0Q29sdW1uQ291bnQsIHdlYmtpdENvbHVtbkdhcCwgd2Via2l0Q29sdW1uUnVsZSwgd2Via2l0Q29sdW1uUnVsZUNvbG9yLCB3ZWJraXRDb2x1bW5SdWxlU3R5bGUsIHdlYmtpdENvbHVtblJ1bGVXaWR0aCwgd2Via2l0Q29sdW1uU3Bhbiwgd2Via2l0Q29sdW1uV2lkdGgsIHdlYmtpdENvbHVtbnMsIHdlYmtpdEZpbHRlciwgd2Via2l0RmxleCwgd2Via2l0RmxleEJhc2lzLCB3ZWJraXRGbGV4RGlyZWN0aW9uLCB3ZWJraXRGbGV4Rmxvdywgd2Via2l0RmxleEdyb3csIHdlYmtpdEZsZXhTaHJpbmssIHdlYmtpdEZsZXhXcmFwLCB3ZWJraXRGb250RmVhdHVyZVNldHRpbmdzLCB3ZWJraXRGb250U21vb3RoaW5nLCB3ZWJraXRIaWdobGlnaHQsIHdlYmtpdEh5cGhlbmF0ZUNoYXJhY3Rlciwgd2Via2l0SnVzdGlmeUNvbnRlbnQsIHdlYmtpdExpbmVCcmVhaywgd2Via2l0TGluZUNsYW1wLCB3ZWJraXRMb2NhbGUsIHdlYmtpdExvZ2ljYWxIZWlnaHQsIHdlYmtpdExvZ2ljYWxXaWR0aCwgd2Via2l0TWFyZ2luQWZ0ZXIsIHdlYmtpdE1hcmdpbkJlZm9yZSwgd2Via2l0TWFyZ2luRW5kLCB3ZWJraXRNYXJnaW5TdGFydCwgd2Via2l0TWFzaywgd2Via2l0TWFza0JveEltYWdlLCB3ZWJraXRNYXNrQm94SW1hZ2VPdXRzZXQsIHdlYmtpdE1hc2tCb3hJbWFnZVJlcGVhdCwgd2Via2l0TWFza0JveEltYWdlU2xpY2UsIHdlYmtpdE1hc2tCb3hJbWFnZVNvdXJjZSwgd2Via2l0TWFza0JveEltYWdlV2lkdGgsIHdlYmtpdE1hc2tDbGlwLCB3ZWJraXRNYXNrQ29tcG9zaXRlLCB3ZWJraXRNYXNrSW1hZ2UsIHdlYmtpdE1hc2tPcmlnaW4sIHdlYmtpdE1hc2tQb3NpdGlvbiwgd2Via2l0TWFza1Bvc2l0aW9uWCwgd2Via2l0TWFza1Bvc2l0aW9uWSwgd2Via2l0TWFza1JlcGVhdCwgd2Via2l0TWFza1JlcGVhdFgsIHdlYmtpdE1hc2tSZXBlYXRZLCB3ZWJraXRNYXNrU2l6ZSwgd2Via2l0TWF4TG9naWNhbEhlaWdodCwgd2Via2l0TWF4TG9naWNhbFdpZHRoLCB3ZWJraXRNaW5Mb2dpY2FsSGVpZ2h0LCB3ZWJraXRNaW5Mb2dpY2FsV2lkdGgsIHdlYmtpdE9wYWNpdHksIHdlYmtpdE9yZGVyLCB3ZWJraXRQYWRkaW5nQWZ0ZXIsIHdlYmtpdFBhZGRpbmdCZWZvcmUsIHdlYmtpdFBhZGRpbmdFbmQsIHdlYmtpdFBhZGRpbmdTdGFydCwgd2Via2l0UGVyc3BlY3RpdmUsIHdlYmtpdFBlcnNwZWN0aXZlT3JpZ2luLCB3ZWJraXRQZXJzcGVjdGl2ZU9yaWdpblgsIHdlYmtpdFBlcnNwZWN0aXZlT3JpZ2luWSwgd2Via2l0UHJpbnRDb2xvckFkanVzdCwgd2Via2l0UnRsT3JkZXJpbmcsIHdlYmtpdFJ1YnlQb3NpdGlvbiwgd2Via2l0U2hhcGVJbWFnZVRocmVzaG9sZCwgd2Via2l0U2hhcGVNYXJnaW4sIHdlYmtpdFNoYXBlT3V0c2lkZSwgd2Via2l0VGFwSGlnaGxpZ2h0Q29sb3IsIHdlYmtpdFRleHRDb21iaW5lLCB3ZWJraXRUZXh0RGVjb3JhdGlvbnNJbkVmZmVjdCwgd2Via2l0VGV4dEVtcGhhc2lzLCB3ZWJraXRUZXh0RW1waGFzaXNDb2xvciwgd2Via2l0VGV4dEVtcGhhc2lzUG9zaXRpb24sIHdlYmtpdFRleHRFbXBoYXNpc1N0eWxlLCB3ZWJraXRUZXh0RmlsbENvbG9yLCB3ZWJraXRUZXh0T3JpZW50YXRpb24sIHdlYmtpdFRleHRTZWN1cml0eSwgd2Via2l0VGV4dFNpemVBZGp1c3QsIHdlYmtpdFRleHRTdHJva2UsIHdlYmtpdFRleHRTdHJva2VDb2xvciwgd2Via2l0VGV4dFN0cm9rZVdpZHRoLCB3ZWJraXRUcmFuc2Zvcm0sIHdlYmtpdFRyYW5zZm9ybU9yaWdpbiwgd2Via2l0VHJhbnNmb3JtT3JpZ2luWCwgd2Via2l0VHJhbnNmb3JtT3JpZ2luWSwgd2Via2l0VHJhbnNmb3JtT3JpZ2luWiwgd2Via2l0VHJhbnNmb3JtU3R5bGUsIHdlYmtpdFRyYW5zaXRpb24sIHdlYmtpdFRyYW5zaXRpb25EZWxheSwgd2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uLCB3ZWJraXRUcmFuc2l0aW9uUHJvcGVydHksIHdlYmtpdFRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiwgd2Via2l0VXNlckRyYWcsIHdlYmtpdFVzZXJNb2RpZnksIHdlYmtpdFVzZXJTZWxlY3QsIHdlYmtpdFdyaXRpbmdNb2RlLCB3aGl0ZVNwYWNlLCB3aWxsQ2hhbmdlLCB3b3JkQnJlYWssIHdvcmRTcGFjaW5nLCB3b3JkV3JhcCwgd3JpdGluZ01vZGUsIHpJbmRleCwgYWRkaXRpdmUtc3ltYm9scywgYXNjZW50LW92ZXJyaWRlLCBhc3BlY3QtcmF0aW8sIGJhY2tncm91bmQtcG9zaXRpb24teCwgYmFja2dyb3VuZC1wb3NpdGlvbi15LCBiYWNrZ3JvdW5kLXJlcGVhdC14LCBiYWNrZ3JvdW5kLXJlcGVhdC15LCBiYXNlLXBhbGV0dGUsIGJvcmRlci1ibG9jaywgYm9yZGVyLWJsb2NrLWNvbG9yLCBib3JkZXItYmxvY2stZW5kLCBib3JkZXItYmxvY2stc3RhcnQsIGJvcmRlci1ibG9jay1zdHlsZSwgYm9yZGVyLWJsb2NrLXdpZHRoLCBib3JkZXItYm90dG9tLCBib3JkZXItY29sb3IsIGJvcmRlci1pbWFnZSwgYm9yZGVyLWlubGluZSwgYm9yZGVyLWlubGluZS1jb2xvciwgYm9yZGVyLWlubGluZS1lbmQsIGJvcmRlci1pbmxpbmUtc3RhcnQsIGJvcmRlci1pbmxpbmUtc3R5bGUsIGJvcmRlci1pbmxpbmUtd2lkdGgsIGJvcmRlci1sZWZ0LCBib3JkZXItcmFkaXVzLCBib3JkZXItcmlnaHQsIGJvcmRlci1zcGFjaW5nLCBib3JkZXItc3R5bGUsIGJvcmRlci10b3AsIGJvcmRlci13aWR0aCwgY29sb3Itc2NoZW1lLCBjb2x1bW4tZmlsbCwgY29sdW1uLXJ1bGUsIGNvbnRlbnQtdmlzaWJpbGl0eSwgY291bnRlci1pbmNyZW1lbnQsIGNvdW50ZXItcmVzZXQsIGNvdW50ZXItc2V0LCBkZXNjZW50LW92ZXJyaWRlLCBmbGV4LWZsb3csIGZvbnQtZGlzcGxheSwgZm9udC1mZWF0dXJlLXNldHRpbmdzLCBmb250LXN5bnRoZXNpcywgZm9udC12YXJpYXRpb24tc2V0dGluZ3MsIGZvcmNlZC1jb2xvci1hZGp1c3QsIGdyaWQtYXJlYSwgZ3JpZC1jb2x1bW4sIGdyaWQtY29sdW1uLWdhcCwgZ3JpZC1nYXAsIGdyaWQtcm93LCBncmlkLXJvdy1nYXAsIGdyaWQtdGVtcGxhdGUsIGluaXRpYWwtdmFsdWUsIGluc2V0LWJsb2NrLCBpbnNldC1pbmxpbmUsIGxpbmUtZ2FwLW92ZXJyaWRlLCBsaXN0LXN0eWxlLCBtYXJnaW4tYmxvY2ssIG1hcmdpbi1pbmxpbmUsIG92ZXJyaWRlLWNvbG9ycywgb3ZlcnNjcm9sbC1iZWhhdmlvciwgb3ZlcnNjcm9sbC1iZWhhdmlvci14LCBvdmVyc2Nyb2xsLWJlaGF2aW9yLXksIHBhZGRpbmctYmxvY2ssIHBhZGRpbmctaW5saW5lLCBwYWdlLWJyZWFrLWFmdGVyLCBwYWdlLWJyZWFrLWJlZm9yZSwgcGFnZS1icmVhay1pbnNpZGUsIHBhZ2Utb3JpZW50YXRpb24sIHBsYWNlLWNvbnRlbnQsIHBsYWNlLWl0ZW1zLCBwbGFjZS1zZWxmLCBzY3JvbGwtbWFyZ2luLCBzY3JvbGwtbWFyZ2luLWJsb2NrLCBzY3JvbGwtbWFyZ2luLWJvdHRvbSwgc2Nyb2xsLW1hcmdpbi1pbmxpbmUsIHNjcm9sbC1tYXJnaW4tbGVmdCwgc2Nyb2xsLW1hcmdpbi1yaWdodCwgc2Nyb2xsLW1hcmdpbi10b3AsIHNjcm9sbC1wYWRkaW5nLCBzY3JvbGwtcGFkZGluZy1ibG9jaywgc2Nyb2xsLXBhZGRpbmctYm90dG9tLCBzY3JvbGwtcGFkZGluZy1pbmxpbmUsIHNjcm9sbC1wYWRkaW5nLWxlZnQsIHNjcm9sbC1wYWRkaW5nLXJpZ2h0LCBzY3JvbGwtcGFkZGluZy10b3AsIHNjcm9sbC1zbmFwLWFsaWduLCBzY3JvbGwtc25hcC1zdG9wLCBzY3JvbGwtc25hcC10eXBlLCBzaXplLWFkanVzdCwgc3BlYWstYXMsIHRleHQtY29tYmluZS11cHJpZ2h0LCB0ZXh0LWRlY29yYXRpb24tdGhpY2tuZXNzLCB0ZXh0LWVtcGhhc2lzLCB0ZXh0LW9yaWVudGF0aW9uLCB0ZXh0LXVuZGVybGluZS1vZmZzZXQsIHRyYW5zZm9ybS1ib3gsIHVuaWNvZGUtcmFuZ2UsIC13ZWJraXQtYWxpZ24tY29udGVudCwgLXdlYmtpdC1hbGlnbi1pdGVtcywgLXdlYmtpdC1hbGlnbi1zZWxmLCAtd2Via2l0LWFuaW1hdGlvbiwgLXdlYmtpdC1hbmltYXRpb24tZGVsYXksIC13ZWJraXQtYW5pbWF0aW9uLWRpcmVjdGlvbiwgLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb24sIC13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZSwgLXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50LCAtd2Via2l0LWFuaW1hdGlvbi1uYW1lLCAtd2Via2l0LWFuaW1hdGlvbi1wbGF5LXN0YXRlLCAtd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24sIC13ZWJraXQtYXBwLXJlZ2lvbiwgLXdlYmtpdC1hcHBlYXJhbmNlLCAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHksIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwLCAtd2Via2l0LWJhY2tncm91bmQtb3JpZ2luLCAtd2Via2l0LWJhY2tncm91bmQtc2l6ZSwgLXdlYmtpdC1ib3JkZXItYWZ0ZXIsIC13ZWJraXQtYm9yZGVyLWFmdGVyLWNvbG9yLCAtd2Via2l0LWJvcmRlci1hZnRlci1zdHlsZSwgLXdlYmtpdC1ib3JkZXItYWZ0ZXItd2lkdGgsIC13ZWJraXQtYm9yZGVyLWJlZm9yZSwgLXdlYmtpdC1ib3JkZXItYmVmb3JlLWNvbG9yLCAtd2Via2l0LWJvcmRlci1iZWZvcmUtc3R5bGUsIC13ZWJraXQtYm9yZGVyLWJlZm9yZS13aWR0aCwgLXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzLCAtd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzLCAtd2Via2l0LWJvcmRlci1lbmQsIC13ZWJraXQtYm9yZGVyLWVuZC1jb2xvciwgLXdlYmtpdC1ib3JkZXItZW5kLXN0eWxlLCAtd2Via2l0LWJvcmRlci1lbmQtd2lkdGgsIC13ZWJraXQtYm9yZGVyLXJhZGl1cywgLXdlYmtpdC1ib3JkZXItc3RhcnQsIC13ZWJraXQtYm9yZGVyLXN0YXJ0LWNvbG9yLCAtd2Via2l0LWJvcmRlci1zdGFydC1zdHlsZSwgLXdlYmtpdC1ib3JkZXItc3RhcnQtd2lkdGgsIC13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1cywgLXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1cywgLXdlYmtpdC1ib3gtc2hhZG93LCAtd2Via2l0LWJveC1zaXppbmcsIC13ZWJraXQtY2xpcC1wYXRoLCAtd2Via2l0LWNvbHVtbi1icmVhay1hZnRlciwgLXdlYmtpdC1jb2x1bW4tYnJlYWstYmVmb3JlLCAtd2Via2l0LWNvbHVtbi1icmVhay1pbnNpZGUsIC13ZWJraXQtY29sdW1uLWNvdW50LCAtd2Via2l0LWNvbHVtbi1nYXAsIC13ZWJraXQtY29sdW1uLXJ1bGUsIC13ZWJraXQtY29sdW1uLXJ1bGUtY29sb3IsIC13ZWJraXQtY29sdW1uLXJ1bGUtc3R5bGUsIC13ZWJraXQtY29sdW1uLXJ1bGUtd2lkdGgsIC13ZWJraXQtY29sdW1uLXNwYW4sIC13ZWJraXQtY29sdW1uLXdpZHRoLCAtd2Via2l0LWNvbHVtbnMsIC13ZWJraXQtZmlsdGVyLCAtd2Via2l0LWZsZXgsIC13ZWJraXQtZmxleC1iYXNpcywgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbiwgLXdlYmtpdC1mbGV4LWZsb3csIC13ZWJraXQtZmxleC1ncm93LCAtd2Via2l0LWZsZXgtc2hyaW5rLCAtd2Via2l0LWZsZXgtd3JhcCwgLXdlYmtpdC1mb250LWZlYXR1cmUtc2V0dGluZ3MsIC13ZWJraXQtaHlwaGVuYXRlLWNoYXJhY3RlciwgLXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQsIC13ZWJraXQtbG9naWNhbC1oZWlnaHQsIC13ZWJraXQtbG9naWNhbC13aWR0aCwgLXdlYmtpdC1tYXJnaW4tYWZ0ZXIsIC13ZWJraXQtbWFyZ2luLWJlZm9yZSwgLXdlYmtpdC1tYXJnaW4tZW5kLCAtd2Via2l0LW1hcmdpbi1zdGFydCwgLXdlYmtpdC1tYXNrLCAtd2Via2l0LW1hc2stcG9zaXRpb24teCwgLXdlYmtpdC1tYXNrLXBvc2l0aW9uLXksIC13ZWJraXQtbWFzay1yZXBlYXQteCwgLXdlYmtpdC1tYXNrLXJlcGVhdC15LCAtd2Via2l0LW1heC1sb2dpY2FsLWhlaWdodCwgLXdlYmtpdC1tYXgtbG9naWNhbC13aWR0aCwgLXdlYmtpdC1taW4tbG9naWNhbC1oZWlnaHQsIC13ZWJraXQtbWluLWxvZ2ljYWwtd2lkdGgsIC13ZWJraXQtb3BhY2l0eSwgLXdlYmtpdC1vcmRlciwgLXdlYmtpdC1wYWRkaW5nLWFmdGVyLCAtd2Via2l0LXBhZGRpbmctYmVmb3JlLCAtd2Via2l0LXBhZGRpbmctZW5kLCAtd2Via2l0LXBhZGRpbmctc3RhcnQsIC13ZWJraXQtcGVyc3BlY3RpdmUsIC13ZWJraXQtcGVyc3BlY3RpdmUtb3JpZ2luLCAtd2Via2l0LXBlcnNwZWN0aXZlLW9yaWdpbi14LCAtd2Via2l0LXBlcnNwZWN0aXZlLW9yaWdpbi15LCAtd2Via2l0LXJ1YnktcG9zaXRpb24sIC13ZWJraXQtc2hhcGUtaW1hZ2UtdGhyZXNob2xkLCAtd2Via2l0LXNoYXBlLW1hcmdpbiwgLXdlYmtpdC1zaGFwZS1vdXRzaWRlLCAtd2Via2l0LXRleHQtZW1waGFzaXMsIC13ZWJraXQtdGV4dC1lbXBoYXNpcy1jb2xvciwgLXdlYmtpdC10ZXh0LWVtcGhhc2lzLXBvc2l0aW9uLCAtd2Via2l0LXRleHQtZW1waGFzaXMtc3R5bGUsIC13ZWJraXQtdGV4dC1zaXplLWFkanVzdCwgLXdlYmtpdC10ZXh0LXN0cm9rZSwgLXdlYmtpdC10cmFuc2Zvcm0sIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbiwgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luLXgsIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbi15LCAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW4teiwgLXdlYmtpdC10cmFuc2Zvcm0tc3R5bGUsIC13ZWJraXQtdHJhbnNpdGlvbiwgLXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5LCAtd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb24sIC13ZWJraXQtdHJhbnNpdGlvbi1wcm9wZXJ0eSwgLXdlYmtpdC10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiwgLXdlYmtpdC11c2VyLXNlbGVjdCwgd29yZC13cmFwYCwNCiAgICAgICAgICAgIGpzS2V5czogJ09iamVjdC5hc3NpZ24sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcywgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scywgT2JqZWN0Lmhhc093biwgT2JqZWN0LmlzLCBPYmplY3QucHJldmVudEV4dGVuc2lvbnMsIE9iamVjdC5zZWFsLCBPYmplY3QuY3JlYXRlLCBPYmplY3QuZGVmaW5lUHJvcGVydGllcywgT2JqZWN0LmRlZmluZVByb3BlcnR5LCBPYmplY3QuZnJlZXplLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdC5zZXRQcm90b3R5cGVPZiwgT2JqZWN0LmlzRXh0ZW5zaWJsZSwgT2JqZWN0LmlzRnJvemVuLCBPYmplY3QuaXNTZWFsZWQsIE9iamVjdC5rZXlzLCBPYmplY3QuZW50cmllcywgT2JqZWN0LmZyb21FbnRyaWVzLCBPYmplY3QudmFsdWVzLCBPYmplY3QuX19kZWZpbmVHZXR0ZXJfXywgT2JqZWN0Ll9fZGVmaW5lU2V0dGVyX18sIE9iamVjdC5oYXNPd25Qcm9wZXJ0eSwgT2JqZWN0Ll9fbG9va3VwR2V0dGVyX18sIE9iamVjdC5fX2xvb2t1cFNldHRlcl9fLCBPYmplY3QuaXNQcm90b3R5cGVPZiwgT2JqZWN0LnByb3BlcnR5SXNFbnVtZXJhYmxlLCBPYmplY3QudG9TdHJpbmcsIE9iamVjdC52YWx1ZU9mLCBPYmplY3QuX19wcm90b19fLCBPYmplY3QudG9Mb2NhbGVTdHJpbmcsIEZ1bmN0aW9uLmFwcGx5LCBGdW5jdGlvbi5iaW5kLCBGdW5jdGlvbi5jYWxsLCBGdW5jdGlvbi50b1N0cmluZywgQm9vbGVhbi50b1N0cmluZywgQm9vbGVhbi52YWx1ZU9mLCBTeW1ib2wuZm9yLCBTeW1ib2wua2V5Rm9yLCBTeW1ib2wuYXN5bmNJdGVyYXRvciwgU3ltYm9sLmhhc0luc3RhbmNlLCBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlLCBTeW1ib2wuaXRlcmF0b3IsIFN5bWJvbC5tYXRjaCwgU3ltYm9sLm1hdGNoQWxsLCBTeW1ib2wucmVwbGFjZSwgU3ltYm9sLnNlYXJjaCwgU3ltYm9sLnNwZWNpZXMsIFN5bWJvbC5zcGxpdCwgU3ltYm9sLnRvUHJpbWl0aXZlLCBTeW1ib2wudG9TdHJpbmdUYWcsIFN5bWJvbC51bnNjb3BhYmxlcywgU3ltYm9sLnRvU3RyaW5nLCBTeW1ib2wudmFsdWVPZiwgU3ltYm9sLmRlc2NyaXB0aW9uLCBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSwgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0LCBFcnJvci5tZXNzYWdlLCBFcnJvci50b1N0cmluZywgTnVtYmVyLmlzRmluaXRlLCBOdW1iZXIuaXNJbnRlZ2VyLCBOdW1iZXIuaXNOYU4sIE51bWJlci5pc1NhZmVJbnRlZ2VyLCBOdW1iZXIucGFyc2VGbG9hdCwgTnVtYmVyLnBhcnNlSW50LCBOdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUlOX1ZBTFVFLCBOdW1iZXIuTmFOLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsIE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLCBOdW1iZXIuRVBTSUxPTiwgTnVtYmVyLnRvRXhwb25lbnRpYWwsIE51bWJlci50b0ZpeGVkLCBOdW1iZXIudG9QcmVjaXNpb24sIE51bWJlci50b1N0cmluZywgTnVtYmVyLnZhbHVlT2YsIE51bWJlci50b0xvY2FsZVN0cmluZywgQmlnSW50LmFzVWludE4sIEJpZ0ludC5hc0ludE4sIEJpZ0ludC50b0xvY2FsZVN0cmluZywgQmlnSW50LnRvU3RyaW5nLCBCaWdJbnQudmFsdWVPZiwgTWF0aC5hYnMsIE1hdGguYWNvcywgTWF0aC5hY29zaCwgTWF0aC5hc2luLCBNYXRoLmFzaW5oLCBNYXRoLmF0YW4sIE1hdGguYXRhbmgsIE1hdGguYXRhbjIsIE1hdGguY2VpbCwgTWF0aC5jYnJ0LCBNYXRoLmV4cG0xLCBNYXRoLmNsejMyLCBNYXRoLmNvcywgTWF0aC5jb3NoLCBNYXRoLmV4cCwgTWF0aC5mbG9vciwgTWF0aC5mcm91bmQsIE1hdGguaHlwb3QsIE1hdGguaW11bCwgTWF0aC5sb2csIE1hdGgubG9nMXAsIE1hdGgubG9nMiwgTWF0aC5sb2cxMCwgTWF0aC5tYXgsIE1hdGgubWluLCBNYXRoLnBvdywgTWF0aC5yYW5kb20sIE1hdGgucm91bmQsIE1hdGguc2lnbiwgTWF0aC5zaW4sIE1hdGguc2luaCwgTWF0aC5zcXJ0LCBNYXRoLnRhbiwgTWF0aC50YW5oLCBNYXRoLnRydW5jLCBNYXRoLkUsIE1hdGguTE4xMCwgTWF0aC5MTjIsIE1hdGguTE9HMTBFLCBNYXRoLkxPRzJFLCBNYXRoLlBJLCBNYXRoLlNRUlQxXzIsIE1hdGguU1FSVDIsIERhdGUubm93LCBEYXRlLnBhcnNlLCBEYXRlLlVUQywgRGF0ZS50b1N0cmluZywgRGF0ZS50b0RhdGVTdHJpbmcsIERhdGUudG9UaW1lU3RyaW5nLCBEYXRlLnRvSVNPU3RyaW5nLCBEYXRlLnRvVVRDU3RyaW5nLCBEYXRlLnRvR01UU3RyaW5nLCBEYXRlLmdldERhdGUsIERhdGUuc2V0RGF0ZSwgRGF0ZS5nZXREYXksIERhdGUuZ2V0RnVsbFllYXIsIERhdGUuc2V0RnVsbFllYXIsIERhdGUuZ2V0SG91cnMsIERhdGUuc2V0SG91cnMsIERhdGUuZ2V0TWlsbGlzZWNvbmRzLCBEYXRlLnNldE1pbGxpc2Vjb25kcywgRGF0ZS5nZXRNaW51dGVzLCBEYXRlLnNldE1pbnV0ZXMsIERhdGUuZ2V0TW9udGgsIERhdGUuc2V0TW9udGgsIERhdGUuZ2V0U2Vjb25kcywgRGF0ZS5zZXRTZWNvbmRzLCBEYXRlLmdldFRpbWUsIERhdGUuc2V0VGltZSwgRGF0ZS5nZXRUaW1lem9uZU9mZnNldCwgRGF0ZS5nZXRVVENEYXRlLCBEYXRlLnNldFVUQ0RhdGUsIERhdGUuZ2V0VVRDRGF5LCBEYXRlLmdldFVUQ0Z1bGxZZWFyLCBEYXRlLnNldFVUQ0Z1bGxZZWFyLCBEYXRlLmdldFVUQ0hvdXJzLCBEYXRlLnNldFVUQ0hvdXJzLCBEYXRlLmdldFVUQ01pbGxpc2Vjb25kcywgRGF0ZS5zZXRVVENNaWxsaXNlY29uZHMsIERhdGUuZ2V0VVRDTWludXRlcywgRGF0ZS5zZXRVVENNaW51dGVzLCBEYXRlLmdldFVUQ01vbnRoLCBEYXRlLnNldFVUQ01vbnRoLCBEYXRlLmdldFVUQ1NlY29uZHMsIERhdGUuc2V0VVRDU2Vjb25kcywgRGF0ZS52YWx1ZU9mLCBEYXRlLmdldFllYXIsIERhdGUuc2V0WWVhciwgRGF0ZS50b0pTT04sIERhdGUudG9Mb2NhbGVTdHJpbmcsIERhdGUudG9Mb2NhbGVEYXRlU3RyaW5nLCBEYXRlLnRvTG9jYWxlVGltZVN0cmluZywgU3RyaW5nLmZyb21DaGFyQ29kZSwgU3RyaW5nLmZyb21Db2RlUG9pbnQsIFN0cmluZy5yYXcsIFN0cmluZy5hbmNob3IsIFN0cmluZy5hdCwgU3RyaW5nLmJpZywgU3RyaW5nLmJsaW5rLCBTdHJpbmcuYm9sZCwgU3RyaW5nLmNoYXJBdCwgU3RyaW5nLmNoYXJDb2RlQXQsIFN0cmluZy5jb2RlUG9pbnRBdCwgU3RyaW5nLmNvbmNhdCwgU3RyaW5nLmVuZHNXaXRoLCBTdHJpbmcuZm9udGNvbG9yLCBTdHJpbmcuZm9udHNpemUsIFN0cmluZy5maXhlZCwgU3RyaW5nLmluY2x1ZGVzLCBTdHJpbmcuaW5kZXhPZiwgU3RyaW5nLml0YWxpY3MsIFN0cmluZy5sYXN0SW5kZXhPZiwgU3RyaW5nLmxpbmssIFN0cmluZy5sb2NhbGVDb21wYXJlLCBTdHJpbmcubWF0Y2gsIFN0cmluZy5tYXRjaEFsbCwgU3RyaW5nLm5vcm1hbGl6ZSwgU3RyaW5nLnBhZEVuZCwgU3RyaW5nLnBhZFN0YXJ0LCBTdHJpbmcucmVwZWF0LCBTdHJpbmcucmVwbGFjZSwgU3RyaW5nLnJlcGxhY2VBbGwsIFN0cmluZy5zZWFyY2gsIFN0cmluZy5zbGljZSwgU3RyaW5nLnNtYWxsLCBTdHJpbmcuc3BsaXQsIFN0cmluZy5zdHJpa2UsIFN0cmluZy5zdWIsIFN0cmluZy5zdWJzdHIsIFN0cmluZy5zdWJzdHJpbmcsIFN0cmluZy5zdXAsIFN0cmluZy5zdGFydHNXaXRoLCBTdHJpbmcudG9TdHJpbmcsIFN0cmluZy50cmltLCBTdHJpbmcudHJpbVN0YXJ0LCBTdHJpbmcudHJpbUxlZnQsIFN0cmluZy50cmltRW5kLCBTdHJpbmcudHJpbVJpZ2h0LCBTdHJpbmcudG9Mb2NhbGVMb3dlckNhc2UsIFN0cmluZy50b0xvY2FsZVVwcGVyQ2FzZSwgU3RyaW5nLnRvTG93ZXJDYXNlLCBTdHJpbmcudG9VcHBlckNhc2UsIFN0cmluZy52YWx1ZU9mLCBSZWdFeHAuaW5wdXQsIFJlZ0V4cC4kXywgUmVnRXhwLmxhc3RNYXRjaCwgUmVnRXhwLiQmLCBSZWdFeHAubGFzdFBhcmVuLCBSZWdFeHAuJCssIFJlZ0V4cC5sZWZ0Q29udGV4dCwgUmVnRXhwLiRgLCBSZWdFeHAucmlnaHRDb250ZXh0LCBSZWdFeHAuJFwnLCBSZWdFeHAuJDEsIFJlZ0V4cC4kMiwgUmVnRXhwLiQzLCBSZWdFeHAuJDQsIFJlZ0V4cC4kNSwgUmVnRXhwLiQ2LCBSZWdFeHAuJDcsIFJlZ0V4cC4kOCwgUmVnRXhwLiQ5LCBSZWdFeHAuZXhlYywgUmVnRXhwLmRvdEFsbCwgUmVnRXhwLmZsYWdzLCBSZWdFeHAuZ2xvYmFsLCBSZWdFeHAuaGFzSW5kaWNlcywgUmVnRXhwLmlnbm9yZUNhc2UsIFJlZ0V4cC5tdWx0aWxpbmUsIFJlZ0V4cC5zb3VyY2UsIFJlZ0V4cC5zdGlja3ksIFJlZ0V4cC51bmljb2RlLCBSZWdFeHAuY29tcGlsZSwgUmVnRXhwLnRvU3RyaW5nLCBSZWdFeHAudGVzdCwgQXJyYXkuaXNBcnJheSwgQXJyYXkuZnJvbSwgQXJyYXkub2YsIEFycmF5LmF0LCBBcnJheS5jb25jYXQsIEFycmF5LmNvcHlXaXRoaW4sIEFycmF5LmZpbGwsIEFycmF5LmZpbmQsIEFycmF5LmZpbmRJbmRleCwgQXJyYXkubGFzdEluZGV4T2YsIEFycmF5LnBvcCwgQXJyYXkucHVzaCwgQXJyYXkucmV2ZXJzZSwgQXJyYXkuc2hpZnQsIEFycmF5LnVuc2hpZnQsIEFycmF5LnNsaWNlLCBBcnJheS5zb3J0LCBBcnJheS5zcGxpY2UsIEFycmF5LmluY2x1ZGVzLCBBcnJheS5pbmRleE9mLCBBcnJheS5qb2luLCBBcnJheS5rZXlzLCBBcnJheS5lbnRyaWVzLCBBcnJheS52YWx1ZXMsIEFycmF5LmZvckVhY2gsIEFycmF5LmZpbHRlciwgQXJyYXkuZmxhdCwgQXJyYXkuZmxhdE1hcCwgQXJyYXkubWFwLCBBcnJheS5ldmVyeSwgQXJyYXkuc29tZSwgQXJyYXkucmVkdWNlLCBBcnJheS5yZWR1Y2VSaWdodCwgQXJyYXkudG9Mb2NhbGVTdHJpbmcsIEFycmF5LnRvU3RyaW5nLCBBcnJheS5maW5kTGFzdCwgQXJyYXkuZmluZExhc3RJbmRleCwgTWFwLmdldCwgTWFwLnNldCwgTWFwLmhhcywgTWFwLmRlbGV0ZSwgTWFwLmNsZWFyLCBNYXAuZW50cmllcywgTWFwLmZvckVhY2gsIE1hcC5rZXlzLCBNYXAuc2l6ZSwgTWFwLnZhbHVlcywgU2V0LmhhcywgU2V0LmFkZCwgU2V0LmRlbGV0ZSwgU2V0LmNsZWFyLCBTZXQuZW50cmllcywgU2V0LmZvckVhY2gsIFNldC5zaXplLCBTZXQudmFsdWVzLCBTZXQua2V5cywgV2Vha01hcC5kZWxldGUsIFdlYWtNYXAuZ2V0LCBXZWFrTWFwLnNldCwgV2Vha01hcC5oYXMsIFdlYWtTZXQuZGVsZXRlLCBXZWFrU2V0LmhhcywgV2Vha1NldC5hZGQsIEF0b21pY3MubG9hZCwgQXRvbWljcy5zdG9yZSwgQXRvbWljcy5hZGQsIEF0b21pY3Muc3ViLCBBdG9taWNzLmFuZCwgQXRvbWljcy5vciwgQXRvbWljcy54b3IsIEF0b21pY3MuZXhjaGFuZ2UsIEF0b21pY3MuY29tcGFyZUV4Y2hhbmdlLCBBdG9taWNzLmlzTG9ja0ZyZWUsIEF0b21pY3Mud2FpdCwgQXRvbWljcy53YWl0QXN5bmMsIEF0b21pY3Mubm90aWZ5LCBKU09OLnBhcnNlLCBKU09OLnN0cmluZ2lmeSwgUHJvbWlzZS5hbGwsIFByb21pc2UuYWxsU2V0dGxlZCwgUHJvbWlzZS5hbnksIFByb21pc2UucmFjZSwgUHJvbWlzZS5yZXNvbHZlLCBQcm9taXNlLnJlamVjdCwgUHJvbWlzZS50aGVuLCBQcm9taXNlLmNhdGNoLCBQcm9taXNlLmZpbmFsbHksIFJlZmxlY3QuZGVmaW5lUHJvcGVydHksIFJlZmxlY3QuZGVsZXRlUHJvcGVydHksIFJlZmxlY3QuYXBwbHksIFJlZmxlY3QuY29uc3RydWN0LCBSZWZsZWN0LmdldCwgUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsIFJlZmxlY3QuZ2V0UHJvdG90eXBlT2YsIFJlZmxlY3QuaGFzLCBSZWZsZWN0LmlzRXh0ZW5zaWJsZSwgUmVmbGVjdC5vd25LZXlzLCBSZWZsZWN0LnByZXZlbnRFeHRlbnNpb25zLCBSZWZsZWN0LnNldCwgUmVmbGVjdC5zZXRQcm90b3R5cGVPZiwgUHJveHkucmV2b2NhYmxlLCBJbnRsLmdldENhbm9uaWNhbExvY2FsZXMsIEludGwuc3VwcG9ydGVkVmFsdWVzT2YsIEludGwuRGF0ZVRpbWVGb3JtYXQsIEludGwuTnVtYmVyRm9ybWF0LCBJbnRsLkNvbGxhdG9yLCBJbnRsLnY4QnJlYWtJdGVyYXRvciwgSW50bC5QbHVyYWxSdWxlcywgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQsIEludGwuTGlzdEZvcm1hdCwgSW50bC5Mb2NhbGUsIEludGwuRGlzcGxheU5hbWVzLCBJbnRsLlNlZ21lbnRlciwgV2ViQXNzZW1ibHkuY29tcGlsZSwgV2ViQXNzZW1ibHkudmFsaWRhdGUsIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlLCBXZWJBc3NlbWJseS5jb21waWxlU3RyZWFtaW5nLCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZywgV2ViQXNzZW1ibHkuTW9kdWxlLCBXZWJBc3NlbWJseS5JbnN0YW5jZSwgV2ViQXNzZW1ibHkuVGFibGUsIFdlYkFzc2VtYmx5Lk1lbW9yeSwgV2ViQXNzZW1ibHkuR2xvYmFsLCBXZWJBc3NlbWJseS5UYWcsIFdlYkFzc2VtYmx5LkV4Y2VwdGlvbiwgV2ViQXNzZW1ibHkuQ29tcGlsZUVycm9yLCBXZWJBc3NlbWJseS5MaW5rRXJyb3IsIFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvciwgRG9jdW1lbnQuaW1wbGVtZW50YXRpb24sIERvY3VtZW50LlVSTCwgRG9jdW1lbnQuZG9jdW1lbnRVUkksIERvY3VtZW50LmNvbXBhdE1vZGUsIERvY3VtZW50LmNoYXJhY3RlclNldCwgRG9jdW1lbnQuY2hhcnNldCwgRG9jdW1lbnQuaW5wdXRFbmNvZGluZywgRG9jdW1lbnQuY29udGVudFR5cGUsIERvY3VtZW50LmRvY3R5cGUsIERvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgRG9jdW1lbnQueG1sRW5jb2RpbmcsIERvY3VtZW50LnhtbFZlcnNpb24sIERvY3VtZW50LnhtbFN0YW5kYWxvbmUsIERvY3VtZW50LmRvbWFpbiwgRG9jdW1lbnQucmVmZXJyZXIsIERvY3VtZW50LmNvb2tpZSwgRG9jdW1lbnQubGFzdE1vZGlmaWVkLCBEb2N1bWVudC5yZWFkeVN0YXRlLCBEb2N1bWVudC50aXRsZSwgRG9jdW1lbnQuZGlyLCBEb2N1bWVudC5ib2R5LCBEb2N1bWVudC5oZWFkLCBEb2N1bWVudC5pbWFnZXMsIERvY3VtZW50LmVtYmVkcywgRG9jdW1lbnQucGx1Z2lucywgRG9jdW1lbnQubGlua3MsIERvY3VtZW50LmZvcm1zLCBEb2N1bWVudC5zY3JpcHRzLCBEb2N1bWVudC5jdXJyZW50U2NyaXB0LCBEb2N1bWVudC5kZWZhdWx0VmlldywgRG9jdW1lbnQuZGVzaWduTW9kZSwgRG9jdW1lbnQub25yZWFkeXN0YXRlY2hhbmdlLCBEb2N1bWVudC5hbmNob3JzLCBEb2N1bWVudC5hcHBsZXRzLCBEb2N1bWVudC5mZ0NvbG9yLCBEb2N1bWVudC5saW5rQ29sb3IsIERvY3VtZW50LnZsaW5rQ29sb3IsIERvY3VtZW50LmFsaW5rQ29sb3IsIERvY3VtZW50LmJnQ29sb3IsIERvY3VtZW50LmFsbCwgRG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCwgRG9jdW1lbnQub25wb2ludGVybG9ja2NoYW5nZSwgRG9jdW1lbnQub25wb2ludGVybG9ja2Vycm9yLCBEb2N1bWVudC5oaWRkZW4sIERvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSwgRG9jdW1lbnQud2FzRGlzY2FyZGVkLCBEb2N1bWVudC5mZWF0dXJlUG9saWN5LCBEb2N1bWVudC53ZWJraXRWaXNpYmlsaXR5U3RhdGUsIERvY3VtZW50LndlYmtpdEhpZGRlbiwgRG9jdW1lbnQub25iZWZvcmVjb3B5LCBEb2N1bWVudC5vbmJlZm9yZWN1dCwgRG9jdW1lbnQub25iZWZvcmVwYXN0ZSwgRG9jdW1lbnQub25mcmVlemUsIERvY3VtZW50Lm9ucmVzdW1lLCBEb2N1bWVudC5vbnNlYXJjaCwgRG9jdW1lbnQub252aXNpYmlsaXR5Y2hhbmdlLCBEb2N1bWVudC5mdWxsc2NyZWVuRW5hYmxlZCwgRG9jdW1lbnQuZnVsbHNjcmVlbiwgRG9jdW1lbnQub25mdWxsc2NyZWVuY2hhbmdlLCBEb2N1bWVudC5vbmZ1bGxzY3JlZW5lcnJvciwgRG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVuLCBEb2N1bWVudC53ZWJraXRDdXJyZW50RnVsbFNjcmVlbkVsZW1lbnQsIERvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkLCBEb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCwgRG9jdW1lbnQub253ZWJraXRmdWxsc2NyZWVuY2hhbmdlLCBEb2N1bWVudC5vbndlYmtpdGZ1bGxzY3JlZW5lcnJvciwgRG9jdW1lbnQucm9vdEVsZW1lbnQsIERvY3VtZW50Lm9uYmVmb3JleHJzZWxlY3QsIERvY3VtZW50Lm9uYWJvcnQsIERvY3VtZW50Lm9uYmVmb3JlaW5wdXQsIERvY3VtZW50Lm9uYmx1ciwgRG9jdW1lbnQub25jYW5jZWwsIERvY3VtZW50Lm9uY2FucGxheSwgRG9jdW1lbnQub25jYW5wbGF5dGhyb3VnaCwgRG9jdW1lbnQub25jaGFuZ2UsIERvY3VtZW50Lm9uY2xpY2ssIERvY3VtZW50Lm9uY2xvc2UsIERvY3VtZW50Lm9uY29udGV4dGxvc3QsIERvY3VtZW50Lm9uY29udGV4dG1lbnUsIERvY3VtZW50Lm9uY29udGV4dHJlc3RvcmVkLCBEb2N1bWVudC5vbmN1ZWNoYW5nZSwgRG9jdW1lbnQub25kYmxjbGljaywgRG9jdW1lbnQub25kcmFnLCBEb2N1bWVudC5vbmRyYWdlbmQsIERvY3VtZW50Lm9uZHJhZ2VudGVyLCBEb2N1bWVudC5vbmRyYWdsZWF2ZSwgRG9jdW1lbnQub25kcmFnb3ZlciwgRG9jdW1lbnQub25kcmFnc3RhcnQsIERvY3VtZW50Lm9uZHJvcCwgRG9jdW1lbnQub25kdXJhdGlvbmNoYW5nZSwgRG9jdW1lbnQub25lbXB0aWVkLCBEb2N1bWVudC5vbmVuZGVkLCBEb2N1bWVudC5vbmVycm9yLCBEb2N1bWVudC5vbmZvY3VzLCBEb2N1bWVudC5vbmZvcm1kYXRhLCBEb2N1bWVudC5vbmlucHV0LCBEb2N1bWVudC5vbmludmFsaWQsIERvY3VtZW50Lm9ua2V5ZG93biwgRG9jdW1lbnQub25rZXlwcmVzcywgRG9jdW1lbnQub25rZXl1cCwgRG9jdW1lbnQub25sb2FkLCBEb2N1bWVudC5vbmxvYWRlZGRhdGEsIERvY3VtZW50Lm9ubG9hZGVkbWV0YWRhdGEsIERvY3VtZW50Lm9ubG9hZHN0YXJ0LCBEb2N1bWVudC5vbm1vdXNlZG93biwgRG9jdW1lbnQub25tb3VzZWVudGVyLCBEb2N1bWVudC5vbm1vdXNlbGVhdmUsIERvY3VtZW50Lm9ubW91c2Vtb3ZlLCBEb2N1bWVudC5vbm1vdXNlb3V0LCBEb2N1bWVudC5vbm1vdXNlb3ZlciwgRG9jdW1lbnQub25tb3VzZXVwLCBEb2N1bWVudC5vbm1vdXNld2hlZWwsIERvY3VtZW50Lm9ucGF1c2UsIERvY3VtZW50Lm9ucGxheSwgRG9jdW1lbnQub25wbGF5aW5nLCBEb2N1bWVudC5vbnByb2dyZXNzLCBEb2N1bWVudC5vbnJhdGVjaGFuZ2UsIERvY3VtZW50Lm9ucmVzZXQsIERvY3VtZW50Lm9ucmVzaXplLCBEb2N1bWVudC5vbnNjcm9sbCwgRG9jdW1lbnQub25zZWN1cml0eXBvbGljeXZpb2xhdGlvbiwgRG9jdW1lbnQub25zZWVrZWQsIERvY3VtZW50Lm9uc2Vla2luZywgRG9jdW1lbnQub25zZWxlY3QsIERvY3VtZW50Lm9uc2xvdGNoYW5nZSwgRG9jdW1lbnQub25zdGFsbGVkLCBEb2N1bWVudC5vbnN1Ym1pdCwgRG9jdW1lbnQub25zdXNwZW5kLCBEb2N1bWVudC5vbnRpbWV1cGRhdGUsIERvY3VtZW50Lm9udG9nZ2xlLCBEb2N1bWVudC5vbnZvbHVtZWNoYW5nZSwgRG9jdW1lbnQub253YWl0aW5nLCBEb2N1bWVudC5vbndlYmtpdGFuaW1hdGlvbmVuZCwgRG9jdW1lbnQub253ZWJraXRhbmltYXRpb25pdGVyYXRpb24sIERvY3VtZW50Lm9ud2Via2l0YW5pbWF0aW9uc3RhcnQsIERvY3VtZW50Lm9ud2Via2l0dHJhbnNpdGlvbmVuZCwgRG9jdW1lbnQub253aGVlbCwgRG9jdW1lbnQub25hdXhjbGljaywgRG9jdW1lbnQub25nb3Rwb2ludGVyY2FwdHVyZSwgRG9jdW1lbnQub25sb3N0cG9pbnRlcmNhcHR1cmUsIERvY3VtZW50Lm9ucG9pbnRlcmRvd24sIERvY3VtZW50Lm9ucG9pbnRlcm1vdmUsIERvY3VtZW50Lm9ucG9pbnRlcnJhd3VwZGF0ZSwgRG9jdW1lbnQub25wb2ludGVydXAsIERvY3VtZW50Lm9ucG9pbnRlcmNhbmNlbCwgRG9jdW1lbnQub25wb2ludGVyb3ZlciwgRG9jdW1lbnQub25wb2ludGVyb3V0LCBEb2N1bWVudC5vbnBvaW50ZXJlbnRlciwgRG9jdW1lbnQub25wb2ludGVybGVhdmUsIERvY3VtZW50Lm9uc2VsZWN0c3RhcnQsIERvY3VtZW50Lm9uc2VsZWN0aW9uY2hhbmdlLCBEb2N1bWVudC5vbmFuaW1hdGlvbmVuZCwgRG9jdW1lbnQub25hbmltYXRpb25pdGVyYXRpb24sIERvY3VtZW50Lm9uYW5pbWF0aW9uc3RhcnQsIERvY3VtZW50Lm9udHJhbnNpdGlvbnJ1biwgRG9jdW1lbnQub250cmFuc2l0aW9uc3RhcnQsIERvY3VtZW50Lm9udHJhbnNpdGlvbmVuZCwgRG9jdW1lbnQub250cmFuc2l0aW9uY2FuY2VsLCBEb2N1bWVudC5vbmNvcHksIERvY3VtZW50Lm9uY3V0LCBEb2N1bWVudC5vbnBhc3RlLCBEb2N1bWVudC5jaGlsZHJlbiwgRG9jdW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQsIERvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQsIERvY3VtZW50LmNoaWxkRWxlbWVudENvdW50LCBEb2N1bWVudC5hY3RpdmVFbGVtZW50LCBEb2N1bWVudC5zdHlsZVNoZWV0cywgRG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50LCBEb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCwgRG9jdW1lbnQuYWRvcHRlZFN0eWxlU2hlZXRzLCBEb2N1bWVudC5mb250cywgRG9jdW1lbnQuYWRvcHROb2RlLCBEb2N1bWVudC5hcHBlbmQsIERvY3VtZW50LmNhcHR1cmVFdmVudHMsIERvY3VtZW50LmNhcmV0UmFuZ2VGcm9tUG9pbnQsIERvY3VtZW50LmNsZWFyLCBEb2N1bWVudC5jbG9zZSwgRG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlLCBEb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGVOUywgRG9jdW1lbnQuY3JlYXRlQ0RBVEFTZWN0aW9uLCBEb2N1bWVudC5jcmVhdGVDb21tZW50LCBEb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50LCBEb2N1bWVudC5jcmVhdGVFbGVtZW50LCBEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMsIERvY3VtZW50LmNyZWF0ZUV2ZW50LCBEb2N1bWVudC5jcmVhdGVFeHByZXNzaW9uLCBEb2N1bWVudC5jcmVhdGVOU1Jlc29sdmVyLCBEb2N1bWVudC5jcmVhdGVOb2RlSXRlcmF0b3IsIERvY3VtZW50LmNyZWF0ZVByb2Nlc3NpbmdJbnN0cnVjdGlvbiwgRG9jdW1lbnQuY3JlYXRlUmFuZ2UsIERvY3VtZW50LmNyZWF0ZVRleHROb2RlLCBEb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyLCBEb2N1bWVudC5lbGVtZW50RnJvbVBvaW50LCBEb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludCwgRG9jdW1lbnQuZXZhbHVhdGUsIERvY3VtZW50LmV4ZWNDb21tYW5kLCBEb2N1bWVudC5leGl0RnVsbHNjcmVlbiwgRG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrLCBEb2N1bWVudC5nZXRFbGVtZW50QnlJZCwgRG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSwgRG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUsIERvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lLCBEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZU5TLCBEb2N1bWVudC5nZXRTZWxlY3Rpb24sIERvY3VtZW50Lmhhc0ZvY3VzLCBEb2N1bWVudC5pbXBvcnROb2RlLCBEb2N1bWVudC5vcGVuLCBEb2N1bWVudC5wcmVwZW5kLCBEb2N1bWVudC5xdWVyeUNvbW1hbmRFbmFibGVkLCBEb2N1bWVudC5xdWVyeUNvbW1hbmRJbmRldGVybSwgRG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUsIERvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCwgRG9jdW1lbnQucXVlcnlDb21tYW5kVmFsdWUsIERvY3VtZW50LnF1ZXJ5U2VsZWN0b3IsIERvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwsIERvY3VtZW50LnJlbGVhc2VFdmVudHMsIERvY3VtZW50LnJlcGxhY2VDaGlsZHJlbiwgRG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbiwgRG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4sIERvY3VtZW50LndyaXRlLCBEb2N1bWVudC53cml0ZWxuLCBEb2N1bWVudC5wcmVyZW5kZXJpbmcsIERvY3VtZW50Lm9ucHJlcmVuZGVyaW5nY2hhbmdlLCBEb2N1bWVudC5mcmFnbWVudERpcmVjdGl2ZSwgRG9jdW1lbnQub25iZWZvcmVtYXRjaCwgRG9jdW1lbnQudGltZWxpbmUsIERvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbmFibGVkLCBEb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRWxlbWVudCwgRG9jdW1lbnQub25jb250ZW50dmlzaWJpbGl0eWF1dG9zdGF0ZWNoYW5nZSwgRG9jdW1lbnQuZXhpdFBpY3R1cmVJblBpY3R1cmUsIERvY3VtZW50LmdldEFuaW1hdGlvbnMsIEVsZW1lbnQubmFtZXNwYWNlVVJJLCBFbGVtZW50LnByZWZpeCwgRWxlbWVudC5sb2NhbE5hbWUsIEVsZW1lbnQudGFnTmFtZSwgRWxlbWVudC5pZCwgRWxlbWVudC5jbGFzc05hbWUsIEVsZW1lbnQuY2xhc3NMaXN0LCBFbGVtZW50LnNsb3QsIEVsZW1lbnQuYXR0cmlidXRlcywgRWxlbWVudC5zaGFkb3dSb290LCBFbGVtZW50LnBhcnQsIEVsZW1lbnQuYXNzaWduZWRTbG90LCBFbGVtZW50LmlubmVySFRNTCwgRWxlbWVudC5vdXRlckhUTUwsIEVsZW1lbnQuc2Nyb2xsVG9wLCBFbGVtZW50LnNjcm9sbExlZnQsIEVsZW1lbnQuc2Nyb2xsV2lkdGgsIEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LCBFbGVtZW50LmNsaWVudFRvcCwgRWxlbWVudC5jbGllbnRMZWZ0LCBFbGVtZW50LmNsaWVudFdpZHRoLCBFbGVtZW50LmNsaWVudEhlaWdodCwgRWxlbWVudC5vbmJlZm9yZWNvcHksIEVsZW1lbnQub25iZWZvcmVjdXQsIEVsZW1lbnQub25iZWZvcmVwYXN0ZSwgRWxlbWVudC5vbnNlYXJjaCwgRWxlbWVudC5lbGVtZW50VGltaW5nLCBFbGVtZW50Lm9uZnVsbHNjcmVlbmNoYW5nZSwgRWxlbWVudC5vbmZ1bGxzY3JlZW5lcnJvciwgRWxlbWVudC5vbndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UsIEVsZW1lbnQub253ZWJraXRmdWxsc2NyZWVuZXJyb3IsIEVsZW1lbnQucm9sZSwgRWxlbWVudC5hcmlhQXRvbWljLCBFbGVtZW50LmFyaWFBdXRvQ29tcGxldGUsIEVsZW1lbnQuYXJpYUJ1c3ksIEVsZW1lbnQuYXJpYUJyYWlsbGVMYWJlbCwgRWxlbWVudC5hcmlhQnJhaWxsZVJvbGVEZXNjcmlwdGlvbiwgRWxlbWVudC5hcmlhQ2hlY2tlZCwgRWxlbWVudC5hcmlhQ29sQ291bnQsIEVsZW1lbnQuYXJpYUNvbEluZGV4LCBFbGVtZW50LmFyaWFDb2xTcGFuLCBFbGVtZW50LmFyaWFDdXJyZW50LCBFbGVtZW50LmFyaWFEZXNjcmlwdGlvbiwgRWxlbWVudC5hcmlhRGlzYWJsZWQsIEVsZW1lbnQuYXJpYUV4cGFuZGVkLCBFbGVtZW50LmFyaWFIYXNQb3B1cCwgRWxlbWVudC5hcmlhSGlkZGVuLCBFbGVtZW50LmFyaWFJbnZhbGlkLCBFbGVtZW50LmFyaWFLZXlTaG9ydGN1dHMsIEVsZW1lbnQuYXJpYUxhYmVsLCBFbGVtZW50LmFyaWFMZXZlbCwgRWxlbWVudC5hcmlhTGl2ZSwgRWxlbWVudC5hcmlhTW9kYWwsIEVsZW1lbnQuYXJpYU11bHRpTGluZSwgRWxlbWVudC5hcmlhTXVsdGlTZWxlY3RhYmxlLCBFbGVtZW50LmFyaWFPcmllbnRhdGlvbiwgRWxlbWVudC5hcmlhUGxhY2Vob2xkZXIsIEVsZW1lbnQuYXJpYVBvc0luU2V0LCBFbGVtZW50LmFyaWFQcmVzc2VkLCBFbGVtZW50LmFyaWFSZWFkT25seSwgRWxlbWVudC5hcmlhUmVsZXZhbnQsIEVsZW1lbnQuYXJpYVJlcXVpcmVkLCBFbGVtZW50LmFyaWFSb2xlRGVzY3JpcHRpb24sIEVsZW1lbnQuYXJpYVJvd0NvdW50LCBFbGVtZW50LmFyaWFSb3dJbmRleCwgRWxlbWVudC5hcmlhUm93U3BhbiwgRWxlbWVudC5hcmlhU2VsZWN0ZWQsIEVsZW1lbnQuYXJpYVNldFNpemUsIEVsZW1lbnQuYXJpYVNvcnQsIEVsZW1lbnQuYXJpYVZhbHVlTWF4LCBFbGVtZW50LmFyaWFWYWx1ZU1pbiwgRWxlbWVudC5hcmlhVmFsdWVOb3csIEVsZW1lbnQuYXJpYVZhbHVlVGV4dCwgRWxlbWVudC5jaGlsZHJlbiwgRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCwgRWxlbWVudC5sYXN0RWxlbWVudENoaWxkLCBFbGVtZW50LmNoaWxkRWxlbWVudENvdW50LCBFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcsIEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLCBFbGVtZW50LmFmdGVyLCBFbGVtZW50LmFuaW1hdGUsIEVsZW1lbnQuYXBwZW5kLCBFbGVtZW50LmF0dGFjaFNoYWRvdywgRWxlbWVudC5iZWZvcmUsIEVsZW1lbnQuY2xvc2VzdCwgRWxlbWVudC5jb21wdXRlZFN0eWxlTWFwLCBFbGVtZW50LmdldEF0dHJpYnV0ZSwgRWxlbWVudC5nZXRBdHRyaWJ1dGVOUywgRWxlbWVudC5nZXRBdHRyaWJ1dGVOYW1lcywgRWxlbWVudC5nZXRBdHRyaWJ1dGVOb2RlLCBFbGVtZW50LmdldEF0dHJpYnV0ZU5vZGVOUywgRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QsIEVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMsIEVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSwgRWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSwgRWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZU5TLCBFbGVtZW50LmdldElubmVySFRNTCwgRWxlbWVudC5oYXNBdHRyaWJ1dGUsIEVsZW1lbnQuaGFzQXR0cmlidXRlTlMsIEVsZW1lbnQuaGFzQXR0cmlidXRlcywgRWxlbWVudC5oYXNQb2ludGVyQ2FwdHVyZSwgRWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQsIEVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MLCBFbGVtZW50Lmluc2VydEFkamFjZW50VGV4dCwgRWxlbWVudC5tYXRjaGVzLCBFbGVtZW50LnByZXBlbmQsIEVsZW1lbnQucXVlcnlTZWxlY3RvciwgRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsLCBFbGVtZW50LnJlbGVhc2VQb2ludGVyQ2FwdHVyZSwgRWxlbWVudC5yZW1vdmUsIEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlLCBFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZU5TLCBFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZU5vZGUsIEVsZW1lbnQucmVwbGFjZUNoaWxkcmVuLCBFbGVtZW50LnJlcGxhY2VXaXRoLCBFbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuLCBFbGVtZW50LnJlcXVlc3RQb2ludGVyTG9jaywgRWxlbWVudC5zY3JvbGwsIEVsZW1lbnQuc2Nyb2xsQnksIEVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcsIEVsZW1lbnQuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCwgRWxlbWVudC5zY3JvbGxUbywgRWxlbWVudC5zZXRBdHRyaWJ1dGUsIEVsZW1lbnQuc2V0QXR0cmlidXRlTlMsIEVsZW1lbnQuc2V0QXR0cmlidXRlTm9kZSwgRWxlbWVudC5zZXRBdHRyaWJ1dGVOb2RlTlMsIEVsZW1lbnQuc2V0UG9pbnRlckNhcHR1cmUsIEVsZW1lbnQudG9nZ2xlQXR0cmlidXRlLCBFbGVtZW50LndlYmtpdE1hdGNoZXNTZWxlY3RvciwgRWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiwgRWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiwgRWxlbWVudC5jaGVja1Zpc2liaWxpdHksIEVsZW1lbnQuZ2V0QW5pbWF0aW9ucywgRWxlbWVudC5zZXRIVE1MJywNCiAgICAgICAgfSwNCiAgICAgICAgJ0ZpcmVmb3gnOiB7DQogICAgICAgICAgICB2ZXJzaW9uOiAxMDgsDQogICAgICAgICAgICB3aW5kb3dLZXlzOiBgdW5kZWZpbmVkLCBnbG9iYWxUaGlzLCBBcnJheSwgQm9vbGVhbiwgSlNPTiwgRGF0ZSwgTWF0aCwgTnVtYmVyLCBTdHJpbmcsIFJlZ0V4cCwgRXJyb3IsIEludGVybmFsRXJyb3IsIEFnZ3JlZ2F0ZUVycm9yLCBFdmFsRXJyb3IsIFJhbmdlRXJyb3IsIFJlZmVyZW5jZUVycm9yLCBTeW50YXhFcnJvciwgVHlwZUVycm9yLCBVUklFcnJvciwgQXJyYXlCdWZmZXIsIEludDhBcnJheSwgVWludDhBcnJheSwgSW50MTZBcnJheSwgVWludDE2QXJyYXksIEludDMyQXJyYXksIFVpbnQzMkFycmF5LCBGbG9hdDMyQXJyYXksIEZsb2F0NjRBcnJheSwgVWludDhDbGFtcGVkQXJyYXksIEJpZ0ludDY0QXJyYXksIEJpZ1VpbnQ2NEFycmF5LCBCaWdJbnQsIFByb3h5LCBXZWFrTWFwLCBTZXQsIERhdGFWaWV3LCBTeW1ib2wsIEludGwsIFJlZmxlY3QsIFdlYWtTZXQsIEF0b21pY3MsIFByb21pc2UsIFdlYkFzc2VtYmx5LCBGaW5hbGl6YXRpb25SZWdpc3RyeSwgV2Vha1JlZiwgTmFOLCBJbmZpbml0eSwgaXNOYU4sIGlzRmluaXRlLCBwYXJzZUZsb2F0LCBwYXJzZUludCwgZXNjYXBlLCB1bmVzY2FwZSwgZGVjb2RlVVJJLCBlbmNvZGVVUkksIGRlY29kZVVSSUNvbXBvbmVudCwgZW5jb2RlVVJJQ29tcG9uZW50LCBSZXNpemVPYnNlcnZlckVudHJ5LCBCcm9hZGNhc3RDaGFubmVsLCBBYm9ydENvbnRyb2xsZXIsIERPTVJlY3RMaXN0LCBTVkdBbmltYXRlZEVudW1lcmF0aW9uLCBET01Qb2ludFJlYWRPbmx5LCBSVENEdGxzVHJhbnNwb3J0LCBNZWRpYVN0cmVhbVRyYWNrRXZlbnQsIEhUTUxNZWRpYUVsZW1lbnQsIE1lZGlhRGV2aWNlcywgVGV4dE1ldHJpY3MsIE1JRElBY2Nlc3MsIEdhbWVwYWRCdXR0b24sIElJUkZpbHRlck5vZGUsIFJlc3BvbnNlLCBQdXNoU3Vic2NyaXB0aW9uLCBEb2N1bWVudFRpbWVsaW5lLCBTVkdBbmltYXRlZE51bWJlckxpc3QsIEhUTUxJbWFnZUVsZW1lbnQsIEhUTUxGb250RWxlbWVudCwgU291cmNlQnVmZmVyTGlzdCwgU1ZHRmlsdGVyRWxlbWVudCwgSFRNTFBpY3R1cmVFbGVtZW50LCBDU1NHcm91cGluZ1J1bGUsIEhUTUxTbG90RWxlbWVudCwgRGV2aWNlT3JpZW50YXRpb25FdmVudCwgU1ZHRGVmc0VsZW1lbnQsIFhQYXRoUmVzdWx0LCBTVkdGRURpZmZ1c2VMaWdodGluZ0VsZW1lbnQsIFZUVEN1ZSwgTm9kZUZpbHRlciwgV2ViR0xUZXh0dXJlLCBHYWluTm9kZSwgVGV4dERlY29kZXIsIEdhbWVwYWRQb3NlLCBGaWxlU3lzdGVtRmlsZUVudHJ5LCBTVkdSYWRpYWxHcmFkaWVudEVsZW1lbnQsIFdlYkdMU2hhZGVyUHJlY2lzaW9uRm9ybWF0LCBTVkdTY3JpcHRFbGVtZW50LCBJREJPcGVuREJSZXF1ZXN0LCBDdXN0b21FdmVudCwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSwgRE9NUmVjdFJlYWRPbmx5LCBEYXRhVHJhbnNmZXJJdGVtLCBNSURJSW5wdXQsIFRleHREZWNvZGVyU3RyZWFtLCBTVkdDb21wb25lbnRUcmFuc2ZlckZ1bmN0aW9uRWxlbWVudCwgSW1hZ2UsIE5vdGlmaWNhdGlvbiwgUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBSZWFkYWJsZVN0cmVhbUJZT0JSZXF1ZXN0LCBIVE1MSGVhZGluZ0VsZW1lbnQsIEZvbnRGYWNlLCBNSURJT3V0cHV0TWFwLCBTVkdGRU1lcmdlTm9kZUVsZW1lbnQsIFBvcFN0YXRlRXZlbnQsIEhUTUxUcmFja0VsZW1lbnQsIFBsdWdpbkFycmF5LCBNSURJUG9ydCwgRm9jdXNFdmVudCwgU1ZHQW5pbWF0ZVRyYW5zZm9ybUVsZW1lbnQsIERhdGFUcmFuc2ZlciwgSFRNTFNwYW5FbGVtZW50LCBIVE1MTWV0ZXJFbGVtZW50LCBBdWRpb1Byb2Nlc3NpbmdFdmVudCwgSFRNTFRpbWVFbGVtZW50LCBJREJEYXRhYmFzZSwgU1ZHQW5pbWF0ZWRJbnRlZ2VyLCBDaGFubmVsTWVyZ2VyTm9kZSwgSFRNTEZvcm1FbGVtZW50LCBYTUxEb2N1bWVudCwgTmF2aWdhdGlvblByZWxvYWRNYW5hZ2VyLCBGaWxlUmVhZGVyLCBSYW5nZSwgVGV4dEVuY29kZXJTdHJlYW0sIEhUTUxCb2R5RWxlbWVudCwgSFRNTFRpdGxlRWxlbWVudCwgQ29tbWVudCwgRmlsZVN5c3RlbURpcmVjdG9yeVJlYWRlciwgUHVibGljS2V5Q3JlZGVudGlhbCwgSW1hZ2VCaXRtYXAsIGNvbnNvbGUsIEZvbnRGYWNlU2V0LCBIVE1MUHJvZ3Jlc3NFbGVtZW50LCBSVENUcmFja0V2ZW50LCBQb2ludGVyRXZlbnQsIEhUTUxGaWVsZFNldEVsZW1lbnQsIE1lZGlhU291cmNlLCBTVkdGRURpc3BsYWNlbWVudE1hcEVsZW1lbnQsIENhY2hlLCBSZWFkYWJsZVN0cmVhbUJZT0JSZWFkZXIsIE1lc3NhZ2VFdmVudCwgV2ViR0xQcm9ncmFtLCBTdGF0aWNSYW5nZSwgWFBhdGhFdmFsdWF0b3IsIEhUTUxBcmVhRWxlbWVudCwgSFRNTEZvcm1Db250cm9sc0NvbGxlY3Rpb24sIFBhaW50UmVxdWVzdCwgQ2hhbm5lbFNwbGl0dGVyTm9kZSwgTWVkaWFTZXNzaW9uLCBET01SZWN0LCBTVkdGRVNwZWN1bGFyTGlnaHRpbmdFbGVtZW50LCBTVkdEZXNjRWxlbWVudCwgQXVkaW9TY2hlZHVsZWRTb3VyY2VOb2RlLCBIVE1MVW5rbm93bkVsZW1lbnQsIFNWR0ZFVGlsZUVsZW1lbnQsIEhUTUxNZW51RWxlbWVudCwgU3RvcmFnZSwgQ29uc3RhbnRTb3VyY2VOb2RlLCBDYWNoZVN0b3JhZ2UsIFNWR0FuaW1hdGVkUHJlc2VydmVBc3BlY3RSYXRpbywgU1ZHRkVGdW5jR0VsZW1lbnQsIFNjcm9sbEFyZWFFdmVudCwgQ1NTTWVkaWFSdWxlLCBTVkdTZXRFbGVtZW50LCBTVkdHRWxlbWVudCwgU1ZHTWV0YWRhdGFFbGVtZW50LCBDbGlwYm9hcmRFdmVudCwgQXVkaW9Db250ZXh0LCBXZWJHTFJlbmRlcmJ1ZmZlciwgQXVkaW9QYXJhbU1hcCwgV2ViR0xRdWVyeSwgTWVkaWFLZXlTZXNzaW9uLCBIVE1MVmlkZW9FbGVtZW50LCBTVkdGRVR1cmJ1bGVuY2VFbGVtZW50LCBCZWZvcmVVbmxvYWRFdmVudCwgQ1NTVHJhbnNpdGlvbiwgU1ZHVGV4dFBvc2l0aW9uaW5nRWxlbWVudCwgUlRDUGVlckNvbm5lY3Rpb25JY2VFdmVudCwgU1ZHVHJhbnNmb3JtLCBQZXJmb3JtYW5jZUV2ZW50VGltaW5nLCBIVE1MQlJFbGVtZW50LCBTVkdUU3BhbkVsZW1lbnQsIFNWR01hc2tFbGVtZW50LCBTVkdNYXJrZXJFbGVtZW50LCBVMkYsIE11dGF0aW9uUmVjb3JkLCBBdWRpb0Rlc3RpbmF0aW9uTm9kZSwgUmVhZGFibGVCeXRlU3RyZWFtQ29udHJvbGxlciwgVUlFdmVudCwgV2ViR0xCdWZmZXIsIElEQlRyYW5zYWN0aW9uLCBPZmZsaW5lUmVzb3VyY2VMaXN0LCBIVE1MSW5wdXRFbGVtZW50LCBIVE1MTGVnZW5kRWxlbWVudCwgbW96UlRDU2Vzc2lvbkRlc2NyaXB0aW9uLCBTVkdBbmltYXRpb25FbGVtZW50LCBTVkdWaWV3RWxlbWVudCwgQ2FyZXRQb3NpdGlvbiwgRXZlbnRTb3VyY2UsIFNoYXJlZFdvcmtlciwgU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiwgRGVsYXlOb2RlLCBDcnlwdG9LZXksIFNWR01QYXRoRWxlbWVudCwgTm9kZUxpc3QsIFNWR0ZFUG9pbnRMaWdodEVsZW1lbnQsIE1lZGlhRXJyb3IsIFNWR0ZFRmxvb2RFbGVtZW50LCBNZWRpYUtleU1lc3NhZ2VFdmVudCwgSFRNTFRleHRBcmVhRWxlbWVudCwgTWVkaWFEZXZpY2VJbmZvLCBDU1NDb3VudGVyU3R5bGVSdWxlLCBIVE1MVGFibGVSb3dFbGVtZW50LCBBdWRpb1dvcmtsZXROb2RlLCBBdXRoZW50aWNhdG9yUmVzcG9uc2UsIEF1ZGlvTm9kZSwgU3RvcmFnZU1hbmFnZXIsIFBlcm1pc3Npb25zLCBJREJLZXlSYW5nZSwgU1ZHRkVDb21wb25lbnRUcmFuc2ZlckVsZW1lbnQsIEhUTUxPdXRwdXRFbGVtZW50LCBXZWJHTDJSZW5kZXJpbmdDb250ZXh0LCBTVkdUaXRsZUVsZW1lbnQsIEFuaW1hdGlvblBsYXliYWNrRXZlbnQsIFByb21pc2VSZWplY3Rpb25FdmVudCwgUGVyZm9ybWFuY2VQYWludFRpbWluZywgU1ZHVW5pdFR5cGVzLCBTVkdVc2VFbGVtZW50LCBQZXJmb3JtYW5jZVRpbWluZywgTWF0aE1MRWxlbWVudCwgR2FtZXBhZEhhcHRpY0FjdHVhdG9yLCBOYXZpZ2F0b3IsIG1velJUQ1BlZXJDb25uZWN0aW9uLCBQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nLCBBbmltYXRpb25UaW1lbGluZSwgTUlESUNvbm5lY3Rpb25FdmVudCwgQ2FudmFzQ2FwdHVyZU1lZGlhU3RyZWFtLCBIVE1MRGlyZWN0b3J5RWxlbWVudCwgR2FtZXBhZCwgTG9jaywgRE9NUXVhZCwgTWVkaWFTdHJlYW1UcmFja0F1ZGlvU291cmNlTm9kZSwgUG9wdXBCbG9ja2VkRXZlbnQsIE1vdXNlU2Nyb2xsRXZlbnQsIFNWR0ZFRnVuY0FFbGVtZW50LCBEYXRhVHJhbnNmZXJJdGVtTGlzdCwgQXVkaW9CdWZmZXJTb3VyY2VOb2RlLCBXZWJHTENvbnRleHRFdmVudCwgWFNMVFByb2Nlc3NvciwgU1ZHRkVDb21wb3NpdGVFbGVtZW50LCBUZXh0VHJhY2ssIE9mZmxpbmVBdWRpb0NvbXBsZXRpb25FdmVudCwgSFRNTEhSRWxlbWVudCwgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlLCBDcmVkZW50aWFsc0NvbnRhaW5lciwgUlRDUnRwVHJhbnNjZWl2ZXIsIFNWR1RleHRFbGVtZW50LCBJbWFnZUJpdG1hcFJlbmRlcmluZ0NvbnRleHQsIE1lZGlhTGlzdCwgSFRNTERpdkVsZW1lbnQsIFNWR0dyYXBoaWNzRWxlbWVudCwgQ2FudmFzUGF0dGVybiwgUmVzaXplT2JzZXJ2ZXIsIEhUTUxCYXNlRWxlbWVudCwgTWltZVR5cGVBcnJheSwgTWVkaWFDYXBhYmlsaXRpZXNJbmZvLCBIVE1MVGFibGVTZWN0aW9uRWxlbWVudCwgSFRNTFNlbGVjdEVsZW1lbnQsIFZpZGVvUGxheWJhY2tRdWFsaXR5LCBSVENEYXRhQ2hhbm5lbEV2ZW50LCBIZWFkZXJzLCBJZGxlRGVhZGxpbmUsIFdlYkdMU2FtcGxlciwgSFRNTEZyYW1lRWxlbWVudCwgV2ViR0xTaGFkZXIsIE9wdGlvbiwgUGFpbnRSZXF1ZXN0TGlzdCwgQmFyUHJvcCwgU1ZHTWF0cml4LCBJbWFnZURhdGEsIENTU0ZvbnRGZWF0dXJlVmFsdWVzUnVsZSwgU1ZHUG9seWxpbmVFbGVtZW50LCBDU1NJbXBvcnRSdWxlLCBNZWRpYVN0cmVhbUV2ZW50LCBIVE1MTGFiZWxFbGVtZW50LCBSZWFkYWJsZVN0cmVhbSwgSFRNTERpYWxvZ0VsZW1lbnQsIFNWR0FuaW1hdGVkU3RyaW5nLCBNaW1lVHlwZSwgU3RvcmFnZUV2ZW50LCBJREJPYmplY3RTdG9yZSwgSFRNTFBhcmFtRWxlbWVudCwgQ1NTUnVsZUxpc3QsIElEQkN1cnNvciwgQ1NTTmFtZXNwYWNlUnVsZSwgV29ya2VyLCBTVkdBbmltYXRlZFRyYW5zZm9ybUxpc3QsIEdlb2xvY2F0aW9uUG9zaXRpb24sIFBhZ2VUcmFuc2l0aW9uRXZlbnQsIERpcmVjdG9yeSwgUGVyZm9ybWFuY2VPYnNlcnZlckVudHJ5TGlzdCwgUGVyZm9ybWFuY2VNYXJrLCBBbmFseXNlck5vZGUsIENsb3NlRXZlbnQsIERvY3VtZW50VHlwZSwgVHJhbnNmb3JtU3RyZWFtRGVmYXVsdENvbnRyb2xsZXIsIFNWR1BhdGhFbGVtZW50LCBSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyLCBQZXJpb2RpY1dhdmUsIEJpcXVhZEZpbHRlck5vZGUsIFN1Ym1pdEV2ZW50LCBXZWJHTFZlcnRleEFycmF5T2JqZWN0LCBIVE1MUXVvdGVFbGVtZW50LCBSZXF1ZXN0LCBTVkdDbGlwUGF0aEVsZW1lbnQsIFJhZGlvTm9kZUxpc3QsIFJUQ1BlZXJDb25uZWN0aW9uLCBCeXRlTGVuZ3RoUXVldWluZ1N0cmF0ZWd5LCBXZWJHTFRyYW5zZm9ybUZlZWRiYWNrLCBIVE1MSGVhZEVsZW1lbnQsIENTU0xheWVyU3RhdGVtZW50UnVsZSwgU1ZHQUVsZW1lbnQsIFNlcnZpY2VXb3JrZXIsIEF1ZGlvUGFyYW0sIElEQlZlcnNpb25DaGFuZ2VFdmVudCwgQmxvYkV2ZW50LCBUcmFja0V2ZW50LCBUZXh0LCBNZWRpYUtleXMsIE1lZGlhTWV0YWRhdGEsIERPTVRva2VuTGlzdCwgU3BlZWNoU3ludGhlc2lzLCBSVENSdHBSZWNlaXZlciwgUmVzaXplT2JzZXJ2ZXJTaXplLCBGb3JtRGF0YSwgTWVkaWFTdHJlYW0sIEhUTUxNZXRhRWxlbWVudCwgV29ya2xldCwgRmlsZVN5c3RlbSwgU1ZHTGluZWFyR3JhZGllbnRFbGVtZW50LCBFbGVtZW50LCBTVkdBbmltYXRlZFJlY3QsIFNWR1RleHRQYXRoRWxlbWVudCwgQ1NTS2V5ZnJhbWVSdWxlLCBUaW1lRXZlbnQsIElucHV0RXZlbnQsIEFic3RyYWN0UmFuZ2UsIEFib3J0U2lnbmFsLCBEZXZpY2VNb3Rpb25FdmVudCwgU1ZHQW5pbWF0ZWRMZW5ndGhMaXN0LCBQZXJmb3JtYW5jZU1lYXN1cmUsIElEQkZhY3RvcnksIE1lZGlhUmVjb3JkZXIsIENTU0NvbmRpdGlvblJ1bGUsIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiwgQ1NTS2V5ZnJhbWVzUnVsZSwgTm9kZUl0ZXJhdG9yLCBHZW9sb2NhdGlvbiwgUlRDSWNlQ2FuZGlkYXRlLCBNZWRpYUtleUVycm9yLCBBbmltYXRpb25FdmVudCwgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5LCBIVE1MT2JqZWN0RWxlbWVudCwgRmlsZSwgRXJyb3JFdmVudCwgTWVkaWFRdWVyeUxpc3RFdmVudCwgVmFsaWRpdHlTdGF0ZSwgUGFubmVyTm9kZSwgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsIERPTVN0cmluZ0xpc3QsIFNWR0ZFT2Zmc2V0RWxlbWVudCwgUGx1Z2luLCBET01QYXJzZXIsIFNWR0ZFQ29udm9sdmVNYXRyaXhFbGVtZW50LCBTcGVlY2hTeW50aGVzaXNFdmVudCwgVHJlZVdhbGtlciwgSFRNTEFsbENvbGxlY3Rpb24sIFNWR0NpcmNsZUVsZW1lbnQsIFNWR0ZFRGlzdGFudExpZ2h0RWxlbWVudCwgU3BlZWNoU3ludGhlc2lzRXJyb3JFdmVudCwgV2F2ZVNoYXBlck5vZGUsIENTU0FuaW1hdGlvbiwgVVJMLCBTVkdMZW5ndGhMaXN0LCBTdWJ0bGVDcnlwdG8sIFNWR1BvaW50TGlzdCwgSFRNTEF1ZGlvRWxlbWVudCwgTWVzc2FnZUNoYW5uZWwsIE1lc3NhZ2VQb3J0LCBXZWJHTEFjdGl2ZUluZm8sIFNjcmVlbiwgWFBhdGhFeHByZXNzaW9uLCBNZWRpYVJlY29yZGVyRXJyb3JFdmVudCwgSFRNTEJ1dHRvbkVsZW1lbnQsIExvY2F0aW9uLCBNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSwgQW5pbWF0aW9uRWZmZWN0LCBQZXJmb3JtYW5jZU9ic2VydmVyLCBTVkdSZWN0RWxlbWVudCwgUmVhZGFibGVTdHJlYW1EZWZhdWx0UmVhZGVyLCBET01Qb2ludCwgTWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIFNWR0ZFRHJvcFNoYWRvd0VsZW1lbnQsIEhUTUxEYXRhRWxlbWVudCwgU1ZHVGV4dENvbnRlbnRFbGVtZW50LCBTVkdGRU1vcnBob2xvZ3lFbGVtZW50LCBTVkdFbGVtZW50LCBIVE1MTW9kRWxlbWVudCwgQmxvYiwgQ0RBVEFTZWN0aW9uLCBGb250RmFjZVNldExvYWRFdmVudCwgQXV0aGVudGljYXRvckF0dGVzdGF0aW9uUmVzcG9uc2UsIFRleHRUcmFja0N1ZSwgQ1NTRm9udEZhY2VSdWxlLCBNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlLCBTVkdJbWFnZUVsZW1lbnQsIFNWR1JlY3QsIFNWR1N0b3BFbGVtZW50LCBWVFRSZWdpb24sIFNWR0ZFU3BvdExpZ2h0RWxlbWVudCwgU2VsZWN0aW9uLCBCYXNlQXVkaW9Db250ZXh0LCBTVkdQb2ludCwgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBBdHRyLCBYTUxIdHRwUmVxdWVzdCwgV3JpdGFibGVTdHJlYW1EZWZhdWx0V3JpdGVyLCBBdWRpbywgSFRNTFN0eWxlRWxlbWVudCwgU1ZHRWxsaXBzZUVsZW1lbnQsIE11dGF0aW9uRXZlbnQsIFByb2dyZXNzRXZlbnQsIEhUTUxQcmVFbGVtZW50LCBET01JbXBsZW1lbnRhdGlvbiwgSFRNTE1hcnF1ZWVFbGVtZW50LCBYTUxTZXJpYWxpemVyLCBTVkdBbmltYXRlTW90aW9uRWxlbWVudCwgU1ZHR2VvbWV0cnlFbGVtZW50LCBJREJSZXF1ZXN0LCBQdXNoTWFuYWdlciwgQ1NTTW96RG9jdW1lbnRSdWxlLCBIVE1MTWFwRWxlbWVudCwgQXVkaW9MaXN0ZW5lciwgR2FtZXBhZEV2ZW50LCBNSURJTWVzc2FnZUV2ZW50LCBFbGVtZW50SW50ZXJuYWxzLCBUZXh0RW5jb2Rlciwgd2Via2l0VVJMLCBDU1NTdHlsZVJ1bGUsIFNWR0dyYWRpZW50RWxlbWVudCwgSFRNTERldGFpbHNFbGVtZW50LCBTVkdGb3JlaWduT2JqZWN0RWxlbWVudCwgQ2hhcmFjdGVyRGF0YSwgUlRDQ2VydGlmaWNhdGUsIEhUTUxDYW52YXNFbGVtZW50LCBSVENEVE1GVG9uZUNoYW5nZUV2ZW50LCBDU1NTdHlsZVNoZWV0LCBTY3JlZW5PcmllbnRhdGlvbiwgU2hhZG93Um9vdCwgRHluYW1pY3NDb21wcmVzc29yTm9kZSwgV3JpdGFibGVTdHJlYW0sIEhUTUxGcmFtZVNldEVsZW1lbnQsIFRpbWVSYW5nZXMsIEtleWZyYW1lRWZmZWN0LCBTVkdTVkdFbGVtZW50LCBLZXlFdmVudCwgQ2xpcGJvYXJkLCBIVE1MRExpc3RFbGVtZW50LCBDb3VudFF1ZXVpbmdTdHJhdGVneSwgRG9jdW1lbnRGcmFnbWVudCwgRHJhZ0V2ZW50LCBtb3pSVENJY2VDYW5kaWRhdGUsIE1lZGlhU3RyZWFtVHJhY2ssIFNWR0xlbmd0aCwgTWVkaWFRdWVyeUxpc3QsIFVSTFNlYXJjaFBhcmFtcywgSFRNTFNvdXJjZUVsZW1lbnQsIEtleWJvYXJkRXZlbnQsIFNjcmlwdFByb2Nlc3Nvck5vZGUsIERPTVN0cmluZ01hcCwgSFRNTE9wdEdyb3VwRWxlbWVudCwgV2ViR0xVbmlmb3JtTG9jYXRpb24sIE9mZnNjcmVlbkNhbnZhcywgU1ZHUG9seWdvbkVsZW1lbnQsIEhUTUxDb2xsZWN0aW9uLCBTVkdOdW1iZXIsIE1lZGlhQ2FwYWJpbGl0aWVzLCBTb3VyY2VCdWZmZXIsIFZpc3VhbFZpZXdwb3J0LCBDU1NQYWdlUnVsZSwgR2VvbG9jYXRpb25Qb3NpdGlvbkVycm9yLCBIVE1MVGFibGVDb2xFbGVtZW50LCBTVkdUcmFuc2Zvcm1MaXN0LCBTVkdBbmltYXRlZE51bWJlciwgQ2FudmFzR3JhZGllbnQsIFB1c2hTdWJzY3JpcHRpb25PcHRpb25zLCBIaXN0b3J5LCBXZWJLaXRDU1NNYXRyaXgsIEhUTUxUYWJsZUNlbGxFbGVtZW50LCBIVE1MT3B0aW9uRWxlbWVudCwgTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlLCBGb3JtRGF0YUV2ZW50LCBUZXh0VHJhY2tDdWVMaXN0LCBTVkdTd2l0Y2hFbGVtZW50LCBQYXRoMkQsIFN0eWxlU2hlZXQsIFBlcmZvcm1hbmNlU2VydmVyVGltaW5nLCBQZXJmb3JtYW5jZU5hdmlnYXRpb24sIE11dGF0aW9uT2JzZXJ2ZXIsIFhNTEh0dHBSZXF1ZXN0VXBsb2FkLCBDU1NMYXllckJsb2NrUnVsZSwgU1ZHUHJlc2VydmVBc3BlY3RSYXRpbywgSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnQsIFNWR1BhdHRlcm5FbGVtZW50LCBIVE1MRW1iZWRFbGVtZW50LCBYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0LCBUcmFuc2l0aW9uRXZlbnQsIEhUTUxBbmNob3JFbGVtZW50LCBIVE1MRGF0YUxpc3RFbGVtZW50LCBTVkdBbmdsZSwgU1ZHTGluZUVsZW1lbnQsIEF1ZGlvQnVmZmVyLCBIYXNoQ2hhbmdlRXZlbnQsIE1lZGlhS2V5U3RhdHVzTWFwLCBJREJJbmRleCwgQ1NTLCBTVkdGRUdhdXNzaWFuQmx1ckVsZW1lbnQsIENyeXB0bywgTmFtZWROb2RlTWFwLCBDU1NTdHlsZURlY2xhcmF0aW9uLCBNb3VzZUV2ZW50LCBGaWxlU3lzdGVtRW50cnksIERPTU1hdHJpeCwgU1ZHQW5pbWF0ZWRBbmdsZSwgT2ZmbGluZUF1ZGlvQ29udGV4dCwgSFRNTFNjcmlwdEVsZW1lbnQsIFN0eWxlU2hlZXRMaXN0LCBSVENEVE1GU2VuZGVyLCBIVE1MT0xpc3RFbGVtZW50LCBTVkdTeW1ib2xFbGVtZW50LCBTcGVlY2hTeW50aGVzaXNWb2ljZSwgU1ZHRkVDb2xvck1hdHJpeEVsZW1lbnQsIFRyYW5zZm9ybVN0cmVhbSwgU1ZHRkVGdW5jQkVsZW1lbnQsIERPTVJlcXVlc3QsIFJUQ1J0cFNlbmRlciwgQ1NTUnVsZSwgT3NjaWxsYXRvck5vZGUsIFNlcnZpY2VXb3JrZXJDb250YWluZXIsIEhUTUxQYXJhZ3JhcGhFbGVtZW50LCBDb252b2x2ZXJOb2RlLCBBdWRpb1dvcmtsZXQsIEhUTUxMaW5rRWxlbWVudCwgTUlESUlucHV0TWFwLCBQZXJmb3JtYW5jZUVudHJ5LCBBdXRoZW50aWNhdG9yQXNzZXJ0aW9uUmVzcG9uc2UsIFRleHRUcmFja0xpc3QsIERPTUV4Y2VwdGlvbiwgU1ZHQW5pbWF0ZUVsZW1lbnQsIEhUTUxPcHRpb25zQ29sbGVjdGlvbiwgSFRNTFVMaXN0RWxlbWVudCwgV2hlZWxFdmVudCwgU1ZHQW5pbWF0ZWRCb29sZWFuLCBTZWN1cml0eVBvbGljeVZpb2xhdGlvbkV2ZW50LCBSVENTdGF0c1JlcG9ydCwgT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBQZXJtaXNzaW9uU3RhdHVzLCBDb21wb3NpdGlvbkV2ZW50LCBTVkdGRUZ1bmNSRWxlbWVudCwgRmlsZUxpc3QsIFNWR1N0cmluZ0xpc3QsIFNWR0ZFSW1hZ2VFbGVtZW50LCBIVE1MRWxlbWVudCwgRE9NTWF0cml4UmVhZE9ubHksIExvY2tNYW5hZ2VyLCBIVE1MTElFbGVtZW50LCBTVkdGRUJsZW5kRWxlbWVudCwgQW5pbWF0aW9uLCBSVENEYXRhQ2hhbm5lbCwgTWVkaWFFbmNyeXB0ZWRFdmVudCwgV3JpdGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlciwgV2ViR0xGcmFtZWJ1ZmZlciwgU1ZHU3R5bGVFbGVtZW50LCBTVkdBbmltYXRlZExlbmd0aCwgQ1NTRm9udFBhbGV0dGVWYWx1ZXNSdWxlLCBDU1NTdXBwb3J0c1J1bGUsIEhUTUxJRnJhbWVFbGVtZW50LCBTVkdOdW1iZXJMaXN0LCBNSURJT3V0cHV0LCBXZWJTb2NrZXQsIENTUzJQcm9wZXJ0aWVzLCBIVE1MVGFibGVFbGVtZW50LCBGaWxlU3lzdGVtRGlyZWN0b3J5RW50cnksIFNWR0ZFTWVyZ2VFbGVtZW50LCBHZW9sb2NhdGlvbkNvb3JkaW5hdGVzLCBTdGVyZW9QYW5uZXJOb2RlLCBDcmVkZW50aWFsLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIFdlYkdMU3luYywgSFRNTEh0bWxFbGVtZW50LCBIVE1MVGVtcGxhdGVFbGVtZW50LCBJREJDdXJzb3JXaXRoVmFsdWUsIEZ1bmN0aW9uLCBPYmplY3QsIGV2YWwsIEV2ZW50VGFyZ2V0LCBXaW5kb3csIGNsb3NlLCBzdG9wLCBmb2N1cywgYmx1ciwgb3BlbiwgYWxlcnQsIGNvbmZpcm0sIHByb21wdCwgcHJpbnQsIHBvc3RNZXNzYWdlLCBjYXB0dXJlRXZlbnRzLCByZWxlYXNlRXZlbnRzLCBnZXRTZWxlY3Rpb24sIGdldENvbXB1dGVkU3R5bGUsIG1hdGNoTWVkaWEsIG1vdmVUbywgbW92ZUJ5LCByZXNpemVUbywgcmVzaXplQnksIHNjcm9sbCwgc2Nyb2xsVG8sIHNjcm9sbEJ5LCBnZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSwgc2Nyb2xsQnlMaW5lcywgc2Nyb2xsQnlQYWdlcywgc2l6ZVRvQ29udGVudCwgdXBkYXRlQ29tbWFuZHMsIGZpbmQsIGR1bXAsIHNldFJlc2l6YWJsZSwgcmVxdWVzdElkbGVDYWxsYmFjaywgY2FuY2VsSWRsZUNhbGxiYWNrLCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUsIGNhbmNlbEFuaW1hdGlvbkZyYW1lLCByZXBvcnRFcnJvciwgYnRvYSwgYXRvYiwgc2V0VGltZW91dCwgY2xlYXJUaW1lb3V0LCBzZXRJbnRlcnZhbCwgY2xlYXJJbnRlcnZhbCwgcXVldWVNaWNyb3Rhc2ssIGNyZWF0ZUltYWdlQml0bWFwLCBzdHJ1Y3R1cmVkQ2xvbmUsIGZldGNoLCBzZWxmLCBuYW1lLCBoaXN0b3J5LCBjdXN0b21FbGVtZW50cywgbG9jYXRpb25iYXIsIG1lbnViYXIsIHBlcnNvbmFsYmFyLCBzY3JvbGxiYXJzLCBzdGF0dXNiYXIsIHRvb2xiYXIsIHN0YXR1cywgY2xvc2VkLCBldmVudCwgZnJhbWVzLCBsZW5ndGgsIG9wZW5lciwgcGFyZW50LCBmcmFtZUVsZW1lbnQsIG5hdmlnYXRvciwgY2xpZW50SW5mb3JtYXRpb24sIGV4dGVybmFsLCBhcHBsaWNhdGlvbkNhY2hlLCBzY3JlZW4sIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0LCBzY3JvbGxYLCBwYWdlWE9mZnNldCwgc2Nyb2xsWSwgcGFnZVlPZmZzZXQsIHNjcmVlbkxlZnQsIHNjcmVlblRvcCwgc2NyZWVuWCwgc2NyZWVuWSwgb3V0ZXJXaWR0aCwgb3V0ZXJIZWlnaHQsIHBlcmZvcm1hbmNlLCBtb3pJbm5lclNjcmVlblgsIG1veklubmVyU2NyZWVuWSwgZGV2aWNlUGl4ZWxSYXRpbywgc2Nyb2xsTWF4WCwgc2Nyb2xsTWF4WSwgZnVsbFNjcmVlbiwgb25kZXZpY2Vtb3Rpb24sIG9uZGV2aWNlb3JpZW50YXRpb24sIG9uYWJzb2x1dGVkZXZpY2VvcmllbnRhdGlvbiwgSW5zdGFsbFRyaWdnZXIsIHZpc3VhbFZpZXdwb3J0LCBjcnlwdG8sIG9uYWJvcnQsIG9uYmx1ciwgb25mb2N1cywgb25hdXhjbGljaywgb25iZWZvcmVpbnB1dCwgb25jYW5wbGF5LCBvbmNhbnBsYXl0aHJvdWdoLCBvbmNoYW5nZSwgb25jbGljaywgb25jbG9zZSwgb25jb250ZXh0bWVudSwgb25jdWVjaGFuZ2UsIG9uZGJsY2xpY2ssIG9uZHJhZywgb25kcmFnZW5kLCBvbmRyYWdlbnRlciwgb25kcmFnZXhpdCwgb25kcmFnbGVhdmUsIG9uZHJhZ292ZXIsIG9uZHJhZ3N0YXJ0LCBvbmRyb3AsIG9uZHVyYXRpb25jaGFuZ2UsIG9uZW1wdGllZCwgb25lbmRlZCwgb25mb3JtZGF0YSwgb25pbnB1dCwgb25pbnZhbGlkLCBvbmtleWRvd24sIG9ua2V5cHJlc3MsIG9ua2V5dXAsIG9ubG9hZCwgb25sb2FkZWRkYXRhLCBvbmxvYWRlZG1ldGFkYXRhLCBvbmxvYWRzdGFydCwgb25tb3VzZWRvd24sIG9ubW91c2VlbnRlciwgb25tb3VzZWxlYXZlLCBvbm1vdXNlbW92ZSwgb25tb3VzZW91dCwgb25tb3VzZW92ZXIsIG9ubW91c2V1cCwgb253aGVlbCwgb25wYXVzZSwgb25wbGF5LCBvbnBsYXlpbmcsIG9ucHJvZ3Jlc3MsIG9ucmF0ZWNoYW5nZSwgb25yZXNldCwgb25yZXNpemUsIG9uc2Nyb2xsLCBvbnNlY3VyaXR5cG9saWN5dmlvbGF0aW9uLCBvbnNlZWtlZCwgb25zZWVraW5nLCBvbnNlbGVjdCwgb25zbG90Y2hhbmdlLCBvbnN0YWxsZWQsIG9uc3VibWl0LCBvbnN1c3BlbmQsIG9udGltZXVwZGF0ZSwgb252b2x1bWVjaGFuZ2UsIG9ud2FpdGluZywgb25zZWxlY3RzdGFydCwgb25zZWxlY3Rpb25jaGFuZ2UsIG9udG9nZ2xlLCBvbnBvaW50ZXJjYW5jZWwsIG9ucG9pbnRlcmRvd24sIG9ucG9pbnRlcnVwLCBvbnBvaW50ZXJtb3ZlLCBvbnBvaW50ZXJvdXQsIG9ucG9pbnRlcm92ZXIsIG9ucG9pbnRlcmVudGVyLCBvbnBvaW50ZXJsZWF2ZSwgb25nb3Rwb2ludGVyY2FwdHVyZSwgb25sb3N0cG9pbnRlcmNhcHR1cmUsIG9ubW96ZnVsbHNjcmVlbmNoYW5nZSwgb25tb3pmdWxsc2NyZWVuZXJyb3IsIG9uYW5pbWF0aW9uY2FuY2VsLCBvbmFuaW1hdGlvbmVuZCwgb25hbmltYXRpb25pdGVyYXRpb24sIG9uYW5pbWF0aW9uc3RhcnQsIG9udHJhbnNpdGlvbmNhbmNlbCwgb250cmFuc2l0aW9uZW5kLCBvbnRyYW5zaXRpb25ydW4sIG9udHJhbnNpdGlvbnN0YXJ0LCBvbndlYmtpdGFuaW1hdGlvbmVuZCwgb253ZWJraXRhbmltYXRpb25pdGVyYXRpb24sIG9ud2Via2l0YW5pbWF0aW9uc3RhcnQsIG9ud2Via2l0dHJhbnNpdGlvbmVuZCwgdTJmLCBvbmVycm9yLCBzcGVlY2hTeW50aGVzaXMsIG9uYWZ0ZXJwcmludCwgb25iZWZvcmVwcmludCwgb25iZWZvcmV1bmxvYWQsIG9uaGFzaGNoYW5nZSwgb25sYW5ndWFnZWNoYW5nZSwgb25tZXNzYWdlLCBvbm1lc3NhZ2VlcnJvciwgb25vZmZsaW5lLCBvbm9ubGluZSwgb25wYWdlaGlkZSwgb25wYWdlc2hvdywgb25wb3BzdGF0ZSwgb25yZWplY3Rpb25oYW5kbGVkLCBvbnN0b3JhZ2UsIG9udW5oYW5kbGVkcmVqZWN0aW9uLCBvbnVubG9hZCwgb25nYW1lcGFkY29ubmVjdGVkLCBvbmdhbWVwYWRkaXNjb25uZWN0ZWQsIGxvY2FsU3RvcmFnZSwgb3JpZ2luLCBjcm9zc09yaWdpbklzb2xhdGVkLCBpc1NlY3VyZUNvbnRleHQsIGluZGV4ZWREQiwgY2FjaGVzLCBzZXNzaW9uU3RvcmFnZSwgd2luZG93LCBkb2N1bWVudCwgbG9jYXRpb24sIHRvcCwgbmV0c2NhcGUsIE5vZGUsIERvY3VtZW50LCBIVE1MRG9jdW1lbnQsIEV2ZW50Q291bnRzLCBNYXAsIEV2ZW50YCwNCiAgICAgICAgICAgIGNzc0tleXM6IGBhbGlnbkNvbnRlbnQsIGFsaWduLWNvbnRlbnQsIGFsaWduSXRlbXMsIGFsaWduLWl0ZW1zLCBhbGlnblNlbGYsIGFsaWduLXNlbGYsIGFzcGVjdFJhdGlvLCBhc3BlY3QtcmF0aW8sIGJhY2tmYWNlVmlzaWJpbGl0eSwgYmFja2ZhY2UtdmlzaWJpbGl0eSwgYm9yZGVyQ29sbGFwc2UsIGJvcmRlci1jb2xsYXBzZSwgYm9yZGVySW1hZ2VSZXBlYXQsIGJvcmRlci1pbWFnZS1yZXBlYXQsIGJveERlY29yYXRpb25CcmVhaywgYm94LWRlY29yYXRpb24tYnJlYWssIGJveFNpemluZywgYm94LXNpemluZywgYnJlYWtJbnNpZGUsIGJyZWFrLWluc2lkZSwgY2FwdGlvblNpZGUsIGNhcHRpb24tc2lkZSwgY2xlYXIsIGNvbG9ySW50ZXJwb2xhdGlvbiwgY29sb3ItaW50ZXJwb2xhdGlvbiwgY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVycywgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzLCBjb2x1bW5Db3VudCwgY29sdW1uLWNvdW50LCBjb2x1bW5GaWxsLCBjb2x1bW4tZmlsbCwgY29sdW1uU3BhbiwgY29sdW1uLXNwYW4sIGNvbnRhaW4sIGRpcmVjdGlvbiwgZGlzcGxheSwgZG9taW5hbnRCYXNlbGluZSwgZG9taW5hbnQtYmFzZWxpbmUsIGVtcHR5Q2VsbHMsIGVtcHR5LWNlbGxzLCBmbGV4RGlyZWN0aW9uLCBmbGV4LWRpcmVjdGlvbiwgZmxleFdyYXAsIGZsZXgtd3JhcCwgY3NzRmxvYXQsIGZsb2F0LCBmb250S2VybmluZywgZm9udC1rZXJuaW5nLCBmb250T3B0aWNhbFNpemluZywgZm9udC1vcHRpY2FsLXNpemluZywgZm9udFNpemVBZGp1c3QsIGZvbnQtc2l6ZS1hZGp1c3QsIGZvbnRTdHJldGNoLCBmb250LXN0cmV0Y2gsIGZvbnRTdHlsZSwgZm9udC1zdHlsZSwgZm9udFN5bnRoZXNpcywgZm9udC1zeW50aGVzaXMsIGZvbnRWYXJpYW50Q2FwcywgZm9udC12YXJpYW50LWNhcHMsIGZvbnRWYXJpYW50RWFzdEFzaWFuLCBmb250LXZhcmlhbnQtZWFzdC1hc2lhbiwgZm9udFZhcmlhbnRMaWdhdHVyZXMsIGZvbnQtdmFyaWFudC1saWdhdHVyZXMsIGZvbnRWYXJpYW50TnVtZXJpYywgZm9udC12YXJpYW50LW51bWVyaWMsIGZvbnRWYXJpYW50UG9zaXRpb24sIGZvbnQtdmFyaWFudC1wb3NpdGlvbiwgZm9udFdlaWdodCwgZm9udC13ZWlnaHQsIGdyaWRBdXRvRmxvdywgZ3JpZC1hdXRvLWZsb3csIGh5cGhlbnMsIGltYWdlT3JpZW50YXRpb24sIGltYWdlLW9yaWVudGF0aW9uLCBpbWFnZVJlbmRlcmluZywgaW1hZ2UtcmVuZGVyaW5nLCBpbWVNb2RlLCBpbWUtbW9kZSwgaXNvbGF0aW9uLCBqdXN0aWZ5Q29udGVudCwganVzdGlmeS1jb250ZW50LCBqdXN0aWZ5SXRlbXMsIGp1c3RpZnktaXRlbXMsIGp1c3RpZnlTZWxmLCBqdXN0aWZ5LXNlbGYsIGxpbmVCcmVhaywgbGluZS1icmVhaywgbGlzdFN0eWxlUG9zaXRpb24sIGxpc3Qtc3R5bGUtcG9zaXRpb24sIG1hc2tUeXBlLCBtYXNrLXR5cGUsIG1peEJsZW5kTW9kZSwgbWl4LWJsZW5kLW1vZGUsIE1vekJveEFsaWduLCAtbW96LWJveC1hbGlnbiwgTW96Qm94RGlyZWN0aW9uLCAtbW96LWJveC1kaXJlY3Rpb24sIE1vekJveE9yaWVudCwgLW1vei1ib3gtb3JpZW50LCBNb3pCb3hQYWNrLCAtbW96LWJveC1wYWNrLCBNb3pGbG9hdEVkZ2UsIC1tb3otZmxvYXQtZWRnZSwgTW96T3JpZW50LCAtbW96LW9yaWVudCwgTW96VGV4dFNpemVBZGp1c3QsIC1tb3otdGV4dC1zaXplLWFkanVzdCwgTW96VXNlckZvY3VzLCAtbW96LXVzZXItZm9jdXMsIE1velVzZXJJbnB1dCwgLW1vei11c2VyLWlucHV0LCBNb3pVc2VyTW9kaWZ5LCAtbW96LXVzZXItbW9kaWZ5LCBNb3pXaW5kb3dEcmFnZ2luZywgLW1vei13aW5kb3ctZHJhZ2dpbmcsIG9iamVjdEZpdCwgb2JqZWN0LWZpdCwgb2Zmc2V0Um90YXRlLCBvZmZzZXQtcm90YXRlLCBvdXRsaW5lU3R5bGUsIG91dGxpbmUtc3R5bGUsIG92ZXJmbG93QW5jaG9yLCBvdmVyZmxvdy1hbmNob3IsIG92ZXJmbG93V3JhcCwgb3ZlcmZsb3ctd3JhcCwgcGFpbnRPcmRlciwgcGFpbnQtb3JkZXIsIHBvaW50ZXJFdmVudHMsIHBvaW50ZXItZXZlbnRzLCBwb3NpdGlvbiwgcHJpbnRDb2xvckFkanVzdCwgcHJpbnQtY29sb3ItYWRqdXN0LCByZXNpemUsIHJ1YnlBbGlnbiwgcnVieS1hbGlnbiwgcnVieVBvc2l0aW9uLCBydWJ5LXBvc2l0aW9uLCBzY3JvbGxCZWhhdmlvciwgc2Nyb2xsLWJlaGF2aW9yLCBzY3JvbGxTbmFwQWxpZ24sIHNjcm9sbC1zbmFwLWFsaWduLCBzY3JvbGxTbmFwU3RvcCwgc2Nyb2xsLXNuYXAtc3RvcCwgc2Nyb2xsU25hcFR5cGUsIHNjcm9sbC1zbmFwLXR5cGUsIHNjcm9sbGJhckd1dHRlciwgc2Nyb2xsYmFyLWd1dHRlciwgc2Nyb2xsYmFyV2lkdGgsIHNjcm9sbGJhci13aWR0aCwgc2hhcGVSZW5kZXJpbmcsIHNoYXBlLXJlbmRlcmluZywgc3Ryb2tlTGluZWNhcCwgc3Ryb2tlLWxpbmVjYXAsIHN0cm9rZUxpbmVqb2luLCBzdHJva2UtbGluZWpvaW4sIHRhYmxlTGF5b3V0LCB0YWJsZS1sYXlvdXQsIHRleHRBbGlnbiwgdGV4dC1hbGlnbiwgdGV4dEFsaWduTGFzdCwgdGV4dC1hbGlnbi1sYXN0LCB0ZXh0QW5jaG9yLCB0ZXh0LWFuY2hvciwgdGV4dENvbWJpbmVVcHJpZ2h0LCB0ZXh0LWNvbWJpbmUtdXByaWdodCwgdGV4dERlY29yYXRpb25MaW5lLCB0ZXh0LWRlY29yYXRpb24tbGluZSwgdGV4dERlY29yYXRpb25Ta2lwSW5rLCB0ZXh0LWRlY29yYXRpb24tc2tpcC1pbmssIHRleHREZWNvcmF0aW9uU3R5bGUsIHRleHQtZGVjb3JhdGlvbi1zdHlsZSwgdGV4dEVtcGhhc2lzUG9zaXRpb24sIHRleHQtZW1waGFzaXMtcG9zaXRpb24sIHRleHRKdXN0aWZ5LCB0ZXh0LWp1c3RpZnksIHRleHRPcmllbnRhdGlvbiwgdGV4dC1vcmllbnRhdGlvbiwgdGV4dFJlbmRlcmluZywgdGV4dC1yZW5kZXJpbmcsIHRleHRUcmFuc2Zvcm0sIHRleHQtdHJhbnNmb3JtLCB0ZXh0VW5kZXJsaW5lUG9zaXRpb24sIHRleHQtdW5kZXJsaW5lLXBvc2l0aW9uLCB0b3VjaEFjdGlvbiwgdG91Y2gtYWN0aW9uLCB0cmFuc2Zvcm1Cb3gsIHRyYW5zZm9ybS1ib3gsIHRyYW5zZm9ybVN0eWxlLCB0cmFuc2Zvcm0tc3R5bGUsIHVuaWNvZGVCaWRpLCB1bmljb2RlLWJpZGksIHVzZXJTZWxlY3QsIHVzZXItc2VsZWN0LCB2ZWN0b3JFZmZlY3QsIHZlY3Rvci1lZmZlY3QsIHZpc2liaWxpdHksIHdlYmtpdExpbmVDbGFtcCwgV2Via2l0TGluZUNsYW1wLCAtd2Via2l0LWxpbmUtY2xhbXAsIHdoaXRlU3BhY2UsIHdoaXRlLXNwYWNlLCB3b3JkQnJlYWssIHdvcmQtYnJlYWssIHdyaXRpbmdNb2RlLCB3cml0aW5nLW1vZGUsIHpJbmRleCwgei1pbmRleCwgYXBwZWFyYW5jZSwgTW96Rm9yY2VCcm9rZW5JbWFnZUljb24sIC1tb3otZm9yY2UtYnJva2VuLWltYWdlLWljb24sIGJyZWFrQWZ0ZXIsIGJyZWFrLWFmdGVyLCBicmVha0JlZm9yZSwgYnJlYWstYmVmb3JlLCBjbGlwUnVsZSwgY2xpcC1ydWxlLCBmaWxsUnVsZSwgZmlsbC1ydWxlLCBmaWxsT3BhY2l0eSwgZmlsbC1vcGFjaXR5LCBzdHJva2VPcGFjaXR5LCBzdHJva2Utb3BhY2l0eSwgTW96Qm94T3JkaW5hbEdyb3VwLCAtbW96LWJveC1vcmRpbmFsLWdyb3VwLCBvcmRlciwgZmxleEdyb3csIGZsZXgtZ3JvdywgZmxleFNocmluaywgZmxleC1zaHJpbmssIE1vekJveEZsZXgsIC1tb3otYm94LWZsZXgsIHN0cm9rZU1pdGVybGltaXQsIHN0cm9rZS1taXRlcmxpbWl0LCBvdmVyZmxvd0Jsb2NrLCBvdmVyZmxvdy1ibG9jaywgb3ZlcmZsb3dJbmxpbmUsIG92ZXJmbG93LWlubGluZSwgb3ZlcmZsb3dYLCBvdmVyZmxvdy14LCBvdmVyZmxvd1ksIG92ZXJmbG93LXksIG92ZXJzY3JvbGxCZWhhdmlvckJsb2NrLCBvdmVyc2Nyb2xsLWJlaGF2aW9yLWJsb2NrLCBvdmVyc2Nyb2xsQmVoYXZpb3JJbmxpbmUsIG92ZXJzY3JvbGwtYmVoYXZpb3ItaW5saW5lLCBvdmVyc2Nyb2xsQmVoYXZpb3JYLCBvdmVyc2Nyb2xsLWJlaGF2aW9yLXgsIG92ZXJzY3JvbGxCZWhhdmlvclksIG92ZXJzY3JvbGwtYmVoYXZpb3IteSwgZmxvb2RPcGFjaXR5LCBmbG9vZC1vcGFjaXR5LCBvcGFjaXR5LCBzaGFwZUltYWdlVGhyZXNob2xkLCBzaGFwZS1pbWFnZS10aHJlc2hvbGQsIHN0b3BPcGFjaXR5LCBzdG9wLW9wYWNpdHksIGJvcmRlckJsb2NrRW5kU3R5bGUsIGJvcmRlci1ibG9jay1lbmQtc3R5bGUsIGJvcmRlckJsb2NrU3RhcnRTdHlsZSwgYm9yZGVyLWJsb2NrLXN0YXJ0LXN0eWxlLCBib3JkZXJCb3R0b21TdHlsZSwgYm9yZGVyLWJvdHRvbS1zdHlsZSwgYm9yZGVySW5saW5lRW5kU3R5bGUsIGJvcmRlci1pbmxpbmUtZW5kLXN0eWxlLCBib3JkZXJJbmxpbmVTdGFydFN0eWxlLCBib3JkZXItaW5saW5lLXN0YXJ0LXN0eWxlLCBib3JkZXJMZWZ0U3R5bGUsIGJvcmRlci1sZWZ0LXN0eWxlLCBib3JkZXJSaWdodFN0eWxlLCBib3JkZXItcmlnaHQtc3R5bGUsIGJvcmRlclRvcFN0eWxlLCBib3JkZXItdG9wLXN0eWxlLCBjb2x1bW5SdWxlU3R5bGUsIGNvbHVtbi1ydWxlLXN0eWxlLCBhY2NlbnRDb2xvciwgYWNjZW50LWNvbG9yLCBhbmltYXRpb25EZWxheSwgYW5pbWF0aW9uLWRlbGF5LCBhbmltYXRpb25EaXJlY3Rpb24sIGFuaW1hdGlvbi1kaXJlY3Rpb24sIGFuaW1hdGlvbkR1cmF0aW9uLCBhbmltYXRpb24tZHVyYXRpb24sIGFuaW1hdGlvbkZpbGxNb2RlLCBhbmltYXRpb24tZmlsbC1tb2RlLCBhbmltYXRpb25JdGVyYXRpb25Db3VudCwgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCwgYW5pbWF0aW9uTmFtZSwgYW5pbWF0aW9uLW5hbWUsIGFuaW1hdGlvblBsYXlTdGF0ZSwgYW5pbWF0aW9uLXBsYXktc3RhdGUsIGFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uLCBhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uLCBiYWNrZHJvcEZpbHRlciwgYmFja2Ryb3AtZmlsdGVyLCBiYWNrZ3JvdW5kQXR0YWNobWVudCwgYmFja2dyb3VuZC1hdHRhY2htZW50LCBiYWNrZ3JvdW5kQmxlbmRNb2RlLCBiYWNrZ3JvdW5kLWJsZW5kLW1vZGUsIGJhY2tncm91bmRDbGlwLCBiYWNrZ3JvdW5kLWNsaXAsIGJhY2tncm91bmRJbWFnZSwgYmFja2dyb3VuZC1pbWFnZSwgYmFja2dyb3VuZE9yaWdpbiwgYmFja2dyb3VuZC1vcmlnaW4sIGJhY2tncm91bmRQb3NpdGlvblgsIGJhY2tncm91bmQtcG9zaXRpb24teCwgYmFja2dyb3VuZFBvc2l0aW9uWSwgYmFja2dyb3VuZC1wb3NpdGlvbi15LCBiYWNrZ3JvdW5kUmVwZWF0LCBiYWNrZ3JvdW5kLXJlcGVhdCwgYmFja2dyb3VuZFNpemUsIGJhY2tncm91bmQtc2l6ZSwgYm9yZGVySW1hZ2VPdXRzZXQsIGJvcmRlci1pbWFnZS1vdXRzZXQsIGJvcmRlckltYWdlU2xpY2UsIGJvcmRlci1pbWFnZS1zbGljZSwgYm9yZGVySW1hZ2VXaWR0aCwgYm9yZGVyLWltYWdlLXdpZHRoLCBib3JkZXJTcGFjaW5nLCBib3JkZXItc3BhY2luZywgYm94U2hhZG93LCBib3gtc2hhZG93LCBjYXJldENvbG9yLCBjYXJldC1jb2xvciwgY2xpcFBhdGgsIGNsaXAtcGF0aCwgY29sb3IsIGNvbG9yU2NoZW1lLCBjb2xvci1zY2hlbWUsIGNvbHVtbldpZHRoLCBjb2x1bW4td2lkdGgsIGNvbnRlbnQsIGNvdW50ZXJJbmNyZW1lbnQsIGNvdW50ZXItaW5jcmVtZW50LCBjb3VudGVyUmVzZXQsIGNvdW50ZXItcmVzZXQsIGNvdW50ZXJTZXQsIGNvdW50ZXItc2V0LCBjdXJzb3IsIGQsIGZpbHRlciwgZmxleEJhc2lzLCBmbGV4LWJhc2lzLCBmb250RmFtaWx5LCBmb250LWZhbWlseSwgZm9udEZlYXR1cmVTZXR0aW5ncywgZm9udC1mZWF0dXJlLXNldHRpbmdzLCBmb250TGFuZ3VhZ2VPdmVycmlkZSwgZm9udC1sYW5ndWFnZS1vdmVycmlkZSwgZm9udFBhbGV0dGUsIGZvbnQtcGFsZXR0ZSwgZm9udFNpemUsIGZvbnQtc2l6ZSwgZm9udFZhcmlhbnRBbHRlcm5hdGVzLCBmb250LXZhcmlhbnQtYWx0ZXJuYXRlcywgZm9udFZhcmlhdGlvblNldHRpbmdzLCBmb250LXZhcmlhdGlvbi1zZXR0aW5ncywgZ3JpZFRlbXBsYXRlQXJlYXMsIGdyaWQtdGVtcGxhdGUtYXJlYXMsIGh5cGhlbmF0ZUNoYXJhY3RlciwgaHlwaGVuYXRlLWNoYXJhY3RlciwgbGV0dGVyU3BhY2luZywgbGV0dGVyLXNwYWNpbmcsIGxpbmVIZWlnaHQsIGxpbmUtaGVpZ2h0LCBsaXN0U3R5bGVUeXBlLCBsaXN0LXN0eWxlLXR5cGUsIG1hc2tDbGlwLCBtYXNrLWNsaXAsIG1hc2tDb21wb3NpdGUsIG1hc2stY29tcG9zaXRlLCBtYXNrSW1hZ2UsIG1hc2staW1hZ2UsIG1hc2tNb2RlLCBtYXNrLW1vZGUsIG1hc2tPcmlnaW4sIG1hc2stb3JpZ2luLCBtYXNrUG9zaXRpb25YLCBtYXNrLXBvc2l0aW9uLXgsIG1hc2tQb3NpdGlvblksIG1hc2stcG9zaXRpb24teSwgbWFza1JlcGVhdCwgbWFzay1yZXBlYXQsIG1hc2tTaXplLCBtYXNrLXNpemUsIG9mZnNldEFuY2hvciwgb2Zmc2V0LWFuY2hvciwgb2Zmc2V0UGF0aCwgb2Zmc2V0LXBhdGgsIHBlcnNwZWN0aXZlLCBxdW90ZXMsIHJvdGF0ZSwgc2NhbGUsIHNjcm9sbGJhckNvbG9yLCBzY3JvbGxiYXItY29sb3IsIHNoYXBlT3V0c2lkZSwgc2hhcGUtb3V0c2lkZSwgc3Ryb2tlRGFzaGFycmF5LCBzdHJva2UtZGFzaGFycmF5LCBzdHJva2VEYXNob2Zmc2V0LCBzdHJva2UtZGFzaG9mZnNldCwgc3Ryb2tlV2lkdGgsIHN0cm9rZS13aWR0aCwgdGFiU2l6ZSwgdGFiLXNpemUsIHRleHREZWNvcmF0aW9uVGhpY2tuZXNzLCB0ZXh0LWRlY29yYXRpb24tdGhpY2tuZXNzLCB0ZXh0RW1waGFzaXNTdHlsZSwgdGV4dC1lbXBoYXNpcy1zdHlsZSwgdGV4dE92ZXJmbG93LCB0ZXh0LW92ZXJmbG93LCB0ZXh0U2hhZG93LCB0ZXh0LXNoYWRvdywgdHJhbnNpdGlvbkRlbGF5LCB0cmFuc2l0aW9uLWRlbGF5LCB0cmFuc2l0aW9uRHVyYXRpb24sIHRyYW5zaXRpb24tZHVyYXRpb24sIHRyYW5zaXRpb25Qcm9wZXJ0eSwgdHJhbnNpdGlvbi1wcm9wZXJ0eSwgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uLCB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiwgdHJhbnNsYXRlLCB2ZXJ0aWNhbEFsaWduLCB2ZXJ0aWNhbC1hbGlnbiwgd2lsbENoYW5nZSwgd2lsbC1jaGFuZ2UsIHdvcmRTcGFjaW5nLCB3b3JkLXNwYWNpbmcsIGNsaXAsIE1vekltYWdlUmVnaW9uLCAtbW96LWltYWdlLXJlZ2lvbiwgb2JqZWN0UG9zaXRpb24sIG9iamVjdC1wb3NpdGlvbiwgcGVyc3BlY3RpdmVPcmlnaW4sIHBlcnNwZWN0aXZlLW9yaWdpbiwgZmlsbCwgc3Ryb2tlLCB0cmFuc2Zvcm1PcmlnaW4sIHRyYW5zZm9ybS1vcmlnaW4sIGdyaWRUZW1wbGF0ZUNvbHVtbnMsIGdyaWQtdGVtcGxhdGUtY29sdW1ucywgZ3JpZFRlbXBsYXRlUm93cywgZ3JpZC10ZW1wbGF0ZS1yb3dzLCBib3JkZXJJbWFnZVNvdXJjZSwgYm9yZGVyLWltYWdlLXNvdXJjZSwgbGlzdFN0eWxlSW1hZ2UsIGxpc3Qtc3R5bGUtaW1hZ2UsIGdyaWRBdXRvQ29sdW1ucywgZ3JpZC1hdXRvLWNvbHVtbnMsIGdyaWRBdXRvUm93cywgZ3JpZC1hdXRvLXJvd3MsIHRyYW5zZm9ybSwgY29sdW1uR2FwLCBjb2x1bW4tZ2FwLCByb3dHYXAsIHJvdy1nYXAsIG1hcmtlckVuZCwgbWFya2VyLWVuZCwgbWFya2VyTWlkLCBtYXJrZXItbWlkLCBtYXJrZXJTdGFydCwgbWFya2VyLXN0YXJ0LCBjb250YWluSW50cmluc2ljQmxvY2tTaXplLCBjb250YWluLWludHJpbnNpYy1ibG9jay1zaXplLCBjb250YWluSW50cmluc2ljSGVpZ2h0LCBjb250YWluLWludHJpbnNpYy1oZWlnaHQsIGNvbnRhaW5JbnRyaW5zaWNJbmxpbmVTaXplLCBjb250YWluLWludHJpbnNpYy1pbmxpbmUtc2l6ZSwgY29udGFpbkludHJpbnNpY1dpZHRoLCBjb250YWluLWludHJpbnNpYy13aWR0aCwgZ3JpZENvbHVtbkVuZCwgZ3JpZC1jb2x1bW4tZW5kLCBncmlkQ29sdW1uU3RhcnQsIGdyaWQtY29sdW1uLXN0YXJ0LCBncmlkUm93RW5kLCBncmlkLXJvdy1lbmQsIGdyaWRSb3dTdGFydCwgZ3JpZC1yb3ctc3RhcnQsIG1heEJsb2NrU2l6ZSwgbWF4LWJsb2NrLXNpemUsIG1heEhlaWdodCwgbWF4LWhlaWdodCwgbWF4SW5saW5lU2l6ZSwgbWF4LWlubGluZS1zaXplLCBtYXhXaWR0aCwgbWF4LXdpZHRoLCBjeCwgY3ksIG9mZnNldERpc3RhbmNlLCBvZmZzZXQtZGlzdGFuY2UsIHRleHRJbmRlbnQsIHRleHQtaW5kZW50LCB4LCB5LCBib3JkZXJCb3R0b21MZWZ0UmFkaXVzLCBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzLCBib3JkZXJCb3R0b21SaWdodFJhZGl1cywgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXMsIGJvcmRlckVuZEVuZFJhZGl1cywgYm9yZGVyLWVuZC1lbmQtcmFkaXVzLCBib3JkZXJFbmRTdGFydFJhZGl1cywgYm9yZGVyLWVuZC1zdGFydC1yYWRpdXMsIGJvcmRlclN0YXJ0RW5kUmFkaXVzLCBib3JkZXItc3RhcnQtZW5kLXJhZGl1cywgYm9yZGVyU3RhcnRTdGFydFJhZGl1cywgYm9yZGVyLXN0YXJ0LXN0YXJ0LXJhZGl1cywgYm9yZGVyVG9wTGVmdFJhZGl1cywgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1cywgYm9yZGVyVG9wUmlnaHRSYWRpdXMsIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzLCBibG9ja1NpemUsIGJsb2NrLXNpemUsIGhlaWdodCwgaW5saW5lU2l6ZSwgaW5saW5lLXNpemUsIG1pbkJsb2NrU2l6ZSwgbWluLWJsb2NrLXNpemUsIG1pbkhlaWdodCwgbWluLWhlaWdodCwgbWluSW5saW5lU2l6ZSwgbWluLWlubGluZS1zaXplLCBtaW5XaWR0aCwgbWluLXdpZHRoLCB3aWR0aCwgcGFkZGluZ0Jsb2NrRW5kLCBwYWRkaW5nLWJsb2NrLWVuZCwgcGFkZGluZ0Jsb2NrU3RhcnQsIHBhZGRpbmctYmxvY2stc3RhcnQsIHBhZGRpbmdCb3R0b20sIHBhZGRpbmctYm90dG9tLCBwYWRkaW5nSW5saW5lRW5kLCBwYWRkaW5nLWlubGluZS1lbmQsIHBhZGRpbmdJbmxpbmVTdGFydCwgcGFkZGluZy1pbmxpbmUtc3RhcnQsIHBhZGRpbmdMZWZ0LCBwYWRkaW5nLWxlZnQsIHBhZGRpbmdSaWdodCwgcGFkZGluZy1yaWdodCwgcGFkZGluZ1RvcCwgcGFkZGluZy10b3AsIHIsIHNoYXBlTWFyZ2luLCBzaGFwZS1tYXJnaW4sIHJ4LCByeSwgc2Nyb2xsUGFkZGluZ0Jsb2NrRW5kLCBzY3JvbGwtcGFkZGluZy1ibG9jay1lbmQsIHNjcm9sbFBhZGRpbmdCbG9ja1N0YXJ0LCBzY3JvbGwtcGFkZGluZy1ibG9jay1zdGFydCwgc2Nyb2xsUGFkZGluZ0JvdHRvbSwgc2Nyb2xsLXBhZGRpbmctYm90dG9tLCBzY3JvbGxQYWRkaW5nSW5saW5lRW5kLCBzY3JvbGwtcGFkZGluZy1pbmxpbmUtZW5kLCBzY3JvbGxQYWRkaW5nSW5saW5lU3RhcnQsIHNjcm9sbC1wYWRkaW5nLWlubGluZS1zdGFydCwgc2Nyb2xsUGFkZGluZ0xlZnQsIHNjcm9sbC1wYWRkaW5nLWxlZnQsIHNjcm9sbFBhZGRpbmdSaWdodCwgc2Nyb2xsLXBhZGRpbmctcmlnaHQsIHNjcm9sbFBhZGRpbmdUb3AsIHNjcm9sbC1wYWRkaW5nLXRvcCwgYm9yZGVyQmxvY2tFbmRXaWR0aCwgYm9yZGVyLWJsb2NrLWVuZC13aWR0aCwgYm9yZGVyQmxvY2tTdGFydFdpZHRoLCBib3JkZXItYmxvY2stc3RhcnQtd2lkdGgsIGJvcmRlckJvdHRvbVdpZHRoLCBib3JkZXItYm90dG9tLXdpZHRoLCBib3JkZXJJbmxpbmVFbmRXaWR0aCwgYm9yZGVyLWlubGluZS1lbmQtd2lkdGgsIGJvcmRlcklubGluZVN0YXJ0V2lkdGgsIGJvcmRlci1pbmxpbmUtc3RhcnQtd2lkdGgsIGJvcmRlckxlZnRXaWR0aCwgYm9yZGVyLWxlZnQtd2lkdGgsIGJvcmRlclJpZ2h0V2lkdGgsIGJvcmRlci1yaWdodC13aWR0aCwgYm9yZGVyVG9wV2lkdGgsIGJvcmRlci10b3Atd2lkdGgsIGNvbHVtblJ1bGVXaWR0aCwgY29sdW1uLXJ1bGUtd2lkdGgsIG91dGxpbmVXaWR0aCwgb3V0bGluZS13aWR0aCwgd2Via2l0VGV4dFN0cm9rZVdpZHRoLCBXZWJraXRUZXh0U3Ryb2tlV2lkdGgsIC13ZWJraXQtdGV4dC1zdHJva2Utd2lkdGgsIG91dGxpbmVPZmZzZXQsIG91dGxpbmUtb2Zmc2V0LCBvdmVyZmxvd0NsaXBNYXJnaW4sIG92ZXJmbG93LWNsaXAtbWFyZ2luLCBzY3JvbGxNYXJnaW5CbG9ja0VuZCwgc2Nyb2xsLW1hcmdpbi1ibG9jay1lbmQsIHNjcm9sbE1hcmdpbkJsb2NrU3RhcnQsIHNjcm9sbC1tYXJnaW4tYmxvY2stc3RhcnQsIHNjcm9sbE1hcmdpbkJvdHRvbSwgc2Nyb2xsLW1hcmdpbi1ib3R0b20sIHNjcm9sbE1hcmdpbklubGluZUVuZCwgc2Nyb2xsLW1hcmdpbi1pbmxpbmUtZW5kLCBzY3JvbGxNYXJnaW5JbmxpbmVTdGFydCwgc2Nyb2xsLW1hcmdpbi1pbmxpbmUtc3RhcnQsIHNjcm9sbE1hcmdpbkxlZnQsIHNjcm9sbC1tYXJnaW4tbGVmdCwgc2Nyb2xsTWFyZ2luUmlnaHQsIHNjcm9sbC1tYXJnaW4tcmlnaHQsIHNjcm9sbE1hcmdpblRvcCwgc2Nyb2xsLW1hcmdpbi10b3AsIGJvdHRvbSwgaW5zZXRCbG9ja0VuZCwgaW5zZXQtYmxvY2stZW5kLCBpbnNldEJsb2NrU3RhcnQsIGluc2V0LWJsb2NrLXN0YXJ0LCBpbnNldElubGluZUVuZCwgaW5zZXQtaW5saW5lLWVuZCwgaW5zZXRJbmxpbmVTdGFydCwgaW5zZXQtaW5saW5lLXN0YXJ0LCBsZWZ0LCBtYXJnaW5CbG9ja0VuZCwgbWFyZ2luLWJsb2NrLWVuZCwgbWFyZ2luQmxvY2tTdGFydCwgbWFyZ2luLWJsb2NrLXN0YXJ0LCBtYXJnaW5Cb3R0b20sIG1hcmdpbi1ib3R0b20sIG1hcmdpbklubGluZUVuZCwgbWFyZ2luLWlubGluZS1lbmQsIG1hcmdpbklubGluZVN0YXJ0LCBtYXJnaW4taW5saW5lLXN0YXJ0LCBtYXJnaW5MZWZ0LCBtYXJnaW4tbGVmdCwgbWFyZ2luUmlnaHQsIG1hcmdpbi1yaWdodCwgbWFyZ2luVG9wLCBtYXJnaW4tdG9wLCByaWdodCwgdGV4dFVuZGVybGluZU9mZnNldCwgdGV4dC11bmRlcmxpbmUtb2Zmc2V0LCB0b3AsIGJhY2tncm91bmRDb2xvciwgYmFja2dyb3VuZC1jb2xvciwgYm9yZGVyQmxvY2tFbmRDb2xvciwgYm9yZGVyLWJsb2NrLWVuZC1jb2xvciwgYm9yZGVyQmxvY2tTdGFydENvbG9yLCBib3JkZXItYmxvY2stc3RhcnQtY29sb3IsIGJvcmRlckJvdHRvbUNvbG9yLCBib3JkZXItYm90dG9tLWNvbG9yLCBib3JkZXJJbmxpbmVFbmRDb2xvciwgYm9yZGVyLWlubGluZS1lbmQtY29sb3IsIGJvcmRlcklubGluZVN0YXJ0Q29sb3IsIGJvcmRlci1pbmxpbmUtc3RhcnQtY29sb3IsIGJvcmRlckxlZnRDb2xvciwgYm9yZGVyLWxlZnQtY29sb3IsIGJvcmRlclJpZ2h0Q29sb3IsIGJvcmRlci1yaWdodC1jb2xvciwgYm9yZGVyVG9wQ29sb3IsIGJvcmRlci10b3AtY29sb3IsIGNvbHVtblJ1bGVDb2xvciwgY29sdW1uLXJ1bGUtY29sb3IsIGZsb29kQ29sb3IsIGZsb29kLWNvbG9yLCBsaWdodGluZ0NvbG9yLCBsaWdodGluZy1jb2xvciwgb3V0bGluZUNvbG9yLCBvdXRsaW5lLWNvbG9yLCBzdG9wQ29sb3IsIHN0b3AtY29sb3IsIHRleHREZWNvcmF0aW9uQ29sb3IsIHRleHQtZGVjb3JhdGlvbi1jb2xvciwgdGV4dEVtcGhhc2lzQ29sb3IsIHRleHQtZW1waGFzaXMtY29sb3IsIHdlYmtpdFRleHRGaWxsQ29sb3IsIFdlYmtpdFRleHRGaWxsQ29sb3IsIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yLCB3ZWJraXRUZXh0U3Ryb2tlQ29sb3IsIFdlYmtpdFRleHRTdHJva2VDb2xvciwgLXdlYmtpdC10ZXh0LXN0cm9rZS1jb2xvciwgYmFja2dyb3VuZCwgYmFja2dyb3VuZFBvc2l0aW9uLCBiYWNrZ3JvdW5kLXBvc2l0aW9uLCBib3JkZXJDb2xvciwgYm9yZGVyLWNvbG9yLCBib3JkZXJTdHlsZSwgYm9yZGVyLXN0eWxlLCBib3JkZXJXaWR0aCwgYm9yZGVyLXdpZHRoLCBib3JkZXJUb3AsIGJvcmRlci10b3AsIGJvcmRlclJpZ2h0LCBib3JkZXItcmlnaHQsIGJvcmRlckJvdHRvbSwgYm9yZGVyLWJvdHRvbSwgYm9yZGVyTGVmdCwgYm9yZGVyLWxlZnQsIGJvcmRlckJsb2NrU3RhcnQsIGJvcmRlci1ibG9jay1zdGFydCwgYm9yZGVyQmxvY2tFbmQsIGJvcmRlci1ibG9jay1lbmQsIGJvcmRlcklubGluZVN0YXJ0LCBib3JkZXItaW5saW5lLXN0YXJ0LCBib3JkZXJJbmxpbmVFbmQsIGJvcmRlci1pbmxpbmUtZW5kLCBib3JkZXIsIGJvcmRlclJhZGl1cywgYm9yZGVyLXJhZGl1cywgYm9yZGVySW1hZ2UsIGJvcmRlci1pbWFnZSwgYm9yZGVyQmxvY2tXaWR0aCwgYm9yZGVyLWJsb2NrLXdpZHRoLCBib3JkZXJCbG9ja1N0eWxlLCBib3JkZXItYmxvY2stc3R5bGUsIGJvcmRlckJsb2NrQ29sb3IsIGJvcmRlci1ibG9jay1jb2xvciwgYm9yZGVySW5saW5lV2lkdGgsIGJvcmRlci1pbmxpbmUtd2lkdGgsIGJvcmRlcklubGluZVN0eWxlLCBib3JkZXItaW5saW5lLXN0eWxlLCBib3JkZXJJbmxpbmVDb2xvciwgYm9yZGVyLWlubGluZS1jb2xvciwgYm9yZGVyQmxvY2ssIGJvcmRlci1ibG9jaywgYm9yZGVySW5saW5lLCBib3JkZXItaW5saW5lLCBvdmVyZmxvdywgb3ZlcnNjcm9sbEJlaGF2aW9yLCBvdmVyc2Nyb2xsLWJlaGF2aW9yLCBwYWdlQnJlYWtCZWZvcmUsIHBhZ2UtYnJlYWstYmVmb3JlLCBwYWdlQnJlYWtBZnRlciwgcGFnZS1icmVhay1hZnRlciwgcGFnZUJyZWFrSW5zaWRlLCBwYWdlLWJyZWFrLWluc2lkZSwgb2Zmc2V0LCBjb2x1bW5zLCBjb2x1bW5SdWxlLCBjb2x1bW4tcnVsZSwgZm9udCwgZm9udFZhcmlhbnQsIGZvbnQtdmFyaWFudCwgbWFya2VyLCB0ZXh0RW1waGFzaXMsIHRleHQtZW1waGFzaXMsIHdlYmtpdFRleHRTdHJva2UsIFdlYmtpdFRleHRTdHJva2UsIC13ZWJraXQtdGV4dC1zdHJva2UsIGxpc3RTdHlsZSwgbGlzdC1zdHlsZSwgbWFyZ2luLCBtYXJnaW5CbG9jaywgbWFyZ2luLWJsb2NrLCBtYXJnaW5JbmxpbmUsIG1hcmdpbi1pbmxpbmUsIHNjcm9sbE1hcmdpbiwgc2Nyb2xsLW1hcmdpbiwgc2Nyb2xsTWFyZ2luQmxvY2ssIHNjcm9sbC1tYXJnaW4tYmxvY2ssIHNjcm9sbE1hcmdpbklubGluZSwgc2Nyb2xsLW1hcmdpbi1pbmxpbmUsIG91dGxpbmUsIHBhZGRpbmcsIHBhZGRpbmdCbG9jaywgcGFkZGluZy1ibG9jaywgcGFkZGluZ0lubGluZSwgcGFkZGluZy1pbmxpbmUsIHNjcm9sbFBhZGRpbmcsIHNjcm9sbC1wYWRkaW5nLCBzY3JvbGxQYWRkaW5nQmxvY2ssIHNjcm9sbC1wYWRkaW5nLWJsb2NrLCBzY3JvbGxQYWRkaW5nSW5saW5lLCBzY3JvbGwtcGFkZGluZy1pbmxpbmUsIGZsZXhGbG93LCBmbGV4LWZsb3csIGZsZXgsIGdhcCwgZ3JpZFJvdywgZ3JpZC1yb3csIGdyaWRDb2x1bW4sIGdyaWQtY29sdW1uLCBncmlkQXJlYSwgZ3JpZC1hcmVhLCBncmlkVGVtcGxhdGUsIGdyaWQtdGVtcGxhdGUsIGdyaWQsIHBsYWNlQ29udGVudCwgcGxhY2UtY29udGVudCwgcGxhY2VTZWxmLCBwbGFjZS1zZWxmLCBwbGFjZUl0ZW1zLCBwbGFjZS1pdGVtcywgaW5zZXQsIGluc2V0QmxvY2ssIGluc2V0LWJsb2NrLCBpbnNldElubGluZSwgaW5zZXQtaW5saW5lLCBjb250YWluSW50cmluc2ljU2l6ZSwgY29udGFpbi1pbnRyaW5zaWMtc2l6ZSwgbWFzaywgbWFza1Bvc2l0aW9uLCBtYXNrLXBvc2l0aW9uLCB0ZXh0RGVjb3JhdGlvbiwgdGV4dC1kZWNvcmF0aW9uLCB0cmFuc2l0aW9uLCBhbmltYXRpb24sIGFsbCwgd2Via2l0QmFja2dyb3VuZENsaXAsIFdlYmtpdEJhY2tncm91bmRDbGlwLCAtd2Via2l0LWJhY2tncm91bmQtY2xpcCwgd2Via2l0QmFja2dyb3VuZE9yaWdpbiwgV2Via2l0QmFja2dyb3VuZE9yaWdpbiwgLXdlYmtpdC1iYWNrZ3JvdW5kLW9yaWdpbiwgd2Via2l0QmFja2dyb3VuZFNpemUsIFdlYmtpdEJhY2tncm91bmRTaXplLCAtd2Via2l0LWJhY2tncm91bmQtc2l6ZSwgTW96Qm9yZGVyU3RhcnRDb2xvciwgLW1vei1ib3JkZXItc3RhcnQtY29sb3IsIE1vekJvcmRlclN0YXJ0U3R5bGUsIC1tb3otYm9yZGVyLXN0YXJ0LXN0eWxlLCBNb3pCb3JkZXJTdGFydFdpZHRoLCAtbW96LWJvcmRlci1zdGFydC13aWR0aCwgTW96Qm9yZGVyRW5kQ29sb3IsIC1tb3otYm9yZGVyLWVuZC1jb2xvciwgTW96Qm9yZGVyRW5kU3R5bGUsIC1tb3otYm9yZGVyLWVuZC1zdHlsZSwgTW96Qm9yZGVyRW5kV2lkdGgsIC1tb3otYm9yZGVyLWVuZC13aWR0aCwgd2Via2l0Qm9yZGVyVG9wTGVmdFJhZGl1cywgV2Via2l0Qm9yZGVyVG9wTGVmdFJhZGl1cywgLXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzLCB3ZWJraXRCb3JkZXJUb3BSaWdodFJhZGl1cywgV2Via2l0Qm9yZGVyVG9wUmlnaHRSYWRpdXMsIC13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXMsIHdlYmtpdEJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzLCBXZWJraXRCb3JkZXJCb3R0b21SaWdodFJhZGl1cywgLXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1cywgd2Via2l0Qm9yZGVyQm90dG9tTGVmdFJhZGl1cywgV2Via2l0Qm9yZGVyQm90dG9tTGVmdFJhZGl1cywgLXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzLCBNb3pUcmFuc2Zvcm0sIC1tb3otdHJhbnNmb3JtLCB3ZWJraXRUcmFuc2Zvcm0sIFdlYmtpdFRyYW5zZm9ybSwgLXdlYmtpdC10cmFuc2Zvcm0sIE1velBlcnNwZWN0aXZlLCAtbW96LXBlcnNwZWN0aXZlLCB3ZWJraXRQZXJzcGVjdGl2ZSwgV2Via2l0UGVyc3BlY3RpdmUsIC13ZWJraXQtcGVyc3BlY3RpdmUsIE1velBlcnNwZWN0aXZlT3JpZ2luLCAtbW96LXBlcnNwZWN0aXZlLW9yaWdpbiwgd2Via2l0UGVyc3BlY3RpdmVPcmlnaW4sIFdlYmtpdFBlcnNwZWN0aXZlT3JpZ2luLCAtd2Via2l0LXBlcnNwZWN0aXZlLW9yaWdpbiwgTW96QmFja2ZhY2VWaXNpYmlsaXR5LCAtbW96LWJhY2tmYWNlLXZpc2liaWxpdHksIHdlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eSwgV2Via2l0QmFja2ZhY2VWaXNpYmlsaXR5LCAtd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHksIE1velRyYW5zZm9ybVN0eWxlLCAtbW96LXRyYW5zZm9ybS1zdHlsZSwgd2Via2l0VHJhbnNmb3JtU3R5bGUsIFdlYmtpdFRyYW5zZm9ybVN0eWxlLCAtd2Via2l0LXRyYW5zZm9ybS1zdHlsZSwgTW96VHJhbnNmb3JtT3JpZ2luLCAtbW96LXRyYW5zZm9ybS1vcmlnaW4sIHdlYmtpdFRyYW5zZm9ybU9yaWdpbiwgV2Via2l0VHJhbnNmb3JtT3JpZ2luLCAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW4sIE1vekFwcGVhcmFuY2UsIC1tb3otYXBwZWFyYW5jZSwgd2Via2l0QXBwZWFyYW5jZSwgV2Via2l0QXBwZWFyYW5jZSwgLXdlYmtpdC1hcHBlYXJhbmNlLCB3ZWJraXRCb3hTaGFkb3csIFdlYmtpdEJveFNoYWRvdywgLXdlYmtpdC1ib3gtc2hhZG93LCB3ZWJraXRGaWx0ZXIsIFdlYmtpdEZpbHRlciwgLXdlYmtpdC1maWx0ZXIsIE1vekZvbnRGZWF0dXJlU2V0dGluZ3MsIC1tb3otZm9udC1mZWF0dXJlLXNldHRpbmdzLCBNb3pGb250TGFuZ3VhZ2VPdmVycmlkZSwgLW1vei1mb250LWxhbmd1YWdlLW92ZXJyaWRlLCBjb2xvckFkanVzdCwgY29sb3ItYWRqdXN0LCBNb3pIeXBoZW5zLCAtbW96LWh5cGhlbnMsIHdlYmtpdFRleHRTaXplQWRqdXN0LCBXZWJraXRUZXh0U2l6ZUFkanVzdCwgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0LCB3b3JkV3JhcCwgd29yZC13cmFwLCBNb3pUYWJTaXplLCAtbW96LXRhYi1zaXplLCBNb3pNYXJnaW5TdGFydCwgLW1vei1tYXJnaW4tc3RhcnQsIE1vek1hcmdpbkVuZCwgLW1vei1tYXJnaW4tZW5kLCBNb3pQYWRkaW5nU3RhcnQsIC1tb3otcGFkZGluZy1zdGFydCwgTW96UGFkZGluZ0VuZCwgLW1vei1wYWRkaW5nLWVuZCwgd2Via2l0RmxleERpcmVjdGlvbiwgV2Via2l0RmxleERpcmVjdGlvbiwgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbiwgd2Via2l0RmxleFdyYXAsIFdlYmtpdEZsZXhXcmFwLCAtd2Via2l0LWZsZXgtd3JhcCwgd2Via2l0SnVzdGlmeUNvbnRlbnQsIFdlYmtpdEp1c3RpZnlDb250ZW50LCAtd2Via2l0LWp1c3RpZnktY29udGVudCwgd2Via2l0QWxpZ25Db250ZW50LCBXZWJraXRBbGlnbkNvbnRlbnQsIC13ZWJraXQtYWxpZ24tY29udGVudCwgd2Via2l0QWxpZ25JdGVtcywgV2Via2l0QWxpZ25JdGVtcywgLXdlYmtpdC1hbGlnbi1pdGVtcywgd2Via2l0RmxleEdyb3csIFdlYmtpdEZsZXhHcm93LCAtd2Via2l0LWZsZXgtZ3Jvdywgd2Via2l0RmxleFNocmluaywgV2Via2l0RmxleFNocmluaywgLXdlYmtpdC1mbGV4LXNocmluaywgd2Via2l0QWxpZ25TZWxmLCBXZWJraXRBbGlnblNlbGYsIC13ZWJraXQtYWxpZ24tc2VsZiwgd2Via2l0T3JkZXIsIFdlYmtpdE9yZGVyLCAtd2Via2l0LW9yZGVyLCB3ZWJraXRGbGV4QmFzaXMsIFdlYmtpdEZsZXhCYXNpcywgLXdlYmtpdC1mbGV4LWJhc2lzLCBNb3pCb3hTaXppbmcsIC1tb3otYm94LXNpemluZywgd2Via2l0Qm94U2l6aW5nLCBXZWJraXRCb3hTaXppbmcsIC13ZWJraXQtYm94LXNpemluZywgZ3JpZENvbHVtbkdhcCwgZ3JpZC1jb2x1bW4tZ2FwLCBncmlkUm93R2FwLCBncmlkLXJvdy1nYXAsIHdlYmtpdE1hc2tSZXBlYXQsIFdlYmtpdE1hc2tSZXBlYXQsIC13ZWJraXQtbWFzay1yZXBlYXQsIHdlYmtpdE1hc2tQb3NpdGlvblgsIFdlYmtpdE1hc2tQb3NpdGlvblgsIC13ZWJraXQtbWFzay1wb3NpdGlvbi14LCB3ZWJraXRNYXNrUG9zaXRpb25ZLCBXZWJraXRNYXNrUG9zaXRpb25ZLCAtd2Via2l0LW1hc2stcG9zaXRpb24teSwgd2Via2l0TWFza0NsaXAsIFdlYmtpdE1hc2tDbGlwLCAtd2Via2l0LW1hc2stY2xpcCwgd2Via2l0TWFza09yaWdpbiwgV2Via2l0TWFza09yaWdpbiwgLXdlYmtpdC1tYXNrLW9yaWdpbiwgd2Via2l0TWFza1NpemUsIFdlYmtpdE1hc2tTaXplLCAtd2Via2l0LW1hc2stc2l6ZSwgd2Via2l0TWFza0NvbXBvc2l0ZSwgV2Via2l0TWFza0NvbXBvc2l0ZSwgLXdlYmtpdC1tYXNrLWNvbXBvc2l0ZSwgd2Via2l0TWFza0ltYWdlLCBXZWJraXRNYXNrSW1hZ2UsIC13ZWJraXQtbWFzay1pbWFnZSwgTW96VXNlclNlbGVjdCwgLW1vei11c2VyLXNlbGVjdCwgd2Via2l0VXNlclNlbGVjdCwgV2Via2l0VXNlclNlbGVjdCwgLXdlYmtpdC11c2VyLXNlbGVjdCwgTW96VHJhbnNpdGlvbkR1cmF0aW9uLCAtbW96LXRyYW5zaXRpb24tZHVyYXRpb24sIHdlYmtpdFRyYW5zaXRpb25EdXJhdGlvbiwgV2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uLCAtd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb24sIE1velRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiwgLW1vei10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiwgd2Via2l0VHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uLCBXZWJraXRUcmFuc2l0aW9uVGltaW5nRnVuY3Rpb24sIC13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24sIE1velRyYW5zaXRpb25Qcm9wZXJ0eSwgLW1vei10cmFuc2l0aW9uLXByb3BlcnR5LCB3ZWJraXRUcmFuc2l0aW9uUHJvcGVydHksIFdlYmtpdFRyYW5zaXRpb25Qcm9wZXJ0eSwgLXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5LCBNb3pUcmFuc2l0aW9uRGVsYXksIC1tb3otdHJhbnNpdGlvbi1kZWxheSwgd2Via2l0VHJhbnNpdGlvbkRlbGF5LCBXZWJraXRUcmFuc2l0aW9uRGVsYXksIC13ZWJraXQtdHJhbnNpdGlvbi1kZWxheSwgTW96QW5pbWF0aW9uTmFtZSwgLW1vei1hbmltYXRpb24tbmFtZSwgd2Via2l0QW5pbWF0aW9uTmFtZSwgV2Via2l0QW5pbWF0aW9uTmFtZSwgLXdlYmtpdC1hbmltYXRpb24tbmFtZSwgTW96QW5pbWF0aW9uRHVyYXRpb24sIC1tb3otYW5pbWF0aW9uLWR1cmF0aW9uLCB3ZWJraXRBbmltYXRpb25EdXJhdGlvbiwgV2Via2l0QW5pbWF0aW9uRHVyYXRpb24sIC13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uLCBNb3pBbmltYXRpb25UaW1pbmdGdW5jdGlvbiwgLW1vei1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uLCB3ZWJraXRBbmltYXRpb25UaW1pbmdGdW5jdGlvbiwgV2Via2l0QW5pbWF0aW9uVGltaW5nRnVuY3Rpb24sIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbiwgTW96QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQsIC1tb3otYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCwgd2Via2l0QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQsIFdlYmtpdEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50LCAtd2Via2l0LWFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQsIE1vekFuaW1hdGlvbkRpcmVjdGlvbiwgLW1vei1hbmltYXRpb24tZGlyZWN0aW9uLCB3ZWJraXRBbmltYXRpb25EaXJlY3Rpb24sIFdlYmtpdEFuaW1hdGlvbkRpcmVjdGlvbiwgLXdlYmtpdC1hbmltYXRpb24tZGlyZWN0aW9uLCBNb3pBbmltYXRpb25QbGF5U3RhdGUsIC1tb3otYW5pbWF0aW9uLXBsYXktc3RhdGUsIHdlYmtpdEFuaW1hdGlvblBsYXlTdGF0ZSwgV2Via2l0QW5pbWF0aW9uUGxheVN0YXRlLCAtd2Via2l0LWFuaW1hdGlvbi1wbGF5LXN0YXRlLCBNb3pBbmltYXRpb25GaWxsTW9kZSwgLW1vei1hbmltYXRpb24tZmlsbC1tb2RlLCB3ZWJraXRBbmltYXRpb25GaWxsTW9kZSwgV2Via2l0QW5pbWF0aW9uRmlsbE1vZGUsIC13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZSwgTW96QW5pbWF0aW9uRGVsYXksIC1tb3otYW5pbWF0aW9uLWRlbGF5LCB3ZWJraXRBbmltYXRpb25EZWxheSwgV2Via2l0QW5pbWF0aW9uRGVsYXksIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5LCB3ZWJraXRCb3hBbGlnbiwgV2Via2l0Qm94QWxpZ24sIC13ZWJraXQtYm94LWFsaWduLCB3ZWJraXRCb3hEaXJlY3Rpb24sIFdlYmtpdEJveERpcmVjdGlvbiwgLXdlYmtpdC1ib3gtZGlyZWN0aW9uLCB3ZWJraXRCb3hGbGV4LCBXZWJraXRCb3hGbGV4LCAtd2Via2l0LWJveC1mbGV4LCB3ZWJraXRCb3hPcmllbnQsIFdlYmtpdEJveE9yaWVudCwgLXdlYmtpdC1ib3gtb3JpZW50LCB3ZWJraXRCb3hQYWNrLCBXZWJraXRCb3hQYWNrLCAtd2Via2l0LWJveC1wYWNrLCB3ZWJraXRCb3hPcmRpbmFsR3JvdXAsIFdlYmtpdEJveE9yZGluYWxHcm91cCwgLXdlYmtpdC1ib3gtb3JkaW5hbC1ncm91cCwgTW96Qm9yZGVyU3RhcnQsIC1tb3otYm9yZGVyLXN0YXJ0LCBNb3pCb3JkZXJFbmQsIC1tb3otYm9yZGVyLWVuZCwgd2Via2l0Qm9yZGVyUmFkaXVzLCBXZWJraXRCb3JkZXJSYWRpdXMsIC13ZWJraXQtYm9yZGVyLXJhZGl1cywgTW96Qm9yZGVySW1hZ2UsIC1tb3otYm9yZGVyLWltYWdlLCB3ZWJraXRCb3JkZXJJbWFnZSwgV2Via2l0Qm9yZGVySW1hZ2UsIC13ZWJraXQtYm9yZGVyLWltYWdlLCB3ZWJraXRGbGV4RmxvdywgV2Via2l0RmxleEZsb3csIC13ZWJraXQtZmxleC1mbG93LCB3ZWJraXRGbGV4LCBXZWJraXRGbGV4LCAtd2Via2l0LWZsZXgsIGdyaWRHYXAsIGdyaWQtZ2FwLCB3ZWJraXRNYXNrLCBXZWJraXRNYXNrLCAtd2Via2l0LW1hc2ssIHdlYmtpdE1hc2tQb3NpdGlvbiwgV2Via2l0TWFza1Bvc2l0aW9uLCAtd2Via2l0LW1hc2stcG9zaXRpb24sIE1velRyYW5zaXRpb24sIC1tb3otdHJhbnNpdGlvbiwgd2Via2l0VHJhbnNpdGlvbiwgV2Via2l0VHJhbnNpdGlvbiwgLXdlYmtpdC10cmFuc2l0aW9uLCBNb3pBbmltYXRpb24sIC1tb3otYW5pbWF0aW9uLCB3ZWJraXRBbmltYXRpb24sIFdlYmtpdEFuaW1hdGlvbiwgLXdlYmtpdC1hbmltYXRpb24sIGNvbnN0cnVjdG9yYCwNCiAgICAgICAgICAgIGpzS2V5czogJ09iamVjdC5hc3NpZ24sIE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0LnNldFByb3RvdHlwZU9mLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycywgT2JqZWN0LmtleXMsIE9iamVjdC52YWx1ZXMsIE9iamVjdC5lbnRyaWVzLCBPYmplY3QuaXMsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsIE9iamVjdC5jcmVhdGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLCBPYmplY3QuaXNFeHRlbnNpYmxlLCBPYmplY3QucHJldmVudEV4dGVuc2lvbnMsIE9iamVjdC5mcmVlemUsIE9iamVjdC5pc0Zyb3plbiwgT2JqZWN0LnNlYWwsIE9iamVjdC5pc1NlYWxlZCwgT2JqZWN0LmZyb21FbnRyaWVzLCBPYmplY3QuaGFzT3duLCBPYmplY3QudG9TdHJpbmcsIE9iamVjdC50b0xvY2FsZVN0cmluZywgT2JqZWN0LnZhbHVlT2YsIE9iamVjdC5oYXNPd25Qcm9wZXJ0eSwgT2JqZWN0LmlzUHJvdG90eXBlT2YsIE9iamVjdC5wcm9wZXJ0eUlzRW51bWVyYWJsZSwgT2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18sIE9iamVjdC5fX2RlZmluZVNldHRlcl9fLCBPYmplY3QuX19sb29rdXBHZXR0ZXJfXywgT2JqZWN0Ll9fbG9va3VwU2V0dGVyX18sIE9iamVjdC5fX3Byb3RvX18sIEZ1bmN0aW9uLnRvU3RyaW5nLCBGdW5jdGlvbi5hcHBseSwgRnVuY3Rpb24uY2FsbCwgRnVuY3Rpb24uYmluZCwgQm9vbGVhbi50b1N0cmluZywgQm9vbGVhbi52YWx1ZU9mLCBTeW1ib2wuZm9yLCBTeW1ib2wua2V5Rm9yLCBTeW1ib2wuaXNDb25jYXRTcHJlYWRhYmxlLCBTeW1ib2wuaXRlcmF0b3IsIFN5bWJvbC5tYXRjaCwgU3ltYm9sLnJlcGxhY2UsIFN5bWJvbC5zZWFyY2gsIFN5bWJvbC5zcGVjaWVzLCBTeW1ib2wuaGFzSW5zdGFuY2UsIFN5bWJvbC5zcGxpdCwgU3ltYm9sLnRvUHJpbWl0aXZlLCBTeW1ib2wudG9TdHJpbmdUYWcsIFN5bWJvbC51bnNjb3BhYmxlcywgU3ltYm9sLmFzeW5jSXRlcmF0b3IsIFN5bWJvbC5tYXRjaEFsbCwgU3ltYm9sLnRvU3RyaW5nLCBTeW1ib2wudmFsdWVPZiwgU3ltYm9sLmRlc2NyaXB0aW9uLCBFcnJvci50b1N0cmluZywgRXJyb3IubWVzc2FnZSwgRXJyb3Iuc3RhY2ssIE51bWJlci5pc0Zpbml0ZSwgTnVtYmVyLmlzSW50ZWdlciwgTnVtYmVyLmlzTmFOLCBOdW1iZXIuaXNTYWZlSW50ZWdlciwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIE51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NSU5fVkFMVUUsIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLCBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUiwgTnVtYmVyLkVQU0lMT04sIE51bWJlci5wYXJzZUludCwgTnVtYmVyLnBhcnNlRmxvYXQsIE51bWJlci5OYU4sIE51bWJlci50b1N0cmluZywgTnVtYmVyLnRvTG9jYWxlU3RyaW5nLCBOdW1iZXIudmFsdWVPZiwgTnVtYmVyLnRvRml4ZWQsIE51bWJlci50b0V4cG9uZW50aWFsLCBOdW1iZXIudG9QcmVjaXNpb24sIEJpZ0ludC5hc1VpbnROLCBCaWdJbnQuYXNJbnROLCBCaWdJbnQudmFsdWVPZiwgQmlnSW50LnRvU3RyaW5nLCBCaWdJbnQudG9Mb2NhbGVTdHJpbmcsIE1hdGguYWJzLCBNYXRoLmFjb3MsIE1hdGguYXNpbiwgTWF0aC5hdGFuLCBNYXRoLmF0YW4yLCBNYXRoLmNlaWwsIE1hdGguY2x6MzIsIE1hdGguY29zLCBNYXRoLmV4cCwgTWF0aC5mbG9vciwgTWF0aC5pbXVsLCBNYXRoLmZyb3VuZCwgTWF0aC5sb2csIE1hdGgubWF4LCBNYXRoLm1pbiwgTWF0aC5wb3csIE1hdGgucmFuZG9tLCBNYXRoLnJvdW5kLCBNYXRoLnNpbiwgTWF0aC5zcXJ0LCBNYXRoLnRhbiwgTWF0aC5sb2cxMCwgTWF0aC5sb2cyLCBNYXRoLmxvZzFwLCBNYXRoLmV4cG0xLCBNYXRoLmNvc2gsIE1hdGguc2luaCwgTWF0aC50YW5oLCBNYXRoLmFjb3NoLCBNYXRoLmFzaW5oLCBNYXRoLmF0YW5oLCBNYXRoLmh5cG90LCBNYXRoLnRydW5jLCBNYXRoLnNpZ24sIE1hdGguY2JydCwgTWF0aC5FLCBNYXRoLkxPRzJFLCBNYXRoLkxPRzEwRSwgTWF0aC5MTjIsIE1hdGguTE4xMCwgTWF0aC5QSSwgTWF0aC5TUVJUMiwgTWF0aC5TUVJUMV8yLCBEYXRlLlVUQywgRGF0ZS5wYXJzZSwgRGF0ZS5ub3csIERhdGUuZ2V0VGltZSwgRGF0ZS5nZXRUaW1lem9uZU9mZnNldCwgRGF0ZS5nZXRZZWFyLCBEYXRlLmdldEZ1bGxZZWFyLCBEYXRlLmdldFVUQ0Z1bGxZZWFyLCBEYXRlLmdldE1vbnRoLCBEYXRlLmdldFVUQ01vbnRoLCBEYXRlLmdldERhdGUsIERhdGUuZ2V0VVRDRGF0ZSwgRGF0ZS5nZXREYXksIERhdGUuZ2V0VVRDRGF5LCBEYXRlLmdldEhvdXJzLCBEYXRlLmdldFVUQ0hvdXJzLCBEYXRlLmdldE1pbnV0ZXMsIERhdGUuZ2V0VVRDTWludXRlcywgRGF0ZS5nZXRTZWNvbmRzLCBEYXRlLmdldFVUQ1NlY29uZHMsIERhdGUuZ2V0TWlsbGlzZWNvbmRzLCBEYXRlLmdldFVUQ01pbGxpc2Vjb25kcywgRGF0ZS5zZXRUaW1lLCBEYXRlLnNldFllYXIsIERhdGUuc2V0RnVsbFllYXIsIERhdGUuc2V0VVRDRnVsbFllYXIsIERhdGUuc2V0TW9udGgsIERhdGUuc2V0VVRDTW9udGgsIERhdGUuc2V0RGF0ZSwgRGF0ZS5zZXRVVENEYXRlLCBEYXRlLnNldEhvdXJzLCBEYXRlLnNldFVUQ0hvdXJzLCBEYXRlLnNldE1pbnV0ZXMsIERhdGUuc2V0VVRDTWludXRlcywgRGF0ZS5zZXRTZWNvbmRzLCBEYXRlLnNldFVUQ1NlY29uZHMsIERhdGUuc2V0TWlsbGlzZWNvbmRzLCBEYXRlLnNldFVUQ01pbGxpc2Vjb25kcywgRGF0ZS50b1VUQ1N0cmluZywgRGF0ZS50b0xvY2FsZVN0cmluZywgRGF0ZS50b0xvY2FsZURhdGVTdHJpbmcsIERhdGUudG9Mb2NhbGVUaW1lU3RyaW5nLCBEYXRlLnRvRGF0ZVN0cmluZywgRGF0ZS50b1RpbWVTdHJpbmcsIERhdGUudG9JU09TdHJpbmcsIERhdGUudG9KU09OLCBEYXRlLnRvU3RyaW5nLCBEYXRlLnZhbHVlT2YsIERhdGUudG9HTVRTdHJpbmcsIFN0cmluZy5mcm9tQ2hhckNvZGUsIFN0cmluZy5mcm9tQ29kZVBvaW50LCBTdHJpbmcucmF3LCBTdHJpbmcudG9TdHJpbmcsIFN0cmluZy52YWx1ZU9mLCBTdHJpbmcudG9Mb3dlckNhc2UsIFN0cmluZy50b1VwcGVyQ2FzZSwgU3RyaW5nLmNoYXJBdCwgU3RyaW5nLmNoYXJDb2RlQXQsIFN0cmluZy5zdWJzdHJpbmcsIFN0cmluZy5wYWRTdGFydCwgU3RyaW5nLnBhZEVuZCwgU3RyaW5nLmNvZGVQb2ludEF0LCBTdHJpbmcuaW5jbHVkZXMsIFN0cmluZy5pbmRleE9mLCBTdHJpbmcubGFzdEluZGV4T2YsIFN0cmluZy5zdGFydHNXaXRoLCBTdHJpbmcuZW5kc1dpdGgsIFN0cmluZy50cmltLCBTdHJpbmcudHJpbVN0YXJ0LCBTdHJpbmcudHJpbUVuZCwgU3RyaW5nLnRvTG9jYWxlTG93ZXJDYXNlLCBTdHJpbmcudG9Mb2NhbGVVcHBlckNhc2UsIFN0cmluZy5sb2NhbGVDb21wYXJlLCBTdHJpbmcucmVwZWF0LCBTdHJpbmcubm9ybWFsaXplLCBTdHJpbmcubWF0Y2gsIFN0cmluZy5tYXRjaEFsbCwgU3RyaW5nLnNlYXJjaCwgU3RyaW5nLnJlcGxhY2UsIFN0cmluZy5yZXBsYWNlQWxsLCBTdHJpbmcuc3BsaXQsIFN0cmluZy5zdWJzdHIsIFN0cmluZy5jb25jYXQsIFN0cmluZy5zbGljZSwgU3RyaW5nLmF0LCBTdHJpbmcuYm9sZCwgU3RyaW5nLml0YWxpY3MsIFN0cmluZy5maXhlZCwgU3RyaW5nLnN0cmlrZSwgU3RyaW5nLnNtYWxsLCBTdHJpbmcuYmlnLCBTdHJpbmcuYmxpbmssIFN0cmluZy5zdXAsIFN0cmluZy5zdWIsIFN0cmluZy5hbmNob3IsIFN0cmluZy5saW5rLCBTdHJpbmcuZm9udGNvbG9yLCBTdHJpbmcuZm9udHNpemUsIFN0cmluZy50cmltTGVmdCwgU3RyaW5nLnRyaW1SaWdodCwgUmVnRXhwLmlucHV0LCBSZWdFeHAubGFzdE1hdGNoLCBSZWdFeHAubGFzdFBhcmVuLCBSZWdFeHAubGVmdENvbnRleHQsIFJlZ0V4cC5yaWdodENvbnRleHQsIFJlZ0V4cC4kMSwgUmVnRXhwLiQyLCBSZWdFeHAuJDMsIFJlZ0V4cC4kNCwgUmVnRXhwLiQ1LCBSZWdFeHAuJDYsIFJlZ0V4cC4kNywgUmVnRXhwLiQ4LCBSZWdFeHAuJDksIFJlZ0V4cC4kXywgUmVnRXhwLiQmLCBSZWdFeHAuJCssIFJlZ0V4cC4kYCwgUmVnRXhwLiRcJywgUmVnRXhwLnRvU3RyaW5nLCBSZWdFeHAuY29tcGlsZSwgUmVnRXhwLmV4ZWMsIFJlZ0V4cC50ZXN0LCBSZWdFeHAuZmxhZ3MsIFJlZ0V4cC5oYXNJbmRpY2VzLCBSZWdFeHAuZ2xvYmFsLCBSZWdFeHAuaWdub3JlQ2FzZSwgUmVnRXhwLm11bHRpbGluZSwgUmVnRXhwLmRvdEFsbCwgUmVnRXhwLnNvdXJjZSwgUmVnRXhwLnN0aWNreSwgUmVnRXhwLnVuaWNvZGUsIEFycmF5LmlzQXJyYXksIEFycmF5LmZyb20sIEFycmF5Lm9mLCBBcnJheS50b1N0cmluZywgQXJyYXkudG9Mb2NhbGVTdHJpbmcsIEFycmF5LmpvaW4sIEFycmF5LnJldmVyc2UsIEFycmF5LnNvcnQsIEFycmF5LnB1c2gsIEFycmF5LnBvcCwgQXJyYXkuc2hpZnQsIEFycmF5LnVuc2hpZnQsIEFycmF5LnNwbGljZSwgQXJyYXkuY29uY2F0LCBBcnJheS5zbGljZSwgQXJyYXkubGFzdEluZGV4T2YsIEFycmF5LmluZGV4T2YsIEFycmF5LmZvckVhY2gsIEFycmF5Lm1hcCwgQXJyYXkuZmlsdGVyLCBBcnJheS5yZWR1Y2UsIEFycmF5LnJlZHVjZVJpZ2h0LCBBcnJheS5zb21lLCBBcnJheS5ldmVyeSwgQXJyYXkuZmluZCwgQXJyYXkuZmluZEluZGV4LCBBcnJheS5jb3B5V2l0aGluLCBBcnJheS5maWxsLCBBcnJheS5lbnRyaWVzLCBBcnJheS5rZXlzLCBBcnJheS52YWx1ZXMsIEFycmF5LmluY2x1ZGVzLCBBcnJheS5mbGF0TWFwLCBBcnJheS5mbGF0LCBBcnJheS5hdCwgQXJyYXkuZmluZExhc3QsIEFycmF5LmZpbmRMYXN0SW5kZXgsIE1hcC5nZXQsIE1hcC5oYXMsIE1hcC5zZXQsIE1hcC5kZWxldGUsIE1hcC5rZXlzLCBNYXAudmFsdWVzLCBNYXAuY2xlYXIsIE1hcC5mb3JFYWNoLCBNYXAuZW50cmllcywgTWFwLnNpemUsIFNldC5oYXMsIFNldC5hZGQsIFNldC5kZWxldGUsIFNldC5lbnRyaWVzLCBTZXQuY2xlYXIsIFNldC5mb3JFYWNoLCBTZXQudmFsdWVzLCBTZXQua2V5cywgU2V0LnNpemUsIFdlYWtNYXAuaGFzLCBXZWFrTWFwLmdldCwgV2Vha01hcC5kZWxldGUsIFdlYWtNYXAuc2V0LCBXZWFrU2V0LmFkZCwgV2Vha1NldC5kZWxldGUsIFdlYWtTZXQuaGFzLCBBdG9taWNzLmNvbXBhcmVFeGNoYW5nZSwgQXRvbWljcy5sb2FkLCBBdG9taWNzLnN0b3JlLCBBdG9taWNzLmV4Y2hhbmdlLCBBdG9taWNzLmFkZCwgQXRvbWljcy5zdWIsIEF0b21pY3MuYW5kLCBBdG9taWNzLm9yLCBBdG9taWNzLnhvciwgQXRvbWljcy5pc0xvY2tGcmVlLCBBdG9taWNzLndhaXQsIEF0b21pY3Mubm90aWZ5LCBBdG9taWNzLndha2UsIEpTT04ucGFyc2UsIEpTT04uc3RyaW5naWZ5LCBQcm9taXNlLmFsbCwgUHJvbWlzZS5hbGxTZXR0bGVkLCBQcm9taXNlLmFueSwgUHJvbWlzZS5yYWNlLCBQcm9taXNlLnJlamVjdCwgUHJvbWlzZS5yZXNvbHZlLCBQcm9taXNlLnRoZW4sIFByb21pc2UuY2F0Y2gsIFByb21pc2UuZmluYWxseSwgUmVmbGVjdC5hcHBseSwgUmVmbGVjdC5jb25zdHJ1Y3QsIFJlZmxlY3QuZGVmaW5lUHJvcGVydHksIFJlZmxlY3QuZGVsZXRlUHJvcGVydHksIFJlZmxlY3QuZ2V0LCBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciwgUmVmbGVjdC5nZXRQcm90b3R5cGVPZiwgUmVmbGVjdC5oYXMsIFJlZmxlY3QuaXNFeHRlbnNpYmxlLCBSZWZsZWN0Lm93bktleXMsIFJlZmxlY3QucHJldmVudEV4dGVuc2lvbnMsIFJlZmxlY3Quc2V0LCBSZWZsZWN0LnNldFByb3RvdHlwZU9mLCBQcm94eS5yZXZvY2FibGUsIEludGwuZ2V0Q2Fub25pY2FsTG9jYWxlcywgSW50bC5zdXBwb3J0ZWRWYWx1ZXNPZiwgSW50bC5Db2xsYXRvciwgSW50bC5EYXRlVGltZUZvcm1hdCwgSW50bC5EaXNwbGF5TmFtZXMsIEludGwuTGlzdEZvcm1hdCwgSW50bC5Mb2NhbGUsIEludGwuTnVtYmVyRm9ybWF0LCBJbnRsLlBsdXJhbFJ1bGVzLCBJbnRsLlJlbGF0aXZlVGltZUZvcm1hdCwgV2ViQXNzZW1ibHkuY29tcGlsZSwgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUsIFdlYkFzc2VtYmx5LnZhbGlkYXRlLCBXZWJBc3NlbWJseS5jb21waWxlU3RyZWFtaW5nLCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZywgV2ViQXNzZW1ibHkuTW9kdWxlLCBXZWJBc3NlbWJseS5JbnN0YW5jZSwgV2ViQXNzZW1ibHkuTWVtb3J5LCBXZWJBc3NlbWJseS5UYWJsZSwgV2ViQXNzZW1ibHkuR2xvYmFsLCBXZWJBc3NlbWJseS5Db21waWxlRXJyb3IsIFdlYkFzc2VtYmx5LkxpbmtFcnJvciwgV2ViQXNzZW1ibHkuUnVudGltZUVycm9yLCBXZWJBc3NlbWJseS5UYWcsIFdlYkFzc2VtYmx5LkV4Y2VwdGlvbiwgRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUsIERvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lTlMsIERvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUsIERvY3VtZW50LmdldEVsZW1lbnRCeUlkLCBEb2N1bWVudC5jcmVhdGVFbGVtZW50LCBEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMsIERvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQsIERvY3VtZW50LmNyZWF0ZVRleHROb2RlLCBEb2N1bWVudC5jcmVhdGVDb21tZW50LCBEb2N1bWVudC5jcmVhdGVQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sIERvY3VtZW50LmltcG9ydE5vZGUsIERvY3VtZW50LmFkb3B0Tm9kZSwgRG9jdW1lbnQuY3JlYXRlRXZlbnQsIERvY3VtZW50LmNyZWF0ZVJhbmdlLCBEb2N1bWVudC5jcmVhdGVOb2RlSXRlcmF0b3IsIERvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIsIERvY3VtZW50LmNyZWF0ZUNEQVRBU2VjdGlvbiwgRG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlLCBEb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGVOUywgRG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUsIERvY3VtZW50Lm9wZW4sIERvY3VtZW50LmNsb3NlLCBEb2N1bWVudC53cml0ZSwgRG9jdW1lbnQud3JpdGVsbiwgRG9jdW1lbnQuaGFzRm9jdXMsIERvY3VtZW50LmV4ZWNDb21tYW5kLCBEb2N1bWVudC5xdWVyeUNvbW1hbmRFbmFibGVkLCBEb2N1bWVudC5xdWVyeUNvbW1hbmRJbmRldGVybSwgRG9jdW1lbnQucXVlcnlDb21tYW5kU3RhdGUsIERvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCwgRG9jdW1lbnQucXVlcnlDb21tYW5kVmFsdWUsIERvY3VtZW50LnJlbGVhc2VDYXB0dXJlLCBEb2N1bWVudC5tb3pTZXRJbWFnZUVsZW1lbnQsIERvY3VtZW50LmNsZWFyLCBEb2N1bWVudC5jYXB0dXJlRXZlbnRzLCBEb2N1bWVudC5yZWxlYXNlRXZlbnRzLCBEb2N1bWVudC5leGl0RnVsbHNjcmVlbiwgRG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbiwgRG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrLCBEb2N1bWVudC5lbmFibGVTdHlsZVNoZWV0c0ZvclNldCwgRG9jdW1lbnQuY2FyZXRQb3NpdGlvbkZyb21Qb2ludCwgRG9jdW1lbnQucXVlcnlTZWxlY3RvciwgRG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCwgRG9jdW1lbnQuZ2V0U2VsZWN0aW9uLCBEb2N1bWVudC5oYXNTdG9yYWdlQWNjZXNzLCBEb2N1bWVudC5yZXF1ZXN0U3RvcmFnZUFjY2VzcywgRG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCwgRG9jdW1lbnQuZWxlbWVudHNGcm9tUG9pbnQsIERvY3VtZW50LmdldEFuaW1hdGlvbnMsIERvY3VtZW50LnByZXBlbmQsIERvY3VtZW50LmFwcGVuZCwgRG9jdW1lbnQucmVwbGFjZUNoaWxkcmVuLCBEb2N1bWVudC5jcmVhdGVFeHByZXNzaW9uLCBEb2N1bWVudC5jcmVhdGVOU1Jlc29sdmVyLCBEb2N1bWVudC5ldmFsdWF0ZSwgRG9jdW1lbnQuaW1wbGVtZW50YXRpb24sIERvY3VtZW50LlVSTCwgRG9jdW1lbnQuZG9jdW1lbnRVUkksIERvY3VtZW50LmNvbXBhdE1vZGUsIERvY3VtZW50LmNoYXJhY3RlclNldCwgRG9jdW1lbnQuY2hhcnNldCwgRG9jdW1lbnQuaW5wdXRFbmNvZGluZywgRG9jdW1lbnQuY29udGVudFR5cGUsIERvY3VtZW50LmRvY3R5cGUsIERvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgRG9jdW1lbnQuZG9tYWluLCBEb2N1bWVudC5yZWZlcnJlciwgRG9jdW1lbnQuY29va2llLCBEb2N1bWVudC5sYXN0TW9kaWZpZWQsIERvY3VtZW50LnJlYWR5U3RhdGUsIERvY3VtZW50LnRpdGxlLCBEb2N1bWVudC5kaXIsIERvY3VtZW50LmJvZHksIERvY3VtZW50LmhlYWQsIERvY3VtZW50LmltYWdlcywgRG9jdW1lbnQuZW1iZWRzLCBEb2N1bWVudC5wbHVnaW5zLCBEb2N1bWVudC5saW5rcywgRG9jdW1lbnQuZm9ybXMsIERvY3VtZW50LnNjcmlwdHMsIERvY3VtZW50LmRlZmF1bHRWaWV3LCBEb2N1bWVudC5kZXNpZ25Nb2RlLCBEb2N1bWVudC5vbnJlYWR5c3RhdGVjaGFuZ2UsIERvY3VtZW50Lm9uYmVmb3Jlc2NyaXB0ZXhlY3V0ZSwgRG9jdW1lbnQub25hZnRlcnNjcmlwdGV4ZWN1dGUsIERvY3VtZW50LmN1cnJlbnRTY3JpcHQsIERvY3VtZW50LmZnQ29sb3IsIERvY3VtZW50LmxpbmtDb2xvciwgRG9jdW1lbnQudmxpbmtDb2xvciwgRG9jdW1lbnQuYWxpbmtDb2xvciwgRG9jdW1lbnQuYmdDb2xvciwgRG9jdW1lbnQuYW5jaG9ycywgRG9jdW1lbnQuYXBwbGV0cywgRG9jdW1lbnQuYWxsLCBEb2N1bWVudC5mdWxsc2NyZWVuLCBEb2N1bWVudC5tb3pGdWxsU2NyZWVuLCBEb2N1bWVudC5mdWxsc2NyZWVuRW5hYmxlZCwgRG9jdW1lbnQubW96RnVsbFNjcmVlbkVuYWJsZWQsIERvY3VtZW50Lm9uZnVsbHNjcmVlbmNoYW5nZSwgRG9jdW1lbnQub25mdWxsc2NyZWVuZXJyb3IsIERvY3VtZW50Lm9ucG9pbnRlcmxvY2tjaGFuZ2UsIERvY3VtZW50Lm9ucG9pbnRlcmxvY2tlcnJvciwgRG9jdW1lbnQuaGlkZGVuLCBEb2N1bWVudC52aXNpYmlsaXR5U3RhdGUsIERvY3VtZW50Lm9udmlzaWJpbGl0eWNoYW5nZSwgRG9jdW1lbnQuc2VsZWN0ZWRTdHlsZVNoZWV0U2V0LCBEb2N1bWVudC5sYXN0U3R5bGVTaGVldFNldCwgRG9jdW1lbnQucHJlZmVycmVkU3R5bGVTaGVldFNldCwgRG9jdW1lbnQuc3R5bGVTaGVldFNldHMsIERvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQsIERvY3VtZW50LnRpbWVsaW5lLCBEb2N1bWVudC5yb290RWxlbWVudCwgRG9jdW1lbnQub25jb3B5LCBEb2N1bWVudC5vbmN1dCwgRG9jdW1lbnQub25wYXN0ZSwgRG9jdW1lbnQuYWN0aXZlRWxlbWVudCwgRG9jdW1lbnQuc3R5bGVTaGVldHMsIERvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCwgRG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQsIERvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50LCBEb2N1bWVudC5hZG9wdGVkU3R5bGVTaGVldHMsIERvY3VtZW50LmZvbnRzLCBEb2N1bWVudC5vbmFib3J0LCBEb2N1bWVudC5vbmJsdXIsIERvY3VtZW50Lm9uZm9jdXMsIERvY3VtZW50Lm9uYXV4Y2xpY2ssIERvY3VtZW50Lm9uYmVmb3JlaW5wdXQsIERvY3VtZW50Lm9uY2FucGxheSwgRG9jdW1lbnQub25jYW5wbGF5dGhyb3VnaCwgRG9jdW1lbnQub25jaGFuZ2UsIERvY3VtZW50Lm9uY2xpY2ssIERvY3VtZW50Lm9uY2xvc2UsIERvY3VtZW50Lm9uY29udGV4dG1lbnUsIERvY3VtZW50Lm9uY3VlY2hhbmdlLCBEb2N1bWVudC5vbmRibGNsaWNrLCBEb2N1bWVudC5vbmRyYWcsIERvY3VtZW50Lm9uZHJhZ2VuZCwgRG9jdW1lbnQub25kcmFnZW50ZXIsIERvY3VtZW50Lm9uZHJhZ2V4aXQsIERvY3VtZW50Lm9uZHJhZ2xlYXZlLCBEb2N1bWVudC5vbmRyYWdvdmVyLCBEb2N1bWVudC5vbmRyYWdzdGFydCwgRG9jdW1lbnQub25kcm9wLCBEb2N1bWVudC5vbmR1cmF0aW9uY2hhbmdlLCBEb2N1bWVudC5vbmVtcHRpZWQsIERvY3VtZW50Lm9uZW5kZWQsIERvY3VtZW50Lm9uZm9ybWRhdGEsIERvY3VtZW50Lm9uaW5wdXQsIERvY3VtZW50Lm9uaW52YWxpZCwgRG9jdW1lbnQub25rZXlkb3duLCBEb2N1bWVudC5vbmtleXByZXNzLCBEb2N1bWVudC5vbmtleXVwLCBEb2N1bWVudC5vbmxvYWQsIERvY3VtZW50Lm9ubG9hZGVkZGF0YSwgRG9jdW1lbnQub25sb2FkZWRtZXRhZGF0YSwgRG9jdW1lbnQub25sb2Fkc3RhcnQsIERvY3VtZW50Lm9ubW91c2Vkb3duLCBEb2N1bWVudC5vbm1vdXNlZW50ZXIsIERvY3VtZW50Lm9ubW91c2VsZWF2ZSwgRG9jdW1lbnQub25tb3VzZW1vdmUsIERvY3VtZW50Lm9ubW91c2VvdXQsIERvY3VtZW50Lm9ubW91c2VvdmVyLCBEb2N1bWVudC5vbm1vdXNldXAsIERvY3VtZW50Lm9ud2hlZWwsIERvY3VtZW50Lm9ucGF1c2UsIERvY3VtZW50Lm9ucGxheSwgRG9jdW1lbnQub25wbGF5aW5nLCBEb2N1bWVudC5vbnByb2dyZXNzLCBEb2N1bWVudC5vbnJhdGVjaGFuZ2UsIERvY3VtZW50Lm9ucmVzZXQsIERvY3VtZW50Lm9ucmVzaXplLCBEb2N1bWVudC5vbnNjcm9sbCwgRG9jdW1lbnQub25zZWN1cml0eXBvbGljeXZpb2xhdGlvbiwgRG9jdW1lbnQub25zZWVrZWQsIERvY3VtZW50Lm9uc2Vla2luZywgRG9jdW1lbnQub25zZWxlY3QsIERvY3VtZW50Lm9uc2xvdGNoYW5nZSwgRG9jdW1lbnQub25zdGFsbGVkLCBEb2N1bWVudC5vbnN1Ym1pdCwgRG9jdW1lbnQub25zdXNwZW5kLCBEb2N1bWVudC5vbnRpbWV1cGRhdGUsIERvY3VtZW50Lm9udm9sdW1lY2hhbmdlLCBEb2N1bWVudC5vbndhaXRpbmcsIERvY3VtZW50Lm9uc2VsZWN0c3RhcnQsIERvY3VtZW50Lm9uc2VsZWN0aW9uY2hhbmdlLCBEb2N1bWVudC5vbnRvZ2dsZSwgRG9jdW1lbnQub25wb2ludGVyY2FuY2VsLCBEb2N1bWVudC5vbnBvaW50ZXJkb3duLCBEb2N1bWVudC5vbnBvaW50ZXJ1cCwgRG9jdW1lbnQub25wb2ludGVybW92ZSwgRG9jdW1lbnQub25wb2ludGVyb3V0LCBEb2N1bWVudC5vbnBvaW50ZXJvdmVyLCBEb2N1bWVudC5vbnBvaW50ZXJlbnRlciwgRG9jdW1lbnQub25wb2ludGVybGVhdmUsIERvY3VtZW50Lm9uZ290cG9pbnRlcmNhcHR1cmUsIERvY3VtZW50Lm9ubG9zdHBvaW50ZXJjYXB0dXJlLCBEb2N1bWVudC5vbm1vemZ1bGxzY3JlZW5jaGFuZ2UsIERvY3VtZW50Lm9ubW96ZnVsbHNjcmVlbmVycm9yLCBEb2N1bWVudC5vbmFuaW1hdGlvbmNhbmNlbCwgRG9jdW1lbnQub25hbmltYXRpb25lbmQsIERvY3VtZW50Lm9uYW5pbWF0aW9uaXRlcmF0aW9uLCBEb2N1bWVudC5vbmFuaW1hdGlvbnN0YXJ0LCBEb2N1bWVudC5vbnRyYW5zaXRpb25jYW5jZWwsIERvY3VtZW50Lm9udHJhbnNpdGlvbmVuZCwgRG9jdW1lbnQub250cmFuc2l0aW9ucnVuLCBEb2N1bWVudC5vbnRyYW5zaXRpb25zdGFydCwgRG9jdW1lbnQub253ZWJraXRhbmltYXRpb25lbmQsIERvY3VtZW50Lm9ud2Via2l0YW5pbWF0aW9uaXRlcmF0aW9uLCBEb2N1bWVudC5vbndlYmtpdGFuaW1hdGlvbnN0YXJ0LCBEb2N1bWVudC5vbndlYmtpdHRyYW5zaXRpb25lbmQsIERvY3VtZW50Lm9uZXJyb3IsIERvY3VtZW50LmNoaWxkcmVuLCBEb2N1bWVudC5maXJzdEVsZW1lbnRDaGlsZCwgRG9jdW1lbnQubGFzdEVsZW1lbnRDaGlsZCwgRG9jdW1lbnQuY2hpbGRFbGVtZW50Q291bnQsIEVsZW1lbnQuZ2V0QXR0cmlidXRlTmFtZXMsIEVsZW1lbnQuZ2V0QXR0cmlidXRlLCBFbGVtZW50LmdldEF0dHJpYnV0ZU5TLCBFbGVtZW50LnRvZ2dsZUF0dHJpYnV0ZSwgRWxlbWVudC5zZXRBdHRyaWJ1dGUsIEVsZW1lbnQuc2V0QXR0cmlidXRlTlMsIEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlLCBFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZU5TLCBFbGVtZW50Lmhhc0F0dHJpYnV0ZSwgRWxlbWVudC5oYXNBdHRyaWJ1dGVOUywgRWxlbWVudC5oYXNBdHRyaWJ1dGVzLCBFbGVtZW50LmNsb3Nlc3QsIEVsZW1lbnQubWF0Y2hlcywgRWxlbWVudC53ZWJraXRNYXRjaGVzU2VsZWN0b3IsIEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUsIEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUywgRWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lLCBFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudCwgRWxlbWVudC5pbnNlcnRBZGphY2VudFRleHQsIEVsZW1lbnQubW96TWF0Y2hlc1NlbGVjdG9yLCBFbGVtZW50LnNldFBvaW50ZXJDYXB0dXJlLCBFbGVtZW50LnJlbGVhc2VQb2ludGVyQ2FwdHVyZSwgRWxlbWVudC5oYXNQb2ludGVyQ2FwdHVyZSwgRWxlbWVudC5zZXRDYXB0dXJlLCBFbGVtZW50LnJlbGVhc2VDYXB0dXJlLCBFbGVtZW50LmdldEF0dHJpYnV0ZU5vZGUsIEVsZW1lbnQuc2V0QXR0cmlidXRlTm9kZSwgRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGVOb2RlLCBFbGVtZW50LmdldEF0dHJpYnV0ZU5vZGVOUywgRWxlbWVudC5zZXRBdHRyaWJ1dGVOb2RlTlMsIEVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMsIEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0LCBFbGVtZW50LmNoZWNrVmlzaWJpbGl0eSwgRWxlbWVudC5zY3JvbGxJbnRvVmlldywgRWxlbWVudC5zY3JvbGwsIEVsZW1lbnQuc2Nyb2xsVG8sIEVsZW1lbnQuc2Nyb2xsQnksIEVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MLCBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IsIEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCwgRWxlbWVudC5hdHRhY2hTaGFkb3csIEVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4sIEVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4sIEVsZW1lbnQucmVxdWVzdFBvaW50ZXJMb2NrLCBFbGVtZW50LmFuaW1hdGUsIEVsZW1lbnQuZ2V0QW5pbWF0aW9ucywgRWxlbWVudC5iZWZvcmUsIEVsZW1lbnQuYWZ0ZXIsIEVsZW1lbnQucmVwbGFjZVdpdGgsIEVsZW1lbnQucmVtb3ZlLCBFbGVtZW50LnByZXBlbmQsIEVsZW1lbnQuYXBwZW5kLCBFbGVtZW50LnJlcGxhY2VDaGlsZHJlbiwgRWxlbWVudC5uYW1lc3BhY2VVUkksIEVsZW1lbnQucHJlZml4LCBFbGVtZW50LmxvY2FsTmFtZSwgRWxlbWVudC50YWdOYW1lLCBFbGVtZW50LmlkLCBFbGVtZW50LmNsYXNzTmFtZSwgRWxlbWVudC5jbGFzc0xpc3QsIEVsZW1lbnQucGFydCwgRWxlbWVudC5hdHRyaWJ1dGVzLCBFbGVtZW50LnNjcm9sbFRvcCwgRWxlbWVudC5zY3JvbGxMZWZ0LCBFbGVtZW50LnNjcm9sbFdpZHRoLCBFbGVtZW50LnNjcm9sbEhlaWdodCwgRWxlbWVudC5jbGllbnRUb3AsIEVsZW1lbnQuY2xpZW50TGVmdCwgRWxlbWVudC5jbGllbnRXaWR0aCwgRWxlbWVudC5jbGllbnRIZWlnaHQsIEVsZW1lbnQuc2Nyb2xsVG9wTWF4LCBFbGVtZW50LnNjcm9sbExlZnRNYXgsIEVsZW1lbnQuaW5uZXJIVE1MLCBFbGVtZW50Lm91dGVySFRNTCwgRWxlbWVudC5zaGFkb3dSb290LCBFbGVtZW50LmFzc2lnbmVkU2xvdCwgRWxlbWVudC5zbG90LCBFbGVtZW50Lm9uZnVsbHNjcmVlbmNoYW5nZSwgRWxlbWVudC5vbmZ1bGxzY3JlZW5lcnJvciwgRWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLCBFbGVtZW50Lm5leHRFbGVtZW50U2libGluZywgRWxlbWVudC5jaGlsZHJlbiwgRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCwgRWxlbWVudC5sYXN0RWxlbWVudENoaWxkLCBFbGVtZW50LmNoaWxkRWxlbWVudENvdW50JywNCiAgICAgICAgfSwNCiAgICB9KTsNCiAgICBjb25zdCBCUk9XU0VSID0gKElTX0JMSU5LID8gJ0Nocm9tZScgOiBJU19HRUNLTyA/ICdGaXJlZm94JyA6ICcnKTsNCiAgICBjb25zdCBnZXRFbmdpbmVNYXBzID0gKGJyb3dzZXIpID0+IHsNCiAgICAgICAgY29uc3QgZ2Vja29DU1MgPSB7DQogICAgICAgICAgICAnNzEnOiBbJy1tb3otY29sdW1uLXNwYW4nXSwNCiAgICAgICAgICAgICc3Mic6IFsnb2Zmc2V0JywgJ29mZnNldC1hbmNob3InLCAnb2Zmc2V0LWRpc3RhbmNlJywgJ29mZnNldC1wYXRoJywgJ29mZnNldC1yb3RhdGUnLCAncm90YXRlJywgJ3NjYWxlJywgJ3RyYW5zbGF0ZSddLA0KICAgICAgICAgICAgJzczJzogWydvdmVyc2Nyb2xsLWJlaGF2aW9yLWJsb2NrJywgJ292ZXJzY3JvbGwtYmVoYXZpb3ItaW5saW5lJ10sDQogICAgICAgICAgICAnNzQtNzknOiBbJyEtbW96LXN0YWNrLXNpemluZycsICd0ZXh0LXVuZGVybGluZS1wb3NpdGlvbiddLA0KICAgICAgICAgICAgJzgwLTg4JzogWydhcHBlYXJhbmNlJ10sDQogICAgICAgICAgICAnODktOTAnOiBbJyEtbW96LW91dGxpbmUtcmFkaXVzJywgJyEtbW96LW91dGxpbmUtcmFkaXVzLWJvdHRvbWxlZnQnLCAnIS1tb3otb3V0bGluZS1yYWRpdXMtYm90dG9tcmlnaHQnLCAnIS1tb3otb3V0bGluZS1yYWRpdXMtdG9wbGVmdCcsICchLW1vei1vdXRsaW5lLXJhZGl1cy10b3ByaWdodCcsICdhc3BlY3QtcmF0aW8nXSwNCiAgICAgICAgICAgICc5MSc6IFsndGFiLXNpemUnXSwNCiAgICAgICAgICAgICc5Mi05NSc6IFsnYWNjZW50LWNvbG9yJ10sDQogICAgICAgICAgICAnOTYnOiBbJ2NvbG9yLXNjaGVtZSddLA0KICAgICAgICAgICAgJzk3JzogWydwcmludC1jb2xvci1hZGp1c3QnLCAnc2Nyb2xsYmFyLWd1dHRlcicsICdkJ10sDQogICAgICAgICAgICAnOTgtMTAxJzogWydoeXBoZW5hdGUtY2hhcmFjdGVyJ10sDQogICAgICAgICAgICAnMTAyJzogWydvdmVyZmxvdy1jbGlwLW1hcmdpbiddLA0KICAgICAgICAgICAgJzEwMy0xMDYnOiBbJ3Njcm9sbC1zbmFwLXN0b3AnXSwNCiAgICAgICAgICAgICcxMDctMTA4JzogWydiYWNrZHJvcC1maWx0ZXInLCAnZm9udC1wYWxldHRlJywgJ2NvbnRhaW4taW50cmluc2ljLWJsb2NrLXNpemUnLCAnY29udGFpbi1pbnRyaW5zaWMtaGVpZ2h0JywgJ2NvbnRhaW4taW50cmluc2ljLWlubGluZS1zaXplJywgJ2NvbnRhaW4taW50cmluc2ljLXdpZHRoJywgJ2NvbnRhaW4taW50cmluc2ljLXNpemUnXSwNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgYmxpbmtDU1MgPSB7DQogICAgICAgICAgICAnNzYnOiBbJ2JhY2tkcm9wLWZpbHRlciddLA0KICAgICAgICAgICAgJzc3LTgwJzogWydvdmVyc2Nyb2xsLWJlaGF2aW9yLWJsb2NrJywgJ292ZXJzY3JvbGwtYmVoYXZpb3ItaW5saW5lJ10sDQogICAgICAgICAgICAnODEnOiBbJ2NvbG9yLXNjaGVtZScsICdpbWFnZS1vcmllbnRhdGlvbiddLA0KICAgICAgICAgICAgJzgzJzogWydjb250YWluLWludHJpbnNpYy1zaXplJ10sDQogICAgICAgICAgICAnODQnOiBbJ2FwcGVhcmFuY2UnLCAncnVieS1wb3NpdGlvbiddLA0KICAgICAgICAgICAgJzg1LTg2JzogWydjb250ZW50LXZpc2liaWxpdHknLCAnY291bnRlci1zZXQnLCAnaW5oZXJpdHMnLCAnaW5pdGlhbC12YWx1ZScsICdwYWdlLW9yaWVudGF0aW9uJywgJ3N5bnRheCddLA0KICAgICAgICAgICAgJzg3JzogWydhc2NlbnQtb3ZlcnJpZGUnLCAnYm9yZGVyLWJsb2NrJywgJ2JvcmRlci1ibG9jay1jb2xvcicsICdib3JkZXItYmxvY2stc3R5bGUnLCAnYm9yZGVyLWJsb2NrLXdpZHRoJywgJ2JvcmRlci1pbmxpbmUnLCAnYm9yZGVyLWlubGluZS1jb2xvcicsICdib3JkZXItaW5saW5lLXN0eWxlJywgJ2JvcmRlci1pbmxpbmUtd2lkdGgnLCAnZGVzY2VudC1vdmVycmlkZScsICdpbnNldCcsICdpbnNldC1ibG9jaycsICdpbnNldC1ibG9jay1lbmQnLCAnaW5zZXQtYmxvY2stc3RhcnQnLCAnaW5zZXQtaW5saW5lJywgJ2luc2V0LWlubGluZS1lbmQnLCAnaW5zZXQtaW5saW5lLXN0YXJ0JywgJ2xpbmUtZ2FwLW92ZXJyaWRlJywgJ21hcmdpbi1ibG9jaycsICdtYXJnaW4taW5saW5lJywgJ3BhZGRpbmctYmxvY2snLCAncGFkZGluZy1pbmxpbmUnLCAndGV4dC1kZWNvcmF0aW9uLXRoaWNrbmVzcycsICd0ZXh0LXVuZGVybGluZS1vZmZzZXQnXSwNCiAgICAgICAgICAgICc4OCc6IFsnYXNwZWN0LXJhdGlvJ10sDQogICAgICAgICAgICAnODknOiBbJ2JvcmRlci1lbmQtZW5kLXJhZGl1cycsICdib3JkZXItZW5kLXN0YXJ0LXJhZGl1cycsICdib3JkZXItc3RhcnQtZW5kLXJhZGl1cycsICdib3JkZXItc3RhcnQtc3RhcnQtcmFkaXVzJywgJ2ZvcmNlZC1jb2xvci1hZGp1c3QnXSwNCiAgICAgICAgICAgICc5MCc6IFsnb3ZlcmZsb3ctY2xpcC1tYXJnaW4nXSwNCiAgICAgICAgICAgICc5MSc6IFsnYWRkaXRpdmUtc3ltYm9scycsICdmYWxsYmFjaycsICduZWdhdGl2ZScsICdwYWQnLCAncHJlZml4JywgJ3JhbmdlJywgJ3NwZWFrLWFzJywgJ3N1ZmZpeCcsICdzeW1ib2xzJywgJ3N5c3RlbSddLA0KICAgICAgICAgICAgJzkyJzogWydzaXplLWFkanVzdCddLA0KICAgICAgICAgICAgJzkzJzogWydhY2NlbnQtY29sb3InXSwNCiAgICAgICAgICAgICc5NCc6IFsnc2Nyb2xsYmFyLWd1dHRlciddLA0KICAgICAgICAgICAgJzk1LTk2JzogWydhcHAtcmVnaW9uJywgJ2NvbnRhaW4taW50cmluc2ljLWJsb2NrLXNpemUnLCAnY29udGFpbi1pbnRyaW5zaWMtaGVpZ2h0JywgJ2NvbnRhaW4taW50cmluc2ljLWlubGluZS1zaXplJywgJ2NvbnRhaW4taW50cmluc2ljLXdpZHRoJ10sDQogICAgICAgICAgICAnOTctOTgnOiBbJ2ZvbnQtc3ludGhlc2lzLXNtYWxsLWNhcHMnLCAnZm9udC1zeW50aGVzaXMtc3R5bGUnLCAnZm9udC1zeW50aGVzaXMtd2VpZ2h0JywgJ2ZvbnQtc3ludGhlc2lzJ10sDQogICAgICAgICAgICAnOTktMTAwJzogWyd0ZXh0LWVtcGhhc2lzLWNvbG9yJywgJ3RleHQtZW1waGFzaXMtcG9zaXRpb24nLCAndGV4dC1lbXBoYXNpcy1zdHlsZScsICd0ZXh0LWVtcGhhc2lzJ10sDQogICAgICAgICAgICAnMTAxLTEwMyc6IFsnZm9udC1wYWxldHRlJywgJ2Jhc2UtcGFsZXR0ZScsICdvdmVycmlkZS1jb2xvcnMnXSwNCiAgICAgICAgICAgICcxMDQnOiBbJ29iamVjdC12aWV3LWJveCddLA0KICAgICAgICAgICAgJzEwNSc6IFsnY29udGFpbmVyLW5hbWUnLCAnY29udGFpbmVyLXR5cGUnLCAnY29udGFpbmVyJ10sDQogICAgICAgICAgICAnMTA2LTEwNyc6IFsnaHlwaGVuYXRlLWNoYXJhY3RlciddLA0KICAgICAgICAgICAgJzEwOCc6IFsnaHlwaGVuYXRlLWNoYXJhY3RlcicsICchb3JpZW50YXRpb24nLCAnIW1heC16b29tJywgJyFtaW4tem9vbScsICchdXNlci16b29tJ10sDQogICAgICAgICAgICAnMTA5JzogWydoeXBoZW5hdGUtbGltaXQtY2hhcnMnLCAnbWF0aC1kZXB0aCcsICdtYXRoLXNoaWZ0JywgJ21hdGgtc3R5bGUnXSwNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2Vja29XaW5kb3cgPSB7DQogICAgICAgICAgICAvLyBkaXNyZWdhcmQ6ICdyZXBvcnRFcnJvcicsJ29uc2VjdXJpdHlwb2xpY3l2aW9sYXRpb24nLCdvbnNsb3RjaGFuZ2UnDQogICAgICAgICAgICAnNzEnOiBbJ01hdGhNTEVsZW1lbnQnLCAnIVNWR1pvb21BbmRQYW4nXSwNCiAgICAgICAgICAgICc3Mi03Myc6IFsnIUJhdHRlcnlNYW5hZ2VyJywgJ0Zvcm1EYXRhRXZlbnQnLCAnR2VvbG9jYXRpb24nLCAnR2VvbG9jYXRpb25Db29yZGluYXRlcycsICdHZW9sb2NhdGlvblBvc2l0aW9uJywgJ0dlb2xvY2F0aW9uUG9zaXRpb25FcnJvcicsICchbW96UGFpbnRDb3VudCddLA0KICAgICAgICAgICAgJzc0JzogWydGb3JtRGF0YUV2ZW50JywgJyF1bmV2YWwnXSwNCiAgICAgICAgICAgICc3NSc6IFsnQW5pbWF0aW9uVGltZWxpbmUnLCAnQ1NTQW5pbWF0aW9uJywgJ0NTU1RyYW5zaXRpb24nLCAnRG9jdW1lbnRUaW1lbGluZScsICdTdWJtaXRFdmVudCddLA0KICAgICAgICAgICAgJzc2LTc3JzogWydBdWRpb1BhcmFtTWFwJywgJ0F1ZGlvV29ya2xldCcsICdBdWRpb1dvcmtsZXROb2RlJywgJ1dvcmtsZXQnXSwNCiAgICAgICAgICAgICc3OCc6IFsnQXRvbWljcyddLA0KICAgICAgICAgICAgJzc5LTgxJzogWydBZ2dyZWdhdGVFcnJvcicsICdGaW5hbGl6YXRpb25SZWdpc3RyeSddLA0KICAgICAgICAgICAgJzgyJzogWydNZWRpYU1ldGFkYXRhJywgJ01lZGlhU2Vzc2lvbicsICdTYW5pdGl6ZXInXSwNCiAgICAgICAgICAgICc4Myc6IFsnTWVkaWFNZXRhZGF0YScsICdNZWRpYVNlc3Npb24nLCAnIVNhbml0aXplciddLA0KICAgICAgICAgICAgJzg0JzogWydQZXJmb3JtYW5jZVBhaW50VGltaW5nJ10sDQogICAgICAgICAgICAnODUtODYnOiBbJ1BlcmZvcm1hbmNlUGFpbnRUaW1pbmcnLCAnIUhUTUxNZW51SXRlbUVsZW1lbnQnLCAnIW9uc2hvdyddLA0KICAgICAgICAgICAgJzg3JzogWydvbmJlZm9yZWlucHV0J10sDQogICAgICAgICAgICAnODgnOiBbJ29uYmVmb3JlaW5wdXQnLCAnIVZpc3VhbFZpZXdwb3J0J10sDQogICAgICAgICAgICAnODktOTInOiBbJyFvbmRldmljZWxpZ2h0JywgJyFvbmRldmljZXByb3hpbWl0eScsICchb251c2VycHJveGltaXR5J10sDQogICAgICAgICAgICAnOTMtOTUnOiBbJ0VsZW1lbnRJbnRlcm5hbHMnXSwNCiAgICAgICAgICAgICc5Nic6IFsnTG9jaycsICdMb2NrTWFuYWdlciddLA0KICAgICAgICAgICAgJzk3JzogWydDU1NMYXllckJsb2NrUnVsZScsICdDU1NMYXllclN0YXRlbWVudFJ1bGUnXSwNCiAgICAgICAgICAgICc5OCc6IFsnSFRNTERpYWxvZ0VsZW1lbnQnXSwNCiAgICAgICAgICAgICc5OSc6IFsnTmF2aWdhdGlvblByZWxvYWRNYW5hZ2VyJ10sDQogICAgICAgICAgICAnMTAwLTEwNCc6IFsnV3JpdGFibGVTdHJlYW0nXSwNCiAgICAgICAgICAgICcxMDUtMTA2JzogWydUZXh0RGVjb2RlclN0cmVhbScsICdPZmZzY3JlZW5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQnLCAnT2Zmc2NyZWVuQ2FudmFzJywgJ1RleHRFbmNvZGVyU3RyZWFtJ10sDQogICAgICAgICAgICAnMTA3LTEwOCc6IFsnQ1NTRm9udFBhbGV0dGVWYWx1ZXNSdWxlJ10sDQogICAgICAgIH07DQogICAgICAgIGNvbnN0IGJsaW5rV2luZG93ID0gew0KICAgICAgICAgICAgLy8gZGlzcmVnYXJkOiBFeWVEcm9wcGVyDQogICAgICAgICAgICAnODAnOiBbJ0NvbXByZXNzaW9uU3RyZWFtJywgJ0RlY29tcHJlc3Npb25TdHJlYW0nLCAnRmVhdHVyZVBvbGljeScsICdGcmFnbWVudERpcmVjdGl2ZScsICdQZXJpb2RpY1N5bmNNYW5hZ2VyJywgJ1ZpZGVvUGxheWJhY2tRdWFsaXR5J10sDQogICAgICAgICAgICAnODEnOiBbJ1N1Ym1pdEV2ZW50JywgJ1hSSGl0VGVzdFJlc3VsdCcsICdYUkhpdFRlc3RTb3VyY2UnLCAnWFJSYXknLCAnWFJUcmFuc2llbnRJbnB1dEhpdFRlc3RSZXN1bHQnLCAnWFJUcmFuc2llbnRJbnB1dEhpdFRlc3RTb3VyY2UnXSwNCiAgICAgICAgICAgICc4Myc6IFsnQmFyY29kZURldGVjdG9yJywgJ1hSRE9NT3ZlcmxheVN0YXRlJywgJ1hSU3lzdGVtJ10sDQogICAgICAgICAgICAnODQnOiBbJ0FuaW1hdGlvblBsYXliYWNrRXZlbnQnLCAnQW5pbWF0aW9uVGltZWxpbmUnLCAnQ1NTQW5pbWF0aW9uJywgJ0NTU1RyYW5zaXRpb24nLCAnRG9jdW1lbnRUaW1lbGluZScsICdGaW5hbGl6YXRpb25SZWdpc3RyeScsICdMYXlvdXRTaGlmdEF0dHJpYnV0aW9uJywgJ1Jlc2l6ZU9ic2VydmVyU2l6ZScsICdXYWtlTG9jaycsICdXYWtlTG9ja1NlbnRpbmVsJywgJ1dlYWtSZWYnLCAnWFJMYXllciddLA0KICAgICAgICAgICAgJzg1JzogWydBZ2dyZWdhdGVFcnJvcicsICdDU1NQcm9wZXJ0eVJ1bGUnLCAnRXZlbnRDb3VudHMnLCAnWFJBbmNob3InLCAnWFJBbmNob3JTZXQnXSwNCiAgICAgICAgICAgICc4Nic6IFsnUlRDRW5jb2RlZEF1ZGlvRnJhbWUnLCAnUlRDRW5jb2RlZFZpZGVvRnJhbWUnXSwNCiAgICAgICAgICAgICc4Nyc6IFsnQ29va2llQ2hhbmdlRXZlbnQnLCAnQ29va2llU3RvcmUnLCAnQ29va2llU3RvcmVNYW5hZ2VyJywgJ1NjaGVkdWxpbmcnXSwNCiAgICAgICAgICAgICc4OCc6IFsnU2NoZWR1bGluZycsICchQmFyY29kZURldGVjdG9yJ10sDQogICAgICAgICAgICAnODknOiBbJ1JlYWRhYmxlQnl0ZVN0cmVhbUNvbnRyb2xsZXInLCAnUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyJywgJ1JlYWRhYmxlU3RyZWFtQllPQlJlcXVlc3QnLCAnUmVhZGFibGVTdHJlYW1EZWZhdWx0Q29udHJvbGxlcicsICdYUldlYkdMQmluZGluZyddLA0KICAgICAgICAgICAgJzkwJzogWydBYnN0cmFjdFJhbmdlJywgJ0N1c3RvbVN0YXRlU2V0JywgJ05hdmlnYXRvclVBRGF0YScsICdYUkNQVURlcHRoSW5mb3JtYXRpb24nLCAnWFJEZXB0aEluZm9ybWF0aW9uJywgJ1hSTGlnaHRFc3RpbWF0ZScsICdYUkxpZ2h0UHJvYmUnLCAnWFJXZWJHTERlcHRoSW5mb3JtYXRpb24nXSwNCiAgICAgICAgICAgICc5MSc6IFsnQ1NTQ291bnRlclN0eWxlUnVsZScsICdHcmF2aXR5U2Vuc29yJywgJ05hdmlnYXRvck1hbmFnZWREYXRhJ10sDQogICAgICAgICAgICAnOTInOiBbJ0NTU0NvdW50ZXJTdHlsZVJ1bGUnLCAnIVNoYXJlZEFycmF5QnVmZmVyJ10sDQogICAgICAgICAgICAnOTMnOiBbJ1dyaXRhYmxlU3RyZWFtRGVmYXVsdENvbnRyb2xsZXInXSwNCiAgICAgICAgICAgICc5NCc6IFsnQXVkaW9EYXRhJywgJ0F1ZGlvRGVjb2RlcicsICdBdWRpb0VuY29kZXInLCAnRW5jb2RlZEF1ZGlvQ2h1bmsnLCAnRW5jb2RlZFZpZGVvQ2h1bmsnLCAnSWRsZURldGVjdG9yJywgJ0ltYWdlRGVjb2RlcicsICdJbWFnZVRyYWNrJywgJ0ltYWdlVHJhY2tMaXN0JywgJ1ZpZGVvQ29sb3JTcGFjZScsICdWaWRlb0RlY29kZXInLCAnVmlkZW9FbmNvZGVyJywgJ1ZpZGVvRnJhbWUnLCAnTWVkaWFTdHJlYW1UcmFja0dlbmVyYXRvcicsICdNZWRpYVN0cmVhbVRyYWNrUHJvY2Vzc29yJywgJ1Byb2ZpbGVyJywgJ1ZpcnR1YWxLZXlib2FyZCcsICdEZWxlZ2F0ZWRJbmtUcmFpbFByZXNlbnRlcicsICdJbmsnLCAnU2NoZWR1bGVyJywgJ1Rhc2tDb250cm9sbGVyJywgJ1Rhc2tQcmlvcml0eUNoYW5nZUV2ZW50JywgJ1Rhc2tTaWduYWwnLCAnVmlydHVhbEtleWJvYXJkR2VvbWV0cnlDaGFuZ2VFdmVudCddLA0KICAgICAgICAgICAgJzk1LTk2JzogWydVUkxQYXR0ZXJuJ10sDQogICAgICAgICAgICAnOTctOTgnOiBbJ1dlYlRyYW5zcG9ydCcsICdXZWJUcmFuc3BvcnRCaWRpcmVjdGlvbmFsU3RyZWFtJywgJ1dlYlRyYW5zcG9ydERhdGFncmFtRHVwbGV4U3RyZWFtJywgJ1dlYlRyYW5zcG9ydEVycm9yJ10sDQogICAgICAgICAgICAnOTknOiBbJ0NhbnZhc0ZpbHRlcicsICdDU1NMYXllckJsb2NrUnVsZScsICdDU1NMYXllclN0YXRlbWVudFJ1bGUnXSwNCiAgICAgICAgICAgICcxMDAnOiBbJ0NTU01hdGhDbGFtcCddLA0KICAgICAgICAgICAgJzEwMS0xMDQnOiBbJ0NTU0ZvbnRQYWxldHRlVmFsdWVzUnVsZSddLA0KICAgICAgICAgICAgJzEwNS0xMDYnOiBbJ0NTU0NvbnRhaW5lclJ1bGUnXSwNCiAgICAgICAgICAgICcxMDctMTA4JzogWydYUkNhbWVyYSddLA0KICAgICAgICAgICAgJzEwOSc6IFsnTWF0aE1MRWxlbWVudCddLA0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBibGlua0pTID0gew0KICAgICAgICAgICAgJzc2JzogWydEb2N1bWVudC5vbnNlY3VyaXR5cG9saWN5dmlvbGF0aW9uJywgJ1Byb21pc2UuYWxsU2V0dGxlZCddLA0KICAgICAgICAgICAgJzc3JzogWydEb2N1bWVudC5vbmZvcm1kYXRhJywgJ0RvY3VtZW50Lm9ucG9pbnRlcnJhd3VwZGF0ZSddLA0KICAgICAgICAgICAgJzc4JzogWydFbGVtZW50LmVsZW1lbnRUaW1pbmcnXSwNCiAgICAgICAgICAgICc3OSc6IFsnRG9jdW1lbnQub25hbmltYXRpb25lbmQnLCAnRG9jdW1lbnQub25hbmltYXRpb25pdGVyYXRpb24nLCAnRG9jdW1lbnQub25hbmltYXRpb25zdGFydCcsICdEb2N1bWVudC5vbnRyYW5zaXRpb25lbmQnXSwNCiAgICAgICAgICAgICc4MCc6IFsnIURvY3VtZW50LnJlZ2lzdGVyRWxlbWVudCcsICchRWxlbWVudC5jcmVhdGVTaGFkb3dSb290JywgJyFFbGVtZW50LmdldERlc3RpbmF0aW9uSW5zZXJ0aW9uUG9pbnRzJ10sDQogICAgICAgICAgICAnODEnOiBbJ0RvY3VtZW50Lm9ud2Via2l0YW5pbWF0aW9uZW5kJywgJ0RvY3VtZW50Lm9ud2Via2l0YW5pbWF0aW9uaXRlcmF0aW9uJywgJ0RvY3VtZW50Lm9ud2Via2l0YW5pbWF0aW9uc3RhcnQnLCAnRG9jdW1lbnQub253ZWJraXR0cmFuc2l0aW9uZW5kJywgJ0VsZW1lbnQuYXJpYUF0b21pYycsICdFbGVtZW50LmFyaWFBdXRvQ29tcGxldGUnLCAnRWxlbWVudC5hcmlhQnVzeScsICdFbGVtZW50LmFyaWFDaGVja2VkJywgJ0VsZW1lbnQuYXJpYUNvbENvdW50JywgJ0VsZW1lbnQuYXJpYUNvbEluZGV4JywgJ0VsZW1lbnQuYXJpYUNvbFNwYW4nLCAnRWxlbWVudC5hcmlhQ3VycmVudCcsICdFbGVtZW50LmFyaWFEaXNhYmxlZCcsICdFbGVtZW50LmFyaWFFeHBhbmRlZCcsICdFbGVtZW50LmFyaWFIYXNQb3B1cCcsICdFbGVtZW50LmFyaWFIaWRkZW4nLCAnRWxlbWVudC5hcmlhS2V5U2hvcnRjdXRzJywgJ0VsZW1lbnQuYXJpYUxhYmVsJywgJ0VsZW1lbnQuYXJpYUxldmVsJywgJ0VsZW1lbnQuYXJpYUxpdmUnLCAnRWxlbWVudC5hcmlhTW9kYWwnLCAnRWxlbWVudC5hcmlhTXVsdGlMaW5lJywgJ0VsZW1lbnQuYXJpYU11bHRpU2VsZWN0YWJsZScsICdFbGVtZW50LmFyaWFPcmllbnRhdGlvbicsICdFbGVtZW50LmFyaWFQbGFjZWhvbGRlcicsICdFbGVtZW50LmFyaWFQb3NJblNldCcsICdFbGVtZW50LmFyaWFQcmVzc2VkJywgJ0VsZW1lbnQuYXJpYVJlYWRPbmx5JywgJ0VsZW1lbnQuYXJpYVJlbGV2YW50JywgJ0VsZW1lbnQuYXJpYVJlcXVpcmVkJywgJ0VsZW1lbnQuYXJpYVJvbGVEZXNjcmlwdGlvbicsICdFbGVtZW50LmFyaWFSb3dDb3VudCcsICdFbGVtZW50LmFyaWFSb3dJbmRleCcsICdFbGVtZW50LmFyaWFSb3dTcGFuJywgJ0VsZW1lbnQuYXJpYVNlbGVjdGVkJywgJ0VsZW1lbnQuYXJpYVNvcnQnLCAnRWxlbWVudC5hcmlhVmFsdWVNYXgnLCAnRWxlbWVudC5hcmlhVmFsdWVNaW4nLCAnRWxlbWVudC5hcmlhVmFsdWVOb3cnLCAnRWxlbWVudC5hcmlhVmFsdWVUZXh0JywgJ0ludGwuRGlzcGxheU5hbWVzJ10sDQogICAgICAgICAgICAnODMnOiBbJ0VsZW1lbnQuYXJpYURlc2NyaXB0aW9uJywgJ0VsZW1lbnQub25iZWZvcmV4cnNlbGVjdCddLA0KICAgICAgICAgICAgJzg0JzogWydEb2N1bWVudC5nZXRBbmltYXRpb25zJywgJ0RvY3VtZW50LnRpbWVsaW5lJywgJ0VsZW1lbnQuYXJpYVNldFNpemUnLCAnRWxlbWVudC5nZXRBbmltYXRpb25zJ10sDQogICAgICAgICAgICAnODUnOiBbJ1Byb21pc2UuYW55JywgJ1N0cmluZy5yZXBsYWNlQWxsJ10sDQogICAgICAgICAgICAnODYnOiBbJ0RvY3VtZW50LmZyYWdtZW50RGlyZWN0aXZlJywgJ0RvY3VtZW50LnJlcGxhY2VDaGlsZHJlbicsICdFbGVtZW50LnJlcGxhY2VDaGlsZHJlbicsICchQXRvbWljcy53YWtlJ10sDQogICAgICAgICAgICAnODctODknOiBbJ0F0b21pY3Mud2FpdEFzeW5jJywgJ0RvY3VtZW50Lm9udHJhbnNpdGlvbmNhbmNlbCcsICdEb2N1bWVudC5vbnRyYW5zaXRpb25ydW4nLCAnRG9jdW1lbnQub250cmFuc2l0aW9uc3RhcnQnLCAnSW50bC5TZWdtZW50ZXInXSwNCiAgICAgICAgICAgICc5MCc6IFsnRG9jdW1lbnQub25iZWZvcmV4cnNlbGVjdCcsICdSZWdFeHAuaGFzSW5kaWNlcycsICchRWxlbWVudC5vbmJlZm9yZXhyc2VsZWN0J10sDQogICAgICAgICAgICAnOTEnOiBbJ0VsZW1lbnQuZ2V0SW5uZXJIVE1MJ10sDQogICAgICAgICAgICAnOTInOiBbJ0FycmF5LmF0JywgJ1N0cmluZy5hdCddLA0KICAgICAgICAgICAgJzkzJzogWydFcnJvci5jYXVzZScsICdPYmplY3QuaGFzT3duJ10sDQogICAgICAgICAgICAnOTQnOiBbJyFFcnJvci5jYXVzZScsICdPYmplY3QuaGFzT3duJ10sDQogICAgICAgICAgICAnOTUtOTYnOiBbJ1dlYkFzc2VtYmx5LkV4Y2VwdGlvbicsICdXZWJBc3NlbWJseS5UYWcnXSwNCiAgICAgICAgICAgICc5Ny05OCc6IFsnQXJyYXkuZmluZExhc3QnLCAnQXJyYXkuZmluZExhc3RJbmRleCcsICdEb2N1bWVudC5vbnNsb3RjaGFuZ2UnXSwNCiAgICAgICAgICAgICc5OS0xMDEnOiBbJ0ludGwuc3VwcG9ydGVkVmFsdWVzT2YnLCAnRG9jdW1lbnQub25jb250ZXh0bG9zdCcsICdEb2N1bWVudC5vbmNvbnRleHRyZXN0b3JlZCddLA0KICAgICAgICAgICAgJzEwMic6IFsnRWxlbWVudC5hcmlhSW52YWxpZCcsICdEb2N1bWVudC5vbmJlZm9yZW1hdGNoJ10sDQogICAgICAgICAgICAnMTAzLTEwNic6IFsnRWxlbWVudC5yb2xlJ10sDQogICAgICAgICAgICAnMTA3LTEwOSc6IFsnRWxlbWVudC5hcmlhQnJhaWxsZUxhYmVsJywgJ0VsZW1lbnQuYXJpYUJyYWlsbGVSb2xlRGVzY3JpcHRpb24nXSwNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2Vja29KUyA9IHsNCiAgICAgICAgICAgICc3MSc6IFsnUHJvbWlzZS5hbGxTZXR0bGVkJ10sDQogICAgICAgICAgICAnNzItNzMnOiBbJ0RvY3VtZW50Lm9uZm9ybWRhdGEnLCAnRWxlbWVudC5wYXJ0J10sDQogICAgICAgICAgICAnNzQnOiBbJyFBcnJheS50b1NvdXJjZScsICchQm9vbGVhbi50b1NvdXJjZScsICchRGF0ZS50b1NvdXJjZScsICchRXJyb3IudG9Tb3VyY2UnLCAnIUZ1bmN0aW9uLnRvU291cmNlJywgJyFJbnRsLnRvU291cmNlJywgJyFKU09OLnRvU291cmNlJywgJyFNYXRoLnRvU291cmNlJywgJyFOdW1iZXIudG9Tb3VyY2UnLCAnIU9iamVjdC50b1NvdXJjZScsICchUmVnRXhwLnRvU291cmNlJywgJyFTdHJpbmcudG9Tb3VyY2UnLCAnIVdlYkFzc2VtYmx5LnRvU291cmNlJ10sDQogICAgICAgICAgICAnNzUtNzYnOiBbJ0RvY3VtZW50LmdldEFuaW1hdGlvbnMnLCAnRG9jdW1lbnQudGltZWxpbmUnLCAnRWxlbWVudC5nZXRBbmltYXRpb25zJywgJ0ludGwuTG9jYWxlJ10sDQogICAgICAgICAgICAnNzcnOiBbJ1N0cmluZy5yZXBsYWNlQWxsJ10sDQogICAgICAgICAgICAnNzgnOiBbJ0F0b21pY3MuYWRkJywgJ0F0b21pY3MuYW5kJywgJ0F0b21pY3MuY29tcGFyZUV4Y2hhbmdlJywgJ0F0b21pY3MuZXhjaGFuZ2UnLCAnQXRvbWljcy5pc0xvY2tGcmVlJywgJ0F0b21pY3MubG9hZCcsICdBdG9taWNzLm5vdGlmeScsICdBdG9taWNzLm9yJywgJ0F0b21pY3Muc3RvcmUnLCAnQXRvbWljcy5zdWInLCAnQXRvbWljcy53YWl0JywgJ0F0b21pY3Mud2FrZScsICdBdG9taWNzLnhvcicsICdEb2N1bWVudC5yZXBsYWNlQ2hpbGRyZW4nLCAnRWxlbWVudC5yZXBsYWNlQ2hpbGRyZW4nLCAnSW50bC5MaXN0Rm9ybWF0JywgJ1JlZ0V4cC5kb3RBbGwnXSwNCiAgICAgICAgICAgICc3OS04NCc6IFsnUHJvbWlzZS5hbnknXSwNCiAgICAgICAgICAgICc4NSc6IFsnIURvY3VtZW50Lm9uc2hvdycsICdQcm9taXNlLmFueSddLA0KICAgICAgICAgICAgJzg2JzogWydJbnRsLkRpc3BsYXlOYW1lcyddLA0KICAgICAgICAgICAgJzg3JzogWydEb2N1bWVudC5vbmJlZm9yZWlucHV0J10sDQogICAgICAgICAgICAnODgtODknOiBbJ1JlZ0V4cC5oYXNJbmRpY2VzJ10sDQogICAgICAgICAgICAnOTAtOTEnOiBbJ0FycmF5LmF0JywgJ1N0cmluZy5hdCddLA0KICAgICAgICAgICAgJzkyJzogWydPYmplY3QuaGFzT3duJ10sDQogICAgICAgICAgICAnOTMtOTknOiBbJ0ludGwuc3VwcG9ydGVkVmFsdWVzT2YnLCAnRG9jdW1lbnQub25zZWN1cml0eXBvbGljeXZpb2xhdGlvbicsICdEb2N1bWVudC5vbnNsb3RjaGFuZ2UnXSwNCiAgICAgICAgICAgICcxMDAnOiBbJ1dlYkFzc2VtYmx5LlRhZycsICdXZWJBc3NlbWJseS5FeGNlcHRpb24nXSwNCiAgICAgICAgICAgICcxMDEtMTAzJzogWydEb2N1bWVudC5hZG9wdGVkU3R5bGVTaGVldHMnXSwNCiAgICAgICAgICAgICcxMDQtMTA4JzogWydBcnJheS5maW5kTGFzdCcsICdBcnJheS5maW5kTGFzdEluZGV4J10sDQogICAgICAgIH07DQogICAgICAgIGNvbnN0IElTX0JMSU5LID0gYnJvd3NlciA9PSAnQ2hyb21lJzsNCiAgICAgICAgY29uc3QgSVNfR0VDS08gPSBicm93c2VyID09ICdGaXJlZm94JzsNCiAgICAgICAgY29uc3QgY3NzID0gKElTX0JMSU5LID8gYmxpbmtDU1MgOiBJU19HRUNLTyA/IGdlY2tvQ1NTIDoge30pOw0KICAgICAgICBjb25zdCB3aW4gPSAoSVNfQkxJTksgPyBibGlua1dpbmRvdyA6IElTX0dFQ0tPID8gZ2Vja29XaW5kb3cgOiB7fSk7DQogICAgICAgIGNvbnN0IGpzID0gKElTX0JMSU5LID8gYmxpbmtKUyA6IElTX0dFQ0tPID8gZ2Vja29KUyA6IHt9KTsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGNzcywNCiAgICAgICAgICAgIHdpbiwNCiAgICAgICAgICAgIGpzLA0KICAgICAgICB9Ow0KICAgIH07DQogICAgY29uc3QgZ2V0SlNDb3JlRmVhdHVyZXMgPSAod2luKSA9PiB7DQogICAgICAgIGNvbnN0IGdsb2JhbE9iamVjdHMgPSBbDQogICAgICAgICAgICAnT2JqZWN0JywNCiAgICAgICAgICAgICdGdW5jdGlvbicsDQogICAgICAgICAgICAnQm9vbGVhbicsDQogICAgICAgICAgICAnU3ltYm9sJywNCiAgICAgICAgICAgICdFcnJvcicsDQogICAgICAgICAgICAnTnVtYmVyJywNCiAgICAgICAgICAgICdCaWdJbnQnLA0KICAgICAgICAgICAgJ01hdGgnLA0KICAgICAgICAgICAgJ0RhdGUnLA0KICAgICAgICAgICAgJ1N0cmluZycsDQogICAgICAgICAgICAnUmVnRXhwJywNCiAgICAgICAgICAgICdBcnJheScsDQogICAgICAgICAgICAnTWFwJywNCiAgICAgICAgICAgICdTZXQnLA0KICAgICAgICAgICAgJ1dlYWtNYXAnLA0KICAgICAgICAgICAgJ1dlYWtTZXQnLA0KICAgICAgICAgICAgJ0F0b21pY3MnLA0KICAgICAgICAgICAgJ0pTT04nLA0KICAgICAgICAgICAgJ1Byb21pc2UnLA0KICAgICAgICAgICAgJ1JlZmxlY3QnLA0KICAgICAgICAgICAgJ1Byb3h5JywNCiAgICAgICAgICAgICdJbnRsJywNCiAgICAgICAgICAgICdXZWJBc3NlbWJseScsDQogICAgICAgICAgICAnRG9jdW1lbnQnLA0KICAgICAgICAgICAgJ0VsZW1lbnQnLA0KICAgICAgICBdOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBnbG9iYWxPYmplY3RzLnJlZHVjZSgoYWNjLCBuYW1lKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgaWdub3JlID0gWyduYW1lJywgJ2xlbmd0aCcsICdjb25zdHJ1Y3RvcicsICdwcm90b3R5cGUnLCAnYXJndW1lbnRzJywgJ2NhbGxlciddOw0KICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3JLZXlzID0gT2JqZWN0LmtleXMoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMod2luW25hbWVdIHx8IHt9KSk7DQogICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvclByb3RvS2V5cyA9IE9iamVjdC5rZXlzKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKCh3aW5bbmFtZV0gfHwge30pLnByb3RvdHlwZSB8fCB7fSkpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHVuaXF1ZXMgPSBbLi4ubmV3IFNldChbLi4uZGVzY3JpcHRvcktleXMsIC4uLmRlc2NyaXB0b3JQcm90b0tleXNdLmZpbHRlcigoa2V5KSA9PiAhaWdub3JlLmluY2x1ZGVzKGtleSkpKV07DQogICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IHVuaXF1ZXMubWFwKChrZXkpID0+IGAke25hbWV9LiR7a2V5fWApOw0KICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCAuLi5rZXlzXTsNCiAgICAgICAgICAgIH0sIFtdKTsNCiAgICAgICAgICAgIHJldHVybiBmZWF0dXJlczsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuIFtdOw0KICAgICAgICB9DQogICAgfTsNCiAgICAvLyBAdHMtaWdub3JlDQogICAgY29uc3QgdmVyc2lvblNvcnQgPSAoeCkgPT4geC5zb3J0KChhLCBiKSA9PiAvXGQrLy5leGVjKGEpWzBdIC0gL1xkKy8uZXhlYyhiKVswXSkucmV2ZXJzZSgpOw0KICAgIGNvbnN0IGdldFZlcnNpb25MaWUgPSAodlJlcG9ydCwgdmVyc2lvbiwgZm9yZ2l2ZW5lc3NPZmZzZXQgPSAwKSA9PiB7DQogICAgICAgIGNvbnN0IHN0YWJsZSA9IGdldFN0YWJsZUZlYXR1cmVzKCk7DQogICAgICAgIGNvbnN0IHsgdmVyc2lvbjogbWF4VmVyc2lvbiB9ID0gc3RhYmxlW0JST1dTRVJdIHx8IHt9Ow0KICAgICAgICBjb25zdCB2YWxpZE1ldHJpY3MgPSB2UmVwb3J0ICYmIHZlcnNpb247DQogICAgICAgIGlmICghdmFsaWRNZXRyaWNzKSB7DQogICAgICAgICAgICByZXR1cm4ge307DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgW3ZTdGFydCwgdkVuZF0gPSB2ZXJzaW9uID8gdmVyc2lvbi5zcGxpdCgnLScpIDogW107DQogICAgICAgIGNvbnN0IHZNYXggPSAodkVuZCB8fCB2U3RhcnQpOw0KICAgICAgICBjb25zdCByZXBvcnRJc1Rvb0hpZ2ggPSArdlJlcG9ydCA+ICgrdk1heCArIGZvcmdpdmVuZXNzT2Zmc2V0KTsNCiAgICAgICAgY29uc3QgcmVwb3J0SXNUb29Mb3cgPSArdlJlcG9ydCA8ICgrdlN0YXJ0IC0gZm9yZ2l2ZW5lc3NPZmZzZXQpOw0KICAgICAgICBjb25zdCByZXBvcnRJc09mZiA9IChyZXBvcnRJc1Rvb0hpZ2ggfHwgcmVwb3J0SXNUb29Mb3cpOw0KICAgICAgICBjb25zdCB2ZXJzaW9uSXNBYm92ZU1heCA9ICgoK3ZNYXggPT0gbWF4VmVyc2lvbikgJiYNCiAgICAgICAgICAgICgrdlJlcG9ydCA+IG1heFZlcnNpb24pKTsNCiAgICAgICAgY29uc3QgbGllZFZlcnNpb24gPSAhdmVyc2lvbklzQWJvdmVNYXggJiYgcmVwb3J0SXNPZmY7DQogICAgICAgIGNvbnN0IGRpc3RhbmNlID0gIWxpZWRWZXJzaW9uID8gMCA6IChNYXRoLmFicyh2UmVwb3J0IC0gKHJlcG9ydElzVG9vTG93ID8gdlN0YXJ0IDogdk1heCkpKTsNCiAgICAgICAgcmV0dXJuIHsgbGllZFZlcnNpb24sIGRpc3RhbmNlIH07DQogICAgfTsNCiAgICBhc3luYyBmdW5jdGlvbiBnZXRFbmdpbmVGZWF0dXJlcyh7IGNzc0NvbXB1dGVkLCBuYXZpZ2F0b3JDb21wdXRlZCwgd2luZG93RmVhdHVyZXNDb21wdXRlZCwgfSkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpOw0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICBjb25zdCB3aW4gPSBQSEFOVE9NX0RBUktORVNTID8gUEhBTlRPTV9EQVJLTkVTUyA6IHdpbmRvdzsNCiAgICAgICAgICAgIGlmICghY3NzQ29tcHV0ZWQgfHwgIXdpbmRvd0ZlYXR1cmVzQ29tcHV0ZWQpIHsNCiAgICAgICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ2ZlYXR1cmVzJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCBqc0ZlYXR1cmVzS2V5cyA9IGdldEpTQ29yZUZlYXR1cmVzKHdpbik7DQogICAgICAgICAgICBjb25zdCB7IGtleXM6IGNvbXB1dGVkU3R5bGVLZXlzIH0gPSBjc3NDb21wdXRlZC5jb21wdXRlZFN0eWxlIHx8IHt9Ow0KICAgICAgICAgICAgY29uc3QgeyBrZXlzOiB3aW5kb3dGZWF0dXJlc0tleXMgfSA9IHdpbmRvd0ZlYXR1cmVzQ29tcHV0ZWQgfHwge307DQogICAgICAgICAgICBjb25zdCB7IHVzZXJBZ2VudFBhcnNlZDogZGVjcnlwdGVkTmFtZSB9ID0gbmF2aWdhdG9yQ29tcHV0ZWQgfHwge307DQogICAgICAgICAgICBjb25zdCBpc05hdGl2ZSA9ICh3aW4sIHgpID0+ICgvXFtuYXRpdmUgY29kZVxdLy50ZXN0KHdpblt4XSArICcnKSAmJg0KICAgICAgICAgICAgICAgICdwcm90b3R5cGUnIGluIHdpblt4XSAmJg0KICAgICAgICAgICAgICAgIHdpblt4XS5wcm90b3R5cGUuY29uc3RydWN0b3IubmFtZSA9PT0geCk7DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBnZXRGZWF0dXJlcyA9ICh7IGNvbnRleHQsIGFsbEtleXMsIGVuZ2luZU1hcCwgY2hlY2tOYXRpdmUgPSBmYWxzZSB9ID0ge30pID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBhbGxLZXlzU2V0ID0gbmV3IFNldChhbGxLZXlzKTsNCiAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IG5ldyBTZXQoKTsNCiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBPYmplY3Qua2V5cyhlbmdpbmVNYXAgfHwge30pLnJlZHVjZSgoYWNjLCBrZXkpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IGVuZ2luZU1hcFtrZXldOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uTGVuID0gdmVyc2lvbi5sZW5ndGg7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGZlYXR1cmVMZW4gPSB2ZXJzaW9uLmZpbHRlcigocHJvcCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlZEZyb21WZXJzaW9uID0gcHJvcC5jaGFyQXQoMCkgPT0gJyEnOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRGcm9tVmVyc2lvbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3BOYW1lID0gcHJvcC5zbGljZSgxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWFsbEtleXNTZXQuaGFzKHByb3BOYW1lKSAmJiBmZWF0dXJlcy5hZGQocHJvcCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGFsbEtleXNTZXQuaGFzKHByb3ApICYmDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoZWNrTmF0aXZlID8gaXNOYXRpdmUoY29udGV4dCwgcHJvcCkgOiB0cnVlKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzLmFkZChwcm9wKSk7DQogICAgICAgICAgICAgICAgICAgIH0pLmxlbmd0aDsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZlcnNpb25MZW4gPT0gZmVhdHVyZUxlbiA/IFsuLi5hY2MsIGtleV0gOiBhY2M7DQogICAgICAgICAgICAgICAgfSwgW10pOw0KICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSB2ZXJzaW9uU29ydChtYXRjaClbMF07DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiwNCiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXMsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvLyBlbmdpbmUgbWFwcw0KICAgICAgICAgICAgY29uc3QgeyBjc3M6IGVuZ2luZU1hcENTUywgd2luOiBlbmdpbmVNYXBXaW5kb3csIGpzOiBlbmdpbmVNYXBKUywgfSA9IGdldEVuZ2luZU1hcHMoQlJPV1NFUik7DQogICAgICAgICAgICAvLyBjc3MgdmVyc2lvbg0KICAgICAgICAgICAgY29uc3QgeyB2ZXJzaW9uOiBjc3NWZXJzaW9uLCBmZWF0dXJlczogY3NzRmVhdHVyZXMsIH0gPSBnZXRGZWF0dXJlcyh7DQogICAgICAgICAgICAgICAgY29udGV4dDogd2luLA0KICAgICAgICAgICAgICAgIGFsbEtleXM6IGNvbXB1dGVkU3R5bGVLZXlzLA0KICAgICAgICAgICAgICAgIGVuZ2luZU1hcDogZW5naW5lTWFwQ1NTLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAvLyB3aW5kb3cgdmVyc2lvbg0KICAgICAgICAgICAgY29uc3QgeyB2ZXJzaW9uOiB3aW5kb3dWZXJzaW9uLCBmZWF0dXJlczogd2luZG93RmVhdHVyZXMsIH0gPSBnZXRGZWF0dXJlcyh7DQogICAgICAgICAgICAgICAgY29udGV4dDogd2luLA0KICAgICAgICAgICAgICAgIGFsbEtleXM6IHdpbmRvd0ZlYXR1cmVzS2V5cywNCiAgICAgICAgICAgICAgICBlbmdpbmVNYXA6IGVuZ2luZU1hcFdpbmRvdywNCiAgICAgICAgICAgICAgICBjaGVja05hdGl2ZTogdHJ1ZSwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgLy8ganMgdmVyc2lvbg0KICAgICAgICAgICAgY29uc3QgeyB2ZXJzaW9uOiBqc1ZlcnNpb24sIGZlYXR1cmVzOiBqc0ZlYXR1cmVzLCB9ID0gZ2V0RmVhdHVyZXMoew0KICAgICAgICAgICAgICAgIGNvbnRleHQ6IHdpbiwNCiAgICAgICAgICAgICAgICBhbGxLZXlzOiBqc0ZlYXR1cmVzS2V5cywNCiAgICAgICAgICAgICAgICBlbmdpbmVNYXA6IGVuZ2luZU1hcEpTLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAvLyBkZXRlcm1pbmUgdmVyc2lvbiBiYXNlZCBvbiAzIGZhY3RvcnMNCiAgICAgICAgICAgIGNvbnN0IGdldFZlcnNpb25Gcm9tUmFuZ2UgPSAocmFuZ2UsIHZlcnNpb25Db2xsZWN0aW9uKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3QgZXhhY3RWZXJzaW9uID0gdmVyc2lvbkNvbGxlY3Rpb24uZmluZCgodmVyc2lvbikgPT4gdmVyc2lvbiAmJiAhLy0vLnRlc3QodmVyc2lvbikpOw0KICAgICAgICAgICAgICAgIGlmIChleGFjdFZlcnNpb24pIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4YWN0VmVyc2lvbjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29uc3QgbGVuID0gcmFuZ2UubGVuZ3RoOw0KICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gcmFuZ2VbMF07DQogICAgICAgICAgICAgICAgY29uc3QgbGFzdCA9IHJhbmdlW2xlbiAtIDFdOw0KICAgICAgICAgICAgICAgIHJldHVybiAoIWxlbiA/ICcnIDoNCiAgICAgICAgICAgICAgICAgICAgbGVuID09IDEgPyBmaXJzdCA6DQogICAgICAgICAgICAgICAgICAgICAgICBgJHtsYXN0fS0ke2ZpcnN0fWApOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IHZlcnNpb25TZXQgPSBuZXcgU2V0KFsNCiAgICAgICAgICAgICAgICBjc3NWZXJzaW9uLA0KICAgICAgICAgICAgICAgIHdpbmRvd1ZlcnNpb24sDQogICAgICAgICAgICAgICAganNWZXJzaW9uLA0KICAgICAgICAgICAgXSk7DQogICAgICAgICAgICB2ZXJzaW9uU2V0LmRlbGV0ZSh1bmRlZmluZWQpOw0KICAgICAgICAgICAgY29uc3QgdmVyc2lvblJhbmdlID0gdmVyc2lvblNvcnQoWy4uLnZlcnNpb25TZXRdLnJlZHVjZSgoYWNjLCB4KSA9PiBbLi4uYWNjLCAuLi54LnNwbGl0KCctJyldLCBbXSkpOw0KICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IGdldFZlcnNpb25Gcm9tUmFuZ2UodmVyc2lvblJhbmdlLCBbY3NzVmVyc2lvbiwgd2luZG93VmVyc2lvbiwganNWZXJzaW9uXSk7DQogICAgICAgICAgICBjb25zdCB2UmVwb3J0ID0gKC9cZCsvLmV4ZWMoZGVjcnlwdGVkTmFtZSkgfHwgW10pWzBdOw0KICAgICAgICAgICAgY29uc3QgeyBsaWVkVmVyc2lvbjogbGllZENTUywgZGlzdGFuY2U6IGRpc3RhbmNlQ1NTLCB9ID0gZ2V0VmVyc2lvbkxpZSh2UmVwb3J0LCBjc3NWZXJzaW9uKTsNCiAgICAgICAgICAgIGNvbnN0IHsgbGllZFZlcnNpb246IGxpZWRKUywgZGlzdGFuY2U6IGRpc3RhbmNlSlMsIH0gPSBnZXRWZXJzaW9uTGllKHZSZXBvcnQsIGpzVmVyc2lvbik7DQogICAgICAgICAgICBjb25zdCB7IGxpZWRWZXJzaW9uOiBsaWVkV2luZG93LCBkaXN0YW5jZTogZGlzdGFuY2VXaW5kb3csIH0gPSBnZXRWZXJzaW9uTGllKHZSZXBvcnQsIHdpbmRvd1ZlcnNpb24pOw0KICAgICAgICAgICAgaWYgKGxpZWRDU1MpIHsNCiAgICAgICAgICAgICAgICBzZW5kVG9UcmFzaCgndXNlckFnZW50JywgYHYke3ZSZXBvcnR9IGZhaWxlZCB2JHtjc3NWZXJzaW9ufSBDU1MgZmVhdHVyZXNgKTsNCiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VDU1MgPiAxKSB7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKGBOYXZpZ2F0b3IudXNlckFnZW50YCwgYHYke3ZSZXBvcnR9IGZhaWxlZCBDU1MgZmVhdHVyZXMgYnkgJHtkaXN0YW5jZUNTU30gdmVyc2lvbnNgKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAobGllZEpTKSB7DQogICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ3VzZXJBZ2VudCcsIGB2JHt2UmVwb3J0fSBmYWlsZWQgdiR7anNWZXJzaW9ufSBKUyBmZWF0dXJlc2ApOw0KICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZUpTID4gMikgew0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShgTmF2aWdhdG9yLnVzZXJBZ2VudGAsIGB2JHt2UmVwb3J0fSBmYWlsZWQgSlMgZmVhdHVyZXMgYnkgJHtkaXN0YW5jZUpTfSB2ZXJzaW9uc2ApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChsaWVkV2luZG93KSB7DQogICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ3VzZXJBZ2VudCcsIGB2JHt2UmVwb3J0fSBmYWlsZWQgdiR7d2luZG93VmVyc2lvbn0gV2luZG93IGZlYXR1cmVzYCk7DQogICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlV2luZG93ID4gMykgew0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShgTmF2aWdhdG9yLnVzZXJBZ2VudGAsIGB2JHt2UmVwb3J0fSBmYWlsZWQgV2luZG93IGZlYXR1cmVzIGJ5ICR7ZGlzdGFuY2VXaW5kb3d9IHZlcnNpb25zYCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRpbWU6IHRpbWVyLnN0b3AoKSwgdGVzdDogJ2ZlYXR1cmVzJywgcGFzc2VkOiB0cnVlIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICB2ZXJzaW9uUmFuZ2UsDQogICAgICAgICAgICAgICAgdmVyc2lvbiwNCiAgICAgICAgICAgICAgICBjc3NWZXJzaW9uLA0KICAgICAgICAgICAgICAgIHdpbmRvd1ZlcnNpb24sDQogICAgICAgICAgICAgICAganNWZXJzaW9uLA0KICAgICAgICAgICAgICAgIGNzc0ZlYXR1cmVzOiBbLi4uY3NzRmVhdHVyZXNdLA0KICAgICAgICAgICAgICAgIHdpbmRvd0ZlYXR1cmVzOiBbLi4ud2luZG93RmVhdHVyZXNdLA0KICAgICAgICAgICAgICAgIGpzRmVhdHVyZXM6IFsuLi5qc0ZlYXR1cmVzXSwNCiAgICAgICAgICAgICAgICBqc0ZlYXR1cmVzS2V5cywNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ2ZlYXR1cmVzJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UGxhdGZvcm1Fc3RpbWF0ZSgpIHsNCiAgICAgICAgaWYgKCFJU19CTElOSykNCiAgICAgICAgICAgIHJldHVybiBbXTsNCiAgICAgICAgY29uc3QgdjgwID0gJ2dldFZpZGVvUGxheWJhY2tRdWFsaXR5JyBpbiBIVE1MVmlkZW9FbGVtZW50LnByb3RvdHlwZTsNCiAgICAgICAgY29uc3Qgdjg0ID0gQ1NTLnN1cHBvcnRzKCdhcHBlYXJhbmNlOiBpbml0aWFsJyk7DQogICAgICAgIGNvbnN0IHY4NiA9ICdEaXNwbGF5TmFtZXMnIGluIEludGw7DQogICAgICAgIGNvbnN0IHY4OCA9IENTUy5zdXBwb3J0cygnYXNwZWN0LXJhdGlvOiBpbml0aWFsJyk7DQogICAgICAgIGNvbnN0IHY4OSA9IENTUy5zdXBwb3J0cygnYm9yZGVyLWVuZC1lbmQtcmFkaXVzOiBpbml0aWFsJyk7DQogICAgICAgIGNvbnN0IHY5NSA9ICdyYW5kb21VVUlEJyBpbiBDcnlwdG8ucHJvdG90eXBlOw0KICAgICAgICBjb25zdCBoYXNCYXJjb2RlRGV0ZWN0b3IgPSAnQmFyY29kZURldGVjdG9yJyBpbiB3aW5kb3c7DQogICAgICAgIGNvbnN0IGhhc0Rvd25saW5rTWF4ID0gJ2Rvd25saW5rTWF4JyBpbiAod2luZG93Lk5ldHdvcmtJbmZvcm1hdGlvbj8ucHJvdG90eXBlIHx8IHt9KTsNCiAgICAgICAgY29uc3QgaGFzQ29udGVudEluZGV4ID0gJ0NvbnRlbnRJbmRleCcgaW4gd2luZG93Ow0KICAgICAgICBjb25zdCBoYXNDb250YWN0c01hbmFnZXIgPSAnQ29udGFjdHNNYW5hZ2VyJyBpbiB3aW5kb3c7DQogICAgICAgIGNvbnN0IGhhc0V5ZURyb3BwZXIgPSAnRXllRHJvcHBlcicgaW4gd2luZG93Ow0KICAgICAgICBjb25zdCBoYXNGaWxlU3lzdGVtV3JpdGFibGVGaWxlU3RyZWFtID0gJ0ZpbGVTeXN0ZW1Xcml0YWJsZUZpbGVTdHJlYW0nIGluIHdpbmRvdzsNCiAgICAgICAgY29uc3QgaGFzSGlkID0gJ0hJRCcgaW4gd2luZG93ICYmICdISUREZXZpY2UnIGluIHdpbmRvdzsNCiAgICAgICAgY29uc3QgaGFzU2VyaWFsUG9ydCA9ICdTZXJpYWxQb3J0JyBpbiB3aW5kb3cgJiYgJ1NlcmlhbCcgaW4gd2luZG93Ow0KICAgICAgICBjb25zdCBoYXNTaGFyZWRXb3JrZXIgPSAnU2hhcmVkV29ya2VyJyBpbiB3aW5kb3c7DQogICAgICAgIGNvbnN0IGhhc1RvdWNoID0gJ29udG91Y2hzdGFydCcgaW4gV2luZG93ICYmICdUb3VjaEV2ZW50JyBpbiB3aW5kb3c7DQogICAgICAgIGNvbnN0IGhhc0ZlYXR1cmUgPSAodmVyc2lvbiwgY29uZGl0aW9uKSA9PiB7DQogICAgICAgICAgICByZXR1cm4gKHZlcnNpb24gPyBbY29uZGl0aW9uXSA6IFtdKTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZXN0aW1hdGUgPSB7DQogICAgICAgICAgICBbIkFuZHJvaWQiIC8qIFBsYXRmb3JtLkFORFJPSUQgKi9dOiBbDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODgsIGhhc0JhcmNvZGVEZXRlY3RvciksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODQsIGhhc0NvbnRlbnRJbmRleCksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODAsIGhhc0NvbnRhY3RzTWFuYWdlciksDQogICAgICAgICAgICAgICAgaGFzRG93bmxpbmtNYXgsDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2OTUsICFoYXNFeWVEcm9wcGVyKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4NiwgIWhhc0ZpbGVTeXN0ZW1Xcml0YWJsZUZpbGVTdHJlYW0pLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjg5LCAhaGFzSGlkKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OSwgIWhhc1NlcmlhbFBvcnQpLA0KICAgICAgICAgICAgICAgICFoYXNTaGFyZWRXb3JrZXIsDQogICAgICAgICAgICAgICAgaGFzVG91Y2gsDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgWyJDaHJvbWUgT1MiIC8qIFBsYXRmb3JtLkNIUk9NRV9PUyAqL106IFsNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OCwgaGFzQmFyY29kZURldGVjdG9yKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4NCwgIWhhc0NvbnRlbnRJbmRleCksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODAsICFoYXNDb250YWN0c01hbmFnZXIpLA0KICAgICAgICAgICAgICAgIGhhc0Rvd25saW5rTWF4LA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjk1LCBoYXNFeWVEcm9wcGVyKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4NiwgaGFzRmlsZVN5c3RlbVdyaXRhYmxlRmlsZVN0cmVhbSksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODksIGhhc0hpZCksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODksIGhhc1NlcmlhbFBvcnQpLA0KICAgICAgICAgICAgICAgIGhhc1NoYXJlZFdvcmtlciwNCiAgICAgICAgICAgICAgICBoYXNUb3VjaCB8fCAhaGFzVG91Y2gsDQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgWyJXaW5kb3dzIiAvKiBQbGF0Zm9ybS5XSU5ET1dTICovXTogWw0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjg4LCAhaGFzQmFyY29kZURldGVjdG9yKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4NCwgIWhhc0NvbnRlbnRJbmRleCksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODAsICFoYXNDb250YWN0c01hbmFnZXIpLA0KICAgICAgICAgICAgICAgICFoYXNEb3dubGlua01heCwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY5NSwgaGFzRXllRHJvcHBlciksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODYsIGhhc0ZpbGVTeXN0ZW1Xcml0YWJsZUZpbGVTdHJlYW0pLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjg5LCBoYXNIaWQpLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjg5LCBoYXNTZXJpYWxQb3J0KSwNCiAgICAgICAgICAgICAgICBoYXNTaGFyZWRXb3JrZXIsDQogICAgICAgICAgICAgICAgaGFzVG91Y2ggfHwgIWhhc1RvdWNoLA0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIFsiTWFjIiAvKiBQbGF0Zm9ybS5NQUMgKi9dOiBbDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODgsIGhhc0JhcmNvZGVEZXRlY3RvciksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODQsICFoYXNDb250ZW50SW5kZXgpLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjgwLCAhaGFzQ29udGFjdHNNYW5hZ2VyKSwNCiAgICAgICAgICAgICAgICAhaGFzRG93bmxpbmtNYXgsDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2OTUsIGhhc0V5ZURyb3BwZXIpLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjg2LCBoYXNGaWxlU3lzdGVtV3JpdGFibGVGaWxlU3RyZWFtKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OSwgaGFzSGlkKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OSwgaGFzU2VyaWFsUG9ydCksDQogICAgICAgICAgICAgICAgaGFzU2hhcmVkV29ya2VyLA0KICAgICAgICAgICAgICAgICFoYXNUb3VjaCwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBbIkxpbnV4IiAvKiBQbGF0Zm9ybS5MSU5VWCAqL106IFsNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OCwgIWhhc0JhcmNvZGVEZXRlY3RvciksDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2ODQsICFoYXNDb250ZW50SW5kZXgpLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjgwLCAhaGFzQ29udGFjdHNNYW5hZ2VyKSwNCiAgICAgICAgICAgICAgICAhaGFzRG93bmxpbmtNYXgsDQogICAgICAgICAgICAgICAgLi4uaGFzRmVhdHVyZSh2OTUsIGhhc0V5ZURyb3BwZXIpLA0KICAgICAgICAgICAgICAgIC4uLmhhc0ZlYXR1cmUodjg2LCBoYXNGaWxlU3lzdGVtV3JpdGFibGVGaWxlU3RyZWFtKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OSwgaGFzSGlkKSwNCiAgICAgICAgICAgICAgICAuLi5oYXNGZWF0dXJlKHY4OSwgaGFzU2VyaWFsUG9ydCksDQogICAgICAgICAgICAgICAgaGFzU2hhcmVkV29ya2VyLA0KICAgICAgICAgICAgICAgICFoYXNUb3VjaCB8fCAhaGFzVG91Y2gsDQogICAgICAgICAgICBdLA0KICAgICAgICB9Ow0KICAgICAgICAvLyBDaHJvbWUgb25seSBmZWF0dXJlcw0KICAgICAgICBjb25zdCBoZWFkbGVzc0VzdGltYXRlID0gew0KICAgICAgICAgICAgbm9Db250ZW50SW5kZXg6IHY4NCAmJiAhaGFzQ29udGVudEluZGV4LA0KICAgICAgICAgICAgbm9Db250YWN0c01hbmFnZXI6IHY4MCAmJiAhaGFzQ29udGFjdHNNYW5hZ2VyLA0KICAgICAgICAgICAgbm9Eb3dubGlua01heDogIWhhc0Rvd25saW5rTWF4LA0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBzY29yZXMgPSBPYmplY3Qua2V5cyhlc3RpbWF0ZSkucmVkdWNlKChhY2MsIGtleSkgPT4gew0KICAgICAgICAgICAgY29uc3QgbGlzdCA9IGVzdGltYXRlW2tleV07DQogICAgICAgICAgICBjb25zdCBzY29yZSA9ICsoKGxpc3QuZmlsdGVyKCh4KSA9PiB4KS5sZW5ndGggLyBsaXN0Lmxlbmd0aCkudG9GaXhlZCgyKSk7DQogICAgICAgICAgICBhY2Nba2V5XSA9IHNjb3JlOw0KICAgICAgICAgICAgcmV0dXJuIGFjYzsNCiAgICAgICAgfSwge30pOw0KICAgICAgICBjb25zdCBwbGF0Zm9ybSA9IE9iamVjdC5rZXlzKHNjb3JlcykucmVkdWNlKChhLCBiKSA9PiBzY29yZXNbYV0gPiBzY29yZXNbYl0gPyBhIDogYik7DQogICAgICAgIGNvbnN0IGhpZ2hlc3RTY29yZSA9IHNjb3Jlc1twbGF0Zm9ybV07DQogICAgICAgIHJldHVybiBbc2NvcmVzLCBoaWdoZXN0U2NvcmUsIGhlYWRsZXNzRXN0aW1hdGVdOw0KICAgIH0KCiAgICBjb25zdCBTWVNURU1fRk9OVFMgPSBbDQogICAgICAgICdjYXB0aW9uJywNCiAgICAgICAgJ2ljb24nLA0KICAgICAgICAnbWVudScsDQogICAgICAgICdtZXNzYWdlLWJveCcsDQogICAgICAgICdzbWFsbC1jYXB0aW9uJywNCiAgICAgICAgJ3N0YXR1cy1iYXInLA0KICAgIF07CgogICAgY29uc3QgR2Vja29Gb250cyA9IHsNCiAgICAgICAgJy1hcHBsZS1zeXN0ZW0nOiAiTWFjIiAvKiBQbGF0Zm9ybS5NQUMgKi8sDQogICAgICAgICdTZWdvZSBVSSc6ICJXaW5kb3dzIiAvKiBQbGF0Zm9ybS5XSU5ET1dTICovLA0KICAgICAgICAnVGFob21hJzogIldpbmRvd3MiIC8qIFBsYXRmb3JtLldJTkRPV1MgKi8sDQogICAgICAgICdZdSBHb3RoaWMgVUknOiAiV2luZG93cyIgLyogUGxhdGZvcm0uV0lORE9XUyAqLywNCiAgICAgICAgJ01pY3Jvc29mdCBKaGVuZ0hlaSBVSSc6ICJXaW5kb3dzIiAvKiBQbGF0Zm9ybS5XSU5ET1dTICovLA0KICAgICAgICAnTWljcm9zb2Z0IFlhSGVpIFVJJzogIldpbmRvd3MiIC8qIFBsYXRmb3JtLldJTkRPV1MgKi8sDQogICAgICAgICdNZWlyeW8gVUknOiAiV2luZG93cyIgLyogUGxhdGZvcm0uV0lORE9XUyAqLywNCiAgICAgICAgJ0NhbnRhcmVsbCc6ICJMaW51eCIgLyogUGxhdGZvcm0uTElOVVggKi8sDQogICAgICAgICdVYnVudHUnOiAiTGludXgiIC8qIFBsYXRmb3JtLkxJTlVYICovLA0KICAgICAgICAnU2Fucyc6ICJMaW51eCIgLyogUGxhdGZvcm0uTElOVVggKi8sDQogICAgICAgICdzYW5zLXNlcmlmJzogIkxpbnV4IiAvKiBQbGF0Zm9ybS5MSU5VWCAqLywNCiAgICAgICAgJ0ZpcmEgU2Fucyc6ICJMaW51eCIgLyogUGxhdGZvcm0uTElOVVggKi8sDQogICAgICAgICdSb2JvdG8nOiAiQW5kcm9pZCIgLyogUGxhdGZvcm0uQU5EUk9JRCAqLywNCiAgICB9Ow0KICAgIGZ1bmN0aW9uIGdldFN5c3RlbUZvbnRzKCkgew0KICAgICAgICBjb25zdCB7IGJvZHkgfSA9IGRvY3VtZW50Ow0KICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICBib2R5LmFwcGVuZENoaWxkKGVsKTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHN5c3RlbUZvbnRzID0gU3RyaW5nKFsNCiAgICAgICAgICAgICAgICAuLi5TWVNURU1fRk9OVFMucmVkdWNlKChhY2MsIGZvbnQpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdzdHlsZScsIGBmb250OiAke2ZvbnR9ICFpbXBvcnRhbnRgKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYy5hZGQoZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZm9udEZhbWlseSk7DQogICAgICAgICAgICAgICAgfSwgbmV3IFNldCgpKSwNCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgY29uc3QgZ2Vja29QbGF0Zm9ybSA9IEdlY2tvRm9udHNbc3lzdGVtRm9udHNdOw0KICAgICAgICAgICAgcmV0dXJuIEdlY2tvRm9udHNbc3lzdGVtRm9udHNdID8gYCR7c3lzdGVtRm9udHN9OiR7Z2Vja29QbGF0Zm9ybX1gIDogc3lzdGVtRm9udHM7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycikgew0KICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICB9DQogICAgICAgIGZpbmFsbHkgew0KICAgICAgICAgICAgYm9keS5yZW1vdmVDaGlsZChlbCk7DQogICAgICAgIH0NCiAgICB9CgogICAgLyogZXNsaW50LWRpc2FibGUgbmV3LWNhcCAqLw0KICAgIGFzeW5jIGZ1bmN0aW9uIGdldEhlYWRsZXNzRmVhdHVyZXMoeyB3ZWJnbCwgd29ya2VyU2NvcGUsIH0pIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgbWltZVR5cGVzID0gT2JqZWN0LmtleXMoeyAuLi5uYXZpZ2F0b3IubWltZVR5cGVzIH0pOw0KICAgICAgICAgICAgY29uc3Qgc3lzdGVtRm9udHMgPSBnZXRTeXN0ZW1Gb250cygpOw0KICAgICAgICAgICAgY29uc3QgW3Njb3JlcywgaGlnaGVzdFNjb3JlLCBoZWFkbGVzc0VzdGltYXRlXSA9IGdldFBsYXRmb3JtRXN0aW1hdGUoKTsNCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7DQogICAgICAgICAgICAgICAgY2hyb21pdW06IElTX0JMSU5LLA0KICAgICAgICAgICAgICAgIGxpa2VIZWFkbGVzczogew0KICAgICAgICAgICAgICAgICAgICBub1BsdWdpbnM6IElTX0JMSU5LICYmIG5hdmlnYXRvci5wbHVnaW5zLmxlbmd0aCA9PT0gMCwNCiAgICAgICAgICAgICAgICAgICAgbm9NaW1lVHlwZXM6IElTX0JMSU5LICYmIG1pbWVUeXBlcy5sZW5ndGggPT09IDAsDQogICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbklzRGVuaWVkOiAoSVNfQkxJTksgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICdOb3RpZmljYXRpb24nIGluIHdpbmRvdyAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09ICdkZW5pZWQnKSksDQogICAgICAgICAgICAgICAgICAgIGhhc0tub3duQmdDb2xvcjogSVNfQkxJTksgJiYgKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW5kZXJlZCA9IFBBUkVOVF9QSEFOVE9NOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFQQVJFTlRfUEhBTlRPTSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlZCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlbmRlcmVkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgYmFja2dyb3VuZC1jb2xvcjogQWN0aXZlVGV4dGApOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBiYWNrZ3JvdW5kQ29sb3I6IGFjdGl2ZVRleHQgfSA9IGdldENvbXB1dGVkU3R5bGUocmVuZGVyZWQpIHx8IFtdOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFQQVJFTlRfUEhBTlRPTSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocmVuZGVyZWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVRleHQgPT09ICdyZ2IoMjU1LCAwLCAwKSc7DQogICAgICAgICAgICAgICAgICAgIH0pKCksDQogICAgICAgICAgICAgICAgICAgIHByZWZlcnNMaWdodENvbG9yOiBtYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KScpLm1hdGNoZXMsDQogICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcnR0IHdpbGwgYmUgdW5kZWZpbmVkIGlmIG5vdCBzdXBwb3J0ZWQNCiAgICAgICAgICAgICAgICAgICAgcnR0SXNaZXJvOiBuYXZpZ2F0b3I/LmNvbm5lY3Rpb24/LnJ0dCA9PT0gMCwNCiAgICAgICAgICAgICAgICAgICAgdWFEYXRhSXNCbGFuazogKCd1c2VyQWdlbnREYXRhJyBpbiBuYXZpZ2F0b3IgJiYgKA0KICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGlmIHVzZXJBZ2VudERhdGEgaXMgbnVsbA0KICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IudXNlckFnZW50RGF0YT8ucGxhdGZvcm0gPT09ICcnIHx8DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGlmIHVzZXJBZ2VudERhdGEgaXMgbnVsbA0KICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEuZ2V0SGlnaEVudHJvcHlWYWx1ZXMoWydwbGF0Zm9ybSddKS5wbGF0Zm9ybSA9PT0gJycpKSwNCiAgICAgICAgICAgICAgICAgICAgcGRmSXNEaXNhYmxlZDogKCdwZGZWaWV3ZXJFbmFibGVkJyBpbiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnBkZlZpZXdlckVuYWJsZWQgPT09IGZhbHNlKSwNCiAgICAgICAgICAgICAgICAgICAgbm9UYXNrYmFyOiAoc2NyZWVuLmhlaWdodCA9PT0gc2NyZWVuLmF2YWlsSGVpZ2h0ICYmDQogICAgICAgICAgICAgICAgICAgICAgICBzY3JlZW4ud2lkdGggPT09IHNjcmVlbi5hdmFpbFdpZHRoKSwNCiAgICAgICAgICAgICAgICAgICAgaGFzVnZwU2NyZWVuUmVzOiAoKGlubmVyV2lkdGggPT09IHNjcmVlbi53aWR0aCAmJiBvdXRlckhlaWdodCA9PT0gc2NyZWVuLmhlaWdodCkgfHwgKCd2aXN1YWxWaWV3cG9ydCcgaW4gd2luZG93ICYmDQogICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGlmIHVuc3VwcG9ydGVkDQogICAgICAgICAgICAgICAgICAgICAgICAodmlzdWFsVmlld3BvcnQud2lkdGggPT09IHNjcmVlbi53aWR0aCAmJiB2aXN1YWxWaWV3cG9ydC5oZWlnaHQgPT09IHNjcmVlbi5oZWlnaHQpKSksDQogICAgICAgICAgICAgICAgICAgIGhhc1N3aWZ0U2hhZGVyOiAvU3dpZnRTaGFkZXIvLnRlc3Qod29ya2VyU2NvcGU/LndlYmdsUmVuZGVyZXIpLA0KICAgICAgICAgICAgICAgICAgICBub1dlYlNoYXJlOiBJU19CTElOSyAmJiBDU1Muc3VwcG9ydHMoJ2FjY2VudC1jb2xvcjogaW5pdGlhbCcpICYmICghKCdzaGFyZScgaW4gbmF2aWdhdG9yKSB8fCAhKCdjYW5TaGFyZScgaW4gbmF2aWdhdG9yKSksDQogICAgICAgICAgICAgICAgICAgIG5vQ29udGVudEluZGV4OiAhIWhlYWRsZXNzRXN0aW1hdGU/Lm5vQ29udGVudEluZGV4LA0KICAgICAgICAgICAgICAgICAgICBub0NvbnRhY3RzTWFuYWdlcjogISFoZWFkbGVzc0VzdGltYXRlPy5ub0NvbnRhY3RzTWFuYWdlciwNCiAgICAgICAgICAgICAgICAgICAgbm9Eb3dubGlua01heDogISFoZWFkbGVzc0VzdGltYXRlPy5ub0Rvd25saW5rTWF4LA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgaGVhZGxlc3M6IHsNCiAgICAgICAgICAgICAgICAgICAgd2ViRHJpdmVySXNPbjogKChDU1Muc3VwcG9ydHMoJ2JvcmRlci1lbmQtZW5kLXJhZGl1czogaW5pdGlhbCcpICYmIG5hdmlnYXRvci53ZWJkcml2ZXIgPT09IHVuZGVmaW5lZCkgfHwNCiAgICAgICAgICAgICAgICAgICAgICAgICEhbmF2aWdhdG9yLndlYmRyaXZlciksDQogICAgICAgICAgICAgICAgICAgIG5vQ2hyb21lOiBJU19CTElOSyAmJiAhKCdjaHJvbWUnIGluIHdpbmRvdyksDQogICAgICAgICAgICAgICAgICAgIGhhc1Blcm1pc3Npb25zQnVnOiAoSVNfQkxJTksgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICdwZXJtaXNzaW9ucycgaW4gbmF2aWdhdG9yICYmDQogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCAoYXN5bmMgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7IG5hbWU6ICdub3RpZmljYXRpb25zJyB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHJlcy5zdGF0ZSA9PSAncHJvbXB0JyAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTm90aWZpY2F0aW9uJyBpbiB3aW5kb3cgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gPT09ICdkZW5pZWQnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pKCkpLA0KICAgICAgICAgICAgICAgICAgICBoYXNIZWFkbGVzc1VBOiAoL0hlYWRsZXNzQ2hyb21lLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpIHx8DQogICAgICAgICAgICAgICAgICAgICAgICAvSGVhZGxlc3NDaHJvbWUvLnRlc3QobmF2aWdhdG9yLmFwcFZlcnNpb24pKSwNCiAgICAgICAgICAgICAgICAgICAgaGFzSGVhZGxlc3NXb3JrZXJVQTogISF3b3JrZXJTY29wZSAmJiAoL0hlYWRsZXNzQ2hyb21lLy50ZXN0KHdvcmtlclNjb3BlLnVzZXJBZ2VudCkpLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgc3RlYWx0aDogew0KICAgICAgICAgICAgICAgICAgICBoYXNJZnJhbWVQcm94eTogKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lLnNyY2RvYyA9IGluc3RhbmNlSWQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhaWZyYW1lLmNvbnRlbnRXaW5kb3c7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pKCksDQogICAgICAgICAgICAgICAgICAgIGhhc0hpZ2hDaHJvbWVJbmRleDogKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2wgPSAoJ2Nvb2tpZVN0b3JlJyBpbiB3aW5kb3cgPyAnY29va2llU3RvcmUnIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb25kZXZpY2Vtb3Rpb24nIGluIHdpbmRvdyA/ICdvbmRldmljZW1vdGlvbicgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BlZWNoU3ludGhlc2lzJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wc0luV2luZG93ID0gW107DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluDQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gd2luZG93KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHNJbldpbmRvdy5wdXNoKHByb3ApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hyb21lSW5kZXggPSBwcm9wc0luV2luZG93LmluZGV4T2YoJ2Nocm9tZScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJvbEluZGV4ID0gcHJvcHNJbldpbmRvdy5pbmRleE9mKGNvbnRyb2wpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNocm9tZUluZGV4ID4gY29udHJvbEluZGV4Ow0KICAgICAgICAgICAgICAgICAgICB9KSgpLA0KICAgICAgICAgICAgICAgICAgICBoYXNCYWRDaHJvbWVSdW50aW1lOiAoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpZiB1bnN1cHBvcnRlZA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoJ2Nocm9tZScgaW4gd2luZG93ICYmICdydW50aW1lJyBpbiBjaHJvbWUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGlmIHVuc3VwcG9ydGVkDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdwcm90b3R5cGUnIGluIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlIHx8DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaWYgdW5zdXBwb3J0ZWQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3RvdHlwZScgaW4gY2hyb21lLnJ1bnRpbWUuY29ubmVjdCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpZiB1bnN1cHBvcnRlZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGlmIHVuc3VwcG9ydGVkDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IGNocm9tZS5ydW50aW1lLmNvbm5lY3Q7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVyci5jb25zdHJ1Y3Rvci5uYW1lICE9ICdUeXBlRXJyb3InID8gdHJ1ZSA6IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KSgpLA0KICAgICAgICAgICAgICAgICAgICBoYXNUb1N0cmluZ1Byb3h5OiAoISFsaWVQcm9wc1snRnVuY3Rpb24udG9TdHJpbmcnXSksDQogICAgICAgICAgICAgICAgICAgIGhhc0JhZFdlYkdMOiAoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBVTk1BU0tFRF9SRU5ERVJFUl9XRUJHTDogZ3B1IH0gPSB3ZWJnbD8ucGFyYW1ldGVycyB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgd2ViZ2xSZW5kZXJlcjogd29ya2VyR1BVIH0gPSB3b3JrZXJTY29wZSB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoZ3B1ICYmIHdvcmtlckdQVSAmJiAoZ3B1ICE9PSB3b3JrZXJHUFUpKTsNCiAgICAgICAgICAgICAgICAgICAgfSkoKSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IHsgbGlrZUhlYWRsZXNzLCBoZWFkbGVzcywgc3RlYWx0aCB9ID0gZGF0YTsNCiAgICAgICAgICAgIGNvbnN0IGxpa2VIZWFkbGVzc0tleXMgPSBPYmplY3Qua2V5cyhsaWtlSGVhZGxlc3MpOw0KICAgICAgICAgICAgY29uc3QgaGVhZGxlc3NLZXlzID0gT2JqZWN0LmtleXMoaGVhZGxlc3MpOw0KICAgICAgICAgICAgY29uc3Qgc3RlYWx0aEtleXMgPSBPYmplY3Qua2V5cyhzdGVhbHRoKTsNCiAgICAgICAgICAgIGNvbnN0IGxpa2VIZWFkbGVzc1JhdGluZyA9ICsoKGxpa2VIZWFkbGVzc0tleXMuZmlsdGVyKChrZXkpID0+IGxpa2VIZWFkbGVzc1trZXldKS5sZW5ndGggLyBsaWtlSGVhZGxlc3NLZXlzLmxlbmd0aCkgKiAxMDApLnRvRml4ZWQoMCk7DQogICAgICAgICAgICBjb25zdCBoZWFkbGVzc1JhdGluZyA9ICsoKGhlYWRsZXNzS2V5cy5maWx0ZXIoKGtleSkgPT4gaGVhZGxlc3Nba2V5XSkubGVuZ3RoIC8gaGVhZGxlc3NLZXlzLmxlbmd0aCkgKiAxMDApLnRvRml4ZWQoMCk7DQogICAgICAgICAgICBjb25zdCBzdGVhbHRoUmF0aW5nID0gKygoc3RlYWx0aEtleXMuZmlsdGVyKChrZXkpID0+IHN0ZWFsdGhba2V5XSkubGVuZ3RoIC8gc3RlYWx0aEtleXMubGVuZ3RoKSAqIDEwMCkudG9GaXhlZCgwKTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdoZWFkbGVzcycsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgLi4uZGF0YSwNCiAgICAgICAgICAgICAgICBsaWtlSGVhZGxlc3NSYXRpbmcsDQogICAgICAgICAgICAgICAgaGVhZGxlc3NSYXRpbmcsDQogICAgICAgICAgICAgICAgc3RlYWx0aFJhdGluZywNCiAgICAgICAgICAgICAgICBzeXN0ZW1Gb250cywNCiAgICAgICAgICAgICAgICBwbGF0Zm9ybUVzdGltYXRlOiBbc2NvcmVzLCBoaWdoZXN0U2NvcmVdLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnaGVhZGxlc3MnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBnZXRJbnRsKCkgew0KICAgICAgICBjb25zdCBnZXRMb2NhbGUgPSAoaW50bCkgPT4gew0KICAgICAgICAgICAgY29uc3QgY29uc3RydWN0b3JzID0gWw0KICAgICAgICAgICAgICAgICdDb2xsYXRvcicsDQogICAgICAgICAgICAgICAgJ0RhdGVUaW1lRm9ybWF0JywNCiAgICAgICAgICAgICAgICAnRGlzcGxheU5hbWVzJywNCiAgICAgICAgICAgICAgICAnTGlzdEZvcm1hdCcsDQogICAgICAgICAgICAgICAgJ051bWJlckZvcm1hdCcsDQogICAgICAgICAgICAgICAgJ1BsdXJhbFJ1bGVzJywNCiAgICAgICAgICAgICAgICAnUmVsYXRpdmVUaW1lRm9ybWF0JywNCiAgICAgICAgICAgIF07DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBsb2NhbGUgPSBjb25zdHJ1Y3RvcnMucmVkdWNlKChhY2MsIG5hbWUpID0+IHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBuZXcgaW50bFtuYW1lXTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmopIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBsb2NhbGUgfSA9IG9iai5yZXNvbHZlZE9wdGlvbnMoKSB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIGxvY2FsZV07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sIFtdKTsNCiAgICAgICAgICAgIHJldHVybiBbLi4ubmV3IFNldChsb2NhbGUpXTsNCiAgICAgICAgfTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgbGllZCA9IChsaWVQcm9wc1snSW50bC5Db2xsYXRvci5yZXNvbHZlZE9wdGlvbnMnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydJbnRsLkRhdGVUaW1lRm9ybWF0LnJlc29sdmVkT3B0aW9ucyddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ0ludGwuRGlzcGxheU5hbWVzLnJlc29sdmVkT3B0aW9ucyddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ0ludGwuTGlzdEZvcm1hdC5yZXNvbHZlZE9wdGlvbnMnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydJbnRsLk51bWJlckZvcm1hdC5yZXNvbHZlZE9wdGlvbnMnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydJbnRsLlBsdXJhbFJ1bGVzLnJlc29sdmVkT3B0aW9ucyddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ0ludGwuUmVsYXRpdmVUaW1lRm9ybWF0LnJlc29sdmVkT3B0aW9ucyddKSB8fCBmYWxzZTsNCiAgICAgICAgICAgIGNvbnN0IGRhdGVUaW1lRm9ybWF0ID0gY2FuaXVzZSgoKSA9PiB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KHVuZGVmaW5lZCwgew0KICAgICAgICAgICAgICAgICAgICBtb250aDogJ2xvbmcnLA0KICAgICAgICAgICAgICAgICAgICB0aW1lWm9uZU5hbWU6ICdsb25nJywNCiAgICAgICAgICAgICAgICB9KS5mb3JtYXQoOTYzNjQ0NDAwMDAwKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgY29uc3QgZGlzcGxheU5hbWVzID0gY2FuaXVzZSgoKSA9PiB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRsLkRpc3BsYXlOYW1lcyh1bmRlZmluZWQsIHsNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xhbmd1YWdlJywNCiAgICAgICAgICAgICAgICB9KS5vZignZW4tVVMnKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgY29uc3QgbGlzdEZvcm1hdCA9IGNhbml1c2UoKCkgPT4gew0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludGwuTGlzdEZvcm1hdCh1bmRlZmluZWQsIHsNCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdsb25nJywNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Rpc2p1bmN0aW9uJywNCiAgICAgICAgICAgICAgICB9KS5mb3JtYXQoWycwJywgJzEnXSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IG51bWJlckZvcm1hdCA9IGNhbml1c2UoKCkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQodW5kZWZpbmVkLCB7DQogICAgICAgICAgICAgICAgICAgIG5vdGF0aW9uOiAnY29tcGFjdCcsDQogICAgICAgICAgICAgICAgICAgIGNvbXBhY3REaXNwbGF5OiAnbG9uZycsDQogICAgICAgICAgICAgICAgfSkuZm9ybWF0KDIxMDAwMDAwKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgY29uc3QgcGx1cmFsUnVsZXMgPSBjYW5pdXNlKCgpID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludGwuUGx1cmFsUnVsZXMoKS5zZWxlY3QoMSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlVGltZUZvcm1hdCA9IGNhbml1c2UoKCkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQodW5kZWZpbmVkLCB7DQogICAgICAgICAgICAgICAgICAgIGxvY2FsZU1hdGNoZXI6ICdiZXN0IGZpdCcsDQogICAgICAgICAgICAgICAgICAgIG51bWVyaWM6ICdhdXRvJywNCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICdsb25nJywNCiAgICAgICAgICAgICAgICB9KS5mb3JtYXQoMSwgJ3llYXInKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgY29uc3QgbG9jYWxlID0gZ2V0TG9jYWxlKEludGwpOw0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRpbWU6IHRpbWVyLnN0b3AoKSwgdGVzdDogJ2ludGwnLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIGRhdGVUaW1lRm9ybWF0LA0KICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lcywNCiAgICAgICAgICAgICAgICBsaXN0Rm9ybWF0LA0KICAgICAgICAgICAgICAgIG51bWJlckZvcm1hdCwNCiAgICAgICAgICAgICAgICBwbHVyYWxSdWxlcywNCiAgICAgICAgICAgICAgICByZWxhdGl2ZVRpbWVGb3JtYXQsDQogICAgICAgICAgICAgICAgbG9jYWxlOiAnJyArIGxvY2FsZSwNCiAgICAgICAgICAgICAgICBsaWVkLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnaW50bCcsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIGZ1bmN0aW9uIGdldE1hdGhzKCkgew0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpOw0KICAgICAgICAgICAgdGltZXIuc3RhcnQoKTsNCiAgICAgICAgICAgIC8vIGRldGVjdCBmYWlsZWQgbWF0aCBlcXVhbGl0eSBsaWUNCiAgICAgICAgICAgIGNvbnN0IGNoZWNrID0gWw0KICAgICAgICAgICAgICAgICdhY29zJywNCiAgICAgICAgICAgICAgICAnYWNvc2gnLA0KICAgICAgICAgICAgICAgICdhc2luJywNCiAgICAgICAgICAgICAgICAnYXNpbmgnLA0KICAgICAgICAgICAgICAgICdhdGFuJywNCiAgICAgICAgICAgICAgICAnYXRhbmgnLA0KICAgICAgICAgICAgICAgICdhdGFuMicsDQogICAgICAgICAgICAgICAgJ2NicnQnLA0KICAgICAgICAgICAgICAgICdjb3MnLA0KICAgICAgICAgICAgICAgICdjb3NoJywNCiAgICAgICAgICAgICAgICAnZXhwbTEnLA0KICAgICAgICAgICAgICAgICdleHAnLA0KICAgICAgICAgICAgICAgICdoeXBvdCcsDQogICAgICAgICAgICAgICAgJ2xvZycsDQogICAgICAgICAgICAgICAgJ2xvZzFwJywNCiAgICAgICAgICAgICAgICAnbG9nMTAnLA0KICAgICAgICAgICAgICAgICdzaW4nLA0KICAgICAgICAgICAgICAgICdzaW5oJywNCiAgICAgICAgICAgICAgICAnc3FydCcsDQogICAgICAgICAgICAgICAgJ3RhbicsDQogICAgICAgICAgICAgICAgJ3RhbmgnLA0KICAgICAgICAgICAgICAgICdwb3cnLA0KICAgICAgICAgICAgXTsNCiAgICAgICAgICAgIGxldCBsaWVkID0gZmFsc2U7DQogICAgICAgICAgICBjaGVjay5mb3JFYWNoKChwcm9wKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCEhbGllUHJvcHNbYE1hdGguJHtwcm9wfWBdKSB7DQogICAgICAgICAgICAgICAgICAgIGxpZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zdCB0ZXN0ID0gKHByb3AgPT0gJ2NvcycgPyBbMWUzMDhdIDoNCiAgICAgICAgICAgICAgICAgICAgcHJvcCA9PSAnYWNvcycgfHwgcHJvcCA9PSAnYXNpbicgfHwgcHJvcCA9PSAnYXRhbmgnID8gWzAuNV0gOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJvcCA9PSAncG93JyB8fCBwcm9wID09ICdhdGFuMicgPyBbTWF0aC5QSSwgMl0gOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtNYXRoLlBJXSk7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzMSA9IE1hdGhbcHJvcF0oLi4udGVzdCk7DQogICAgICAgICAgICAgICAgY29uc3QgcmVzMiA9IE1hdGhbcHJvcF0oLi4udGVzdCk7DQogICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmcgPSBpc05hTihyZXMxKSAmJiBpc05hTihyZXMyKSA/IHRydWUgOiByZXMxID09IHJlczI7DQogICAgICAgICAgICAgICAgaWYgKCFtYXRjaGluZykgew0KICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0aExpZSA9IGBleHBlY3RlZCB4IGFuZCBnb3QgeWA7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50TGllKGBNYXRoLiR7cHJvcH1gLCBtYXRoTGllKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb25zdCBuID0gMC4xMjM7DQogICAgICAgICAgICBjb25zdCBiaWdOID0gNS44NjA4NDczNjIyNzcyODRlKzM4Ow0KICAgICAgICAgICAgY29uc3QgZm5zID0gWw0KICAgICAgICAgICAgICAgIFsnYWNvcycsIFtuXSwgYGFjb3MoJHtufSlgLCAxLjQ0NzQ4NDA1MTYwMzAyNDcsIE5hTiwgTmFOLCAxLjQ0NzQ4NDA1MTYwMzAyNDVdLA0KICAgICAgICAgICAgICAgIFsnYWNvcycsIFtNYXRoLlNRUlQxXzJdLCAnYWNvcyhNYXRoLlNRUlQxXzIpJywgMC43ODUzOTgxNjMzOTc0NDgzLCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2Fjb3NoJywgWzFlMzA4XSwgJ2Fjb3NoKDFlMzA4KScsIDcwOS44ODkzNTU4MjI3MjYsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnYWNvc2gnLCBbTWF0aC5QSV0sICdhY29zaChNYXRoLlBJKScsIDEuODExNTI2MjcyNDYwODUzLCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2Fjb3NoJywgW01hdGguU1FSVDJdLCAnYWNvc2goTWF0aC5TUVJUMiknLCAwLjg4MTM3MzU4NzAxOTU0MywgTmFOLCBOYU4sIDAuODgxMzczNTg3MDE5NTQzMl0sDQogICAgICAgICAgICAgICAgWydhc2luJywgW25dLCBgYXNpbigke259KWAsIDAuMTIzMzEyMjc1MTkxODcxOTksIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnYXNpbmgnLCBbMWUzMDBdLCAnYXNpbmgoMWUzMDgpJywgNjkxLjQ2ODY3NTA3ODc3MzYsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnYXNpbmgnLCBbTWF0aC5QSV0sICdhc2luaChNYXRoLlBJKScsIDEuODYyMjk1NzQzMzEwODQ4MiwgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydhdGFuJywgWzJdLCAnYXRhbigyKScsIDEuMTA3MTQ4NzE3Nzk0MDkwNCwgTmFOLCBOYU4sIDEuMTA3MTQ4NzE3Nzk0MDkwNl0sDQogICAgICAgICAgICAgICAgWydhdGFuJywgW01hdGguUEldLCAnYXRhbihNYXRoLlBJKScsIDEuMjYyNjI3MjU1Njc4OTExNSwgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydhdGFuaCcsIFswLjVdLCAnYXRhbmgoMC41KScsIDAuNTQ5MzA2MTQ0MzM0MDU0OCwgTmFOLCBOYU4sIDAuNTQ5MzA2MTQ0MzM0MDU0OV0sDQogICAgICAgICAgICAgICAgWydhdGFuMicsIFsxZS0zMTAsIDJdLCAnYXRhbjIoMWUtMzEwLCAyKScsIDVlLTMxMSwgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydhdGFuMicsIFtNYXRoLlBJLCAyXSwgJ2F0YW4yKE1hdGguUEkpJywgMS4wMDM4ODQ4MjE4NTM4ODcyLCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NicnQnLCBbMTAwXSwgJ2NicnQoMTAwKScsIDQuNjQxNTg4ODMzNjEyNzc5LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NicnQnLCBbTWF0aC5QSV0sICdjYnJ0KE1hdGguUEkpJywgMS40NjQ1OTE4ODc1NjE1MjMxLCBOYU4sIE5hTiwgMS40NjQ1OTE4ODc1NjE1MjM0XSwNCiAgICAgICAgICAgICAgICBbJ2NvcycsIFtuXSwgYGNvcygke259KWAsIDAuOTkyNDQ1MDMyMTM1MTkzNSwgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydjb3MnLCBbTWF0aC5QSV0sICdjb3MoTWF0aC5QSSknLCAtMSwgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydjb3MnLCBbYmlnTl0sIGBjb3MoJHtiaWdOfSlgLCAtMC4xMDg2ODA0OTQyNDk5NTY1OSwgTmFOLCAtMC45Nzc5NjYxNTUxMTk2NjE3LCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zJywgWy0xZTMwOF0sICdjb3MoLTFlMzA4KScsIC0wLjg5MTMwODkzNzY4NzAzMzUsIE5hTiwgMC45OTk3MDE2MjM4ODgzOCwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NvcycsIFsxMyAqIE1hdGguRV0sICdjb3MoMTMqTWF0aC5FKScsIC0wLjcxMDgxMTg1MDEwNjQzMzEsIC0wLjcxMDgxMTg1MDEwNjQzMzIsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NvcycsIFs1NyAqIE1hdGguRV0sICdjb3MoNTcqTWF0aC5FKScsIC0wLjUzNjkxMTY5NTc0OTAyNCwgLTAuNTM2OTExNjk1NzQ5MDIzOSwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zJywgWzIxICogTWF0aC5MTjJdLCAnY29zKDIxKk1hdGguTE4yKScsIC0wLjQwNjc3NzU5NzAyNTE3MjQsIC0wLjQwNjc3NzU5NzAyNTE3MjM1LCAtMC42NTM0MDYzMTg1ODIwMTk3LCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zJywgWzUxICogTWF0aC5MTjJdLCAnY29zKDUxKk1hdGguTE4yKScsIC0wLjcwMTcyMDM0MDA4NTU0NDYsIC0wLjcwMTcyMDM0MDA4NTU0NDUsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NvcycsIFsyMSAqIE1hdGguTE9HMkVdLCAnY29zKDIxKk1hdGguTE9HMkUpJywgMC40MzYyODQ4MDYzNjE4OTk4LCAwLjQzNjI4NDgwNjM2MTg5OTc2LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydjb3MnLCBbMjUgKiBNYXRoLlNRUlQyXSwgJ2NvcygyNSpNYXRoLlNRUlQyKScsIC0wLjY5ODI2ODk4MjA0NjIzNzcsIC0wLjY5ODI2ODk4MjA0NjIzNzYsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NvcycsIFs1MCAqIE1hdGguU1FSVDFfMl0sICdjb3MoNTAqTWF0aC5TUVJUMV8yKScsIC0wLjY5ODI2ODk4MjA0NjIzNzcsIC0wLjY5ODI2ODk4MjA0NjIzNzYsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2NvcycsIFsyMSAqIE1hdGguU1FSVDFfMl0sICdjb3MoMjEqTWF0aC5TUVJUMV8yKScsIC0wLjY1MzQwNjMxODU4MjAxOTgsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zJywgWzE3ICogTWF0aC5MT0cxMEVdLCAnY29zKDE3Kk1hdGguTE9HMTBFKScsIDAuNDUzNzU1NzQyNTk4Mjc4NCwgMC40NTM3NTU3NDI1OTgyNzgzMywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zJywgWzIgKiBNYXRoLkxPRzEwRV0sICdjb3MoMipNYXRoLkxPRzEwRSknLCAwLjY0NTkwNDQwMDc0MzgxNDIsIE5hTiwgMC42NDU5MDQ0MDA3NDM4MTQxLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zaCcsIFsxXSwgJ2Nvc2goMSknLCAxLjU0MzA4MDYzNDgxNTI0MzcsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zaCcsIFtNYXRoLlBJXSwgJ2Nvc2goTWF0aC5QSSknLCAxMS41OTE5NTMyNzU1MjE1MTksIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zaCcsIFs0OTIgKiBNYXRoLkxPRzJFXSwgJ2Nvc2goNDkyKk1hdGguTE9HMkUpJywgOS4xOTk4NzAzMTM4Nzc3NzJlKzMwNywgOS4xOTk4NzAzMTM4Nzc3NzRlKzMwNywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnY29zaCcsIFs1MDIgKiBNYXRoLlNRUlQyXSwgJ2Nvc2goNTAyKk1hdGguU1FSVDIpJywgMS4wNDY5MTk5NjY5MDIzMTM4ZSszMDgsIDEuMDQ2OTE5OTY2OTAyMzE0ZSszMDgsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2V4cG0xJywgWzFdLCAnZXhwbTEoMSknLCAxLjcxODI4MTgyODQ1OTA0NSwgTmFOLCBOYU4sIDEuNzE4MjgxODI4NDU5MDQ1M10sDQogICAgICAgICAgICAgICAgWydleHBtMScsIFtNYXRoLlBJXSwgJ2V4cG0xKE1hdGguUEkpJywgMjIuMTQwNjkyNjMyNzc5MjY3LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2V4cCcsIFtuXSwgYGV4cCgke259KWAsIDEuMTMwODg0NDIwOTQ3NDg5MywgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydleHAnLCBbTWF0aC5QSV0sICdleHAoTWF0aC5QSSknLCAyMy4xNDA2OTI2MzI3NzkyNjcsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnaHlwb3QnLCBbMSwgMiwgMywgNCwgNSwgNl0sICdoeXBvdCgxLCAyLCAzLCA0LCA1LCA2KScsIDkuNTM5MzkyMDE0MTY5NDU2LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2h5cG90JywgW2JpZ04sIGJpZ05dLCBgaHlwb3QoJHtiaWdOfSwgJHtiaWdOfSlgLCA4LjI4ODQ4OTgyNjczMTExNmUrMzgsIDguMjg4NDg5ODI2NzMxMTE0ZSszOCwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnaHlwb3QnLCBbMiAqIE1hdGguRSwgLTEwMF0sICdoeXBvdCgyKk1hdGguRSwgLTEwMCknLCAxMDAuMTQ3NjcyMDg2NzUyNTksIDEwMC4xNDc2NzIwODY3NTI1OCwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnaHlwb3QnLCBbNiAqIE1hdGguUEksIC0xMDBdLCAnaHlwb3QoNipNYXRoLlBJLCAtMTAwKScsIDEwMS43NjEwMjI3ODU5MzMxOSwgMTAxLjc2MTAyMjc4NTkzMzIsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2h5cG90JywgWzIgKiBNYXRoLkxOMiwgLTEwMF0sICdoeXBvdCgyKk1hdGguTE4yLCAtMTAwKScsIDEwMC4wMDk2MDg1OTg2NTI1LCAxMDAuMDA5NjA4NTk4NjUyNTIsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2h5cG90JywgW01hdGguTE9HMkUsIC0xMDBdLCAnaHlwb3QoTWF0aC5MT0cyRSwgLTEwMCknLCAxMDAuMDEwNDA2MzAzNDQ5MjksIDEwMC4wMTA0MDYzMDM0NDkyNywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnaHlwb3QnLCBbTWF0aC5TUVJUMiwgLTEwMF0sICdoeXBvdChNYXRoLlNRUlQyLCAtMTAwKScsIDEwMC4wMDk5OTk1MDAwNDk5OSwgMTAwLjAwOTk5OTUwMDA1LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydoeXBvdCcsIFtNYXRoLlNRUlQxXzIsIC0xMDBdLCAnaHlwb3QoTWF0aC5TUVJUMV8yLCAtMTAwKScsIDEwMC4wMDI0OTk5Njg3NTA4LCAxMDAuMDAyNDk5OTY4NzUwNzgsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2h5cG90JywgWzIgKiBNYXRoLkxPRzEwRSwgLTEwMF0sICdoeXBvdCgyKk1hdGguTE9HMTBFLCAtMTAwKScsIDEwMC4wMDM3NzIxNjI3OTQxNiwgMTAwLjAwMzc3MjE2Mjc5NDE4LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydsb2cnLCBbbl0sIGBsb2coJHtufSlgLCAtMi4wOTU1NzA5MjM2MDk3MTk3LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZycsIFtNYXRoLlBJXSwgJ2xvZyhNYXRoLlBJKScsIDEuMTQ0NzI5ODg1ODQ5NDAwMiwgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydsb2cxcCcsIFtuXSwgYGxvZzFwKCR7bn0pYCwgMC4xMTYwMDM2NzU3NTYzMDYxMywgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydsb2cxcCcsIFtNYXRoLlBJXSwgJ2xvZzFwKE1hdGguUEkpJywgMS40MjEwODA0MTI3OTQyOTI2LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgW25dLCBgbG9nMTAoJHtufSlgLCAtMC45MTAwOTQ4ODg1NjA2MDIxLCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgW01hdGguUEldLCAnbG9nMTAoTWF0aC5QSSknLCAwLjQ5NzE0OTg3MjY5NDEzMzgsIDAuNDk3MTQ5ODcyNjk0MTMzODUsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgW01hdGguRV0sICdsb2cxMChNYXRoLkUpJywgMC40MzQyOTQ0ODE5MDMyNTE4LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgWzM0ICogTWF0aC5FXSwgJ2xvZzEwKDM0Kk1hdGguRSknLCAxLjk2NTc3MzM5ODk0NTUwNjgsIDEuOTY1NzczMzk4OTQ1NTA3LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydsb2cxMCcsIFtNYXRoLkxOMl0sICdsb2cxMChNYXRoLkxOMiknLCAtMC4xNTkxNzQ1Mzg5NTQ4NjE2LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgWzExICogTWF0aC5MTjJdLCAnbG9nMTAoMTEqTWF0aC5MTjIpJywgMC44ODIyMTgxNDYyMDMzNjM0LCAwLjg4MjIxODE0NjIwMzM2MzUsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgW01hdGguTE9HMkVdLCAnbG9nMTAoTWF0aC5MT0cyRSknLCAwLjE1OTE3NDUzODk1NDg2MTU4LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgWzQzICogTWF0aC5MT0cyRV0sICdsb2cxMCg0MypNYXRoLkxPRzJFKScsIDEuNzkyNjQyOTk0NTM0NDQ4LCAxLjc5MjY0Mjk5NDUzNDQ0ODIsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgW01hdGguTE9HMTBFXSwgJ2xvZzEwKE1hdGguTE9HMTBFKScsIC0wLjM2MjIxNTY4ODY5OTQ2MzI1LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ2xvZzEwJywgWzcgKiBNYXRoLkxPRzEwRV0sICdsb2cxMCg3Kk1hdGguTE9HMTBFKScsIDAuNDgyODgyMzUxMzE0NzkzNiwgMC40ODI4ODIzNTEzMTQ3OTM1NywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnbG9nMTAnLCBbTWF0aC5TUVJUMV8yXSwgJ2xvZzEwKE1hdGguU1FSVDFfMiknLCAtMC4xNTA1MTQ5OTc4MzE5OTA1NywgTmFOLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydsb2cxMCcsIFsyICogTWF0aC5TUVJUMV8yXSwgJ2xvZzEwKDIqTWF0aC5TUVJUMV8yKScsIDAuMTUwNTE0OTk3ODMxOTkwNiwgMC4xNTA1MTQ5OTc4MzE5OTA2MywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnbG9nMTAnLCBbTWF0aC5TUVJUMl0sICdsb2cxMChNYXRoLlNRUlQyKScsIDAuMTUwNTE0OTk3ODMxOTkwNiwgMC4xNTA1MTQ5OTc4MzE5OTA2MywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luJywgW2JpZ05dLCBgc2luKCR7YmlnTn0pYCwgMC45OTQwNzY3MzI1MzYwNjgsIE5hTiwgLTAuMjA4NzYzNTAxMjE3MjA0ODgsIE5hTl0sDQogICAgICAgICAgICAgICAgWydzaW4nLCBbTWF0aC5QSV0sICdzaW4oTWF0aC5QSSknLCAxLjIyNDY0Njc5OTE0NzM1MzJlLTE2LCBOYU4sIDEuMjI0NjA2MzUzODIyMzc3M2UtMTYsIE5hTl0sDQogICAgICAgICAgICAgICAgWydzaW4nLCBbMzkgKiBNYXRoLkVdLCAnc2luKDM5Kk1hdGguRSknLCAtMC43MTgxNjMwMzA4NTcwNjc3LCAtMC43MTgxNjMwMzA4NTcwNjc4LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydzaW4nLCBbMzUgKiBNYXRoLkxOMl0sICdzaW4oMzUqTWF0aC5MTjIpJywgLTAuNzY1OTk2NDEzODk4MDUxMSwgLTAuNzY1OTk2NDEzODk4MDUxLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydzaW4nLCBbMTEwICogTWF0aC5MT0cyRV0sICdzaW4oMTEwKk1hdGguTE9HMkUpJywgMC45OTg5NDEwMTQwMjczNzU2LCAwLjk5ODk0MTAxNDAyNzM3NTcsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3NpbicsIFs3ICogTWF0aC5MT0cxMEVdLCAnc2luKDcqTWF0aC5MT0cxMEUpJywgMC4xMDEzNTY5MjkyNDk2NTYxNiwgMC4xMDEzNTY5MjkyNDk2NTYxNCwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luJywgWzM1ICogTWF0aC5TUVJUMV8yXSwgJ3NpbigzNSpNYXRoLlNRUlQxXzIpJywgLTAuMzc0NjM1NzU0Nzg1ODIwMiwgLTAuMzc0NjM1NzU0Nzg1ODIwMjMsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3NpbicsIFsyMSAqIE1hdGguU1FSVDJdLCAnc2luKDIxKk1hdGguU1FSVDIpJywgLTAuOTg5MjY2ODE4Nzc4MDQ5OCwgLTAuOTg5MjY2ODE4Nzc4MDQ5NywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFsxXSwgJ3NpbmgoMSknLCAxLjE3NTIwMTE5MzY0MzgwMTQsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFtNYXRoLlBJXSwgJ3NpbmgoTWF0aC5QSSknLCAxMS41NDg3MzkzNTcyNTc3NDgsIE5hTiwgTmFOLCAxMS41NDg3MzkzNTcyNTc3NDZdLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFtNYXRoLkVdLCAnc2luaChNYXRoLkUpJywgNy41NDQxMzcxMDI4MTY5NzUsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFtNYXRoLkxOMl0sICdzaW5oKE1hdGguTE4yKScsIDAuNzUsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFtNYXRoLkxPRzJFXSwgJ3NpbmgoTWF0aC5MT0cyRSknLCAxLjk5Nzg5ODAwOTEwNjI3OTUsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFs0OTIgKiBNYXRoLkxPRzJFXSwgJ3NpbmgoNDkyKk1hdGguTE9HMkUpJywgOS4xOTk4NzAzMTM4Nzc3NzJlKzMwNywgOS4xOTk4NzAzMTM4Nzc3NzRlKzMwNywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFtNYXRoLkxPRzEwRV0sICdzaW5oKE1hdGguTE9HMTBFKScsIDAuNDQ4MDc1OTc5NDE0NjkwMjQsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFtNYXRoLlNRUlQxXzJdLCAnc2luaChNYXRoLlNRUlQxXzIpJywgMC43Njc1MjMxNDUxMjYxMTY0LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3NpbmgnLCBbTWF0aC5TUVJUMl0sICdzaW5oKE1hdGguU1FSVDIpJywgMS45MzUwNjY4MjIxNzQzNTcsIE5hTiwgTmFOLCAxLjkzNTA2NjgyMjE3NDM1NjhdLA0KICAgICAgICAgICAgICAgIFsnc2luaCcsIFs1MDIgKiBNYXRoLlNRUlQyXSwgJ3NpbmgoNTAyKk1hdGguU1FSVDIpJywgMS4wNDY5MTk5NjY5MDIzMTM4ZSszMDgsIDEuMDQ2OTE5OTY2OTAyMzE0ZSszMDgsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3NxcnQnLCBbbl0sIGBzcXJ0KCR7bn0pYCwgMC4zNTA3MTM1NTgzMzUwMDM2LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3NxcnQnLCBbTWF0aC5QSV0sICdzcXJ0KE1hdGguUEkpJywgMS43NzI0NTM4NTA5MDU1MTU5LCBOYU4sIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3RhbicsIFstMWUzMDhdLCAndGFuKC0xZTMwOCknLCAwLjUwODY4NjEyNTkxMDc1NjgsIE5hTiwgTmFOLCAwLjUwODY4NjEyNTkxMDc1NjddLA0KICAgICAgICAgICAgICAgIFsndGFuJywgW01hdGguUEldLCAndGFuKE1hdGguUEkpJywgLTEuMjI0NjQ2Nzk5MTQ3MzUzMmUtMTYsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsndGFuJywgWzYgKiBNYXRoLkVdLCAndGFuKDYqTWF0aC5FKScsIDAuNjg2Njc2MTU0NjQ1MjQzMSwgMC42ODY2NzYxNTQ2NDUyNDMsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3RhbicsIFs2ICogTWF0aC5MTjJdLCAndGFuKDYqTWF0aC5MTjIpJywgMS42MTgyODE3MTM1NzE1ODc3LCAxLjYxODI4MTcxMzU3MTU4OCwgTmFOLCAxLjYxODI4MTcxMzU3MTU4NzVdLA0KICAgICAgICAgICAgICAgIFsndGFuJywgWzEwICogTWF0aC5MT0cyRV0sICd0YW4oMTAqTWF0aC5MT0cyRSknLCAtMy4zNTM3MTI4NzA1Mzc2MDE0LCAtMy4zNTM3MTI4NzA1Mzc2MDEsIE5hTiwgLTMuMzUzNzEyODcwNTM3NjAyXSwNCiAgICAgICAgICAgICAgICBbJ3RhbicsIFsxNyAqIE1hdGguU1FSVDJdLCAndGFuKDE3Kk1hdGguU1FSVDIpJywgLTEuOTIyMjk1NTQ2MTc5OTk4MiwgLTEuOTIyMjk1NTQ2MTc5OTk4LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWyd0YW4nLCBbMzQgKiBNYXRoLlNRUlQxXzJdLCAndGFuKDM0Kk1hdGguU1FSVDFfMiknLCAtMS45MjIyOTU1NDYxNzk5OTgyLCAtMS45MjIyOTU1NDYxNzk5OTgsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3RhbicsIFsxMCAqIE1hdGguTE9HMTBFXSwgJ3RhbigxMCpNYXRoLkxPRzEwRSknLCAyLjU4MjQ4NTYxMzA3MTI0MzIsIDIuNTgyNDg1NjEzMDcxMjQzNywgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsndGFuaCcsIFtuXSwgYHRhbmgoJHtufSlgLCAwLjEyMjM4MzQ0MTg5NDQwODc1LCBOYU4sIE5hTiwgMC4xMjIzODM0NDE4OTQ0MDg3Nl0sDQogICAgICAgICAgICAgICAgWyd0YW5oJywgW01hdGguUEldLCAndGFuaChNYXRoLlBJKScsIDAuOTk2MjcyMDc2MjIwNzUsIE5hTiwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsncG93JywgW24sIC0xMDBdLCBgcG93KCR7bn0sIC0xMDApYCwgMS4wMjIwODkzMzM1ODQ1MTllKzkxLCAxLjAyMjA4OTMzMzU4NDUxNzZlKzkxLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydwb3cnLCBbTWF0aC5QSSwgLTEwMF0sICdwb3coTWF0aC5QSSwgLTEwMCknLCAxLjkyNzU4MTQxNjA1NjAyMDRlLTUwLCAxLjkyNzU4MTQxNjA1NjAxODVlLTUwLCBOYU4sIDEuOTI3NTgxNDE2MDU2MDIwNmUtNTBdLA0KICAgICAgICAgICAgICAgIFsncG93JywgW01hdGguRSwgLTEwMF0sICdwb3coTWF0aC5FLCAtMTAwKScsIDMuNzIwMDc1OTc2MDIwODU1NWUtNDQsIDMuNzIwMDc1OTc2MDIwODUxZS00NCwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsncG93JywgW01hdGguTE4yLCAtMTAwXSwgJ3BvdyhNYXRoLkxOMiwgLTEwMCknLCA4MjY5MDE3MjAzODAyMzk0LCA4MjY5MDE3MjAzODAyNDEwLCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydwb3cnLCBbTWF0aC5MTjEwLCAtMTAwXSwgJ3BvdyhNYXRoLkxOMTAsIC0xMDApJywgNi4wMDM4Njc5MjY3Mzg4MjllLTM3LCA2LjAwMzg2NzkyNjczODgxMWUtMzcsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3BvdycsIFtNYXRoLkxPRzJFLCAtMTAwXSwgJ3BvdyhNYXRoLkxPRzJFLCAtMTAwKScsIDEuMjA5MzMzNTU4NDU1MDFlLTE2LCAxLjIwOTMzMzU1ODQ1NTAwNjFlLTE2LCBOYU4sIE5hTl0sDQogICAgICAgICAgICAgICAgWydwb3cnLCBbTWF0aC5MT0cxMEUsIC0xMDBdLCAncG93KE1hdGguTE9HMTBFLCAtMTAwKScsIDEuNjY1NTkyOTM0NzU4NTk1OGUrMzYsIDEuNjY1NTkyOTM0NzU4NTkyZSszNiwgTmFOLCAxLjY2NTU5MjkzNDc1ODU5NTVlKzM2XSwNCiAgICAgICAgICAgICAgICBbJ3BvdycsIFtNYXRoLlNRUlQxXzIsIC0xMDBdLCAncG93KE1hdGguU1FSVDFfMiwgLTEwMCknLCAxMTI1ODk5OTA2ODQyNjE2LjIsIDExMjU4OTk5MDY4NDI2MTEuNSwgTmFOLCBOYU5dLA0KICAgICAgICAgICAgICAgIFsncG93JywgW01hdGguU1FSVDIsIC0xMDBdLCAncG93KE1hdGguU1FSVDIsIC0xMDApJywgOC44ODE3ODQxOTcwMDExOTFlLTE2LCA4Ljg4MTc4NDE5NzAwMTE1NGUtMTYsIE5hTiwgTmFOXSwNCiAgICAgICAgICAgICAgICBbJ3BvbHlmaWxsJywgWzJlLTMgKiogLTEwMF0sICdwb2x5ZmlsbCBwb3coMmUtMywgLTEwMCknLCA3Ljg4ODYwOTA1MjIxMDEwMmUrMjY5LCA3Ljg4ODYwOTA1MjIxMDEyNmUrMjY5LCBOYU4sIE5hTl0sDQogICAgICAgICAgICBdOw0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHt9Ow0KICAgICAgICAgICAgZm5zLmZvckVhY2goKGZuKSA9PiB7DQogICAgICAgICAgICAgICAgZGF0YVtmblsyXV0gPSBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmblswXSAhPSAncG9seWZpbGwnID8gTWF0aFtmblswXV0oLi4uZm5bMV0pIDogZm5bMV07DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNocm9tZSA9IHJlc3VsdCA9PSBmblszXTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyZWZveCA9IGZuWzRdID8gcmVzdWx0ID09IGZuWzRdIDogZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvckJyb3dzZXIgPSBmbls1XSA/IHJlc3VsdCA9PSBmbls1XSA6IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBzYWZhcmkgPSBmbls2XSA/IHJlc3VsdCA9PSBmbls2XSA6IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4geyByZXN1bHQsIGNocm9tZSwgZmlyZWZveCwgdG9yQnJvd3Nlciwgc2FmYXJpIH07DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdtYXRoJywgcGFzc2VkOiB0cnVlIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHsgZGF0YSwgbGllZCB9Ow0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdtYXRoJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgLy8gaW5zcGlyZWQgYnkNCiAgICAvLyAtIGh0dHBzOi8vcHJpdmFjeWNoZWNrLnNlYy5scnouZGUvYWN0aXZlL2ZwX2NwdC9mcF9jYW5fcGxheV90eXBlLmh0bWwNCiAgICAvLyAtIGh0dHBzOi8vYXJrZW5mb3guZ2l0aHViLmlvL1RaUA0KICAgIGNvbnN0IGdldE1pbWVUeXBlU2hvcnRMaXN0ID0gKCkgPT4gWw0KICAgICAgICAnYXVkaW8vb2dnOyBjb2RlY3M9InZvcmJpcyInLA0KICAgICAgICAnYXVkaW8vbXBlZycsDQogICAgICAgICdhdWRpby9tcGVndXJsJywNCiAgICAgICAgJ2F1ZGlvL3dhdjsgY29kZWNzPSIxIicsDQogICAgICAgICdhdWRpby94LW00YScsDQogICAgICAgICdhdWRpby9hYWMnLA0KICAgICAgICAndmlkZW8vb2dnOyBjb2RlY3M9InRoZW9yYSInLA0KICAgICAgICAndmlkZW8vcXVpY2t0aW1lJywNCiAgICAgICAgJ3ZpZGVvL21wNDsgY29kZWNzPSJhdmMxLjQyRTAxRSInLA0KICAgICAgICAndmlkZW8vd2VibTsgY29kZWNzPSJ2cDgiJywNCiAgICAgICAgJ3ZpZGVvL3dlYm07IGNvZGVjcz0idnA5IicsDQogICAgICAgICd2aWRlby94LW1hdHJvc2thJywNCiAgICBdLnNvcnQoKTsNCiAgICBhc3luYyBmdW5jdGlvbiBnZXRNZWRpYSgpIHsNCiAgICAgICAgY29uc3QgZ2V0TWltZVR5cGVzID0gKCkgPT4gew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBjb25zdCBtaW1lVHlwZXMgPSBnZXRNaW1lVHlwZVNob3J0TGlzdCgpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHZpZGVvRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvRWwgPSBuZXcgQXVkaW8oKTsNCiAgICAgICAgICAgICAgICBjb25zdCBpc01lZGlhUmVjb3JkZXJTdXBwb3J0ZWQgPSAnTWVkaWFSZWNvcmRlcicgaW4gd2luZG93Ow0KICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVzID0gbWltZVR5cGVzLnJlZHVjZSgoYWNjLCB0eXBlKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZTogdHlwZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvUGxheVR5cGU6IGF1ZGlvRWwuY2FuUGxheVR5cGUodHlwZSksDQogICAgICAgICAgICAgICAgICAgICAgICB2aWRlb1BsYXlUeXBlOiB2aWRlb0VsLmNhblBsYXlUeXBlKHR5cGUpLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWVkaWFTb3VyY2U6IE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCh0eXBlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhUmVjb3JkZXI6IGlzTWVkaWFSZWNvcmRlclN1cHBvcnRlZCA/IE1lZGlhUmVjb3JkZXIuaXNUeXBlU3VwcG9ydGVkKHR5cGUpIDogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIGlmICghZGF0YS5hdWRpb1BsYXlUeXBlICYmICFkYXRhLnZpZGVvUGxheVR5cGUgJiYgIWRhdGEubWVkaWFTb3VyY2UgJiYgIWRhdGEubWVkaWFSZWNvcmRlcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKGRhdGEpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgICAgIH0sIFtdKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXM7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICB0aW1lci5zdGFydCgpOw0KICAgICAgICAgICAgY29uc3QgbWltZVR5cGVzID0gZ2V0TWltZVR5cGVzKCk7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGltZTogdGltZXIuc3RvcCgpLCB0ZXN0OiAnbWVkaWEnLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4geyBtaW1lVHlwZXMgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnbWVkaWEnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICAvLyBzcGVjaWFsIHRoYW5rcyB0byBodHRwczovL2FyaC5hbnRvaW5ldmFzdGVsLmNvbSBmb3IgaW5zcGlyYXRpb24NCiAgICBhc3luYyBmdW5jdGlvbiBnZXROYXZpZ2F0b3Iod29ya2VyU2NvcGUpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgbGV0IGxpZWQgPSAobGllUHJvcHNbJ05hdmlnYXRvci5hcHBWZXJzaW9uJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snTmF2aWdhdG9yLmRldmljZU1lbW9yeSddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ05hdmlnYXRvci5kb05vdFRyYWNrJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snTmF2aWdhdG9yLmhhcmR3YXJlQ29uY3VycmVuY3knXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydOYXZpZ2F0b3IubGFuZ3VhZ2UnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydOYXZpZ2F0b3IubGFuZ3VhZ2VzJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snTmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snTmF2aWdhdG9yLm9zY3B1J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snTmF2aWdhdG9yLnBsYXRmb3JtJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snTmF2aWdhdG9yLnVzZXJBZ2VudCddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ05hdmlnYXRvci52ZW5kb3InXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydOYXZpZ2F0b3IucGx1Z2lucyddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ05hdmlnYXRvci5taW1lVHlwZXMnXSkgfHwgZmFsc2U7DQogICAgICAgICAgICBjb25zdCBjcmVkaWJsZVVzZXJBZ2VudCA9ICgnY2hyb21lJyBpbiB3aW5kb3cgPyBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKG5hdmlnYXRvci5hcHBWZXJzaW9uKSA6IHRydWUpOw0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICBwbGF0Zm9ybTogYXR0ZW1wdCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcGxhdGZvcm0gfSA9IG5hdmlnYXRvcjsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3lzdGVtcyA9IFsnd2luJywgJ2xpbnV4JywgJ21hYycsICdhcm0nLCAncGlrZScsICdsaW51eCcsICdpcGhvbmUnLCAnaXBhZCcsICdpcG9kJywgJ2FuZHJvaWQnLCAneDExJ107DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRydXN0ZWQgPSB0eXBlb2YgcGxhdGZvcm0gPT0gJ3N0cmluZycgJiYgc3lzdGVtcy5maWx0ZXIoKHZhbCkgPT4gcGxhdGZvcm0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWwpKVswXTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cnVzdGVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG9UcmFzaChgcGxhdGZvcm1gLCBgJHtwbGF0Zm9ybX0gaXMgdW51c3VhbGApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIHVzZXIgYWdlbnQgb3MgbGllDQogICAgICAgICAgICAgICAgICAgIGlmIChVU0VSX0FHRU5UX09TICE9PSBQTEFURk9STV9PUykgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShgTmF2aWdhdG9yLnBsYXRmb3JtYCwgYCR7UExBVEZPUk1fT1N9IHBsYXRmb3JtIGFuZCAke1VTRVJfQUdFTlRfT1N9IHVzZXIgYWdlbnQgZG8gbm90IG1hdGNoYCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXRmb3JtICE9IHdvcmtlclNjb3BlLnBsYXRmb3JtKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsgLy8gZG9jdW1lbnRlZCBpbiB0aGUgd29ya2VyIHNvdXJjZQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBwbGF0Zm9ybTsNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBzeXN0ZW06IGF0dGVtcHQoKCkgPT4gZ2V0T1MobmF2aWdhdG9yLnVzZXJBZ2VudCksICd1c2VyQWdlbnQgc3lzdGVtIGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIHVzZXJBZ2VudFBhcnNlZDogYXdhaXQgYXR0ZW1wdChhc3luYyAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcG9ydGVkVXNlckFnZW50ID0gY2FuaXVzZSgoKSA9PiBuYXZpZ2F0b3IudXNlckFnZW50KTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0ZWRTeXN0ZW0gPSBnZXRPUyhyZXBvcnRlZFVzZXJBZ2VudCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQnJhdmUgPSBhd2FpdCBicmF2ZUJyb3dzZXIoKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0ID0gZGVjcnlwdFVzZXJBZ2VudCh7DQogICAgICAgICAgICAgICAgICAgICAgICB1YTogcmVwb3J0ZWRVc2VyQWdlbnQsDQogICAgICAgICAgICAgICAgICAgICAgICBvczogcmVwb3J0ZWRTeXN0ZW0sDQogICAgICAgICAgICAgICAgICAgICAgICBpc0JyYXZlLA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcG9ydDsNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBkZXZpY2U6IGF0dGVtcHQoKCkgPT4gZ2V0VXNlckFnZW50UGxhdGZvcm0oeyB1c2VyQWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnQgfSksICd1c2VyQWdlbnQgZGV2aWNlIGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIHVzZXJBZ2VudDogYXR0ZW1wdCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdXNlckFnZW50IH0gPSBuYXZpZ2F0b3I7DQogICAgICAgICAgICAgICAgICAgIGlmICghY3JlZGlibGVVc2VyQWdlbnQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKCd1c2VyQWdlbnQnLCBgJHt1c2VyQWdlbnR9IGRvZXMgbm90IG1hdGNoIGFwcFZlcnNpb25gKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoL1xzezIsfXxeXHN8XHMkL2cudGVzdCh1c2VyQWdlbnQpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG9UcmFzaCgndXNlckFnZW50JywgYGV4dHJhIHNwYWNlcyBkZXRlY3RlZGApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGdpYmJlcnMgPSBnaWJiZXJpc2godXNlckFnZW50KTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCEhZ2liYmVycy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKGB1c2VyQWdlbnQgaXMgZ2liYmVyaXNoYCwgdXNlckFnZW50KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAodXNlckFnZW50ICE9IHdvcmtlclNjb3BlLnVzZXJBZ2VudCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGllZCA9IHRydWU7IC8vIGRvY3VtZW50ZWQgaW4gdGhlIHdvcmtlciBzb3VyY2UNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlckFnZW50LnRyaW0oKS5yZXBsYWNlKC9cc3syLH0vLCAnICcpOw0KICAgICAgICAgICAgICAgIH0sICd1c2VyQWdlbnQgZmFpbGVkJyksDQogICAgICAgICAgICAgICAgdWFQb3N0UmVkdWN0aW9uOiBpc1VBUG9zdFJlZHVjdGlvbigobmF2aWdhdG9yIHx8IHt9KS51c2VyQWdlbnQpLA0KICAgICAgICAgICAgICAgIGFwcFZlcnNpb246IGF0dGVtcHQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGFwcFZlcnNpb24gfSA9IG5hdmlnYXRvcjsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFjcmVkaWJsZVVzZXJBZ2VudCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ2FwcFZlcnNpb24nLCBgJHthcHBWZXJzaW9ufSBkb2VzIG5vdCBtYXRjaCB1c2VyQWdlbnRgKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoJ2FwcFZlcnNpb24nIGluIG5hdmlnYXRvciAmJiAhYXBwVmVyc2lvbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ2FwcFZlcnNpb24nLCAnTGl2aW5nIFN0YW5kYXJkIHByb3BlcnR5IHJldHVybmVkIGZhbHN5IHZhbHVlJyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKC9cc3syLH18XlxzfFxzJC9nLnRlc3QoYXBwVmVyc2lvbikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKCdhcHBWZXJzaW9uJywgYGV4dHJhIHNwYWNlcyBkZXRlY3RlZGApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcHBWZXJzaW9uLnRyaW0oKS5yZXBsYWNlKC9cc3syLH0vLCAnICcpOw0KICAgICAgICAgICAgICAgIH0sICdhcHBWZXJzaW9uIGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIGRldmljZU1lbW9yeTogYXR0ZW1wdCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmICghKCdkZXZpY2VNZW1vcnknIGluIG5hdmlnYXRvcikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRldmljZU1lbW9yeSB9ID0gbmF2aWdhdG9yOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCB0cnVzdGVkID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgJzAuMjUnOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgJzAuNSc6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAnMSc6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAnMic6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAnNCc6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAnOCc6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIGlmICghdHJ1c3RlZFtkZXZpY2VNZW1vcnldKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzZW5kVG9UcmFzaCgnZGV2aWNlTWVtb3J5JywgYCR7ZGV2aWNlTWVtb3J5fSBpcyBub3QgYSB2YWxpZCB2YWx1ZSBbMC4yNSwgMC41LCAxLCAyLCA0LCA4XWApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgbWVtb3J5IGlzIHVuZGVmaW5lZCBpZiBub3Qgc3VwcG9ydGVkDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lbW9yeSA9IHBlcmZvcm1hbmNlPy5tZW1vcnk/LmpzSGVhcFNpemVMaW1pdCB8fCBudWxsOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCBtZW1vcnlJbkdpZ2FieXRlcyA9IG1lbW9yeSA/ICsobWVtb3J5IC8gMTA3Mzc0MTgyNCkudG9GaXhlZCgxKSA6IDA7DQogICAgICAgICAgICAgICAgICAgIGlmIChtZW1vcnlJbkdpZ2FieXRlcyA+IGRldmljZU1lbW9yeSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ2RldmljZU1lbW9yeScsIGBhdmFpbGFibGUgbWVtb3J5ICR7bWVtb3J5SW5HaWdhYnl0ZXN9R0IgaXMgZ3JlYXRlciB0aGFuIGRldmljZSBtZW1vcnkgJHtkZXZpY2VNZW1vcnl9R0JgKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoZGV2aWNlTWVtb3J5ICE9PSB3b3JrZXJTY29wZS5kZXZpY2VNZW1vcnkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpZWQgPSB0cnVlOyAvLyBkb2N1bWVudGVkIGluIHRoZSB3b3JrZXIgc291cmNlDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRldmljZU1lbW9yeTsNCiAgICAgICAgICAgICAgICB9LCAnZGV2aWNlTWVtb3J5IGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIGRvTm90VHJhY2s6IGF0dGVtcHQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRvTm90VHJhY2sgfSA9IG5hdmlnYXRvcjsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJ1c3RlZCA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICcxJzogITAsDQogICAgICAgICAgICAgICAgICAgICAgICAndHJ1ZSc6ICEwLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3llcyc6ICEwLA0KICAgICAgICAgICAgICAgICAgICAgICAgJzAnOiAhMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICdmYWxzZSc6ICEwLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ25vJzogITAsDQogICAgICAgICAgICAgICAgICAgICAgICAndW5zcGVjaWZpZWQnOiAhMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICdudWxsJzogITAsDQogICAgICAgICAgICAgICAgICAgICAgICAndW5kZWZpbmVkJzogITAsDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIGlmICghdHJ1c3RlZFtkb05vdFRyYWNrXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ2RvTm90VHJhY2sgLSB1bnVzdWFsIHJlc3VsdCcsIGRvTm90VHJhY2spOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBkb05vdFRyYWNrOw0KICAgICAgICAgICAgICAgIH0sICdkb05vdFRyYWNrIGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIGdsb2JhbFByaXZhY3lDb250cm9sOiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCEoJ2dsb2JhbFByaXZhY3lDb250cm9sJyBpbiBuYXZpZ2F0b3IpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBnbG9iYWxQcml2YWN5Q29udHJvbCB9ID0gbmF2aWdhdG9yOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCB0cnVzdGVkID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgJzEnOiAhMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICd0cnVlJzogITAsDQogICAgICAgICAgICAgICAgICAgICAgICAneWVzJzogITAsDQogICAgICAgICAgICAgICAgICAgICAgICAnMCc6ICEwLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ2ZhbHNlJzogITAsDQogICAgICAgICAgICAgICAgICAgICAgICAnbm8nOiAhMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICd1bnNwZWNpZmllZCc6ICEwLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ251bGwnOiAhMCwNCiAgICAgICAgICAgICAgICAgICAgICAgICd1bmRlZmluZWQnOiAhMCwNCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cnVzdGVkW2dsb2JhbFByaXZhY3lDb250cm9sXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ2dsb2JhbFByaXZhY3lDb250cm9sIC0gdW51c3VhbCByZXN1bHQnLCBnbG9iYWxQcml2YWN5Q29udHJvbCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdsb2JhbFByaXZhY3lDb250cm9sOw0KICAgICAgICAgICAgICAgIH0sICdnbG9iYWxQcml2YWN5Q29udHJvbCBmYWlsZWQnKSwNCiAgICAgICAgICAgICAgICBoYXJkd2FyZUNvbmN1cnJlbmN5OiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCEoJ2hhcmR3YXJlQ29uY3VycmVuY3knIGluIG5hdmlnYXRvcikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBoYXJkd2FyZUNvbmN1cnJlbmN5IH0gPSBuYXZpZ2F0b3I7DQogICAgICAgICAgICAgICAgICAgIGlmIChoYXJkd2FyZUNvbmN1cnJlbmN5ICE9PSB3b3JrZXJTY29wZS5oYXJkd2FyZUNvbmN1cnJlbmN5KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsgLy8gZG9jdW1lbnRlZCBpbiB0aGUgd29ya2VyIHNvdXJjZQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXJkd2FyZUNvbmN1cnJlbmN5Ow0KICAgICAgICAgICAgICAgIH0sICdoYXJkd2FyZUNvbmN1cnJlbmN5IGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBsYW5ndWFnZSwgbGFuZ3VhZ2VzIH0gPSBuYXZpZ2F0b3I7DQogICAgICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZXMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhbmcgPSAvXi57MCwyfS9nLmV4ZWMobGFuZ3VhZ2UpWzBdOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFuZ3MgPSAvXi57MCwyfS9nLmV4ZWMobGFuZ3VhZ2VzWzBdKVswXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYW5ncyAhPSBsYW5nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goJ2xhbmd1YWdlL2xhbmd1YWdlcycsIGAke1tsYW5ndWFnZSwgbGFuZ3VhZ2VzXS5qb2luKCcgJyl9IG1pc21hdGNoYCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7bGFuZ3VhZ2VzLmpvaW4oJywgJyl9ICgke2xhbmd1YWdlfSlgOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZSAhPSB3b3JrZXJTY29wZS5sYW5ndWFnZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShgTmF2aWdhdG9yLmxhbmd1YWdlYCwgYCR7bGFuZ3VhZ2V9IGRvZXMgbm90IG1hdGNoIHdvcmtlciBzY29wZWApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZXMgIT09IHdvcmtlclNjb3BlLmxhbmd1YWdlcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGllZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudExpZShgTmF2aWdhdG9yLmxhbmd1YWdlc2AsIGAke2xhbmd1YWdlc30gZG9lcyBub3QgbWF0Y2ggd29ya2VyIHNjb3BlYCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2xhbmd1YWdlfSAke2xhbmd1YWdlc31gOw0KICAgICAgICAgICAgICAgIH0sICdsYW5ndWFnZShzKSBmYWlsZWQnKSwNCiAgICAgICAgICAgICAgICBtYXhUb3VjaFBvaW50czogYXR0ZW1wdCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmICghKCdtYXhUb3VjaFBvaW50cycgaW4gbmF2aWdhdG9yKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50czsNCiAgICAgICAgICAgICAgICB9LCAnbWF4VG91Y2hQb2ludHMgZmFpbGVkJyksDQogICAgICAgICAgICAgICAgdmVuZG9yOiBhdHRlbXB0KCgpID0+IG5hdmlnYXRvci52ZW5kb3IsICd2ZW5kb3IgZmFpbGVkJyksDQogICAgICAgICAgICAgICAgbWltZVR5cGVzOiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBtaW1lVHlwZXMgfSA9IG5hdmlnYXRvcjsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1pbWVUeXBlcyA/IFsuLi5taW1lVHlwZXNdLm1hcCgobSkgPT4gbS50eXBlKSA6IFtdOw0KICAgICAgICAgICAgICAgIH0sICdtaW1lVHlwZXMgZmFpbGVkJyksDQogICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgIG9zY3B1OiBhdHRlbXB0KCgpID0+IG5hdmlnYXRvci5vc2NwdSwgJ29zY3B1IGZhaWxlZCcpLA0KICAgICAgICAgICAgICAgIHBsdWdpbnM6IGF0dGVtcHQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeXN0ZW0tc3RhdGUuaHRtbCNwZGYtdmlld2luZy1zdXBwb3J0DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcGx1Z2lucyB9ID0gbmF2aWdhdG9yOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIShwbHVnaW5zIGluc3RhbmNlb2YgUGx1Z2luQXJyYXkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBwbHVnaW5zID8gWy4uLnBsdWdpbnNdDQogICAgICAgICAgICAgICAgICAgICAgICAubWFwKChwKSA9PiAoew0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcC5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHAuZGVzY3JpcHRpb24sDQogICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTogcC5maWxlbmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb246IHAudmVyc2lvbiwNCiAgICAgICAgICAgICAgICAgICAgfSkpIDogW107DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbGllcyB9ID0gZ2V0UGx1Z2luTGllcyhwbHVnaW5zLCBuYXZpZ2F0b3IubWltZVR5cGVzKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGxpZXMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpZXMuZm9yRWFjaCgobGllKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50TGllKGBOYXZpZ2F0b3IucGx1Z2luc2AsIGxpZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5mb3JFYWNoKChwbHVnaW4pID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIGRlc2NyaXB0aW9uIH0gPSBwbHVnaW47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZUdpYmJlcnMgPSBnaWJiZXJpc2gobmFtZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb25HaWJiZXJzID0gZ2liYmVyaXNoKGRlc2NyaXB0aW9uKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZUdpYmJlcnMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKGBwbHVnaW4gbmFtZSBpcyBnaWJiZXJpc2hgLCBuYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9uR2liYmVycy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRvVHJhc2goYHBsdWdpbiBkZXNjcmlwdGlvbiBpcyBnaWJiZXJpc2hgLCBkZXNjcmlwdGlvbik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTsNCiAgICAgICAgICAgICAgICB9LCAncGx1Z2lucyBmYWlsZWQnKSwNCiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IpKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7DQogICAgICAgICAgICAgICAgfSwgJ25hdmlnYXRvciBrZXlzIGZhaWxlZCcpLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IGdldFVzZXJBZ2VudERhdGEgPSAoKSA9PiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgaWYgKCFuYXZpZ2F0b3IudXNlckFnZW50RGF0YSB8fA0KICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgICAgICFuYXZpZ2F0b3IudXNlckFnZW50RGF0YS5nZXRIaWdoRW50cm9weVZhbHVlcykgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEuZ2V0SGlnaEVudHJvcHlWYWx1ZXMoWydwbGF0Zm9ybScsICdwbGF0Zm9ybVZlcnNpb24nLCAnYXJjaGl0ZWN0dXJlJywgJ2JpdG5lc3MnLCAnbW9kZWwnLCAndWFGdWxsVmVyc2lvbiddKS50aGVuKChkYXRhKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBicmFuZHMsIG1vYmlsZSB9ID0gbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEgfHwge307DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzZWRCcmFuZHMgPSAoYnJhbmRzLCBjYXB0dXJlVmVyc2lvbiA9IGZhbHNlKSA9PiBicmFuZHMNCiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKG9iaikgPT4gIS9Ob3QvLnRlc3Qob2JqLmJyYW5kKSkubWFwKChvYmopID0+IGAke29iai5icmFuZH0ke2NhcHR1cmVWZXJzaW9uID8gYCAke29iai52ZXJzaW9ufWAgOiAnJ31gKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlQ2hyb21pdW0gPSAoYnJhbmRzKSA9PiAoYnJhbmRzLmxlbmd0aCA+IDEgPyBicmFuZHMuZmlsdGVyKChicmFuZCkgPT4gIS9DaHJvbWl1bS8udGVzdChicmFuZCkpIDogYnJhbmRzKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gY29tcHJlc3MgYnJhbmRzDQogICAgICAgICAgICAgICAgICAgIGlmICghZGF0YS5icmFuZHMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuYnJhbmRzID0gYnJhbmRzOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGRhdGEuYnJhbmRzVmVyc2lvbiA9IGNvbXByZXNzZWRCcmFuZHMoZGF0YS5icmFuZHMsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICBkYXRhLmJyYW5kcyA9IGNvbXByZXNzZWRCcmFuZHMoZGF0YS5icmFuZHMpOw0KICAgICAgICAgICAgICAgICAgICBkYXRhLmJyYW5kc1ZlcnNpb24gPSByZW1vdmVDaHJvbWl1bShkYXRhLmJyYW5kc1ZlcnNpb24pOw0KICAgICAgICAgICAgICAgICAgICBkYXRhLmJyYW5kcyA9IHJlbW92ZUNocm9taXVtKGRhdGEuYnJhbmRzKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLm1vYmlsZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5tb2JpbGUgPSBtb2JpbGU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YVNvcnRlZCA9IE9iamVjdC5rZXlzKGRhdGEpLnNvcnQoKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IGRhdGFba2V5XTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICAgICAgICAgIH0sIHt9KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFTb3J0ZWQ7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9LCAndXNlckFnZW50RGF0YSBmYWlsZWQnKTsNCiAgICAgICAgICAgIGNvbnN0IGdldEJsdWV0b290aEF2YWlsYWJpbGl0eSA9ICgpID0+IGF0dGVtcHQoKCkgPT4gew0KICAgICAgICAgICAgICAgIGlmICghKCdibHVldG9vdGgnIGluIG5hdmlnYXRvcikgfHwNCiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgICAgICAhbmF2aWdhdG9yLmJsdWV0b290aCB8fA0KICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgICAgICFuYXZpZ2F0b3IuYmx1ZXRvb3RoLmdldEF2YWlsYWJpbGl0eSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5ibHVldG9vdGguZ2V0QXZhaWxhYmlsaXR5KCk7DQogICAgICAgICAgICB9LCAnYmx1ZXRvb3RoQXZhaWxhYmlsaXR5IGZhaWxlZCcpOw0KICAgICAgICAgICAgY29uc3QgZ2V0UGVybWlzc2lvbnMgPSAoKSA9PiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBnZXRQZXJtaXNzaW9uU3RhdGUgPSAobmFtZSkgPT4gbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHsgbmFtZSB9KQ0KICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiAoeyBuYW1lLCBzdGF0ZTogcmVzLnN0YXRlIH0pKQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiAoeyBuYW1lLCBzdGF0ZTogJ3Vua25vd24nIH0pKTsNCiAgICAgICAgICAgICAgICAvLyBodHRwczovL3czYy5naXRodWIuaW8vcGVybWlzc2lvbnMvI3Blcm1pc3Npb24tcmVnaXN0cnkNCiAgICAgICAgICAgICAgICBjb25zdCBwZXJtaXNzaW9ucyA9ICEoJ3Blcm1pc3Npb25zJyBpbiBuYXZpZ2F0b3IpID8gdW5kZWZpbmVkIDogUHJvbWlzZS5hbGwoWw0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ2FjY2VsZXJvbWV0ZXInKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdhbWJpZW50LWxpZ2h0LXNlbnNvcicpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ2JhY2tncm91bmQtZmV0Y2gnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdiYWNrZ3JvdW5kLXN5bmMnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdibHVldG9vdGgnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdjYW1lcmEnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdjbGlwYm9hcmQnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdkZXZpY2UtaW5mbycpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ2Rpc3BsYXktY2FwdHVyZScpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ2dhbWVwYWQnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdnZW9sb2NhdGlvbicpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ2d5cm9zY29wZScpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ21hZ25ldG9tZXRlcicpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ21pY3JvcGhvbmUnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdtaWRpJyksDQogICAgICAgICAgICAgICAgICAgIGdldFBlcm1pc3Npb25TdGF0ZSgnbmZjJyksDQogICAgICAgICAgICAgICAgICAgIGdldFBlcm1pc3Npb25TdGF0ZSgnbm90aWZpY2F0aW9ucycpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ3BlcnNpc3RlbnQtc3RvcmFnZScpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ3B1c2gnKSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGVybWlzc2lvblN0YXRlKCdzY3JlZW4td2FrZS1sb2NrJyksDQogICAgICAgICAgICAgICAgICAgIGdldFBlcm1pc3Npb25TdGF0ZSgnc3BlYWtlcicpLA0KICAgICAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9uU3RhdGUoJ3NwZWFrZXItc2VsZWN0aW9uJyksDQogICAgICAgICAgICAgICAgXSkudGhlbigocGVybWlzc2lvbnMpID0+IHBlcm1pc3Npb25zLnJlZHVjZSgoYWNjLCBwZXJtKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUsIG5hbWUgfSA9IHBlcm0gfHwge307DQogICAgICAgICAgICAgICAgICAgIGlmIChhY2Nbc3RhdGVdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhY2Nbc3RhdGVdLnB1c2gobmFtZSk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGFjY1tzdGF0ZV0gPSBbbmFtZV07DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICAgICAgfSwge30pKS5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IpKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gcGVybWlzc2lvbnM7DQogICAgICAgICAgICB9LCAncGVybWlzc2lvbnMgZmFpbGVkJyk7DQogICAgICAgICAgICBjb25zdCBnZXRXZWJncHUgPSAoKSA9PiBhdHRlbXB0KCgpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoISgnZ3B1JyBpbiBuYXZpZ2F0b3IpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IuZ3B1LnJlcXVlc3RBZGFwdGVyKCkudGhlbigoeyBsaW1pdHMsIGZlYXR1cmVzIH0pID0+IHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzOiBbLi4uZmVhdHVyZXMudmFsdWVzKCldLA0KICAgICAgICAgICAgICAgICAgICAgICAgbGltaXRzOiAoKGxpbWl0cykgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7fTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wIGluIGxpbWl0cykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW3Byb3BdID0gbGltaXRzW3Byb3BdOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pKGxpbWl0cyksDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9LCAnd2ViZ3B1IGZhaWxlZCcpOw0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoWw0KICAgICAgICAgICAgICAgIGdldFVzZXJBZ2VudERhdGEoKSwNCiAgICAgICAgICAgICAgICBnZXRCbHVldG9vdGhBdmFpbGFiaWxpdHkoKSwNCiAgICAgICAgICAgICAgICBnZXRQZXJtaXNzaW9ucygpLA0KICAgICAgICAgICAgICAgIGdldFdlYmdwdSgpLA0KICAgICAgICAgICAgXSkudGhlbigoW3VzZXJBZ2VudERhdGEsIGJsdWV0b290aEF2YWlsYWJpbGl0eSwgcGVybWlzc2lvbnMsIHdlYmdwdSxdKSA9PiB7DQogICAgICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRpbWU6IHRpbWVyLnN0b3AoKSwgdGVzdDogJ25hdmlnYXRvcicsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICAuLi5kYXRhLA0KICAgICAgICAgICAgICAgICAgICB1c2VyQWdlbnREYXRhLA0KICAgICAgICAgICAgICAgICAgICBibHVldG9vdGhBdmFpbGFiaWxpdHksDQogICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zLA0KICAgICAgICAgICAgICAgICAgICB3ZWJncHUsDQogICAgICAgICAgICAgICAgICAgIGxpZWQsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICduYXZpZ2F0b3InLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgLi4uZGF0YSwNCiAgICAgICAgICAgICAgICAgICAgbGllZCwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ25hdmlnYXRvcicsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IsICdOYXZpZ2F0b3IgZmFpbGVkIG9yIGJsb2NrZWQgYnkgY2xpZW50Jyk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gZ2V0UmVzaXN0YW5jZSgpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICBwcml2YWN5OiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgc2VjdXJpdHk6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICBtb2RlOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgZXh0ZW5zaW9uOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgZW5naW5lOiAoSVNfQkxJTksgPyAnQmxpbmsnIDoNCiAgICAgICAgICAgICAgICAgICAgSVNfR0VDS08gPyAnR2Vja28nIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICcnKSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvLyBGaXJlZm94L1RvciBCcm93c2VyDQogICAgICAgICAgICBjb25zdCByZWdleCA9IChuKSA9PiBuZXcgUmVnRXhwKGAke259KyRgKTsNCiAgICAgICAgICAgIGNvbnN0IGRlbGF5ID0gKG1zLCBiYXNlTnVtYmVyLCBiYXNlRGF0ZSkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBiYXNlRGF0ZSA/IGJhc2VEYXRlIDogK25ldyBEYXRlKCk7DQogICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVnZXgoYmFzZU51bWJlcikudGVzdChkYXRlKSA/IHJlZ2V4KGJhc2VOdW1iZXIpLmV4ZWMoZGF0ZSlbMF0gOiBkYXRlOw0KICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHZhbHVlKTsNCiAgICAgICAgICAgIH0sIG1zKSk7DQogICAgICAgICAgICBjb25zdCBnZXRUaW1lclByZWNpc2lvbiA9IGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBiYXNlRGF0ZSA9ICtuZXcgRGF0ZSgpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VOdW1iZXIgPSArKCcnICsgYmFzZURhdGUpLnNsaWNlKC0xKTsNCiAgICAgICAgICAgICAgICBjb25zdCBhID0gYXdhaXQgZGVsYXkoMCwgYmFzZU51bWJlciwgYmFzZURhdGUpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGIgPSBhd2FpdCBkZWxheSgxLCBiYXNlTnVtYmVyKTsNCiAgICAgICAgICAgICAgICBjb25zdCBjID0gYXdhaXQgZGVsYXkoMiwgYmFzZU51bWJlcik7DQogICAgICAgICAgICAgICAgY29uc3QgZCA9IGF3YWl0IGRlbGF5KDMsIGJhc2VOdW1iZXIpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBhd2FpdCBkZWxheSg0LCBiYXNlTnVtYmVyKTsNCiAgICAgICAgICAgICAgICBjb25zdCBmID0gYXdhaXQgZGVsYXkoNSwgYmFzZU51bWJlcik7DQogICAgICAgICAgICAgICAgY29uc3QgZyA9IGF3YWl0IGRlbGF5KDYsIGJhc2VOdW1iZXIpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGggPSBhd2FpdCBkZWxheSg3LCBiYXNlTnVtYmVyKTsNCiAgICAgICAgICAgICAgICBjb25zdCBpID0gYXdhaXQgZGVsYXkoOCwgYmFzZU51bWJlcik7DQogICAgICAgICAgICAgICAgY29uc3QgaiA9IGF3YWl0IGRlbGF5KDksIGJhc2VOdW1iZXIpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFyQSA9ICgnJyArIGEpLnNsaWNlKC0xKTsNCiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q2hhckIgPSAoJycgKyBiKS5zbGljZSgtMSk7DQogICAgICAgICAgICAgICAgY29uc3QgbGFzdENoYXJDID0gKCcnICsgYykuc2xpY2UoLTEpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFyRCA9ICgnJyArIGQpLnNsaWNlKC0xKTsNCiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q2hhckUgPSAoJycgKyBlKS5zbGljZSgtMSk7DQogICAgICAgICAgICAgICAgY29uc3QgbGFzdENoYXJGID0gKCcnICsgZikuc2xpY2UoLTEpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFyRyA9ICgnJyArIGcpLnNsaWNlKC0xKTsNCiAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q2hhckggPSAoJycgKyBoKS5zbGljZSgtMSk7DQogICAgICAgICAgICAgICAgY29uc3QgbGFzdENoYXJJID0gKCcnICsgaSkuc2xpY2UoLTEpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RDaGFySiA9ICgnJyArIGopLnNsaWNlKC0xKTsNCiAgICAgICAgICAgICAgICBjb25zdCBwcm90ZWN0aW9uID0gKGxhc3RDaGFyQSA9PSBsYXN0Q2hhckIgJiYNCiAgICAgICAgICAgICAgICAgICAgbGFzdENoYXJBID09IGxhc3RDaGFyQyAmJg0KICAgICAgICAgICAgICAgICAgICBsYXN0Q2hhckEgPT0gbGFzdENoYXJEICYmDQogICAgICAgICAgICAgICAgICAgIGxhc3RDaGFyQSA9PSBsYXN0Q2hhckUgJiYNCiAgICAgICAgICAgICAgICAgICAgbGFzdENoYXJBID09IGxhc3RDaGFyRiAmJg0KICAgICAgICAgICAgICAgICAgICBsYXN0Q2hhckEgPT0gbGFzdENoYXJHICYmDQogICAgICAgICAgICAgICAgICAgIGxhc3RDaGFyQSA9PSBsYXN0Q2hhckggJiYNCiAgICAgICAgICAgICAgICAgICAgbGFzdENoYXJBID09IGxhc3RDaGFySSAmJg0KICAgICAgICAgICAgICAgICAgICBsYXN0Q2hhckEgPT0gbGFzdENoYXJKKTsNCiAgICAgICAgICAgICAgICBjb25zdCBiYXNlTGVuID0gKCcnICsgYSkubGVuZ3RoOw0KICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBbYSwgYiwgYywgZCwgZSwgZiwgZywgaCwgaSwgal07DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgcHJvdGVjdGlvbiwNCiAgICAgICAgICAgICAgICAgICAgZGVsYXlzOiBjb2xsZWN0aW9uLm1hcCgobikgPT4gKCcnICsgbikubGVuZ3RoID4gYmFzZUxlbiA/ICgnJyArIG4pLnNsaWNlKC1iYXNlTGVuKSA6IG4pLA0KICAgICAgICAgICAgICAgICAgICBwcmVjaXNpb246IHByb3RlY3Rpb24gPyBNYXRoLm1pbiguLi5jb2xsZWN0aW9uLm1hcCgodmFsKSA9PiAoJycgKyB2YWwpLmxlbmd0aCkpIDogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgICAgICBwcmVjaXNpb25WYWx1ZTogcHJvdGVjdGlvbiA/IGxhc3RDaGFyQSA6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IFtpc0JyYXZlLCB0aW1lclByZWNpc2lvbixdID0gYXdhaXQgUHJvbWlzZS5hbGwoWw0KICAgICAgICAgICAgICAgIGJyYXZlQnJvd3NlcigpLA0KICAgICAgICAgICAgICAgIElTX0JMSU5LID8gdW5kZWZpbmVkIDogZ2V0VGltZXJQcmVjaXNpb24oKSwNCiAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgaWYgKGlzQnJhdmUpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBicmF2ZU1vZGUgPSBnZXRCcmF2ZU1vZGUoKTsNCiAgICAgICAgICAgICAgICBkYXRhLnByaXZhY3kgPSAnQnJhdmUnOw0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICBkYXRhLnNlY3VyaXR5ID0gew0KICAgICAgICAgICAgICAgICAgICAnRmlsZVN5c3RlbVdyaXRhYmxlRmlsZVN0cmVhbSc6ICdGaWxlU3lzdGVtV3JpdGFibGVGaWxlU3RyZWFtJyBpbiB3aW5kb3csDQogICAgICAgICAgICAgICAgICAgICdTZXJpYWwnOiAnU2VyaWFsJyBpbiB3aW5kb3csDQogICAgICAgICAgICAgICAgICAgICdSZXBvcnRpbmdPYnNlcnZlcic6ICdSZXBvcnRpbmdPYnNlcnZlcicgaW4gd2luZG93LA0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgZGF0YS5tb2RlID0gKGJyYXZlTW9kZS5hbGxvdyA/ICdhbGxvdycgOg0KICAgICAgICAgICAgICAgICAgICBicmF2ZU1vZGUuc3RhbmRhcmQgPyAnc3RhbmRhcmQnIDoNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyYXZlTW9kZS5zdHJpY3QgPyAnc3RyaWN0JyA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgeyBwcm90ZWN0aW9uIH0gPSB0aW1lclByZWNpc2lvbiB8fCB7fTsNCiAgICAgICAgICAgIGlmIChJU19HRUNLTyAmJiBwcm90ZWN0aW9uKSB7DQogICAgICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSB7DQogICAgICAgICAgICAgICAgICAgICdPZmZsaW5lQXVkaW9Db250ZXh0JzogJ09mZmxpbmVBdWRpb0NvbnRleHQnIGluIHdpbmRvdywNCiAgICAgICAgICAgICAgICAgICAgJ1dlYkdMMlJlbmRlcmluZ0NvbnRleHQnOiAnV2ViR0wyUmVuZGVyaW5nQ29udGV4dCcgaW4gd2luZG93LA0KICAgICAgICAgICAgICAgICAgICAnV2ViQXNzZW1ibHknOiAnV2ViQXNzZW1ibHknIGluIHdpbmRvdywNCiAgICAgICAgICAgICAgICAgICAgJ21heFRvdWNoUG9pbnRzJzogJ21heFRvdWNoUG9pbnRzJyBpbiBuYXZpZ2F0b3IsDQogICAgICAgICAgICAgICAgICAgICdSVENSdHBUcmFuc2NlaXZlcic6ICdSVENSdHBUcmFuc2NlaXZlcicgaW4gd2luZG93LA0KICAgICAgICAgICAgICAgICAgICAnTWVkaWFEZXZpY2VzJzogJ01lZGlhRGV2aWNlcycgaW4gd2luZG93LA0KICAgICAgICAgICAgICAgICAgICAnQ3JlZGVudGlhbCc6ICdDcmVkZW50aWFsJyBpbiB3aW5kb3csDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBjb25zdCBmZWF0dXJlS2V5cyA9IE9iamVjdC5rZXlzKGZlYXR1cmVzKTsNCiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRTZXQgPSBuZXcgU2V0KFsNCiAgICAgICAgICAgICAgICAgICAgJ1JUQ1J0cFRyYW5zY2VpdmVyJywNCiAgICAgICAgICAgICAgICAgICAgJ01lZGlhRGV2aWNlcycsDQogICAgICAgICAgICAgICAgICAgICdDcmVkZW50aWFsJywNCiAgICAgICAgICAgICAgICBdKTsNCiAgICAgICAgICAgICAgICBjb25zdCB0b3JCcm93c2VyID0gZmVhdHVyZUtleXMuZmlsdGVyKChrZXkpID0+IHRhcmdldFNldC5oYXMoa2V5KSAmJiAhZmVhdHVyZXNba2V5XSkubGVuZ3RoID09IHRhcmdldFNldC5zaXplOw0KICAgICAgICAgICAgICAgIGNvbnN0IHNhZmVyID0gIWZlYXR1cmVzLldlYkFzc2VtYmx5Ow0KICAgICAgICAgICAgICAgIGRhdGEucHJpdmFjeSA9IHRvckJyb3dzZXIgPyAnVG9yIEJyb3dzZXInIDogJ0ZpcmVmb3gnOw0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICBkYXRhLnNlY3VyaXR5ID0gew0KICAgICAgICAgICAgICAgICAgICAncmVkdWNlVGltZXJQcmVjaXNpb24nOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAuLi5mZWF0dXJlcywNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGRhdGEubW9kZSA9ICghdG9yQnJvd3NlciA/ICdyZXNpc3RGaW5nZXJwcmludGluZycgOg0KICAgICAgICAgICAgICAgICAgICBzYWZlciA/ICdzYWZlcicgOg0KICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YW5kYXJkJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBleHRlbnNpb24NCiAgICAgICAgICAgIC8vIC0gdGhpcyB0ZWNobmlxdWUgZ2V0cyBhIHNtYWxsIHNhbXBsZSBvZiBrbm93biBsaWUgcGF0dGVybnMNCiAgICAgICAgICAgIC8vIC0gcGF0dGVybnMgdmFyeSBiYXNlZCBvbiBleHRlbnNpb25zIHNldHRpbmdzLCB2ZXJzaW9uLCBicm93c2VyDQogICAgICAgICAgICBjb25zdCBwcm90b3R5cGVMaWVzTGVuID0gT2JqZWN0LmtleXMocHJvdG90eXBlTGllcykubGVuZ3RoOw0KICAgICAgICAgICAgLy8gcGF0dGVybnMgYmFzZWQgb24gc2V0dGluZ3MNCiAgICAgICAgICAgIGNvbnN0IGRpc2FibGVkID0gJ2M3Njc3MTJiJzsNCiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSB7DQogICAgICAgICAgICAgICAgbm9zY3JpcHQ6IHsNCiAgICAgICAgICAgICAgICAgICAgY29udGVudERvY3VtZW50SGFzaDogWycwYjYzN2EzMycsICczN2UyZjMyZScsICczMTgzOTBkMSddLA0KICAgICAgICAgICAgICAgICAgICBjb250ZW50V2luZG93SGFzaDogWycwYjYzN2EzMycsICczN2UyZjMyZScsICczMTgzOTBkMSddLA0KICAgICAgICAgICAgICAgICAgICBnZXRDb250ZXh0SGFzaDogWycwYjYzN2EzMycsICcwODFkNmQxYicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHRyYWNlOiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnREb2N1bWVudEhhc2g6IFsnY2E5ZDljMmYnXSwNCiAgICAgICAgICAgICAgICAgICAgY29udGVudFdpbmRvd0hhc2g6IFsnY2E5ZDljMmYnXSwNCiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudEhhc2g6IFsnNzdkZWE4MzQnXSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0RWxlbWVudEJ5SWRIYXNoOiBbJzc3ZGVhODM0J10sDQogICAgICAgICAgICAgICAgICAgIGdldEltYWdlRGF0YUhhc2g6IFsnNzdkZWE4MzQnXSwNCiAgICAgICAgICAgICAgICAgICAgdG9CbG9iSGFzaDogWyc3N2RlYTgzNCcsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgdG9EYXRhVVJMSGFzaDogWyc3N2RlYTgzNCcsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGN5ZGVjOiB7DQogICAgICAgICAgICAgICAgICAgIC8vIFtGRiwgRkYgQW50aSBPRkYsIENocm9tZSwgQ2hyb21lIEFudGkgT2ZmLCBubyBpZnJhbWUgQ2hyb21lLCBubyBpZnJhbWUgQ2hyb21lIEFudGkgT2ZmXQ0KICAgICAgICAgICAgICAgICAgICBjb250ZW50RG9jdW1lbnRIYXNoOiBbJzk0NWIwYzc4JywgJzE1NzcxZWZhJywgJzQwM2ExYTIxJywgJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnRXaW5kb3dIYXNoOiBbJzk0NWIwYzc4JywgJzE1NzcxZWZhJywgJzQwM2ExYTIxJywgJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnRIYXNoOiBbJzNkZDg2ZDZmJywgJ2NjN2NiNTk4JywgJzQyMzdiNDRjJywgJzE0NjZhYWYwJywgJzBjYjBjNjgyJywgJzczYzY2MmQ5JywgJzcyYjFlZTJiJywgJ2FlM2QwMmM5J10sDQogICAgICAgICAgICAgICAgICAgIGdldEVsZW1lbnRCeUlkSGFzaDogWyczZGQ4NmQ2ZicsICdjYzdjYjU5OCcsICc0MjM3YjQ0YycsICcxNDY2YWFmMCcsICcwY2IwYzY4MicsICc3M2M2NjJkOScsICc3MmIxZWUyYicsICdhZTNkMDJjOSddLA0KICAgICAgICAgICAgICAgICAgICBnZXRJbWFnZURhdGFIYXNoOiBbJzA0NGYxNGMyJywgJ2RiNjBkN2Y5JywgJzE1NzcxZWZhJywgJ2RiNjBkN2Y5JywgJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIHRvQmxvYkhhc2g6IFsnMDQ0ZjE0YzInLCAnMTU3NzFlZmEnLCAnYWZlYzM0OGQnLCAnNTVlOWI5NTknLCAnMGRiYmY0NTYnXSwNCiAgICAgICAgICAgICAgICAgICAgdG9EYXRhVVJMSGFzaDogWydlY2I0OThkOScsICcxNTc3MWVmYScsICc2YjgzOGZiNicsICdkMTkxMDRlYycsICc2OTg1ZDMxNScsICc1NWU5Yjk1OScsICdmZTg4MjU5ZiddLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgY2FudmFzYmxvY2tlcjogew0KICAgICAgICAgICAgICAgICAgICBjb250ZW50RG9jdW1lbnRIYXNoOiBbJzk4ZWM4NThlJywgJ2RiYmFmMzFmJ10sDQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnRXaW5kb3dIYXNoOiBbJzk4ZWM4NThlJywgJ2RiYmFmMzFmJ10sDQogICAgICAgICAgICAgICAgICAgIGFwcGVuZEhhc2g6IFsnOThlYzg1OGUnLCAnZGJiYWYzMWYnXSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0SW1hZ2VEYXRhSGFzaDogWyc5OGVjODU4ZScsICdhMjk3MTg4OCcsICdkYmJhZjMxZicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgdG9CbG9iSGFzaDogWyc5ZjFjM2RmZScsICdhMjk3MTg4OCcsICdkYmJhZjMxZicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgdG9EYXRhVVJMSGFzaDogWyc5OGVjODU4ZScsICdhMjk3MTg4OCcsICdkYmJhZjMxZicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGNoYW1lbGVvbjogew0KICAgICAgICAgICAgICAgICAgICBhcHBlbmRIYXNoOiBbJzc3ZGVhODM0J10sDQogICAgICAgICAgICAgICAgICAgIGluc2VydEFkamFjZW50RWxlbWVudEhhc2g6IFsnNzdkZWE4MzQnXSwNCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QWRqYWNlbnRIVE1MSGFzaDogWyc3N2RlYTgzNCddLA0KICAgICAgICAgICAgICAgICAgICBpbnNlcnRBZGphY2VudFRleHRIYXNoOiBbJzc3ZGVhODM0J10sDQogICAgICAgICAgICAgICAgICAgIHByZXBlbmRIYXNoOiBbJzc3ZGVhODM0J10sDQogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VXaXRoSGFzaDogWyc3N2RlYTgzNCddLA0KICAgICAgICAgICAgICAgICAgICBhcHBlbmRDaGlsZEhhc2g6IFsnNzdkZWE4MzQnXSwNCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlSGFzaDogWyc3N2RlYTgzNCddLA0KICAgICAgICAgICAgICAgICAgICByZXBsYWNlQ2hpbGRIYXNoOiBbJzc3ZGVhODM0J10sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBkdWNrZHVja2dvOiB7DQogICAgICAgICAgICAgICAgICAgIHRvRGF0YVVSTEhhc2g6IFsnZmQwMGJmNWQnLCAnOGVlN2RmMjInLCBkaXNhYmxlZF0sDQogICAgICAgICAgICAgICAgICAgIHRvQmxvYkhhc2g6IFsnZmQwMGJmNWQnLCAnOGVlN2RmMjInLCBkaXNhYmxlZF0sDQogICAgICAgICAgICAgICAgICAgIGdldEltYWdlRGF0YUhhc2g6IFsnZmQwMGJmNWQnLCAnOGVlN2RmMjInLCBkaXNhYmxlZF0sDQogICAgICAgICAgICAgICAgICAgIGdldEJ5dGVGcmVxdWVuY3lEYXRhSGFzaDogWydmZDAwYmY1ZCcsICc4ZWU3ZGYyMicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0Qnl0ZVRpbWVEb21haW5EYXRhSGFzaDogWydmZDAwYmY1ZCcsICc4ZWU3ZGYyMicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0RmxvYXRGcmVxdWVuY3lEYXRhSGFzaDogWydmZDAwYmY1ZCcsICc4ZWU3ZGYyMicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0RmxvYXRUaW1lRG9tYWluRGF0YUhhc2g6IFsnZmQwMGJmNWQnLCAnOGVlN2RmMjInLCBkaXNhYmxlZF0sDQogICAgICAgICAgICAgICAgICAgIGNvcHlGcm9tQ2hhbm5lbEhhc2g6IFsnZmQwMGJmNWQnLCAnOGVlN2RmMjInLCBkaXNhYmxlZF0sDQogICAgICAgICAgICAgICAgICAgIGdldENoYW5uZWxEYXRhSGFzaDogWydmZDAwYmY1ZCcsICc4ZWU3ZGYyMicsIGRpc2FibGVkXSwNCiAgICAgICAgICAgICAgICAgICAgaGFyZHdhcmVDb25jdXJyZW5jeUhhc2g6IFsnZGZkNDFhYjQnXSwNCiAgICAgICAgICAgICAgICAgICAgYXZhaWxIZWlnaHRIYXNoOiBbJ2RmZDQxYWI0J10sDQogICAgICAgICAgICAgICAgICAgIGF2YWlsTGVmdEhhc2g6IFsnZGZkNDFhYjQnXSwNCiAgICAgICAgICAgICAgICAgICAgYXZhaWxUb3BIYXNoOiBbJ2RmZDQxYWI0J10sDQogICAgICAgICAgICAgICAgICAgIGF2YWlsV2lkdGhIYXNoOiBbJ2RmZDQxYWI0J10sDQogICAgICAgICAgICAgICAgICAgIGNvbG9yRGVwdGhIYXNoOiBbJ2RmZDQxYWI0J10sDQogICAgICAgICAgICAgICAgICAgIHBpeGVsRGVwdGhIYXNoOiBbJ2RmZDQxYWI0J10sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAvLyBtb2RlOiBMZWFybiB0byBibG9jayBuZXcgdHJhY2tlcnMgZnJvbSB5b3VyIGJyb3dzaW5nDQogICAgICAgICAgICAgICAgcHJpdmFjeWJhZGdlcjogew0KICAgICAgICAgICAgICAgICAgICBnZXRJbWFnZURhdGFIYXNoOiBbJzBjYjBjNjgyJ10sDQogICAgICAgICAgICAgICAgICAgIHRvRGF0YVVSTEhhc2g6IFsnMGNiMGM2ODInXSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHByaXZhY3lwb3NzdW06IHsNCiAgICAgICAgICAgICAgICAgICAgaGFyZHdhcmVDb25jdXJyZW5jeUhhc2g6IFsnNDUyOTI0ZDUnXSwNCiAgICAgICAgICAgICAgICAgICAgYXZhaWxXaWR0aEhhc2g6IFsnNDUyOTI0ZDUnXSwNCiAgICAgICAgICAgICAgICAgICAgY29sb3JEZXB0aEhhc2g6IFsnNDUyOTI0ZDUnXSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGpzaGVsdGVyOiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnREb2N1bWVudEhhc2g6IFsnMDAwN2FiNGUnLCAnMGI2MzdhMzMnLCAnODY2ZmE3ZTcnLCAnMzE4MzkwZDEnXSwNCiAgICAgICAgICAgICAgICAgICAgY29udGVudFdpbmRvd0hhc2g6IFsnMDAwN2FiNGUnLCAnMGI2MzdhMzMnLCAnODY2ZmE3ZTcnLCAnMzE4MzkwZDEnXSwNCiAgICAgICAgICAgICAgICAgICAgYXBwZW5kSGFzaDogWycwMDA3YWI0ZScsICcwYjYzN2EzMycsICc4NjZmYTdlNycsICczMTgzOTBkMSddLA0KICAgICAgICAgICAgICAgICAgICBpbnNlcnRBZGphY2VudEVsZW1lbnRIYXNoOiBbJzAwMDdhYjRlJywgJzBiNjM3YTMzJywgJzg2NmZhN2U3JywgJzMxODM5MGQxJ10sDQogICAgICAgICAgICAgICAgICAgIGluc2VydEFkamFjZW50SFRNTEhhc2g6IFsnMDAwN2FiNGUnLCAnMGI2MzdhMzMnLCAnODY2ZmE3ZTcnLCAnMzE4MzkwZDEnXSwNCiAgICAgICAgICAgICAgICAgICAgcHJlcGVuZEhhc2g6IFsnMDAwN2FiNGUnLCAnMGI2MzdhMzMnLCAnODY2ZmE3ZTcnLCAnMzE4MzkwZDEnXSwNCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZVdpdGhIYXNoOiBbJzAwMDdhYjRlJywgJzBiNjM3YTMzJywgJzg2NmZhN2U3JywgJzMxODM5MGQxJ10sDQogICAgICAgICAgICAgICAgICAgIGFwcGVuZENoaWxkSGFzaDogWycwMDA3YWI0ZScsICcwYjYzN2EzMycsICc4NjZmYTdlNycsICczMTgzOTBkMSddLA0KICAgICAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmVIYXNoOiBbJzAwMDdhYjRlJywgJzBiNjM3YTMzJywgJzg2NmZhN2U3JywgJzMxODM5MGQxJ10sDQogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VDaGlsZEhhc2g6IFsnMDAwN2FiNGUnLCAnMGI2MzdhMzMnLCAnODY2ZmE3ZTcnLCAnMzE4MzkwZDEnXSwNCiAgICAgICAgICAgICAgICAgICAgaGFyZHdhcmVDb25jdXJyZW5jeUhhc2g6IFsnZGZkNDFhYjQnXSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHB1cHBldGVlckV4dHJhOiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnREb2N1bWVudEhhc2g6IFsnNTVlOWI5NTknXSwNCiAgICAgICAgICAgICAgICAgICAgY29udGVudFdpbmRvd0hhc2g6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgICc1NWU5Yjk1OScsDQogICAgICAgICAgICAgICAgICAgICAgICAnNTBhMjgxYjUnLCAvLyBAMi4xMC4wDQogICAgICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnRIYXNoOiBbJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIGdldEVsZW1lbnRCeUlkSGFzaDogWyc1NWU5Yjk1OSddLA0KICAgICAgICAgICAgICAgICAgICBhcHBlbmRIYXNoOiBbJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIGluc2VydEFkamFjZW50RWxlbWVudEhhc2g6IFsnNTVlOWI5NTknXSwNCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QWRqYWNlbnRIVE1MSGFzaDogWyc1NWU5Yjk1OSddLA0KICAgICAgICAgICAgICAgICAgICBpbnNlcnRBZGphY2VudFRleHRIYXNoOiBbJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIHByZXBlbmRIYXNoOiBbJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VXaXRoSGFzaDogWyc1NWU5Yjk1OSddLA0KICAgICAgICAgICAgICAgICAgICBhcHBlbmRDaGlsZEhhc2g6IFsnNTVlOWI5NTknXSwNCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlSGFzaDogWyc1NWU5Yjk1OSddLA0KICAgICAgICAgICAgICAgICAgICByZXBsYWNlQ2hpbGRIYXNoOiBbJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIGdldENvbnRleHRIYXNoOiBbJzU1ZTliOTU5JywgZGlzYWJsZWRdLA0KICAgICAgICAgICAgICAgICAgICB0b0RhdGFVUkxIYXNoOiBbJzU1ZTliOTU5JywgZGlzYWJsZWRdLA0KICAgICAgICAgICAgICAgICAgICB0b0Jsb2JIYXNoOiBbJzU1ZTliOTU5JywgZGlzYWJsZWRdLA0KICAgICAgICAgICAgICAgICAgICBnZXRJbWFnZURhdGFIYXNoOiBbJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgICAgIGhhcmR3YXJlQ29uY3VycmVuY3lIYXNoOiBbJ2VmYmQ0Y2Y5JywgJ2E2MzQ5MWZiJywgJ2IwMTFmZDFjJywgJzE5NGVjZjE3JywgJzU1ZTliOTU5J10sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBmYWtlQnJvd3Nlcjogew0KICAgICAgICAgICAgICAgICAgICBhcHBlbmRDaGlsZEhhc2g6IFsnOGRmZWMyZWMnLCAnZjQzZTYxMzQnXSwNCiAgICAgICAgICAgICAgICAgICAgZ2V0Q29udGV4dEhhc2g6IFsnODNiODI1YWInLCAnYTYzNDkxZmInXSwNCiAgICAgICAgICAgICAgICAgICAgdG9EYXRhVVJMSGFzaDogWyc4M2I4MjVhYicsICdhNjM0OTFmYiddLA0KICAgICAgICAgICAgICAgICAgICB0b0Jsb2JIYXNoOiBbJzgzYjgyNWFiJywgJ2E2MzQ5MWZiJ10sDQogICAgICAgICAgICAgICAgICAgIGdldEltYWdlRGF0YUhhc2g6IFsnODNiODI1YWInLCAnYTYzNDkxZmInXSwNCiAgICAgICAgICAgICAgICAgICAgaGFyZHdhcmVDb25jdXJyZW5jeUhhc2g6IFsnODNiODI1YWInLCAnYTYzNDkxZmInXSwNCiAgICAgICAgICAgICAgICAgICAgYXZhaWxIZWlnaHRIYXNoOiBbJzgzYjgyNWFiJywgJ2E2MzQ5MWZiJ10sDQogICAgICAgICAgICAgICAgICAgIGF2YWlsTGVmdEhhc2g6IFsnODNiODI1YWInLCAnYTYzNDkxZmInXSwNCiAgICAgICAgICAgICAgICAgICAgYXZhaWxUb3BIYXNoOiBbJzgzYjgyNWFiJywgJ2E2MzQ5MWZiJ10sDQogICAgICAgICAgICAgICAgICAgIGF2YWlsV2lkdGhIYXNoOiBbJzgzYjgyNWFiJywgJ2E2MzQ5MWZiJ10sDQogICAgICAgICAgICAgICAgICAgIGNvbG9yRGVwdGhIYXNoOiBbJzgzYjgyNWFiJywgJ2E2MzQ5MWZiJ10sDQogICAgICAgICAgICAgICAgICAgIHBpeGVsRGVwdGhIYXNoOiBbJzgzYjgyNWFiJywgJ2E2MzQ5MWZiJ10sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvKg0KICAgICAgICAgICAgUmFuZG9tIFVzZXItQWdlbnQNCiAgICAgICAgICAgIFVzZXIgQWdlbnQgU3dpdGNoZXIgYW5kIE1hbmFnZXINCiAgICAgICAgICAgIFNjcmlwdFNhZmUNCiAgICAgICAgICAgIFdpbmRzY3JpYmUNCiAgICAgICAgICAgICovDQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGNvbnN0IGhhc2ggPSB7DQogICAgICAgICAgICAgICAgLy8gaWZyYW1lcw0KICAgICAgICAgICAgICAgIGNvbnRlbnREb2N1bWVudEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0hUTUxJRnJhbWVFbGVtZW50LmNvbnRlbnREb2N1bWVudCddKSwNCiAgICAgICAgICAgICAgICBjb250ZW50V2luZG93SGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snSFRNTElGcmFtZUVsZW1lbnQuY29udGVudFdpbmRvdyddKSwNCiAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50SGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snRG9jdW1lbnQuY3JlYXRlRWxlbWVudCddKSwNCiAgICAgICAgICAgICAgICBnZXRFbGVtZW50QnlJZEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0RvY3VtZW50LmdldEVsZW1lbnRCeUlkJ10pLA0KICAgICAgICAgICAgICAgIGFwcGVuZEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0VsZW1lbnQuYXBwZW5kJ10pLA0KICAgICAgICAgICAgICAgIGluc2VydEFkamFjZW50RWxlbWVudEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0VsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50J10pLA0KICAgICAgICAgICAgICAgIGluc2VydEFkamFjZW50SFRNTEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0VsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MJ10pLA0KICAgICAgICAgICAgICAgIGluc2VydEFkamFjZW50VGV4dEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0VsZW1lbnQuaW5zZXJ0QWRqYWNlbnRUZXh0J10pLA0KICAgICAgICAgICAgICAgIHByZXBlbmRIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydFbGVtZW50LnByZXBlbmQnXSksDQogICAgICAgICAgICAgICAgcmVwbGFjZVdpdGhIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydFbGVtZW50LnJlcGxhY2VXaXRoJ10pLA0KICAgICAgICAgICAgICAgIGFwcGVuZENoaWxkSGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snTm9kZS5hcHBlbmRDaGlsZCddKSwNCiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmVIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydOb2RlLmluc2VydEJlZm9yZSddKSwNCiAgICAgICAgICAgICAgICByZXBsYWNlQ2hpbGRIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydOb2RlLnJlcGxhY2VDaGlsZCddKSwNCiAgICAgICAgICAgICAgICAvLyBjYW52YXMNCiAgICAgICAgICAgICAgICBnZXRDb250ZXh0SGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snSFRNTENhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCddKSwNCiAgICAgICAgICAgICAgICB0b0RhdGFVUkxIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydIVE1MQ2FudmFzRWxlbWVudC50b0RhdGFVUkwnXSksDQogICAgICAgICAgICAgICAgdG9CbG9iSGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snSFRNTENhbnZhc0VsZW1lbnQudG9CbG9iJ10pLA0KICAgICAgICAgICAgICAgIGdldEltYWdlRGF0YUhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5nZXRJbWFnZURhdGEnXSksDQogICAgICAgICAgICAgICAgLy8gQXVkaW8NCiAgICAgICAgICAgICAgICBnZXRCeXRlRnJlcXVlbmN5RGF0YUhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0FuYWx5c2VyTm9kZS5nZXRCeXRlRnJlcXVlbmN5RGF0YSddKSwNCiAgICAgICAgICAgICAgICBnZXRCeXRlVGltZURvbWFpbkRhdGFIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydBbmFseXNlck5vZGUuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhJ10pLA0KICAgICAgICAgICAgICAgIGdldEZsb2F0RnJlcXVlbmN5RGF0YUhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0FuYWx5c2VyTm9kZS5nZXRGbG9hdEZyZXF1ZW5jeURhdGEnXSksDQogICAgICAgICAgICAgICAgZ2V0RmxvYXRUaW1lRG9tYWluRGF0YUhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0FuYWx5c2VyTm9kZS5nZXRGbG9hdFRpbWVEb21haW5EYXRhJ10pLA0KICAgICAgICAgICAgICAgIGNvcHlGcm9tQ2hhbm5lbEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0F1ZGlvQnVmZmVyLmNvcHlGcm9tQ2hhbm5lbCddKSwNCiAgICAgICAgICAgICAgICBnZXRDaGFubmVsRGF0YUhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ0F1ZGlvQnVmZmVyLmdldENoYW5uZWxEYXRhJ10pLA0KICAgICAgICAgICAgICAgIC8vIEhhcmR3YXJlDQogICAgICAgICAgICAgICAgaGFyZHdhcmVDb25jdXJyZW5jeUhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ05hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5J10pLA0KICAgICAgICAgICAgICAgIC8vIFNjcmVlbg0KICAgICAgICAgICAgICAgIGF2YWlsSGVpZ2h0SGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snU2NyZWVuLmF2YWlsSGVpZ2h0J10pLA0KICAgICAgICAgICAgICAgIGF2YWlsTGVmdEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ1NjcmVlbi5hdmFpbExlZnQnXSksDQogICAgICAgICAgICAgICAgYXZhaWxUb3BIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydTY3JlZW4uYXZhaWxUb3AnXSksDQogICAgICAgICAgICAgICAgYXZhaWxXaWR0aEhhc2g6IGhhc2hNaW5pKHByb3RvdHlwZUxpZXNbJ1NjcmVlbi5hdmFpbFdpZHRoJ10pLA0KICAgICAgICAgICAgICAgIGNvbG9yRGVwdGhIYXNoOiBoYXNoTWluaShwcm90b3R5cGVMaWVzWydTY3JlZW4uY29sb3JEZXB0aCddKSwNCiAgICAgICAgICAgICAgICBwaXhlbERlcHRoSGFzaDogaGFzaE1pbmkocHJvdG90eXBlTGllc1snU2NyZWVuLnBpeGVsRGVwdGgnXSksDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgZGF0YS5leHRlbnNpb25IYXNoUGF0dGVybiA9IE9iamVjdC5rZXlzKGhhc2gpLnJlZHVjZSgoYWNjLCBrZXkpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBoYXNoW2tleV07DQogICAgICAgICAgICAgICAgaWYgKHZhbCA9PSBkaXNhYmxlZCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBhY2Nba2V5LnJlcGxhY2UoJ0hhc2gnLCAnJyldID0gdmFsOw0KICAgICAgICAgICAgICAgIHJldHVybiBhY2M7DQogICAgICAgICAgICB9LCB7fSk7DQogICAgICAgICAgICBjb25zdCBnZXRFeHRlbnNpb24gPSAoeyBwYXR0ZXJuLCBoYXNoLCBwcm90b3R5cGVMaWVzTGVuIH0pID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCB7IG5vc2NyaXB0LCB0cmFjZSwgY3lkZWMsIGNhbnZhc2Jsb2NrZXIsIGNoYW1lbGVvbiwgZHVja2R1Y2tnbywgcHJpdmFjeWJhZGdlciwgcHJpdmFjeXBvc3N1bSwganNoZWx0ZXIsIHB1cHBldGVlckV4dHJhLCBmYWtlQnJvd3NlciwgfSA9IHBhdHRlcm47DQogICAgICAgICAgICAgICAgY29uc3QgZGlzYWJsZWQgPSAnYzc2NzcxMmInOw0KICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuID49IDcgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlLmNvbnRlbnREb2N1bWVudEhhc2guaW5jbHVkZXMoaGFzaC5jb250ZW50RG9jdW1lbnRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2UuY29udGVudFdpbmRvd0hhc2guaW5jbHVkZXMoaGFzaC5jb250ZW50V2luZG93SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlLmNyZWF0ZUVsZW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guY3JlYXRlRWxlbWVudEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICB0cmFjZS5nZXRFbGVtZW50QnlJZEhhc2guaW5jbHVkZXMoaGFzaC5nZXRFbGVtZW50QnlJZEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICB0cmFjZS50b0RhdGFVUkxIYXNoLmluY2x1ZGVzKGhhc2gudG9EYXRhVVJMSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlLnRvQmxvYkhhc2guaW5jbHVkZXMoaGFzaC50b0Jsb2JIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2UuZ2V0SW1hZ2VEYXRhSGFzaC5pbmNsdWRlcyhoYXNoLmdldEltYWdlRGF0YUhhc2gpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1RyYWNlJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAocHJvdG90eXBlTGllc0xlbiA+PSA3ICYmDQogICAgICAgICAgICAgICAgICAgICAgICBjeWRlYy5jb250ZW50RG9jdW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudERvY3VtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGN5ZGVjLmNvbnRlbnRXaW5kb3dIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudFdpbmRvd0hhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBjeWRlYy5jcmVhdGVFbGVtZW50SGFzaC5pbmNsdWRlcyhoYXNoLmNyZWF0ZUVsZW1lbnRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgY3lkZWMuZ2V0RWxlbWVudEJ5SWRIYXNoLmluY2x1ZGVzKGhhc2guZ2V0RWxlbWVudEJ5SWRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgY3lkZWMudG9EYXRhVVJMSGFzaC5pbmNsdWRlcyhoYXNoLnRvRGF0YVVSTEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBjeWRlYy50b0Jsb2JIYXNoLmluY2x1ZGVzKGhhc2gudG9CbG9iSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGN5ZGVjLmdldEltYWdlRGF0YUhhc2guaW5jbHVkZXMoaGFzaC5nZXRJbWFnZURhdGFIYXNoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdDeURlYyc7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvdHlwZUxpZXNMZW4gPj0gNiAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzYmxvY2tlci5jb250ZW50RG9jdW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudERvY3VtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc2Jsb2NrZXIuY29udGVudFdpbmRvd0hhc2guaW5jbHVkZXMoaGFzaC5jb250ZW50V2luZG93SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc2Jsb2NrZXIuYXBwZW5kSGFzaC5pbmNsdWRlcyhoYXNoLmFwcGVuZEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNibG9ja2VyLnRvRGF0YVVSTEhhc2guaW5jbHVkZXMoaGFzaC50b0RhdGFVUkxIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzYmxvY2tlci50b0Jsb2JIYXNoLmluY2x1ZGVzKGhhc2gudG9CbG9iSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc2Jsb2NrZXIuZ2V0SW1hZ2VEYXRhSGFzaC5pbmNsdWRlcyhoYXNoLmdldEltYWdlRGF0YUhhc2gpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0NhbnZhc0Jsb2NrZXInOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuID49IDkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1lbGVvbi5hcHBlbmRIYXNoLmluY2x1ZGVzKGhhc2guYXBwZW5kSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1lbGVvbi5pbnNlcnRBZGphY2VudEVsZW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guaW5zZXJ0QWRqYWNlbnRFbGVtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1lbGVvbi5pbnNlcnRBZGphY2VudEhUTUxIYXNoLmluY2x1ZGVzKGhhc2guaW5zZXJ0QWRqYWNlbnRIVE1MSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1lbGVvbi5pbnNlcnRBZGphY2VudFRleHRIYXNoLmluY2x1ZGVzKGhhc2guaW5zZXJ0QWRqYWNlbnRUZXh0SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1lbGVvbi5wcmVwZW5kSGFzaC5pbmNsdWRlcyhoYXNoLnByZXBlbmRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgY2hhbWVsZW9uLnJlcGxhY2VXaXRoSGFzaC5pbmNsdWRlcyhoYXNoLnJlcGxhY2VXaXRoSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW1lbGVvbi5hcHBlbmRDaGlsZEhhc2guaW5jbHVkZXMoaGFzaC5hcHBlbmRDaGlsZEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBjaGFtZWxlb24uaW5zZXJ0QmVmb3JlSGFzaC5pbmNsdWRlcyhoYXNoLmluc2VydEJlZm9yZUhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBjaGFtZWxlb24ucmVwbGFjZUNoaWxkSGFzaC5pbmNsdWRlcyhoYXNoLnJlcGxhY2VDaGlsZEhhc2gpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0NoYW1lbGVvbic7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvdHlwZUxpZXNMZW4gPj0gNyAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby50b0RhdGFVUkxIYXNoLmluY2x1ZGVzKGhhc2gudG9EYXRhVVJMSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1Y2tkdWNrZ28udG9CbG9iSGFzaC5pbmNsdWRlcyhoYXNoLnRvQmxvYkhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBkdWNrZHVja2dvLmdldEltYWdlRGF0YUhhc2guaW5jbHVkZXMoaGFzaC5nZXRJbWFnZURhdGFIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby5nZXRCeXRlRnJlcXVlbmN5RGF0YUhhc2guaW5jbHVkZXMoaGFzaC5nZXRCeXRlRnJlcXVlbmN5RGF0YUhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBkdWNrZHVja2dvLmdldEJ5dGVUaW1lRG9tYWluRGF0YUhhc2guaW5jbHVkZXMoaGFzaC5nZXRCeXRlVGltZURvbWFpbkRhdGFIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby5nZXRGbG9hdEZyZXF1ZW5jeURhdGFIYXNoLmluY2x1ZGVzKGhhc2guZ2V0RmxvYXRGcmVxdWVuY3lEYXRhSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1Y2tkdWNrZ28uZ2V0RmxvYXRUaW1lRG9tYWluRGF0YUhhc2guaW5jbHVkZXMoaGFzaC5nZXRGbG9hdFRpbWVEb21haW5EYXRhSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1Y2tkdWNrZ28uY29weUZyb21DaGFubmVsSGFzaC5pbmNsdWRlcyhoYXNoLmNvcHlGcm9tQ2hhbm5lbEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBkdWNrZHVja2dvLmdldENoYW5uZWxEYXRhSGFzaC5pbmNsdWRlcyhoYXNoLmdldENoYW5uZWxEYXRhSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1Y2tkdWNrZ28uaGFyZHdhcmVDb25jdXJyZW5jeUhhc2guaW5jbHVkZXMoaGFzaC5oYXJkd2FyZUNvbmN1cnJlbmN5SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1Y2tkdWNrZ28uYXZhaWxIZWlnaHRIYXNoLmluY2x1ZGVzKGhhc2guYXZhaWxIZWlnaHRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby5hdmFpbExlZnRIYXNoLmluY2x1ZGVzKGhhc2guYXZhaWxMZWZ0SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1Y2tkdWNrZ28uYXZhaWxUb3BIYXNoLmluY2x1ZGVzKGhhc2guYXZhaWxUb3BIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby5hdmFpbFdpZHRoSGFzaC5pbmNsdWRlcyhoYXNoLmF2YWlsV2lkdGhIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby5jb2xvckRlcHRoSGFzaC5pbmNsdWRlcyhoYXNoLmNvbG9yRGVwdGhIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZHVja2R1Y2tnby5waXhlbERlcHRoSGFzaC5pbmNsdWRlcyhoYXNoLnBpeGVsRGVwdGhIYXNoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdEdWNrRHVja0dvJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAocHJvdG90eXBlTGllc0xlbiA+PSAyICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwcml2YWN5YmFkZ2VyLmdldEltYWdlRGF0YUhhc2guaW5jbHVkZXMoaGFzaC5nZXRJbWFnZURhdGFIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpdmFjeWJhZGdlci50b0RhdGFVUkxIYXNoLmluY2x1ZGVzKGhhc2gudG9EYXRhVVJMSGFzaCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnUHJpdmFjeSBCYWRnZXInOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuID49IDMgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaXZhY3lwb3NzdW0uaGFyZHdhcmVDb25jdXJyZW5jeUhhc2guaW5jbHVkZXMoaGFzaC5oYXJkd2FyZUNvbmN1cnJlbmN5SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaXZhY3lwb3NzdW0uYXZhaWxXaWR0aEhhc2guaW5jbHVkZXMoaGFzaC5hdmFpbFdpZHRoSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaXZhY3lwb3NzdW0uY29sb3JEZXB0aEhhc2guaW5jbHVkZXMoaGFzaC5jb2xvckRlcHRoSGFzaCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnUHJpdmFjeSBQb3NzdW0nOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuID49IDIgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vc2NyaXB0LmNvbnRlbnREb2N1bWVudEhhc2guaW5jbHVkZXMoaGFzaC5jb250ZW50RG9jdW1lbnRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgbm9zY3JpcHQuY29udGVudFdpbmRvd0hhc2guaW5jbHVkZXMoaGFzaC5jb250ZW50RG9jdW1lbnRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgbm9zY3JpcHQuZ2V0Q29udGV4dEhhc2guaW5jbHVkZXMoaGFzaC5nZXRDb250ZXh0SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc3Rpbmd1aXNoIE5vU2NyaXB0IGZyb20gSlNoZWx0ZXINCiAgICAgICAgICAgICAgICAgICAgICAgIGhhc2guaGFyZHdhcmVDb25jdXJyZW5jeUhhc2ggPT0gZGlzYWJsZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnTm9TY3JpcHQnOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuID49IDE0ICYmDQogICAgICAgICAgICAgICAgICAgICAgICBqc2hlbHRlci5jb250ZW50RG9jdW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudERvY3VtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGpzaGVsdGVyLmNvbnRlbnRXaW5kb3dIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudERvY3VtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGpzaGVsdGVyLmFwcGVuZEhhc2guaW5jbHVkZXMoaGFzaC5hcHBlbmRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAganNoZWx0ZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50SGFzaC5pbmNsdWRlcyhoYXNoLmluc2VydEFkamFjZW50RWxlbWVudEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBqc2hlbHRlci5pbnNlcnRBZGphY2VudEhUTUxIYXNoLmluY2x1ZGVzKGhhc2guaW5zZXJ0QWRqYWNlbnRIVE1MSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGpzaGVsdGVyLnByZXBlbmRIYXNoLmluY2x1ZGVzKGhhc2gucHJlcGVuZEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBqc2hlbHRlci5yZXBsYWNlV2l0aEhhc2guaW5jbHVkZXMoaGFzaC5yZXBsYWNlV2l0aEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBqc2hlbHRlci5hcHBlbmRDaGlsZEhhc2guaW5jbHVkZXMoaGFzaC5hcHBlbmRDaGlsZEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBqc2hlbHRlci5pbnNlcnRCZWZvcmVIYXNoLmluY2x1ZGVzKGhhc2guaW5zZXJ0QmVmb3JlSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGpzaGVsdGVyLnJlcGxhY2VDaGlsZEhhc2guaW5jbHVkZXMoaGFzaC5yZXBsYWNlQ2hpbGRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAganNoZWx0ZXIuaGFyZHdhcmVDb25jdXJyZW5jeUhhc2guaW5jbHVkZXMoaGFzaC5oYXJkd2FyZUNvbmN1cnJlbmN5SGFzaCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnSlNoZWx0ZXInOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGVMaWVzTGVuID49IDEzICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwdXBwZXRlZXJFeHRyYS5jb250ZW50RG9jdW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudERvY3VtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHB1cHBldGVlckV4dHJhLmNvbnRlbnRXaW5kb3dIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudFdpbmRvd0hhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwdXBwZXRlZXJFeHRyYS5jcmVhdGVFbGVtZW50SGFzaC5pbmNsdWRlcyhoYXNoLmNyZWF0ZUVsZW1lbnRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEuZ2V0RWxlbWVudEJ5SWRIYXNoLmluY2x1ZGVzKGhhc2guZ2V0RWxlbWVudEJ5SWRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEuYXBwZW5kSGFzaC5pbmNsdWRlcyhoYXNoLmFwcGVuZEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwdXBwZXRlZXJFeHRyYS5pbnNlcnRBZGphY2VudEVsZW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guaW5zZXJ0QWRqYWNlbnRFbGVtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHB1cHBldGVlckV4dHJhLmluc2VydEFkamFjZW50SFRNTEhhc2guaW5jbHVkZXMoaGFzaC5pbnNlcnRBZGphY2VudEhUTUxIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEuaW5zZXJ0QWRqYWNlbnRUZXh0SGFzaC5pbmNsdWRlcyhoYXNoLmluc2VydEFkamFjZW50VGV4dEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwdXBwZXRlZXJFeHRyYS5wcmVwZW5kSGFzaC5pbmNsdWRlcyhoYXNoLnByZXBlbmRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEucmVwbGFjZVdpdGhIYXNoLmluY2x1ZGVzKGhhc2gucmVwbGFjZVdpdGhIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEuYXBwZW5kQ2hpbGRIYXNoLmluY2x1ZGVzKGhhc2guYXBwZW5kQ2hpbGRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEuaW5zZXJ0QmVmb3JlSGFzaC5pbmNsdWRlcyhoYXNoLmluc2VydEJlZm9yZUhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwdXBwZXRlZXJFeHRyYS5jb250ZW50RG9jdW1lbnRIYXNoLmluY2x1ZGVzKGhhc2guY29udGVudERvY3VtZW50SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHB1cHBldGVlckV4dHJhLnJlcGxhY2VDaGlsZEhhc2guaW5jbHVkZXMoaGFzaC5yZXBsYWNlQ2hpbGRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEuZ2V0Q29udGV4dEhhc2guaW5jbHVkZXMoaGFzaC5nZXRDb250ZXh0SGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHB1cHBldGVlckV4dHJhLnRvRGF0YVVSTEhhc2guaW5jbHVkZXMoaGFzaC50b0RhdGFVUkxIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVwcGV0ZWVyRXh0cmEudG9CbG9iSGFzaC5pbmNsdWRlcyhoYXNoLnRvQmxvYkhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBwdXBwZXRlZXJFeHRyYS5nZXRJbWFnZURhdGFIYXNoLmluY2x1ZGVzKGhhc2guZ2V0SW1hZ2VEYXRhSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIHB1cHBldGVlckV4dHJhLmhhcmR3YXJlQ29uY3VycmVuY3lIYXNoLmluY2x1ZGVzKGhhc2guaGFyZHdhcmVDb25jdXJyZW5jeUhhc2gpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3B1cHBldGVlci1leHRyYSc7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3RvdHlwZUxpZXNMZW4gPj0gMTIgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGZha2VCcm93c2VyLmFwcGVuZENoaWxkSGFzaC5pbmNsdWRlcyhoYXNoLmFwcGVuZENoaWxkSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGZha2VCcm93c2VyLmdldENvbnRleHRIYXNoLmluY2x1ZGVzKGhhc2guZ2V0Q29udGV4dEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBmYWtlQnJvd3Nlci50b0RhdGFVUkxIYXNoLmluY2x1ZGVzKGhhc2gudG9EYXRhVVJMSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGZha2VCcm93c2VyLnRvQmxvYkhhc2guaW5jbHVkZXMoaGFzaC50b0Jsb2JIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZmFrZUJyb3dzZXIuZ2V0SW1hZ2VEYXRhSGFzaC5pbmNsdWRlcyhoYXNoLmdldEltYWdlRGF0YUhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBmYWtlQnJvd3Nlci5oYXJkd2FyZUNvbmN1cnJlbmN5SGFzaC5pbmNsdWRlcyhoYXNoLmhhcmR3YXJlQ29uY3VycmVuY3lIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZmFrZUJyb3dzZXIuYXZhaWxIZWlnaHRIYXNoLmluY2x1ZGVzKGhhc2guYXZhaWxIZWlnaHRIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZmFrZUJyb3dzZXIuYXZhaWxMZWZ0SGFzaC5pbmNsdWRlcyhoYXNoLmF2YWlsTGVmdEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBmYWtlQnJvd3Nlci5hdmFpbFRvcEhhc2guaW5jbHVkZXMoaGFzaC5hdmFpbFRvcEhhc2gpICYmDQogICAgICAgICAgICAgICAgICAgICAgICBmYWtlQnJvd3Nlci5hdmFpbFdpZHRoSGFzaC5pbmNsdWRlcyhoYXNoLmF2YWlsV2lkdGhIYXNoKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZmFrZUJyb3dzZXIuY29sb3JEZXB0aEhhc2guaW5jbHVkZXMoaGFzaC5jb2xvckRlcHRoSGFzaCkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgIGZha2VCcm93c2VyLnBpeGVsRGVwdGhIYXNoLmluY2x1ZGVzKGhhc2gucGl4ZWxEZXB0aEhhc2gpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ0Zha2VCcm93c2VyJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBkYXRhLmV4dGVuc2lvbiA9IGdldEV4dGVuc2lvbih7IHBhdHRlcm4sIGhhc2gsIHByb3RvdHlwZUxpZXNMZW4gfSk7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGltZTogdGltZXIuc3RvcCgpLCB0ZXN0OiAncmVzaXN0YW5jZScsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiBkYXRhOw0KICAgICAgICB9DQogICAgICAgIGNhdGNoIChlcnJvcikgew0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdyZXNpc3RhbmNlJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgZnVuY3Rpb24gaGFzVG91Y2goKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICByZXR1cm4gJ29udG91Y2hzdGFydCcgaW4gd2luZG93ICYmICEhZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ1RvdWNoRXZlbnQnKTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQogICAgYXN5bmMgZnVuY3Rpb24gZ2V0U2NyZWVuKGxvZyA9IHRydWUpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIHRpbWVyLnN0YXJ0KCk7DQogICAgICAgICAgICBsZXQgbGllZCA9IChsaWVQcm9wc1snU2NyZWVuLndpZHRoJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snU2NyZWVuLmhlaWdodCddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1NjcmVlbi5hdmFpbFdpZHRoJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snU2NyZWVuLmF2YWlsSGVpZ2h0J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snU2NyZWVuLmNvbG9yRGVwdGgnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydTY3JlZW4ucGl4ZWxEZXB0aCddKSB8fCBmYWxzZTsNCiAgICAgICAgICAgIGNvbnN0IHMgPSAod2luZG93LnNjcmVlbiB8fCB7fSk7DQogICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0LCBjb2xvckRlcHRoLCBwaXhlbERlcHRoLCB9ID0gczsNCiAgICAgICAgICAgIGNvbnN0IGRwciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDA7DQogICAgICAgICAgICBjb25zdCBmaXJlZm94V2l0aEhpZ2hEUFIgPSBJU19HRUNLTyAmJiAoZHByICE9IDEpOw0KICAgICAgICAgICAgaWYgKCFmaXJlZm94V2l0aEhpZ2hEUFIpIHsNCiAgICAgICAgICAgICAgICAvLyBmaXJlZm94IHdpdGggaGlnaCBkcHIgcmVxdWlyZXMgZmxvYXRpbmcgcG9pbnQgcHJlY2lzaW9uIGRpbWVuc2lvbnMNCiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaE1lZGlhTGllID0gIW1hdGNoTWVkaWEoYChkZXZpY2Utd2lkdGg6ICR7d2lkdGh9cHgpIGFuZCAoZGV2aWNlLWhlaWdodDogJHtoZWlnaHR9cHgpYCkubWF0Y2hlczsNCiAgICAgICAgICAgICAgICBpZiAobWF0Y2hNZWRpYUxpZSkgew0KICAgICAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRMaWUoJ1NjcmVlbicsICdmYWlsZWQgbWF0Y2hNZWRpYScpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGhhc0xpZWREUFIgPSAhbWF0Y2hNZWRpYShgKHJlc29sdXRpb246ICR7ZHByfWRwcHgpYCkubWF0Y2hlczsNCiAgICAgICAgICAgIGlmICghSVNfV0VCS0lUICYmIGhhc0xpZWREUFIpIHsNCiAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnV2luZG93LmRldmljZVBpeGVsUmF0aW8nLCAnbGllZCBkcHInKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IG5vVGFza2JhciA9ICEod2lkdGggLSBhdmFpbFdpZHRoIHx8IGhlaWdodCAtIGF2YWlsSGVpZ2h0KTsNCiAgICAgICAgICAgIGlmICh3aWR0aCA+IDgwMCAmJiBub1Rhc2tiYXIpIHsNCiAgICAgICAgICAgICAgICBMb3dlckVudHJvcHkuU0NSRUVOID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7DQogICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgaGVpZ2h0LA0KICAgICAgICAgICAgICAgIGF2YWlsV2lkdGgsDQogICAgICAgICAgICAgICAgYXZhaWxIZWlnaHQsDQogICAgICAgICAgICAgICAgY29sb3JEZXB0aCwNCiAgICAgICAgICAgICAgICBwaXhlbERlcHRoLA0KICAgICAgICAgICAgICAgIHRvdWNoOiBoYXNUb3VjaCgpLA0KICAgICAgICAgICAgICAgIGxpZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgbG9nICYmIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdzY3JlZW4nLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4gZGF0YTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZyAmJiBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ3NjcmVlbicsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIGdldFZvaWNlcygpIHsNCiAgICAgICAgLy8gRG9uJ3QgcnVuIHZvaWNlIGltbWVkaWF0ZWx5LiBUaGlzIGlzIHVuc3RhYmxlDQogICAgICAgIC8vIHdhaXQgYSBiaXQgZm9yIHNlcnZpY2VzIHRvIGxvYWQNCiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSh1bmRlZmluZWQpLCA1MCkpOw0KICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpOw0KICAgICAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgICAgIC8vIHVzZSB3aW5kb3cgc2luY2UgaWZyYW1lIGlzIHVuc3RhYmxlIGluIEZGDQogICAgICAgICAgICAgICAgY29uc3Qgc3VwcG9ydGVkID0gJ3NwZWVjaFN5bnRoZXNpcycgaW4gd2luZG93Ow0KICAgICAgICAgICAgICAgIHN1cHBvcnRlZCAmJiBzcGVlY2hTeW50aGVzaXMuZ2V0Vm9pY2VzKCk7IC8vIHdhcm0gdXANCiAgICAgICAgICAgICAgICBpZiAoIXN1cHBvcnRlZCkgew0KICAgICAgICAgICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ3NwZWVjaCcsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zdCB2b2ljZXNMaWUgPSAhIWxpZVByb3BzWydTcGVlY2hTeW50aGVzaXMuZ2V0Vm9pY2VzJ107DQogICAgICAgICAgICAgICAgY29uc3QgZ2l2ZVVwT25Wb2ljZXMgPSBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdzcGVlY2gnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTsNCiAgICAgICAgICAgICAgICB9LCAzMDApOw0KICAgICAgICAgICAgICAgIGNvbnN0IGdldFZvaWNlcyA9ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHNwZWVjaFN5bnRoZXNpcy5nZXRWb2ljZXMoKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYWxTZXJ2aWNlRGlkTG9hZCA9IChkYXRhIHx8IFtdKS5maW5kKCh4KSA9PiB4LmxvY2FsU2VydmljZSk7DQogICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSB8fCAhZGF0YS5sZW5ndGggfHwgKElTX0JMSU5LICYmICFsb2NhbFNlcnZpY2VEaWRMb2FkKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChnaXZlVXBPblZvaWNlcyk7DQogICAgICAgICAgICAgICAgICAgIC8vIGZpbHRlciBmaXJzdCBvY2N1cnJlbmNlIG9mIHVuaXF1ZSB2b2ljZVVSSSBkYXRhDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldFVuaXF1ZXMgPSAoZGF0YSwgdm9pY2VVUklTZXQpID0+IGRhdGENCiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdm9pY2VVUkkgfSA9IHg7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZvaWNlVVJJU2V0Lmhhcyh2b2ljZVVSSSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2ljZVVSSVNldC5hZGQodm9pY2VVUkkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YVVuaXF1ZSA9IGdldFVuaXF1ZXMoZGF0YSwgbmV3IFNldCgpKTsNCiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly93aWNnLmdpdGh1Yi5pby9zcGVlY2gtYXBpLyNzcGVlY2hzeW50aGVzaXN2b2ljZS1hdHRyaWJ1dGVzDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsID0gZGF0YVVuaXF1ZS5maWx0ZXIoKHgpID0+IHgubG9jYWxTZXJ2aWNlKS5tYXAoKHgpID0+IHgubmFtZSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbW90ZSA9IGRhdGFVbmlxdWUuZmlsdGVyKCh4KSA9PiAheC5sb2NhbFNlcnZpY2UpLm1hcCgoeCkgPT4geC5uYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFuZ3VhZ2VzID0gWy4uLm5ldyBTZXQoZGF0YVVuaXF1ZS5tYXAoKHgpID0+IHgubGFuZykpXTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdExvY2FsVm9pY2VzID0gZGF0YVVuaXF1ZS5maWx0ZXIoKHgpID0+IHguZGVmYXVsdCAmJiB4LmxvY2FsU2VydmljZSk7DQogICAgICAgICAgICAgICAgICAgIGxldCBkZWZhdWx0Vm9pY2VOYW1lID0gJyc7DQogICAgICAgICAgICAgICAgICAgIGxldCBkZWZhdWx0Vm9pY2VMYW5nID0gJyc7DQogICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0TG9jYWxWb2ljZXMubGVuZ3RoID09PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIGxhbmcgfSA9IGRlZmF1bHRMb2NhbFZvaWNlc1swXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWb2ljZU5hbWUgPSBuYW1lOw0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZvaWNlTGFuZyA9IChsYW5nIHx8ICcnKS5yZXBsYWNlKC9fLywgJy0nKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbmV3LWNhcA0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGxvY2FsZTogbG9jYWxlTGFuZyB9ID0gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdFZvaWNlTGFuZyAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZvaWNlTGFuZy5zcGxpdCgnLScpWzBdICE9PSBsb2NhbGVMYW5nLnNwbGl0KCctJylbMF0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgbm90IHRyYXNoDQogICAgICAgICAgICAgICAgICAgICAgICBBbmFseXNpcy52b2ljZUxhbmdNaXNtYXRjaCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICBMb3dlckVudHJvcHkuVElNRV9aT05FID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGltZTogdGltZXIuc3RvcCgpLCB0ZXN0OiAnc3BlZWNoJywgcGFzc2VkOiB0cnVlIH0pOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7DQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlcywNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWb2ljZU5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Vm9pY2VMYW5nLA0KICAgICAgICAgICAgICAgICAgICAgICAgbGllZDogdm9pY2VzTGllLA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGdldFZvaWNlcygpOw0KICAgICAgICAgICAgICAgIGlmIChzcGVlY2hTeW50aGVzaXMuYWRkRXZlbnRMaXN0ZW5lcikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3BlZWNoU3ludGhlc2lzLmFkZEV2ZW50TGlzdGVuZXIoJ3ZvaWNlc2NoYW5nZWQnLCBnZXRWb2ljZXMpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBzcGVlY2hTeW50aGVzaXMub252b2ljZXNjaGFuZ2VkID0gZ2V0Vm9pY2VzOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRlc3Q6ICdzcGVlY2gnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0KCiAgICBhc3luYyBmdW5jdGlvbiBnZXRTVkcoKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIGxldCBsaWVkID0gKGxpZVByb3BzWydTVkdSZWN0LmhlaWdodCddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1NWR1JlY3Qud2lkdGgnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydTVkdSZWN0LngnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydTVkdSZWN0LnknXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydTdHJpbmcuZnJvbUNvZGVQb2ludCddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1NWR1JlY3RFbGVtZW50LmdldEJCb3gnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydTVkdUZXh0Q29udGVudEVsZW1lbnQuZ2V0RXh0ZW50T2ZDaGFyJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snU1ZHVGV4dENvbnRlbnRFbGVtZW50LmdldFN1YlN0cmluZ0xlbmd0aCddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1NWR1RleHRDb250ZW50RWxlbWVudC5nZXRDb21wdXRlZFRleHRMZW5ndGgnXSkgfHwgZmFsc2U7DQogICAgICAgICAgICBjb25zdCBkb2MgPSAoUEhBTlRPTV9EQVJLTkVTUyAmJg0KICAgICAgICAgICAgICAgIFBIQU5UT01fREFSS05FU1MuZG9jdW1lbnQgJiYNCiAgICAgICAgICAgICAgICBQSEFOVE9NX0RBUktORVNTLmRvY3VtZW50LmJvZHkgPyBQSEFOVE9NX0RBUktORVNTLmRvY3VtZW50IDoNCiAgICAgICAgICAgICAgICBkb2N1bWVudCk7DQogICAgICAgICAgICBjb25zdCBkaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICBkb2MuYm9keS5hcHBlbmRDaGlsZChkaXZFbGVtZW50KTsNCiAgICAgICAgICAgIC8vIHBhdGNoIGRpdg0KICAgICAgICAgICAgcGF0Y2goZGl2RWxlbWVudCwgaHRtbCBgDQoJCQk8ZGl2IGlkPSJzdmctY29udGFpbmVyIj4NCgkJCQk8c3R5bGU+DQoJCQkJI3N2Zy1jb250YWluZXIgew0KCQkJCQlwb3NpdGlvbjogYWJzb2x1dGU7DQoJCQkJCWxlZnQ6IC05OTk5cHg7DQoJCQkJCWhlaWdodDogYXV0bzsNCgkJCQl9DQoJCQkJI3N2Zy1jb250YWluZXIgLnNoaWZ0LXN2ZyB7DQoJCQkJCXRyYW5zZm9ybTogc2NhbGUoMS4wMDA5OTkpICFpbXBvcnRhbnQ7DQoJCQkJfQ0KCQkJCS5zdmdyZWN0LWVtb2ppIHsNCgkJCQkJZm9udC1mYW1pbHk6ICR7Q1NTX0ZPTlRfRkFNSUxZfTsNCgkJCQkJZm9udC1zaXplOiAyMDBweCAhaW1wb3J0YW50Ow0KCQkJCQloZWlnaHQ6IGF1dG87DQoJCQkJCXBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50Ow0KCQkJCQl0cmFuc2Zvcm06IHNjYWxlKDEuMDAwOTk5KTsNCgkJCQl9DQoJCQkJPC9zdHlsZT4NCgkJCQk8c3ZnPg0KCQkJCQk8ZyBpZD0ic3ZnQm94Ij4NCgkJCQkJCSR7RU1PSklTLm1hcCgoZW1vamkpID0+IHsNCiAgICAgICAgICAgIHJldHVybiBgPHRleHQgeD0iMzIiIHk9IjMyIiBjbGFzcz0ic3ZncmVjdC1lbW9qaSI+JHtlbW9qaX08L3RleHQ+YDsNCiAgICAgICAgfSkuam9pbignJyl9DQoJCQkJCTwvZz4NCgkJCQk8L3N2Zz4NCgkJCTwvZGl2Pg0KCQlgKTsNCiAgICAgICAgICAgIC8vIFNWRw0KICAgICAgICAgICAgY29uc3QgcmVkdWNlVG9PYmplY3QgPSAobmF0aXZlT2JqKSA9PiB7DQogICAgICAgICAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG5hdGl2ZU9iai5fX3Byb3RvX18pOw0KICAgICAgICAgICAgICAgIHJldHVybiBrZXlzLnJlZHVjZSgoYWNjLCBrZXkpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gbmF0aXZlT2JqW2tleV07DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTWV0aG9kID0gdHlwZW9mIHZhbCA9PSAnZnVuY3Rpb24nOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNNZXRob2QgPyBhY2MgOiB7IC4uLmFjYywgW2tleV06IHZhbCB9Ow0KICAgICAgICAgICAgICAgIH0sIHt9KTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCByZWR1Y2VUb1N1bSA9IChuYXRpdmVPYmopID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobmF0aXZlT2JqLl9fcHJvdG9fXyk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGtleXMucmVkdWNlKChhY2MsIGtleSkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBuYXRpdmVPYmpba2V5XTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzTmFOKHZhbCkgPyBhY2MgOiAoYWNjICs9IHZhbCk7DQogICAgICAgICAgICAgICAgfSwgMCk7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgZ2V0T2JqZWN0U3VtID0gKG9iaikgPT4gIW9iaiA/IDAgOiBPYmplY3Qua2V5cyhvYmopLnJlZHVjZSgoYWNjLCBrZXkpID0+IGFjYyArPSBNYXRoLmFicyhvYmpba2V5XSksIDApOw0KICAgICAgICAgICAgLy8gU1ZHUmVjdA0KICAgICAgICAgICAgY29uc3Qgc3ZnQm94ID0gZG9jLmdldEVsZW1lbnRCeUlkKCdzdmdCb3gnKTsNCiAgICAgICAgICAgIGNvbnN0IGJCb3ggPSByZWR1Y2VUb09iamVjdChzdmdCb3guZ2V0QkJveCgpKTsNCiAgICAgICAgICAgIC8vIGNvbXB1dGUgU1ZHUmVjdCBlbW9qaXMNCiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm4gPSBuZXcgU2V0KCk7DQogICAgICAgICAgICBjb25zdCBzdmdFbGVtcyA9IFsuLi5zdmdCb3guZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3ZncmVjdC1lbW9qaScpXTsNCiAgICAgICAgICAgIGF3YWl0IHF1ZXVlRXZlbnQodGltZXIpOw0KICAgICAgICAgICAgY29uc3QgZW1vamlTZXQgPSBzdmdFbGVtcy5yZWR1Y2UoKGVtb2ppU2V0LCBlbCwgaSkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IGVtb2ppID0gRU1PSklTW2ldOw0KICAgICAgICAgICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSAnJyArIGVsLmdldENvbXB1dGVkVGV4dExlbmd0aCgpOw0KICAgICAgICAgICAgICAgIGlmICghcGF0dGVybi5oYXMoZGltZW5zaW9ucykpIHsNCiAgICAgICAgICAgICAgICAgICAgcGF0dGVybi5hZGQoZGltZW5zaW9ucyk7DQogICAgICAgICAgICAgICAgICAgIGVtb2ppU2V0LmFkZChlbW9qaSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBlbW9qaVNldDsNCiAgICAgICAgICAgIH0sIG5ldyBTZXQoKSk7DQogICAgICAgICAgICAvLyBzdmdSZWN0IFN5c3RlbSBTdW0NCiAgICAgICAgICAgIGNvbnN0IHN2Z3JlY3RTeXN0ZW1TdW0gPSAwLjAwMDAxICogWy4uLnBhdHRlcm5dLm1hcCgoeCkgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiB4LnNwbGl0KCcsJykucmVkdWNlKChhY2MsIHgpID0+IGFjYyArPSAoK3ggfHwgMCksIDApOw0KICAgICAgICAgICAgfSkucmVkdWNlKChhY2MsIHgpID0+IGFjYyArPSB4LCAwKTsNCiAgICAgICAgICAgIC8vIGRldGVjdCBmYWlsZWQgc2hpZnQgY2FsY3VsYXRpb24NCiAgICAgICAgICAgIGNvbnN0IHN2Z0Vtb2ppRWwgPSBzdmdFbGVtc1swXTsNCiAgICAgICAgICAgIGNvbnN0IGluaXRpYWwgPSBzdmdFbW9qaUVsLmdldENvbXB1dGVkVGV4dExlbmd0aCgpOw0KICAgICAgICAgICAgc3ZnRW1vamlFbC5jbGFzc0xpc3QuYWRkKCdzaGlmdC1zdmcnKTsNCiAgICAgICAgICAgIGNvbnN0IHNoaWZ0ZWQgPSBzdmdFbW9qaUVsLmdldENvbXB1dGVkVGV4dExlbmd0aCgpOw0KICAgICAgICAgICAgc3ZnRW1vamlFbC5jbGFzc0xpc3QucmVtb3ZlKCdzaGlmdC1zdmcnKTsNCiAgICAgICAgICAgIGNvbnN0IHVuc2hpZnRlZCA9IHN2Z0Vtb2ppRWwuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCk7DQogICAgICAgICAgICBpZiAoKGluaXRpYWwgLSBzaGlmdGVkKSAhPSAodW5zaGlmdGVkIC0gc2hpZnRlZCkpIHsNCiAgICAgICAgICAgICAgICBsaWVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudExpZSgnU1ZHVGV4dENvbnRlbnRFbGVtZW50LmdldENvbXB1dGVkVGV4dExlbmd0aCcsICdmYWlsZWQgdW5zaGlmdCBjYWxjdWxhdGlvbicpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICBiQm94OiBnZXRPYmplY3RTdW0oYkJveCksDQogICAgICAgICAgICAgICAgZXh0ZW50T2ZDaGFyOiByZWR1Y2VUb1N1bShzdmdFbGVtc1swXS5nZXRFeHRlbnRPZkNoYXIoRU1PSklTWzBdKSksDQogICAgICAgICAgICAgICAgc3ViU3RyaW5nTGVuZ3RoOiBzdmdFbGVtc1swXS5nZXRTdWJTdHJpbmdMZW5ndGgoMCwgMTApLA0KICAgICAgICAgICAgICAgIGNvbXB1dGVkVGV4dExlbmd0aDogc3ZnRWxlbXNbMF0uZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCksDQogICAgICAgICAgICAgICAgZW1vamlTZXQ6IFsuLi5lbW9qaVNldF0sDQogICAgICAgICAgICAgICAgc3ZncmVjdFN5c3RlbVN1bSwNCiAgICAgICAgICAgICAgICBsaWVkLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGRvYy5ib2R5LnJlbW92ZUNoaWxkKGRvYy5nZXRFbGVtZW50QnlJZCgnc3ZnLWNvbnRhaW5lcicpKTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICdzdmcnLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4gZGF0YTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnc3ZnJywgcGFzc2VkOiBmYWxzZSB9KTsNCiAgICAgICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9CgogICAgZnVuY3Rpb24gZ2V0VGltZXpvbmUoKSB7DQogICAgICAgIC8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vYXJrZW5mb3guZ2l0aHViLmlvL1RaUA0KICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnZvL3R6ZGIvYmxvYi9tYXN0ZXIvdGltZS16b25lcy1uYW1lcy5qc29uDQogICAgICAgIGNvbnN0IGNpdGllcyA9IFsNCiAgICAgICAgICAgICdVVEMnLA0KICAgICAgICAgICAgJ0dNVCcsDQogICAgICAgICAgICAnRXRjL0dNVCswJywNCiAgICAgICAgICAgICdFdGMvR01UKzEnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQrMTAnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQrMTEnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQrMTInLA0KICAgICAgICAgICAgJ0V0Yy9HTVQrMicsDQogICAgICAgICAgICAnRXRjL0dNVCszJywNCiAgICAgICAgICAgICdFdGMvR01UKzQnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQrNScsDQogICAgICAgICAgICAnRXRjL0dNVCs2JywNCiAgICAgICAgICAgICdFdGMvR01UKzcnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQrOCcsDQogICAgICAgICAgICAnRXRjL0dNVCs5JywNCiAgICAgICAgICAgICdFdGMvR01ULTEnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtMTAnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtMTEnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtMTInLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtMTMnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtMTQnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtMicsDQogICAgICAgICAgICAnRXRjL0dNVC0zJywNCiAgICAgICAgICAgICdFdGMvR01ULTQnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtNScsDQogICAgICAgICAgICAnRXRjL0dNVC02JywNCiAgICAgICAgICAgICdFdGMvR01ULTcnLA0KICAgICAgICAgICAgJ0V0Yy9HTVQtOCcsDQogICAgICAgICAgICAnRXRjL0dNVC05JywNCiAgICAgICAgICAgICdFdGMvR01UJywNCiAgICAgICAgICAgICdBZnJpY2EvQWJpZGphbicsDQogICAgICAgICAgICAnQWZyaWNhL0FjY3JhJywNCiAgICAgICAgICAgICdBZnJpY2EvQWRkaXNfQWJhYmEnLA0KICAgICAgICAgICAgJ0FmcmljYS9BbGdpZXJzJywNCiAgICAgICAgICAgICdBZnJpY2EvQXNtYXJhJywNCiAgICAgICAgICAgICdBZnJpY2EvQmFtYWtvJywNCiAgICAgICAgICAgICdBZnJpY2EvQmFuZ3VpJywNCiAgICAgICAgICAgICdBZnJpY2EvQmFuanVsJywNCiAgICAgICAgICAgICdBZnJpY2EvQmlzc2F1JywNCiAgICAgICAgICAgICdBZnJpY2EvQmxhbnR5cmUnLA0KICAgICAgICAgICAgJ0FmcmljYS9CcmF6emF2aWxsZScsDQogICAgICAgICAgICAnQWZyaWNhL0J1anVtYnVyYScsDQogICAgICAgICAgICAnQWZyaWNhL0NhaXJvJywNCiAgICAgICAgICAgICdBZnJpY2EvQ2FzYWJsYW5jYScsDQogICAgICAgICAgICAnQWZyaWNhL0NldXRhJywNCiAgICAgICAgICAgICdBZnJpY2EvQ29uYWtyeScsDQogICAgICAgICAgICAnQWZyaWNhL0Rha2FyJywNCiAgICAgICAgICAgICdBZnJpY2EvRGFyX2VzX1NhbGFhbScsDQogICAgICAgICAgICAnQWZyaWNhL0RqaWJvdXRpJywNCiAgICAgICAgICAgICdBZnJpY2EvRG91YWxhJywNCiAgICAgICAgICAgICdBZnJpY2EvRWxfQWFpdW4nLA0KICAgICAgICAgICAgJ0FmcmljYS9GcmVldG93bicsDQogICAgICAgICAgICAnQWZyaWNhL0dhYm9yb25lJywNCiAgICAgICAgICAgICdBZnJpY2EvSGFyYXJlJywNCiAgICAgICAgICAgICdBZnJpY2EvSm9oYW5uZXNidXJnJywNCiAgICAgICAgICAgICdBZnJpY2EvSnViYScsDQogICAgICAgICAgICAnQWZyaWNhL0thbXBhbGEnLA0KICAgICAgICAgICAgJ0FmcmljYS9LaGFydG91bScsDQogICAgICAgICAgICAnQWZyaWNhL0tpZ2FsaScsDQogICAgICAgICAgICAnQWZyaWNhL0tpbnNoYXNhJywNCiAgICAgICAgICAgICdBZnJpY2EvTGFnb3MnLA0KICAgICAgICAgICAgJ0FmcmljYS9MaWJyZXZpbGxlJywNCiAgICAgICAgICAgICdBZnJpY2EvTG9tZScsDQogICAgICAgICAgICAnQWZyaWNhL0x1YW5kYScsDQogICAgICAgICAgICAnQWZyaWNhL0x1YnVtYmFzaGknLA0KICAgICAgICAgICAgJ0FmcmljYS9MdXNha2EnLA0KICAgICAgICAgICAgJ0FmcmljYS9NYWxhYm8nLA0KICAgICAgICAgICAgJ0FmcmljYS9NYXB1dG8nLA0KICAgICAgICAgICAgJ0FmcmljYS9NYXNlcnUnLA0KICAgICAgICAgICAgJ0FmcmljYS9NYmFiYW5lJywNCiAgICAgICAgICAgICdBZnJpY2EvTW9nYWRpc2h1JywNCiAgICAgICAgICAgICdBZnJpY2EvTW9ucm92aWEnLA0KICAgICAgICAgICAgJ0FmcmljYS9OYWlyb2JpJywNCiAgICAgICAgICAgICdBZnJpY2EvTmRqYW1lbmEnLA0KICAgICAgICAgICAgJ0FmcmljYS9OaWFtZXknLA0KICAgICAgICAgICAgJ0FmcmljYS9Ob3Vha2Nob3R0JywNCiAgICAgICAgICAgICdBZnJpY2EvT3VhZ2Fkb3Vnb3UnLA0KICAgICAgICAgICAgJ0FmcmljYS9Qb3J0by1Ob3ZvJywNCiAgICAgICAgICAgICdBZnJpY2EvU2FvX1RvbWUnLA0KICAgICAgICAgICAgJ0FmcmljYS9Ucmlwb2xpJywNCiAgICAgICAgICAgICdBZnJpY2EvVHVuaXMnLA0KICAgICAgICAgICAgJ0FmcmljYS9XaW5kaG9laycsDQogICAgICAgICAgICAnQW1lcmljYS9BZGFrJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FuY2hvcmFnZScsDQogICAgICAgICAgICAnQW1lcmljYS9Bbmd1aWxsYScsDQogICAgICAgICAgICAnQW1lcmljYS9BbnRpZ3VhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FyYWd1YWluYScsDQogICAgICAgICAgICAnQW1lcmljYS9BcmdlbnRpbmEvQnVlbm9zX0FpcmVzJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FyZ2VudGluYS9DYXRhbWFyY2EnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvQXJnZW50aW5hL0NvcmRvYmEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvQXJnZW50aW5hL0p1anV5JywNCiAgICAgICAgICAgICdBbWVyaWNhL0FyZ2VudGluYS9MYV9SaW9qYScsDQogICAgICAgICAgICAnQW1lcmljYS9BcmdlbnRpbmEvTWVuZG96YScsDQogICAgICAgICAgICAnQW1lcmljYS9BcmdlbnRpbmEvUmlvX0dhbGxlZ29zJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FyZ2VudGluYS9TYWx0YScsDQogICAgICAgICAgICAnQW1lcmljYS9BcmdlbnRpbmEvU2FuX0p1YW4nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvQXJnZW50aW5hL1Nhbl9MdWlzJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FyZ2VudGluYS9UdWN1bWFuJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FyZ2VudGluYS9Vc2h1YWlhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FydWJhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0FzdW5jaW9uJywNCiAgICAgICAgICAgICdBbWVyaWNhL0F0aWtva2FuJywNCiAgICAgICAgICAgICdBbWVyaWNhL0JhaGlhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0JhaGlhX0JhbmRlcmFzJywNCiAgICAgICAgICAgICdBbWVyaWNhL0JhcmJhZG9zJywNCiAgICAgICAgICAgICdBbWVyaWNhL0JlbGVtJywNCiAgICAgICAgICAgICdBbWVyaWNhL0JlbGl6ZScsDQogICAgICAgICAgICAnQW1lcmljYS9CbGFuYy1TYWJsb24nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvQm9hX1Zpc3RhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0JvZ290YScsDQogICAgICAgICAgICAnQW1lcmljYS9Cb2lzZScsDQogICAgICAgICAgICAnQW1lcmljYS9DYW1icmlkZ2VfQmF5JywNCiAgICAgICAgICAgICdBbWVyaWNhL0NhbXBvX0dyYW5kZScsDQogICAgICAgICAgICAnQW1lcmljYS9DYW5jdW4nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvQ2FyYWNhcycsDQogICAgICAgICAgICAnQW1lcmljYS9DYXllbm5lJywNCiAgICAgICAgICAgICdBbWVyaWNhL0NheW1hbicsDQogICAgICAgICAgICAnQW1lcmljYS9DaGljYWdvJywNCiAgICAgICAgICAgICdBbWVyaWNhL0NoaWh1YWh1YScsDQogICAgICAgICAgICAnQW1lcmljYS9Db3N0YV9SaWNhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0NyZXN0b24nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvQ3VpYWJhJywNCiAgICAgICAgICAgICdBbWVyaWNhL0N1cmFjYW8nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRGFubWFya3NoYXZuJywNCiAgICAgICAgICAgICdBbWVyaWNhL0Rhd3NvbicsDQogICAgICAgICAgICAnQW1lcmljYS9EYXdzb25fQ3JlZWsnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRGVudmVyJywNCiAgICAgICAgICAgICdBbWVyaWNhL0RldHJvaXQnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRG9taW5pY2EnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRWRtb250b24nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRWlydW5lcGUnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRWxfU2FsdmFkb3InLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRm9ydF9OZWxzb24nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvRm9ydGFsZXphJywNCiAgICAgICAgICAgICdBbWVyaWNhL0dsYWNlX0JheScsDQogICAgICAgICAgICAnQW1lcmljYS9Hb2R0aGFiJywNCiAgICAgICAgICAgICdBbWVyaWNhL0dvb3NlX0JheScsDQogICAgICAgICAgICAnQW1lcmljYS9HcmFuZF9UdXJrJywNCiAgICAgICAgICAgICdBbWVyaWNhL0dyZW5hZGEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvR3VhZGVsb3VwZScsDQogICAgICAgICAgICAnQW1lcmljYS9HdWF0ZW1hbGEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvR3VheWFxdWlsJywNCiAgICAgICAgICAgICdBbWVyaWNhL0d1eWFuYScsDQogICAgICAgICAgICAnQW1lcmljYS9IYWxpZmF4JywNCiAgICAgICAgICAgICdBbWVyaWNhL0hhdmFuYScsDQogICAgICAgICAgICAnQW1lcmljYS9IZXJtb3NpbGxvJywNCiAgICAgICAgICAgICdBbWVyaWNhL0luZGlhbmEvSW5kaWFuYXBvbGlzJywNCiAgICAgICAgICAgICdBbWVyaWNhL0luZGlhbmEvS25veCcsDQogICAgICAgICAgICAnQW1lcmljYS9JbmRpYW5hL01hcmVuZ28nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvSW5kaWFuYS9QZXRlcnNidXJnJywNCiAgICAgICAgICAgICdBbWVyaWNhL0luZGlhbmEvVGVsbF9DaXR5JywNCiAgICAgICAgICAgICdBbWVyaWNhL0luZGlhbmEvVmV2YXknLA0KICAgICAgICAgICAgJ0FtZXJpY2EvSW5kaWFuYS9WaW5jZW5uZXMnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvSW5kaWFuYS9XaW5hbWFjJywNCiAgICAgICAgICAgICdBbWVyaWNhL0ludXZpaycsDQogICAgICAgICAgICAnQW1lcmljYS9JcWFsdWl0JywNCiAgICAgICAgICAgICdBbWVyaWNhL0phbWFpY2EnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvSnVuZWF1JywNCiAgICAgICAgICAgICdBbWVyaWNhL0tlbnR1Y2t5L0xvdWlzdmlsbGUnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvS2VudHVja3kvTW9udGljZWxsbycsDQogICAgICAgICAgICAnQW1lcmljYS9LcmFsZW5kaWprJywNCiAgICAgICAgICAgICdBbWVyaWNhL0xhX1BheicsDQogICAgICAgICAgICAnQW1lcmljYS9MaW1hJywNCiAgICAgICAgICAgICdBbWVyaWNhL0xvc19BbmdlbGVzJywNCiAgICAgICAgICAgICdBbWVyaWNhL0xvd2VyX1ByaW5jZXMnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTWFjZWlvJywNCiAgICAgICAgICAgICdBbWVyaWNhL01hbmFndWEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTWFuYXVzJywNCiAgICAgICAgICAgICdBbWVyaWNhL01hcmlnb3QnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTWFydGluaXF1ZScsDQogICAgICAgICAgICAnQW1lcmljYS9NYXRhbW9yb3MnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTWF6YXRsYW4nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTWVub21pbmVlJywNCiAgICAgICAgICAgICdBbWVyaWNhL01lcmlkYScsDQogICAgICAgICAgICAnQW1lcmljYS9NZXRsYWthdGxhJywNCiAgICAgICAgICAgICdBbWVyaWNhL01leGljb19DaXR5JywNCiAgICAgICAgICAgICdBbWVyaWNhL01pcXVlbG9uJywNCiAgICAgICAgICAgICdBbWVyaWNhL01vbmN0b24nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTW9udGVycmV5JywNCiAgICAgICAgICAgICdBbWVyaWNhL01vbnRldmlkZW8nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTW9udHNlcnJhdCcsDQogICAgICAgICAgICAnQW1lcmljYS9OYXNzYXUnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTmV3X1lvcmsnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTmlwaWdvbicsDQogICAgICAgICAgICAnQW1lcmljYS9Ob21lJywNCiAgICAgICAgICAgICdBbWVyaWNhL05vcm9uaGEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvTm9ydGhfRGFrb3RhL0JldWxhaCcsDQogICAgICAgICAgICAnQW1lcmljYS9Ob3J0aF9EYWtvdGEvQ2VudGVyJywNCiAgICAgICAgICAgICdBbWVyaWNhL05vcnRoX0Rha290YS9OZXdfU2FsZW0nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvT2ppbmFnYScsDQogICAgICAgICAgICAnQW1lcmljYS9QYW5hbWEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvUGFuZ25pcnR1bmcnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvUGFyYW1hcmlibycsDQogICAgICAgICAgICAnQW1lcmljYS9QaG9lbml4JywNCiAgICAgICAgICAgICdBbWVyaWNhL1BvcnQtYXUtUHJpbmNlJywNCiAgICAgICAgICAgICdBbWVyaWNhL1BvcnRfb2ZfU3BhaW4nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvUG9ydG9fVmVsaG8nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvUHVlcnRvX1JpY28nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvUHVudGFfQXJlbmFzJywNCiAgICAgICAgICAgICdBbWVyaWNhL1JhaW55X1JpdmVyJywNCiAgICAgICAgICAgICdBbWVyaWNhL1Jhbmtpbl9JbmxldCcsDQogICAgICAgICAgICAnQW1lcmljYS9SZWNpZmUnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvUmVnaW5hJywNCiAgICAgICAgICAgICdBbWVyaWNhL1Jlc29sdXRlJywNCiAgICAgICAgICAgICdBbWVyaWNhL1Jpb19CcmFuY28nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU2FudGFyZW0nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU2FudGlhZ28nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU2FudG9fRG9taW5nbycsDQogICAgICAgICAgICAnQW1lcmljYS9TYW9fUGF1bG8nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU2NvcmVzYnlzdW5kJywNCiAgICAgICAgICAgICdBbWVyaWNhL1NpdGthJywNCiAgICAgICAgICAgICdBbWVyaWNhL1N0X0JhcnRoZWxlbXknLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU3RfSm9obnMnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU3RfS2l0dHMnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU3RfTHVjaWEnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU3RfVGhvbWFzJywNCiAgICAgICAgICAgICdBbWVyaWNhL1N0X1ZpbmNlbnQnLA0KICAgICAgICAgICAgJ0FtZXJpY2EvU3dpZnRfQ3VycmVudCcsDQogICAgICAgICAgICAnQW1lcmljYS9UZWd1Y2lnYWxwYScsDQogICAgICAgICAgICAnQW1lcmljYS9UaHVsZScsDQogICAgICAgICAgICAnQW1lcmljYS9UaHVuZGVyX0JheScsDQogICAgICAgICAgICAnQW1lcmljYS9UaWp1YW5hJywNCiAgICAgICAgICAgICdBbWVyaWNhL1Rvcm9udG8nLA0KICAgICAgICAgICAgJ0FtZXJpY2EvVG9ydG9sYScsDQogICAgICAgICAgICAnQW1lcmljYS9WYW5jb3V2ZXInLA0KICAgICAgICAgICAgJ0FtZXJpY2EvV2hpdGVob3JzZScsDQogICAgICAgICAgICAnQW1lcmljYS9XaW5uaXBlZycsDQogICAgICAgICAgICAnQW1lcmljYS9ZYWt1dGF0JywNCiAgICAgICAgICAgICdBbWVyaWNhL1llbGxvd2tuaWZlJywNCiAgICAgICAgICAgICdBbnRhcmN0aWNhL0Nhc2V5JywNCiAgICAgICAgICAgICdBbnRhcmN0aWNhL0RhdmlzJywNCiAgICAgICAgICAgICdBbnRhcmN0aWNhL0R1bW9udERVcnZpbGxlJywNCiAgICAgICAgICAgICdBbnRhcmN0aWNhL01hY3F1YXJpZScsDQogICAgICAgICAgICAnQW50YXJjdGljYS9NYXdzb24nLA0KICAgICAgICAgICAgJ0FudGFyY3RpY2EvTWNNdXJkbycsDQogICAgICAgICAgICAnQW50YXJjdGljYS9QYWxtZXInLA0KICAgICAgICAgICAgJ0FudGFyY3RpY2EvUm90aGVyYScsDQogICAgICAgICAgICAnQW50YXJjdGljYS9TeW93YScsDQogICAgICAgICAgICAnQW50YXJjdGljYS9Ucm9sbCcsDQogICAgICAgICAgICAnQW50YXJjdGljYS9Wb3N0b2snLA0KICAgICAgICAgICAgJ0FyY3RpYy9Mb25neWVhcmJ5ZW4nLA0KICAgICAgICAgICAgJ0FzaWEvQWRlbicsDQogICAgICAgICAgICAnQXNpYS9BbG1hdHknLA0KICAgICAgICAgICAgJ0FzaWEvQW1tYW4nLA0KICAgICAgICAgICAgJ0FzaWEvQW5hZHlyJywNCiAgICAgICAgICAgICdBc2lhL0FxdGF1JywNCiAgICAgICAgICAgICdBc2lhL0FxdG9iZScsDQogICAgICAgICAgICAnQXNpYS9Bc2hnYWJhdCcsDQogICAgICAgICAgICAnQXNpYS9BdHlyYXUnLA0KICAgICAgICAgICAgJ0FzaWEvQmFnaGRhZCcsDQogICAgICAgICAgICAnQXNpYS9CYWhyYWluJywNCiAgICAgICAgICAgICdBc2lhL0Jha3UnLA0KICAgICAgICAgICAgJ0FzaWEvQmFuZ2tvaycsDQogICAgICAgICAgICAnQXNpYS9CYXJuYXVsJywNCiAgICAgICAgICAgICdBc2lhL0JlaXJ1dCcsDQogICAgICAgICAgICAnQXNpYS9CaXNoa2VrJywNCiAgICAgICAgICAgICdBc2lhL0JydW5laScsDQogICAgICAgICAgICAnQXNpYS9DYWxjdXR0YScsDQogICAgICAgICAgICAnQXNpYS9DaGl0YScsDQogICAgICAgICAgICAnQXNpYS9DaG9pYmFsc2FuJywNCiAgICAgICAgICAgICdBc2lhL0NvbG9tYm8nLA0KICAgICAgICAgICAgJ0FzaWEvRGFtYXNjdXMnLA0KICAgICAgICAgICAgJ0FzaWEvRGhha2EnLA0KICAgICAgICAgICAgJ0FzaWEvRGlsaScsDQogICAgICAgICAgICAnQXNpYS9EdWJhaScsDQogICAgICAgICAgICAnQXNpYS9EdXNoYW5iZScsDQogICAgICAgICAgICAnQXNpYS9GYW1hZ3VzdGEnLA0KICAgICAgICAgICAgJ0FzaWEvR2F6YScsDQogICAgICAgICAgICAnQXNpYS9IZWJyb24nLA0KICAgICAgICAgICAgJ0FzaWEvSG9fQ2hpX01pbmgnLA0KICAgICAgICAgICAgJ0FzaWEvSG9uZ19Lb25nJywNCiAgICAgICAgICAgICdBc2lhL0hvdmQnLA0KICAgICAgICAgICAgJ0FzaWEvSXJrdXRzaycsDQogICAgICAgICAgICAnQXNpYS9KYWthcnRhJywNCiAgICAgICAgICAgICdBc2lhL0pheWFwdXJhJywNCiAgICAgICAgICAgICdBc2lhL0plcnVzYWxlbScsDQogICAgICAgICAgICAnQXNpYS9LYWJ1bCcsDQogICAgICAgICAgICAnQXNpYS9LYW1jaGF0a2EnLA0KICAgICAgICAgICAgJ0FzaWEvS2FyYWNoaScsDQogICAgICAgICAgICAnQXNpYS9LYXRobWFuZHUnLA0KICAgICAgICAgICAgJ0FzaWEvS2hhbmR5Z2EnLA0KICAgICAgICAgICAgJ0FzaWEvS29sa2F0YScsDQogICAgICAgICAgICAnQXNpYS9LcmFzbm95YXJzaycsDQogICAgICAgICAgICAnQXNpYS9LdWFsYV9MdW1wdXInLA0KICAgICAgICAgICAgJ0FzaWEvS3VjaGluZycsDQogICAgICAgICAgICAnQXNpYS9LdXdhaXQnLA0KICAgICAgICAgICAgJ0FzaWEvTWFjYXUnLA0KICAgICAgICAgICAgJ0FzaWEvTWFnYWRhbicsDQogICAgICAgICAgICAnQXNpYS9NYWthc3NhcicsDQogICAgICAgICAgICAnQXNpYS9NYW5pbGEnLA0KICAgICAgICAgICAgJ0FzaWEvTXVzY2F0JywNCiAgICAgICAgICAgICdBc2lhL05pY29zaWEnLA0KICAgICAgICAgICAgJ0FzaWEvTm92b2t1em5ldHNrJywNCiAgICAgICAgICAgICdBc2lhL05vdm9zaWJpcnNrJywNCiAgICAgICAgICAgICdBc2lhL09tc2snLA0KICAgICAgICAgICAgJ0FzaWEvT3JhbCcsDQogICAgICAgICAgICAnQXNpYS9QaG5vbV9QZW5oJywNCiAgICAgICAgICAgICdBc2lhL1BvbnRpYW5haycsDQogICAgICAgICAgICAnQXNpYS9QeW9uZ3lhbmcnLA0KICAgICAgICAgICAgJ0FzaWEvUWF0YXInLA0KICAgICAgICAgICAgJ0FzaWEvUW9zdGFuYXknLA0KICAgICAgICAgICAgJ0FzaWEvUXl6eWxvcmRhJywNCiAgICAgICAgICAgICdBc2lhL1JpeWFkaCcsDQogICAgICAgICAgICAnQXNpYS9TYWtoYWxpbicsDQogICAgICAgICAgICAnQXNpYS9TYW1hcmthbmQnLA0KICAgICAgICAgICAgJ0FzaWEvU2VvdWwnLA0KICAgICAgICAgICAgJ0FzaWEvU2hhbmdoYWknLA0KICAgICAgICAgICAgJ0FzaWEvU2luZ2Fwb3JlJywNCiAgICAgICAgICAgICdBc2lhL1NyZWRuZWtvbHltc2snLA0KICAgICAgICAgICAgJ0FzaWEvVGFpcGVpJywNCiAgICAgICAgICAgICdBc2lhL1Rhc2hrZW50JywNCiAgICAgICAgICAgICdBc2lhL1RiaWxpc2knLA0KICAgICAgICAgICAgJ0FzaWEvVGVocmFuJywNCiAgICAgICAgICAgICdBc2lhL1RoaW1waHUnLA0KICAgICAgICAgICAgJ0FzaWEvVG9reW8nLA0KICAgICAgICAgICAgJ0FzaWEvVG9tc2snLA0KICAgICAgICAgICAgJ0FzaWEvVWxhYW5iYWF0YXInLA0KICAgICAgICAgICAgJ0FzaWEvVXJ1bXFpJywNCiAgICAgICAgICAgICdBc2lhL1VzdC1OZXJhJywNCiAgICAgICAgICAgICdBc2lhL1ZpZW50aWFuZScsDQogICAgICAgICAgICAnQXNpYS9WbGFkaXZvc3RvaycsDQogICAgICAgICAgICAnQXNpYS9ZYWt1dHNrJywNCiAgICAgICAgICAgICdBc2lhL1lhbmdvbicsDQogICAgICAgICAgICAnQXNpYS9ZZWthdGVyaW5idXJnJywNCiAgICAgICAgICAgICdBc2lhL1llcmV2YW4nLA0KICAgICAgICAgICAgJ0F0bGFudGljL0F6b3JlcycsDQogICAgICAgICAgICAnQXRsYW50aWMvQmVybXVkYScsDQogICAgICAgICAgICAnQXRsYW50aWMvQ2FuYXJ5JywNCiAgICAgICAgICAgICdBdGxhbnRpYy9DYXBlX1ZlcmRlJywNCiAgICAgICAgICAgICdBdGxhbnRpYy9GYXJvZScsDQogICAgICAgICAgICAnQXRsYW50aWMvTWFkZWlyYScsDQogICAgICAgICAgICAnQXRsYW50aWMvUmV5a2phdmlrJywNCiAgICAgICAgICAgICdBdGxhbnRpYy9Tb3V0aF9HZW9yZ2lhJywNCiAgICAgICAgICAgICdBdGxhbnRpYy9TdF9IZWxlbmEnLA0KICAgICAgICAgICAgJ0F0bGFudGljL1N0YW5sZXknLA0KICAgICAgICAgICAgJ0F1c3RyYWxpYS9BZGVsYWlkZScsDQogICAgICAgICAgICAnQXVzdHJhbGlhL0JyaXNiYW5lJywNCiAgICAgICAgICAgICdBdXN0cmFsaWEvQnJva2VuX0hpbGwnLA0KICAgICAgICAgICAgJ0F1c3RyYWxpYS9DdXJyaWUnLA0KICAgICAgICAgICAgJ0F1c3RyYWxpYS9EYXJ3aW4nLA0KICAgICAgICAgICAgJ0F1c3RyYWxpYS9FdWNsYScsDQogICAgICAgICAgICAnQXVzdHJhbGlhL0hvYmFydCcsDQogICAgICAgICAgICAnQXVzdHJhbGlhL0xpbmRlbWFuJywNCiAgICAgICAgICAgICdBdXN0cmFsaWEvTG9yZF9Ib3dlJywNCiAgICAgICAgICAgICdBdXN0cmFsaWEvTWVsYm91cm5lJywNCiAgICAgICAgICAgICdBdXN0cmFsaWEvUGVydGgnLA0KICAgICAgICAgICAgJ0F1c3RyYWxpYS9TeWRuZXknLA0KICAgICAgICAgICAgJ0V1cm9wZS9BbXN0ZXJkYW0nLA0KICAgICAgICAgICAgJ0V1cm9wZS9BbmRvcnJhJywNCiAgICAgICAgICAgICdFdXJvcGUvQXN0cmFraGFuJywNCiAgICAgICAgICAgICdFdXJvcGUvQXRoZW5zJywNCiAgICAgICAgICAgICdFdXJvcGUvQmVsZ3JhZGUnLA0KICAgICAgICAgICAgJ0V1cm9wZS9CZXJsaW4nLA0KICAgICAgICAgICAgJ0V1cm9wZS9CcmF0aXNsYXZhJywNCiAgICAgICAgICAgICdFdXJvcGUvQnJ1c3NlbHMnLA0KICAgICAgICAgICAgJ0V1cm9wZS9CdWNoYXJlc3QnLA0KICAgICAgICAgICAgJ0V1cm9wZS9CdWRhcGVzdCcsDQogICAgICAgICAgICAnRXVyb3BlL0J1c2luZ2VuJywNCiAgICAgICAgICAgICdFdXJvcGUvQ2hpc2luYXUnLA0KICAgICAgICAgICAgJ0V1cm9wZS9Db3BlbmhhZ2VuJywNCiAgICAgICAgICAgICdFdXJvcGUvRHVibGluJywNCiAgICAgICAgICAgICdFdXJvcGUvR2licmFsdGFyJywNCiAgICAgICAgICAgICdFdXJvcGUvR3Vlcm5zZXknLA0KICAgICAgICAgICAgJ0V1cm9wZS9IZWxzaW5raScsDQogICAgICAgICAgICAnRXVyb3BlL0lzbGVfb2ZfTWFuJywNCiAgICAgICAgICAgICdFdXJvcGUvSXN0YW5idWwnLA0KICAgICAgICAgICAgJ0V1cm9wZS9KZXJzZXknLA0KICAgICAgICAgICAgJ0V1cm9wZS9LYWxpbmluZ3JhZCcsDQogICAgICAgICAgICAnRXVyb3BlL0tpZXYnLA0KICAgICAgICAgICAgJ0V1cm9wZS9LaXJvdicsDQogICAgICAgICAgICAnRXVyb3BlL0xpc2JvbicsDQogICAgICAgICAgICAnRXVyb3BlL0xqdWJsamFuYScsDQogICAgICAgICAgICAnRXVyb3BlL0xvbmRvbicsDQogICAgICAgICAgICAnRXVyb3BlL0x1eGVtYm91cmcnLA0KICAgICAgICAgICAgJ0V1cm9wZS9NYWRyaWQnLA0KICAgICAgICAgICAgJ0V1cm9wZS9NYWx0YScsDQogICAgICAgICAgICAnRXVyb3BlL01hcmllaGFtbicsDQogICAgICAgICAgICAnRXVyb3BlL01pbnNrJywNCiAgICAgICAgICAgICdFdXJvcGUvTW9uYWNvJywNCiAgICAgICAgICAgICdFdXJvcGUvTW9zY293JywNCiAgICAgICAgICAgICdFdXJvcGUvT3NsbycsDQogICAgICAgICAgICAnRXVyb3BlL1BhcmlzJywNCiAgICAgICAgICAgICdFdXJvcGUvUG9kZ29yaWNhJywNCiAgICAgICAgICAgICdFdXJvcGUvUHJhZ3VlJywNCiAgICAgICAgICAgICdFdXJvcGUvUmlnYScsDQogICAgICAgICAgICAnRXVyb3BlL1JvbWUnLA0KICAgICAgICAgICAgJ0V1cm9wZS9TYW1hcmEnLA0KICAgICAgICAgICAgJ0V1cm9wZS9TYW5fTWFyaW5vJywNCiAgICAgICAgICAgICdFdXJvcGUvU2FyYWpldm8nLA0KICAgICAgICAgICAgJ0V1cm9wZS9TYXJhdG92JywNCiAgICAgICAgICAgICdFdXJvcGUvU2ltZmVyb3BvbCcsDQogICAgICAgICAgICAnRXVyb3BlL1Nrb3BqZScsDQogICAgICAgICAgICAnRXVyb3BlL1NvZmlhJywNCiAgICAgICAgICAgICdFdXJvcGUvU3RvY2tob2xtJywNCiAgICAgICAgICAgICdFdXJvcGUvVGFsbGlubicsDQogICAgICAgICAgICAnRXVyb3BlL1RpcmFuZScsDQogICAgICAgICAgICAnRXVyb3BlL1VseWFub3ZzaycsDQogICAgICAgICAgICAnRXVyb3BlL1V6aGdvcm9kJywNCiAgICAgICAgICAgICdFdXJvcGUvVmFkdXonLA0KICAgICAgICAgICAgJ0V1cm9wZS9WYXRpY2FuJywNCiAgICAgICAgICAgICdFdXJvcGUvVmllbm5hJywNCiAgICAgICAgICAgICdFdXJvcGUvVmlsbml1cycsDQogICAgICAgICAgICAnRXVyb3BlL1ZvbGdvZ3JhZCcsDQogICAgICAgICAgICAnRXVyb3BlL1dhcnNhdycsDQogICAgICAgICAgICAnRXVyb3BlL1phZ3JlYicsDQogICAgICAgICAgICAnRXVyb3BlL1phcG9yb3poeWUnLA0KICAgICAgICAgICAgJ0V1cm9wZS9adXJpY2gnLA0KICAgICAgICAgICAgJ0luZGlhbi9BbnRhbmFuYXJpdm8nLA0KICAgICAgICAgICAgJ0luZGlhbi9DaGFnb3MnLA0KICAgICAgICAgICAgJ0luZGlhbi9DaHJpc3RtYXMnLA0KICAgICAgICAgICAgJ0luZGlhbi9Db2NvcycsDQogICAgICAgICAgICAnSW5kaWFuL0NvbW9ybycsDQogICAgICAgICAgICAnSW5kaWFuL0tlcmd1ZWxlbicsDQogICAgICAgICAgICAnSW5kaWFuL01haGUnLA0KICAgICAgICAgICAgJ0luZGlhbi9NYWxkaXZlcycsDQogICAgICAgICAgICAnSW5kaWFuL01hdXJpdGl1cycsDQogICAgICAgICAgICAnSW5kaWFuL01heW90dGUnLA0KICAgICAgICAgICAgJ0luZGlhbi9SZXVuaW9uJywNCiAgICAgICAgICAgICdQYWNpZmljL0FwaWEnLA0KICAgICAgICAgICAgJ1BhY2lmaWMvQXVja2xhbmQnLA0KICAgICAgICAgICAgJ1BhY2lmaWMvQm91Z2FpbnZpbGxlJywNCiAgICAgICAgICAgICdQYWNpZmljL0NoYXRoYW0nLA0KICAgICAgICAgICAgJ1BhY2lmaWMvQ2h1dWsnLA0KICAgICAgICAgICAgJ1BhY2lmaWMvRWFzdGVyJywNCiAgICAgICAgICAgICdQYWNpZmljL0VmYXRlJywNCiAgICAgICAgICAgICdQYWNpZmljL0VuZGVyYnVyeScsDQogICAgICAgICAgICAnUGFjaWZpYy9GYWthb2ZvJywNCiAgICAgICAgICAgICdQYWNpZmljL0ZpamknLA0KICAgICAgICAgICAgJ1BhY2lmaWMvRnVuYWZ1dGknLA0KICAgICAgICAgICAgJ1BhY2lmaWMvR2FsYXBhZ29zJywNCiAgICAgICAgICAgICdQYWNpZmljL0dhbWJpZXInLA0KICAgICAgICAgICAgJ1BhY2lmaWMvR3VhZGFsY2FuYWwnLA0KICAgICAgICAgICAgJ1BhY2lmaWMvR3VhbScsDQogICAgICAgICAgICAnUGFjaWZpYy9Ib25vbHVsdScsDQogICAgICAgICAgICAnUGFjaWZpYy9LaXJpdGltYXRpJywNCiAgICAgICAgICAgICdQYWNpZmljL0tvc3JhZScsDQogICAgICAgICAgICAnUGFjaWZpYy9Ld2FqYWxlaW4nLA0KICAgICAgICAgICAgJ1BhY2lmaWMvTWFqdXJvJywNCiAgICAgICAgICAgICdQYWNpZmljL01hcnF1ZXNhcycsDQogICAgICAgICAgICAnUGFjaWZpYy9NaWR3YXknLA0KICAgICAgICAgICAgJ1BhY2lmaWMvTmF1cnUnLA0KICAgICAgICAgICAgJ1BhY2lmaWMvTml1ZScsDQogICAgICAgICAgICAnUGFjaWZpYy9Ob3Jmb2xrJywNCiAgICAgICAgICAgICdQYWNpZmljL05vdW1lYScsDQogICAgICAgICAgICAnUGFjaWZpYy9QYWdvX1BhZ28nLA0KICAgICAgICAgICAgJ1BhY2lmaWMvUGFsYXUnLA0KICAgICAgICAgICAgJ1BhY2lmaWMvUGl0Y2Fpcm4nLA0KICAgICAgICAgICAgJ1BhY2lmaWMvUG9obnBlaScsDQogICAgICAgICAgICAnUGFjaWZpYy9Qb3J0X01vcmVzYnknLA0KICAgICAgICAgICAgJ1BhY2lmaWMvUmFyb3RvbmdhJywNCiAgICAgICAgICAgICdQYWNpZmljL1NhaXBhbicsDQogICAgICAgICAgICAnUGFjaWZpYy9UYWhpdGknLA0KICAgICAgICAgICAgJ1BhY2lmaWMvVGFyYXdhJywNCiAgICAgICAgICAgICdQYWNpZmljL1RvbmdhdGFwdScsDQogICAgICAgICAgICAnUGFjaWZpYy9XYWtlJywNCiAgICAgICAgICAgICdQYWNpZmljL1dhbGxpcycsDQogICAgICAgIF07DQogICAgICAgIGNvbnN0IGdldFRpbWV6b25lT2Zmc2V0ID0gKCkgPT4gew0KICAgICAgICAgICAgY29uc3QgW3llYXIsIG1vbnRoLCBkYXldID0gSlNPTi5zdHJpbmdpZnkobmV3IERhdGUoKSkNCiAgICAgICAgICAgICAgICAuc2xpY2UoMSwgMTEpDQogICAgICAgICAgICAgICAgLnNwbGl0KCctJyk7DQogICAgICAgICAgICBjb25zdCBkYXRlU3RyaW5nID0gYCR7bW9udGh9LyR7ZGF5fS8ke3llYXJ9YDsNCiAgICAgICAgICAgIGNvbnN0IGRhdGVTdHJpbmdVVEMgPSBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1gOw0KICAgICAgICAgICAgY29uc3Qgbm93ID0gK25ldyBEYXRlKGRhdGVTdHJpbmcpOw0KICAgICAgICAgICAgY29uc3QgdXRjID0gK25ldyBEYXRlKGRhdGVTdHJpbmdVVEMpOw0KICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKygobm93IC0gdXRjKSAvIDYwMDAwKTsNCiAgICAgICAgICAgIHJldHVybiB+fm9mZnNldDsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgZ2V0VGltZXpvbmVPZmZzZXRIaXN0b3J5ID0gKHsgeWVhciwgY2l0eSA9IG51bGwgfSkgPT4gew0KICAgICAgICAgICAgY29uc3QgZm9ybWF0ID0gew0KICAgICAgICAgICAgICAgIHRpbWVab25lOiAnJywNCiAgICAgICAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycsDQogICAgICAgICAgICAgICAgbW9udGg6ICdudW1lcmljJywNCiAgICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJywNCiAgICAgICAgICAgICAgICBob3VyOiAnbnVtZXJpYycsDQogICAgICAgICAgICAgICAgbWludXRlOiAnbnVtZXJpYycsDQogICAgICAgICAgICAgICAgc2Vjb25kOiAnbnVtZXJpYycsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgbWludXRlID0gNjAwMDA7DQogICAgICAgICAgICBsZXQgZm9ybWF0dGVyOw0KICAgICAgICAgICAgbGV0IHN1bW1lcjsNCiAgICAgICAgICAgIGlmIChjaXR5KSB7DQogICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsNCiAgICAgICAgICAgICAgICAgICAgLi4uZm9ybWF0LA0KICAgICAgICAgICAgICAgICAgICB0aW1lWm9uZTogY2l0eSwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgICAgICBmb3JtYXR0ZXIgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgnZW4nLCBvcHRpb25zKTsNCiAgICAgICAgICAgICAgICBzdW1tZXIgPSArbmV3IERhdGUoZm9ybWF0dGVyLmZvcm1hdChuZXcgRGF0ZShgNy8xLyR7eWVhcn1gKSkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgc3VtbWVyID0gK25ldyBEYXRlKGA3LzEvJHt5ZWFyfWApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3Qgc3VtbWVyVVRDVGltZSA9ICtuZXcgRGF0ZShgJHt5ZWFyfS0wNy0wMWApOw0KICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gKHN1bW1lciAtIHN1bW1lclVUQ1RpbWUpIC8gbWludXRlOw0KICAgICAgICAgICAgcmV0dXJuIG9mZnNldDsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgYmluYXJ5U2VhcmNoID0gKGxpc3QsIGZuKSA9PiB7DQogICAgICAgICAgICBjb25zdCBlbmQgPSBsaXN0Lmxlbmd0aDsNCiAgICAgICAgICAgIGNvbnN0IG1pZGRsZSA9IE1hdGguZmxvb3IoZW5kIC8gMik7DQogICAgICAgICAgICBjb25zdCBbbGVmdCwgcmlnaHRdID0gW2xpc3Quc2xpY2UoMCwgbWlkZGxlKSwgbGlzdC5zbGljZShtaWRkbGUsIGVuZCldOw0KICAgICAgICAgICAgY29uc3QgZm91bmQgPSBmbihsZWZ0KTsNCiAgICAgICAgICAgIHJldHVybiBlbmQgPT0gMSB8fCBmb3VuZC5sZW5ndGggPyBmb3VuZCA6IGJpbmFyeVNlYXJjaChyaWdodCwgZm4pOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBkZWNyeXB0TG9jYXRpb24gPSAoeyB5ZWFyLCB0aW1lWm9uZSB9KSA9PiB7DQogICAgICAgICAgICBjb25zdCBzeXN0ZW0gPSBnZXRUaW1lem9uZU9mZnNldEhpc3RvcnkoeyB5ZWFyIH0pOw0KICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWRPcHRpb25zID0gZ2V0VGltZXpvbmVPZmZzZXRIaXN0b3J5KHsgeWVhciwgY2l0eTogdGltZVpvbmUgfSk7DQogICAgICAgICAgICBjb25zdCBmaWx0ZXIgPSAoY2l0aWVzKSA9PiBjaXRpZXMNCiAgICAgICAgICAgICAgICAuZmlsdGVyKChjaXR5KSA9PiBzeXN0ZW0gPT0gZ2V0VGltZXpvbmVPZmZzZXRIaXN0b3J5KHsgeWVhciwgY2l0eSB9KSk7DQogICAgICAgICAgICAvLyBnZXQgY2l0eSByZWdpb24gc2V0DQogICAgICAgICAgICBjb25zdCBkZWNyeXB0aW9uID0gKHN5c3RlbSA9PSByZXNvbHZlZE9wdGlvbnMgPyBbdGltZVpvbmVdIDogYmluYXJ5U2VhcmNoKGNpdGllcywgZmlsdGVyKSk7DQogICAgICAgICAgICAvLyByZWR1Y2Ugc2V0IHRvIG9uZSBjaXR5DQogICAgICAgICAgICBjb25zdCBkZWNyeXB0ZWQgPSAoZGVjcnlwdGlvbi5sZW5ndGggPT0gMSAmJiBkZWNyeXB0aW9uWzBdID09IHRpbWVab25lID8gdGltZVpvbmUgOiBoYXNoTWluaShkZWNyeXB0aW9uKSk7DQogICAgICAgICAgICByZXR1cm4gZGVjcnlwdGVkOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBmb3JtYXRMb2NhdGlvbiA9ICh4KSA9PiB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHJldHVybiB4LnJlcGxhY2UoL18vLCAnICcpLnNwbGl0KCcvJykuam9pbignLCAnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoIChlcnJvcikgeyB9DQogICAgICAgICAgICByZXR1cm4geDsNCiAgICAgICAgfTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIHRpbWVyLnN0YXJ0KCk7DQogICAgICAgICAgICBjb25zdCBsaWVkID0gKGxpZVByb3BzWydEYXRlLmdldFRpbWV6b25lT2Zmc2V0J10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snSW50bC5EYXRlVGltZUZvcm1hdC5yZXNvbHZlZE9wdGlvbnMnXSB8fA0KICAgICAgICAgICAgICAgIGxpZVByb3BzWydJbnRsLlJlbGF0aXZlVGltZUZvcm1hdC5yZXNvbHZlZE9wdGlvbnMnXSkgfHwgZmFsc2U7DQogICAgICAgICAgICBjb25zdCB5ZWFyID0gMTExMzsNCiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuZXctY2FwDQogICAgICAgICAgICBjb25zdCB7IHRpbWVab25lIH0gPSBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCk7DQogICAgICAgICAgICBjb25zdCBkZWNyeXB0ZWQgPSBkZWNyeXB0TG9jYXRpb24oeyB5ZWFyLCB0aW1lWm9uZSB9KTsNCiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uRXBvY2ggPSArbmV3IERhdGUobmV3IERhdGUoYDcvMS8ke3llYXJ9YCkpOw0KICAgICAgICAgICAgY29uc3Qgbm90V2l0aGluUGFyZW50aGVzZXMgPSAvLipcKHxcKS4qL2c7DQogICAgICAgICAgICBjb25zdCBkYXRhID0gew0KICAgICAgICAgICAgICAgIHpvbmU6ICgnJyArIG5ldyBEYXRlKCkpLnJlcGxhY2Uobm90V2l0aGluUGFyZW50aGVzZXMsICcnKSwNCiAgICAgICAgICAgICAgICBsb2NhdGlvbjogZm9ybWF0TG9jYXRpb24odGltZVpvbmUpLA0KICAgICAgICAgICAgICAgIGxvY2F0aW9uTWVhc3VyZWQ6IGZvcm1hdExvY2F0aW9uKGRlY3J5cHRlZCksDQogICAgICAgICAgICAgICAgbG9jYXRpb25FcG9jaCwNCiAgICAgICAgICAgICAgICBvZmZzZXQ6IG5ldyBEYXRlKCkuZ2V0VGltZXpvbmVPZmZzZXQoKSwNCiAgICAgICAgICAgICAgICBvZmZzZXRDb21wdXRlZDogZ2V0VGltZXpvbmVPZmZzZXQoKSwNCiAgICAgICAgICAgICAgICBsaWVkLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICd0aW1lem9uZScsIHBhc3NlZDogdHJ1ZSB9KTsNCiAgICAgICAgICAgIHJldHVybiB7IC4uLmRhdGEgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAndGltZXpvbmUnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnQgKi8NCiAgICAvLyBAdHMtbm9jaGVjaw0KICAgIC8vIEJhZCBmaW5nZXJwcmludHMgbGVmdCBhbHdheXMgb24NCiAgICBhc3luYyBmdW5jdGlvbiBleGlsZSgpIHsNCiAgICAgICAgLyogamF2YXNjcmlwdC1vYmZ1c2NhdG9yOmRpc2FibGUgKi8NCiAgICAgICAgY29uc3QgTyA9IEc7DQogICAgICAgIGZ1bmN0aW9uIFooKSB7IGNvbnN0IE4gPSBbJ0R4bkxDS2ZOenc1MCcsICdudGUwbnZMTnpLem95RycsICdzZzlVellibEIyNU5pZm4weXc1S3l4aktpZnJQQnd1JywgJ0Foakx6RycsICduZnJBc0tuV3phJywgJ0RnOXREaGpQQk1DJywgJ3F3NUtDTTlQemEnLCAnblphNW10Q1ludkR6eXZuYnFHJywgJ0J3ZjR2ZzkxeTJIcUIyTFVEaG0nLCAnQndmMHkySExDVycsICdBdzVKQmh2S3p4bScsICdudEs0bXRDMW1mSHFBd1BqRGEnLCAnQ2dyTXZNTExEMnZZcnc1SHlNWEx6YScsICdtSmEzemZucHZodnAnLCAnbVp1MW1aaVptWmoycmc5ZUJnNCcsICdtdEcwQ3dMVnoyakonLCAnbXRhM25kS1huTm5WenhuSURxJywgJ21KbVluSmJrQmdUNnRnRycsICdtWmExbmdyMndmSG5DYScsICd5d2pWRHhxNnlNWEhCTVMnLCAnbkphWG90cTNETGp5Q3ZmbycsICdraGJWQXc1MHp4aTZpZ3pQQk11UCddOyBaID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gTjsgfTsgcmV0dXJuIFooKTsgfQ0KICAgICAgICAoZnVuY3Rpb24gKFcsIGkpIHsgY29uc3QgayA9IEcsIFYgPSBXKCk7IHdoaWxlICghIVtdKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBwYXJzZUludChrKCcweGY5JykpIC8gMHgxICsgLXBhcnNlSW50KGsoJzB4ZmEnKSkgLyAweDIgKiAocGFyc2VJbnQoaygnMHhmNicpKSAvIDB4MykgKyAtcGFyc2VJbnQoaygnMHhlZCcpKSAvIDB4NCAqIChwYXJzZUludChrKCcweGYwJykpIC8gMHg1KSArIC1wYXJzZUludChrKCcweGZiJykpIC8gMHg2ICogKHBhcnNlSW50KGsoJzB4MTAwJykpIC8gMHg3KSArIC1wYXJzZUludChrKCcweGY4JykpIC8gMHg4ICogKHBhcnNlSW50KGsoJzB4ZmQnKSkgLyAweDkpICsgcGFyc2VJbnQoaygnMHhmNCcpKSAvIDB4YSArIHBhcnNlSW50KGsoJzB4ZjcnKSkgLyAweGI7DQogICAgICAgICAgICAgICAgaWYgKHQgPT09IGkpDQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgVlsncHVzaCddKFZbJ3NoaWZ0J10oKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjYXRjaCAoYykgew0KICAgICAgICAgICAgICAgIFZbJ3B1c2gnXShWWydzaGlmdCddKCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IH0oWiwgMHhiYzAxMCkpOw0KICAgICAgICBjb25zdCBjcmFiID0gbWF0Y2hNZWRpYShPKCcweGZlJykpW08oJzB4ZjInKV0gJiYgbmF2aWdhdG9yW08oJzB4ZjEnKV0gPT09IDB4MCAmJiAoTygnMHhmNScpIGluIG5hdmlnYXRvciAmJiAhbmF2aWdhdG9yW08oJzB4ZjUnKV0pICYmIG5hdmlnYXRvcltPKCcweGZmJyldWydpbmNsdWRlcyddKE8oJzB4ZWYnKSkgJiYgbmV3IERhdGUoKVtPKCcweGVlJyldKClbTygnMHhmMycpXShPKCcweGViJykpOw0KICAgICAgICBmdW5jdGlvbiBHKFcsIGkpIHsgY29uc3QgViA9IFooKTsgcmV0dXJuIEcgPSBmdW5jdGlvbiAodCwgYykgeyB0ID0gdCAtIDB4ZWI7IGxldCBrID0gVlt0XTsgaWYgKEdbJ2ZtZFliWiddID09PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgIHZhciBPID0gZnVuY3Rpb24gKGEpIHsgY29uc3QgcCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OSsvPSc7IGxldCBlID0gJycsIFMgPSAnJzsgZm9yIChsZXQgciA9IDB4MCwgZiwgRSwgVCA9IDB4MDsgRSA9IGFbJ2NoYXJBdCddKFQrKyk7IH5FICYmIChmID0gciAlIDB4NCA/IGYgKiAweDQwICsgRSA6IEUsIHIrKyAlIDB4NCkgPyBlICs9IFN0cmluZ1snZnJvbUNoYXJDb2RlJ10oMHhmZiAmIGYgPj4gKC0weDIgKiByICYgMHg2KSkgOiAweDApIHsNCiAgICAgICAgICAgICAgICBFID0gcFsnaW5kZXhPZiddKEUpOw0KICAgICAgICAgICAgfSBmb3IgKGxldCBkID0gMHgwLCBKID0gZVsnbGVuZ3RoJ107IGQgPCBKOyBkKyspIHsNCiAgICAgICAgICAgICAgICBTICs9ICclJyArICgnMDAnICsgZVsnY2hhckNvZGVBdCddKGQpWyd0b1N0cmluZyddKDB4MTApKVsnc2xpY2UnXSgtMHgyKTsNCiAgICAgICAgICAgIH0gcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChTKTsgfTsNCiAgICAgICAgICAgIEdbJ05iZlhpZiddID0gTywgVyA9IGFyZ3VtZW50cywgR1snZm1kWWJaJ10gPSAhIVtdOw0KICAgICAgICB9IGNvbnN0IE4gPSBWWzB4MF0sIEggPSB0ICsgTiwgTCA9IFdbSF07IHJldHVybiAhTCA/IChrID0gR1snTmJmWGlmJ10oayksIFdbSF0gPSBrKSA6IGsgPSBMLCBrOyB9LCBHKFcsIGkpOyB9DQogICAgICAgIGNyYWIgJiYgKGxvY2F0aW9uW08oJzB4ZWMnKV0gPSBPKCcweGZjJyksIGF3YWl0IG5ldyBQcm9taXNlKFcgPT4geyB9KSk7DQogICAgICAgIC8qIGphdmFzY3JpcHQtb2JmdXNjYXRvcjplbmFibGUgKi8NCiAgICB9DQogICAgZnVuY3Rpb24gZ2V0U3RhY2tCeXRlcygpIHsNCiAgICAgICAgbGV0IHNpemVBID0gMDsNCiAgICAgICAgbGV0IHNpemVCID0gMDsNCiAgICAgICAgbGV0IGNvdW50ZXIgPSAwOw0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgY29uc3QgZm4gPSAoKSA9PiB7DQogICAgICAgICAgICAgICAgY291bnRlciArPSAxOw0KICAgICAgICAgICAgICAgIGZuKCk7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgZm4oKTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCB7DQogICAgICAgICAgICBzaXplQSA9IGNvdW50ZXI7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvdW50ZXIgPSAwOw0KICAgICAgICAgICAgICAgIGNvbnN0IGZuID0gKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzDQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsID0gMTsNCiAgICAgICAgICAgICAgICAgICAgY291bnRlciArPSAxOw0KICAgICAgICAgICAgICAgICAgICBmbigpOw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgZm4oKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoIHsNCiAgICAgICAgICAgICAgICBzaXplQiA9IGNvdW50ZXI7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgYnl0ZXMgPSAoc2l6ZUIgKiA4KSAvIChzaXplQSAtIHNpemVCKTsNCiAgICAgICAgcmV0dXJuIFtzaXplQSwgc2l6ZUIsIGJ5dGVzXS5qb2luKCc6Jyk7DQogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIGdldENhbnZhc1dlYmdsKCkgew0KICAgICAgICAvLyB1c2Ugc2hvcnQgbGlzdCB0byBpbXByb3ZlIHBlcmZvcm1hbmNlDQogICAgICAgIGNvbnN0IGdldFBhcmFtTmFtZXMgPSAoKSA9PiBbDQogICAgICAgICAgICAvLyAnQkxFTkRfRVFVQVRJT04nLA0KICAgICAgICAgICAgLy8gJ0JMRU5EX0VRVUFUSU9OX1JHQicsDQogICAgICAgICAgICAvLyAnQkxFTkRfRVFVQVRJT05fQUxQSEEnLA0KICAgICAgICAgICAgLy8gJ0JMRU5EX0RTVF9SR0InLA0KICAgICAgICAgICAgLy8gJ0JMRU5EX1NSQ19SR0InLA0KICAgICAgICAgICAgLy8gJ0JMRU5EX0RTVF9BTFBIQScsDQogICAgICAgICAgICAvLyAnQkxFTkRfU1JDX0FMUEhBJywNCiAgICAgICAgICAgIC8vICdCTEVORF9DT0xPUicsDQogICAgICAgICAgICAvLyAnQ1VMTF9GQUNFJywNCiAgICAgICAgICAgIC8vICdCTEVORCcsDQogICAgICAgICAgICAvLyAnRElUSEVSJywNCiAgICAgICAgICAgIC8vICdTVEVOQ0lMX1RFU1QnLA0KICAgICAgICAgICAgLy8gJ0RFUFRIX1RFU1QnLA0KICAgICAgICAgICAgLy8gJ1NDSVNTT1JfVEVTVCcsDQogICAgICAgICAgICAvLyAnUE9MWUdPTl9PRkZTRVRfRklMTCcsDQogICAgICAgICAgICAvLyAnU0FNUExFX0FMUEhBX1RPX0NPVkVSQUdFJywNCiAgICAgICAgICAgIC8vICdTQU1QTEVfQ09WRVJBR0UnLA0KICAgICAgICAgICAgLy8gJ0xJTkVfV0lEVEgnLA0KICAgICAgICAgICAgJ0FMSUFTRURfUE9JTlRfU0laRV9SQU5HRScsDQogICAgICAgICAgICAnQUxJQVNFRF9MSU5FX1dJRFRIX1JBTkdFJywNCiAgICAgICAgICAgIC8vICdDVUxMX0ZBQ0VfTU9ERScsDQogICAgICAgICAgICAvLyAnRlJPTlRfRkFDRScsDQogICAgICAgICAgICAvLyAnREVQVEhfUkFOR0UnLA0KICAgICAgICAgICAgLy8gJ0RFUFRIX1dSSVRFTUFTSycsDQogICAgICAgICAgICAvLyAnREVQVEhfQ0xFQVJfVkFMVUUnLA0KICAgICAgICAgICAgLy8gJ0RFUFRIX0ZVTkMnLA0KICAgICAgICAgICAgLy8gJ1NURU5DSUxfQ0xFQVJfVkFMVUUnLA0KICAgICAgICAgICAgLy8gJ1NURU5DSUxfRlVOQycsDQogICAgICAgICAgICAvLyAnU1RFTkNJTF9GQUlMJywNCiAgICAgICAgICAgIC8vICdTVEVOQ0lMX1BBU1NfREVQVEhfRkFJTCcsDQogICAgICAgICAgICAvLyAnU1RFTkNJTF9QQVNTX0RFUFRIX1BBU1MnLA0KICAgICAgICAgICAgLy8gJ1NURU5DSUxfUkVGJywNCiAgICAgICAgICAgICdTVEVOQ0lMX1ZBTFVFX01BU0snLA0KICAgICAgICAgICAgJ1NURU5DSUxfV1JJVEVNQVNLJywNCiAgICAgICAgICAgIC8vICdTVEVOQ0lMX0JBQ0tfRlVOQycsDQogICAgICAgICAgICAvLyAnU1RFTkNJTF9CQUNLX0ZBSUwnLA0KICAgICAgICAgICAgLy8gJ1NURU5DSUxfQkFDS19QQVNTX0RFUFRIX0ZBSUwnLA0KICAgICAgICAgICAgLy8gJ1NURU5DSUxfQkFDS19QQVNTX0RFUFRIX1BBU1MnLA0KICAgICAgICAgICAgLy8gJ1NURU5DSUxfQkFDS19SRUYnLA0KICAgICAgICAgICAgJ1NURU5DSUxfQkFDS19WQUxVRV9NQVNLJywNCiAgICAgICAgICAgICdTVEVOQ0lMX0JBQ0tfV1JJVEVNQVNLJywNCiAgICAgICAgICAgIC8vICdWSUVXUE9SVCcsDQogICAgICAgICAgICAvLyAnU0NJU1NPUl9CT1gnLA0KICAgICAgICAgICAgLy8gJ0NPTE9SX0NMRUFSX1ZBTFVFJywNCiAgICAgICAgICAgIC8vICdDT0xPUl9XUklURU1BU0snLA0KICAgICAgICAgICAgLy8gJ1VOUEFDS19BTElHTk1FTlQnLA0KICAgICAgICAgICAgLy8gJ1BBQ0tfQUxJR05NRU5UJywNCiAgICAgICAgICAgICdNQVhfVEVYVFVSRV9TSVpFJywNCiAgICAgICAgICAgICdNQVhfVklFV1BPUlRfRElNUycsDQogICAgICAgICAgICAnU1VCUElYRUxfQklUUycsDQogICAgICAgICAgICAvLyAnUkVEX0JJVFMnLA0KICAgICAgICAgICAgLy8gJ0dSRUVOX0JJVFMnLA0KICAgICAgICAgICAgLy8gJ0JMVUVfQklUUycsDQogICAgICAgICAgICAvLyAnQUxQSEFfQklUUycsDQogICAgICAgICAgICAvLyAnREVQVEhfQklUUycsDQogICAgICAgICAgICAvLyAnU1RFTkNJTF9CSVRTJywNCiAgICAgICAgICAgIC8vICdQT0xZR09OX09GRlNFVF9VTklUUycsDQogICAgICAgICAgICAvLyAnUE9MWUdPTl9PRkZTRVRfRkFDVE9SJywNCiAgICAgICAgICAgIC8vICdTQU1QTEVfQlVGRkVSUycsDQogICAgICAgICAgICAvLyAnU0FNUExFUycsDQogICAgICAgICAgICAvLyAnU0FNUExFX0NPVkVSQUdFX1ZBTFVFJywNCiAgICAgICAgICAgIC8vICdTQU1QTEVfQ09WRVJBR0VfSU5WRVJUJywNCiAgICAgICAgICAgIC8vICdDT01QUkVTU0VEX1RFWFRVUkVfRk9STUFUUycsDQogICAgICAgICAgICAvLyAnR0VORVJBVEVfTUlQTUFQX0hJTlQnLA0KICAgICAgICAgICAgJ01BWF9WRVJURVhfQVRUUklCUycsDQogICAgICAgICAgICAnTUFYX1ZFUlRFWF9VTklGT1JNX1ZFQ1RPUlMnLA0KICAgICAgICAgICAgJ01BWF9WQVJZSU5HX1ZFQ1RPUlMnLA0KICAgICAgICAgICAgJ01BWF9DT01CSU5FRF9URVhUVVJFX0lNQUdFX1VOSVRTJywNCiAgICAgICAgICAgICdNQVhfVkVSVEVYX1RFWFRVUkVfSU1BR0VfVU5JVFMnLA0KICAgICAgICAgICAgJ01BWF9URVhUVVJFX0lNQUdFX1VOSVRTJywNCiAgICAgICAgICAgICdNQVhfRlJBR01FTlRfVU5JRk9STV9WRUNUT1JTJywNCiAgICAgICAgICAgICdTSEFESU5HX0xBTkdVQUdFX1ZFUlNJT04nLA0KICAgICAgICAgICAgJ1ZFTkRPUicsDQogICAgICAgICAgICAnUkVOREVSRVInLA0KICAgICAgICAgICAgJ1ZFUlNJT04nLA0KICAgICAgICAgICAgJ01BWF9DVUJFX01BUF9URVhUVVJFX1NJWkUnLA0KICAgICAgICAgICAgLy8gJ0FDVElWRV9URVhUVVJFJywNCiAgICAgICAgICAgIC8vICdJTVBMRU1FTlRBVElPTl9DT0xPUl9SRUFEX1RZUEUnLA0KICAgICAgICAgICAgLy8gJ0lNUExFTUVOVEFUSU9OX0NPTE9SX1JFQURfRk9STUFUJywNCiAgICAgICAgICAgICdNQVhfUkVOREVSQlVGRkVSX1NJWkUnLA0KICAgICAgICAgICAgLy8gJ1VOUEFDS19GTElQX1lfV0VCR0wnLA0KICAgICAgICAgICAgLy8gJ1VOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCcsDQogICAgICAgICAgICAvLyAnVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCcsDQogICAgICAgICAgICAvLyAnUkVBRF9CVUZGRVInLA0KICAgICAgICAgICAgLy8gJ1VOUEFDS19ST1dfTEVOR1RIJywNCiAgICAgICAgICAgIC8vICdVTlBBQ0tfU0tJUF9ST1dTJywNCiAgICAgICAgICAgIC8vICdVTlBBQ0tfU0tJUF9QSVhFTFMnLA0KICAgICAgICAgICAgLy8gJ1BBQ0tfUk9XX0xFTkdUSCcsDQogICAgICAgICAgICAvLyAnUEFDS19TS0lQX1JPV1MnLA0KICAgICAgICAgICAgLy8gJ1BBQ0tfU0tJUF9QSVhFTFMnLA0KICAgICAgICAgICAgLy8gJ1VOUEFDS19TS0lQX0lNQUdFUycsDQogICAgICAgICAgICAvLyAnVU5QQUNLX0lNQUdFX0hFSUdIVCcsDQogICAgICAgICAgICAnTUFYXzNEX1RFWFRVUkVfU0laRScsDQogICAgICAgICAgICAnTUFYX0VMRU1FTlRTX1ZFUlRJQ0VTJywNCiAgICAgICAgICAgICdNQVhfRUxFTUVOVFNfSU5ESUNFUycsDQogICAgICAgICAgICAnTUFYX1RFWFRVUkVfTE9EX0JJQVMnLA0KICAgICAgICAgICAgJ01BWF9EUkFXX0JVRkZFUlMnLA0KICAgICAgICAgICAgLy8gJ0RSQVdfQlVGRkVSMCcsDQogICAgICAgICAgICAvLyAnRFJBV19CVUZGRVIxJywNCiAgICAgICAgICAgIC8vICdEUkFXX0JVRkZFUjInLA0KICAgICAgICAgICAgLy8gJ0RSQVdfQlVGRkVSMycsDQogICAgICAgICAgICAvLyAnRFJBV19CVUZGRVI0JywNCiAgICAgICAgICAgIC8vICdEUkFXX0JVRkZFUjUnLA0KICAgICAgICAgICAgLy8gJ0RSQVdfQlVGRkVSNicsDQogICAgICAgICAgICAvLyAnRFJBV19CVUZGRVI3JywNCiAgICAgICAgICAgICdNQVhfRlJBR01FTlRfVU5JRk9STV9DT01QT05FTlRTJywNCiAgICAgICAgICAgICdNQVhfVkVSVEVYX1VOSUZPUk1fQ09NUE9ORU5UUycsDQogICAgICAgICAgICAvLyAnRlJBR01FTlRfU0hBREVSX0RFUklWQVRJVkVfSElOVCcsDQogICAgICAgICAgICAnTUFYX0FSUkFZX1RFWFRVUkVfTEFZRVJTJywNCiAgICAgICAgICAgIC8vICdNSU5fUFJPR1JBTV9URVhFTF9PRkZTRVQnLA0KICAgICAgICAgICAgJ01BWF9QUk9HUkFNX1RFWEVMX09GRlNFVCcsDQogICAgICAgICAgICAnTUFYX1ZBUllJTkdfQ09NUE9ORU5UUycsDQogICAgICAgICAgICAnTUFYX1RSQU5TRk9STV9GRUVEQkFDS19TRVBBUkFURV9DT01QT05FTlRTJywNCiAgICAgICAgICAgIC8vICdSQVNURVJJWkVSX0RJU0NBUkQnLA0KICAgICAgICAgICAgJ01BWF9UUkFOU0ZPUk1fRkVFREJBQ0tfSU5URVJMRUFWRURfQ09NUE9ORU5UUycsDQogICAgICAgICAgICAnTUFYX1RSQU5TRk9STV9GRUVEQkFDS19TRVBBUkFURV9BVFRSSUJTJywNCiAgICAgICAgICAgICdNQVhfQ09MT1JfQVRUQUNITUVOVFMnLA0KICAgICAgICAgICAgJ01BWF9TQU1QTEVTJywNCiAgICAgICAgICAgICdNQVhfVkVSVEVYX1VOSUZPUk1fQkxPQ0tTJywNCiAgICAgICAgICAgICdNQVhfRlJBR01FTlRfVU5JRk9STV9CTE9DS1MnLA0KICAgICAgICAgICAgJ01BWF9DT01CSU5FRF9VTklGT1JNX0JMT0NLUycsDQogICAgICAgICAgICAnTUFYX1VOSUZPUk1fQlVGRkVSX0JJTkRJTkdTJywNCiAgICAgICAgICAgICdNQVhfVU5JRk9STV9CTE9DS19TSVpFJywNCiAgICAgICAgICAgICdNQVhfQ09NQklORURfVkVSVEVYX1VOSUZPUk1fQ09NUE9ORU5UUycsDQogICAgICAgICAgICAnTUFYX0NPTUJJTkVEX0ZSQUdNRU5UX1VOSUZPUk1fQ09NUE9ORU5UUycsDQogICAgICAgICAgICAvLyAnVU5JRk9STV9CVUZGRVJfT0ZGU0VUX0FMSUdOTUVOVCcsDQogICAgICAgICAgICAnTUFYX1ZFUlRFWF9PVVRQVVRfQ09NUE9ORU5UUycsDQogICAgICAgICAgICAnTUFYX0ZSQUdNRU5UX0lOUFVUX0NPTVBPTkVOVFMnLA0KICAgICAgICAgICAgJ01BWF9TRVJWRVJfV0FJVF9USU1FT1VUJywNCiAgICAgICAgICAgIC8vICdUUkFOU0ZPUk1fRkVFREJBQ0tfUEFVU0VEJywNCiAgICAgICAgICAgIC8vICdUUkFOU0ZPUk1fRkVFREJBQ0tfQUNUSVZFJywNCiAgICAgICAgICAgICdNQVhfRUxFTUVOVF9JTkRFWCcsDQogICAgICAgICAgICAnTUFYX0NMSUVOVF9XQUlUX1RJTUVPVVRfV0VCR0wnLA0KICAgICAgICBdLnNvcnQoKTsNCiAgICAgICAgY29uc3QgZHJhdyA9IChnbCkgPT4gew0KICAgICAgICAgICAgY29uc3QgaXNTYWZhcmkxNUFuZEFib3ZlID0gKCdCaWdJbnQ2NEFycmF5JyBpbiB3aW5kb3cgJiYNCiAgICAgICAgICAgICAgICBJU19XRUJLSVQgJiYNCiAgICAgICAgICAgICAgICAhLyhDcnxGeClpT1MvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpOw0KICAgICAgICAgICAgaWYgKCFnbCB8fCBpc1NhZmFyaTE1QW5kQWJvdmUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBnbC5jbGVhckNvbG9yKDAuNDcsIDAuNywgMC43OCwgMSkNCiAgICAgICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpOw0KICAgICAgICAgICAgLy8gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL1ZhbHZlL2ZpbmdlcnByaW50anMyL2Jsb2IvbWFzdGVyL2ZpbmdlcnByaW50Mi5qcw0KICAgICAgICAgICAgY29uc3QgdmVydGV4UG9zQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7DQogICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdmVydGV4UG9zQnVmZmVyKTsNCiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShbLTAuOSwgLTAuNywgMCwgMC44LCAtMC43LCAwLCAwLCAwLjUsIDBdKTsNCiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCB2ZXJ0aWNlcywgZ2wuU1RBVElDX0RSQVcpOw0KICAgICAgICAgICAgLy8gY3JlYXRlIHByb2dyYW0NCiAgICAgICAgICAgIGNvbnN0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7DQogICAgICAgICAgICAvLyBjb21waWxlIGFuZCBhdHRhY2ggdmVydGV4IHNoYWRlcg0KICAgICAgICAgICAgY29uc3QgdmVydGV4U2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLlZFUlRFWF9TSEFERVIpOw0KICAgICAgICAgICAgZ2wuc2hhZGVyU291cmNlKHZlcnRleFNoYWRlciwgYA0KCQkJYXR0cmlidXRlIHZlYzIgYXR0clZlcnRleDsNCgkJCXZhcnlpbmcgdmVjMiB2YXJ5aW5UZXhDb29yZGluYXRlOw0KCQkJdW5pZm9ybSB2ZWMyIHVuaWZvcm1PZmZzZXQ7DQoJCQl2b2lkIG1haW4oKXsNCgkJCQl2YXJ5aW5UZXhDb29yZGluYXRlID0gYXR0clZlcnRleCArIHVuaWZvcm1PZmZzZXQ7DQoJCQkJZ2xfUG9zaXRpb24gPSB2ZWM0KGF0dHJWZXJ0ZXgsIDAsIDEpOw0KCQkJfQ0KCQlgKTsNCiAgICAgICAgICAgIGdsLmNvbXBpbGVTaGFkZXIodmVydGV4U2hhZGVyKTsNCiAgICAgICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpOw0KICAgICAgICAgICAgLy8gY29tcGlsZSBhbmQgYXR0YWNoIGZyYWdtZW50IHNoYWRlcg0KICAgICAgICAgICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTsNCiAgICAgICAgICAgIGdsLnNoYWRlclNvdXJjZShmcmFnbWVudFNoYWRlciwgYA0KCQkJcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7DQoJCQl2YXJ5aW5nIHZlYzIgdmFyeWluVGV4Q29vcmRpbmF0ZTsNCgkJCXZvaWQgbWFpbigpIHsNCgkJCQlnbF9GcmFnQ29sb3IgPSB2ZWM0KHZhcnlpblRleENvb3JkaW5hdGUsIDEsIDEpOw0KCQkJfQ0KCQlgKTsNCiAgICAgICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpOw0KICAgICAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTsNCiAgICAgICAgICAgIC8vIHVzZSBwcm9ncmFtDQogICAgICAgICAgICBjb25zdCBjb21wb25lbnRTaXplID0gMzsNCiAgICAgICAgICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pOw0KICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTsNCiAgICAgICAgICAgIHByb2dyYW0udmVydGV4UG9zQXR0cmliID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ2F0dHJWZXJ0ZXgnKTsNCiAgICAgICAgICAgIHByb2dyYW0ub2Zmc2V0VW5pZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndW5pZm9ybU9mZnNldCcpOw0KICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocHJvZ3JhbS52ZXJ0ZXhQb3NBcnJheSk7DQogICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHByb2dyYW0udmVydGV4UG9zQXR0cmliLCBjb21wb25lbnRTaXplLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApOw0KICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHByb2dyYW0ub2Zmc2V0VW5pZm9ybSwgMSwgMSk7DQogICAgICAgICAgICAvLyBkcmF3DQogICAgICAgICAgICBjb25zdCBudW1PZkluZGljZXMgPSAzOw0KICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5MSU5FX0xPT1AsIDAsIG51bU9mSW5kaWNlcyk7DQogICAgICAgICAgICByZXR1cm4gZ2w7DQogICAgICAgIH07DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7DQogICAgICAgICAgICBhd2FpdCBxdWV1ZUV2ZW50KHRpbWVyKTsNCiAgICAgICAgICAgIC8vIGRldGVjdCBsaWVzDQogICAgICAgICAgICBjb25zdCBkYXRhTGllID0gbGllUHJvcHNbJ0hUTUxDYW52YXNFbGVtZW50LnRvRGF0YVVSTCddOw0KICAgICAgICAgICAgY29uc3QgY29udGV4dExpZSA9IGxpZVByb3BzWydIVE1MQ2FudmFzRWxlbWVudC5nZXRDb250ZXh0J107DQogICAgICAgICAgICBjb25zdCBwYXJhbWV0ZXJPckV4dGVuc2lvbkxpZSA9IChsaWVQcm9wc1snV2ViR0xSZW5kZXJpbmdDb250ZXh0LmdldFBhcmFtZXRlciddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1dlYkdMMlJlbmRlcmluZ0NvbnRleHQuZ2V0UGFyYW1ldGVyJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snV2ViR0xSZW5kZXJpbmdDb250ZXh0LmdldEV4dGVuc2lvbiddIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1dlYkdMMlJlbmRlcmluZ0NvbnRleHQuZ2V0RXh0ZW5zaW9uJ10pOw0KICAgICAgICAgICAgY29uc3QgbGllZCA9IChkYXRhTGllIHx8DQogICAgICAgICAgICAgICAgY29udGV4dExpZSB8fA0KICAgICAgICAgICAgICAgIHBhcmFtZXRlck9yRXh0ZW5zaW9uTGllIHx8DQogICAgICAgICAgICAgICAgbGllUHJvcHNbJ1dlYkdMUmVuZGVyaW5nQ29udGV4dC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zJ10gfHwNCiAgICAgICAgICAgICAgICBsaWVQcm9wc1snV2ViR0wyUmVuZGVyaW5nQ29udGV4dC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zJ10pIHx8IGZhbHNlOw0KICAgICAgICAgICAgLy8gY3JlYXRlIGNhbnZhcyBjb250ZXh0DQogICAgICAgICAgICBsZXQgd2luID0gd2luZG93Ow0KICAgICAgICAgICAgaWYgKCFMSUtFX0JSQVZFICYmIFBIQU5UT01fREFSS05FU1MpIHsNCiAgICAgICAgICAgICAgICB3aW4gPSBQSEFOVE9NX0RBUktORVNTOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgZG9jID0gd2luLmRvY3VtZW50Ow0KICAgICAgICAgICAgbGV0IGNhbnZhczsNCiAgICAgICAgICAgIGxldCBjYW52YXMyOw0KICAgICAgICAgICAgaWYgKCdPZmZzY3JlZW5DYW52YXMnIGluIHdpbmRvdykgew0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgT2Zmc2NyZWVuQ2FudmFzDQogICAgICAgICAgICAgICAgY2FudmFzID0gbmV3IHdpbi5PZmZzY3JlZW5DYW52YXMoMjU2LCAyNTYpOw0KICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgT2Zmc2NyZWVuQ2FudmFzDQogICAgICAgICAgICAgICAgY2FudmFzMiA9IG5ldyB3aW4uT2Zmc2NyZWVuQ2FudmFzKDI1NiwgMjU2KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIGNhbnZhcyA9IGRvYy5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsNCiAgICAgICAgICAgICAgICBjYW52YXMyID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgZ2V0Q29udGV4dCA9IChjYW52YXMsIGNvbnRleHRUeXBlKSA9PiB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHRUeXBlID09ICd3ZWJnbDInKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInKSB8fA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wyJykpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAoY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJykgfHwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnKSB8fA0KICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmdldENvbnRleHQoJ21vei13ZWJnbCcpIHx8DQogICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnd2Via2l0LTNkJykpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCBnbCA9IGdldENvbnRleHQoY2FudmFzLCAnd2ViZ2wnKTsNCiAgICAgICAgICAgIGNvbnN0IGdsMiA9IGdldENvbnRleHQoY2FudmFzMiwgJ3dlYmdsMicpOw0KICAgICAgICAgICAgaWYgKCFnbCkgew0KICAgICAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnd2ViZ2wnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIGhlbHBlcnMNCiAgICAgICAgICAgIGNvbnN0IGdldFNoYWRlclByZWNpc2lvbkZvcm1hdCA9IChnbCwgc2hhZGVyVHlwZSkgPT4gew0KICAgICAgICAgICAgICAgIGlmICghZ2wpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zdCBMT1dfRkxPQVQgPSBhdHRlbXB0KCgpID0+IGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChnbFtzaGFkZXJUeXBlXSwgZ2wuTE9XX0ZMT0FUKSk7DQogICAgICAgICAgICAgICAgY29uc3QgTUVESVVNX0ZMT0FUID0gYXR0ZW1wdCgoKSA9PiBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2xbc2hhZGVyVHlwZV0sIGdsLk1FRElVTV9GTE9BVCkpOw0KICAgICAgICAgICAgICAgIGNvbnN0IEhJR0hfRkxPQVQgPSBhdHRlbXB0KCgpID0+IGdsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChnbFtzaGFkZXJUeXBlXSwgZ2wuSElHSF9GTE9BVCkpOw0KICAgICAgICAgICAgICAgIGNvbnN0IEhJR0hfSU5UID0gYXR0ZW1wdCgoKSA9PiBnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQoZ2xbc2hhZGVyVHlwZV0sIGdsLkhJR0hfSU5UKSk7DQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgTE9XX0ZMT0FULA0KICAgICAgICAgICAgICAgICAgICBNRURJVU1fRkxPQVQsDQogICAgICAgICAgICAgICAgICAgIEhJR0hfRkxPQVQsDQogICAgICAgICAgICAgICAgICAgIEhJR0hfSU5ULA0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgZ2V0U2hhZGVyRGF0YSA9IChuYW1lLCBzaGFkZXIpID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge307DQogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pbg0KICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBzaGFkZXIpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gc2hhZGVyW3Byb3BdOw0KICAgICAgICAgICAgICAgICAgICBkYXRhW25hbWUgKyAnLicgKyBwcm9wICsgJy5wcmVjaXNpb24nXSA9IG9iaiA/IGF0dGVtcHQoKCkgPT4gb2JqLnByZWNpc2lvbikgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgICAgIGRhdGFbbmFtZSArICcuJyArIHByb3AgKyAnLnJhbmdlTWF4J10gPSBvYmogPyBhdHRlbXB0KCgpID0+IG9iai5yYW5nZU1heCkgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgICAgIGRhdGFbbmFtZSArICcuJyArIHByb3AgKyAnLnJhbmdlTWluJ10gPSBvYmogPyBhdHRlbXB0KCgpID0+IG9iai5yYW5nZU1pbikgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBkYXRhOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IGdldE1heEFuaXNvdHJvcHkgPSAoZ2wpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoIWdsKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gKGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykgfHwNCiAgICAgICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykgfHwNCiAgICAgICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykpOw0KICAgICAgICAgICAgICAgIHJldHVybiBleHQgPyBnbC5nZXRQYXJhbWV0ZXIoZXh0Lk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCkgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgZ2V0UGFyYW1zID0gKGdsKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCFnbCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4ge307DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvbnN0IHBuYW1lc1Nob3J0TGlzdCA9IG5ldyBTZXQoZ2V0UGFyYW1OYW1lcygpKTsNCiAgICAgICAgICAgICAgICBjb25zdCBwbmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2wpKQ0KICAgICAgICAgICAgICAgICAgICAvLyAuZmlsdGVyKHByb3AgPT4gcHJvcC50b1VwcGVyQ2FzZSgpID09IHByb3ApIC8vIGdsb2JhbCB0ZXN0DQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKG5hbWUpID0+IHBuYW1lc1Nob3J0TGlzdC5oYXMobmFtZSkpOw0KICAgICAgICAgICAgICAgIHJldHVybiBwbmFtZXMucmVkdWNlKChhY2MsIG5hbWUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gZ2wuZ2V0UGFyYW1ldGVyKGdsW25hbWVdKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCEhdmFsICYmICdidWZmZXInIGluIE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWwpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBhY2NbbmFtZV0gPSBbLi4udmFsXTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFjY1tuYW1lXSA9IHZhbDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjOw0KICAgICAgICAgICAgICAgIH0sIHt9KTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCBnZXRVbm1hc2tlZCA9IChnbCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IGV4dCA9ICEhZ2wgPyBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8nKSA6IG51bGw7DQogICAgICAgICAgICAgICAgcmV0dXJuICFleHQgPyB7fSA6IHsNCiAgICAgICAgICAgICAgICAgICAgVU5NQVNLRURfVkVORE9SX1dFQkdMOiBnbC5nZXRQYXJhbWV0ZXIoZXh0LlVOTUFTS0VEX1ZFTkRPUl9XRUJHTCksDQogICAgICAgICAgICAgICAgICAgIFVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMOiBnbC5nZXRQYXJhbWV0ZXIoZXh0LlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKSwNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGNvbnN0IGdldFN1cHBvcnRlZEV4dGVuc2lvbnMgPSAoZ2wpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoIWdsKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gYXR0ZW1wdCgoKSA9PiBnbC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zKCkpOw0KICAgICAgICAgICAgICAgIGlmICghZXh0KSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGV4dDsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBjb25zdCBnZXRXZWJHTERhdGEgPSAoZ2wsIGNvbnRleHRUeXBlKSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCFnbCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVVSSTogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIGRyYXcoZ2wpOw0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRyYXdpbmdCdWZmZXJXaWR0aCwgZHJhd2luZ0J1ZmZlckhlaWdodCB9ID0gZ2w7DQogICAgICAgICAgICAgICAgICAgIGxldCBkYXRhVVJJID0gJyc7DQogICAgICAgICAgICAgICAgICAgIGlmIChnbC5jYW52YXMuY29uc3RydWN0b3IubmFtZSA9PT0gJ09mZnNjcmVlbkNhbnZhcycpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZHJhdyhnZXRDb250ZXh0KGNhbnZhcywgY29udGV4dFR5cGUpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFVUkkgPSBjYW52YXMudG9EYXRhVVJMKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhVVJJID0gZ2wuY2FudmFzLnRvRGF0YVVSTCgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vIHJlZHVjZSBleGNlc3NpdmUgcmVhZHMgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZQ0KICAgICAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IGRyYXdpbmdCdWZmZXJXaWR0aCAvIDE1Ow0KICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBkcmF3aW5nQnVmZmVySGVpZ2h0IC8gNjsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnJlYWRQaXhlbHMoMCwgMCwgd2lkdGgsIGhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgcGl4ZWxzKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVVSSSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXhlbHM6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coWy4uLnBpeGVsc10uZmlsdGVyKHggPT4gISF4KSkgLy8gdGVzdCByZWFkDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhVVJJLA0KICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxzOiBbLi4ucGl4ZWxzXSwNCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvLyBnZXQgZGF0YQ0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7IC4uLmdldFBhcmFtcyhnbCksIC4uLmdldFVubWFza2VkKGdsKSB9Ow0KICAgICAgICAgICAgY29uc3QgcGFyYW1zMiA9IHsgLi4uZ2V0UGFyYW1zKGdsMiksIC4uLmdldFVubWFza2VkKGdsMikgfTsNCiAgICAgICAgICAgIGNvbnN0IFZlcnNpb25QYXJhbSA9IHsNCiAgICAgICAgICAgICAgICBBTElBU0VEX0xJTkVfV0lEVEhfUkFOR0U6IHRydWUsDQogICAgICAgICAgICAgICAgU0hBRElOR19MQU5HVUFHRV9WRVJTSU9OOiB0cnVlLA0KICAgICAgICAgICAgICAgIFZFUlNJT046IHRydWUsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgY29uc3QgbWlzbWF0Y2ggPSBPYmplY3Qua2V5cyhwYXJhbXMyKQ0KICAgICAgICAgICAgICAgIC5maWx0ZXIoKGtleSkgPT4gISFwYXJhbXNba2V5XSAmJiAhVmVyc2lvblBhcmFtW2tleV0gJiYgKCcnICsgcGFyYW1zW2tleV0gIT0gJycgKyBwYXJhbXMyW2tleV0pKTsNCiAgICAgICAgICAgIGlmIChtaXNtYXRjaC5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICBzZW5kVG9UcmFzaCgnd2ViZ2wvd2ViZ2wyIG1pcnJvcmVkIHBhcmFtcyBtaXNtYXRjaCcsIG1pc21hdGNoLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYXdhaXQgcXVldWVFdmVudCh0aW1lcik7DQogICAgICAgICAgICBjb25zdCB7IGRhdGFVUkksIHBpeGVscyB9ID0gZ2V0V2ViR0xEYXRhKGdsLCAnd2ViZ2wnKSB8fCB7fTsNCiAgICAgICAgICAgIGNvbnN0IHsgZGF0YVVSSTogZGF0YVVSSTIsIHBpeGVsczogcGl4ZWxzMiB9ID0gZ2V0V2ViR0xEYXRhKGdsMiwgJ3dlYmdsMicpIHx8IHt9Ow0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICBleHRlbnNpb25zOiBbLi4uZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucyhnbCksIC4uLmdldFN1cHBvcnRlZEV4dGVuc2lvbnMoZ2wyKV0sDQogICAgICAgICAgICAgICAgcGl4ZWxzLA0KICAgICAgICAgICAgICAgIHBpeGVsczIsDQogICAgICAgICAgICAgICAgZGF0YVVSSSwNCiAgICAgICAgICAgICAgICBkYXRhVVJJMiwNCiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiB7DQogICAgICAgICAgICAgICAgICAgIC4uLnsgLi4ucGFyYW1zLCAuLi5wYXJhbXMyIH0sDQogICAgICAgICAgICAgICAgICAgIC4uLnsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFudGlhbGlhczogZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKSA/IGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCkuYW50aWFsaWFzIDogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgICAgICAgICAgTUFYX1ZJRVdQT1JUX0RJTVM6IGF0dGVtcHQoKCkgPT4gWy4uLmdsLmdldFBhcmFtZXRlcihnbC5NQVhfVklFV1BPUlRfRElNUyldKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIE1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVDogZ2V0TWF4QW5pc290cm9weShnbCksDQogICAgICAgICAgICAgICAgICAgICAgICAuLi5nZXRTaGFkZXJEYXRhKCdWRVJURVhfU0hBREVSJywgZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLCAnVkVSVEVYX1NIQURFUicpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmdldFNoYWRlckRhdGEoJ0ZSQUdNRU5UX1NIQURFUicsIGdldFNoYWRlclByZWNpc2lvbkZvcm1hdChnbCwgJ0ZSQUdNRU5UX1NIQURFUicpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIE1BWF9EUkFXX0JVRkZFUlNfV0VCR0w6IGF0dGVtcHQoKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXJzID8gZ2wuZ2V0UGFyYW1ldGVyKGJ1ZmZlcnMuTUFYX0RSQVdfQlVGRkVSU19XRUJHTCkgOiB1bmRlZmluZWQ7DQogICAgICAgICAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHBhcmFtZXRlck9yRXh0ZW5zaW9uTGllLA0KICAgICAgICAgICAgICAgIGxpZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgLy8gRmlyZXdhbGwNCiAgICAgICAgICAgIGNvbnN0IGJyYW5kQ2FwYWJpbGl0aWVzID0gWydmY2E2NjUyMCcsICdiNjIzMjFjMycsICdiMzYyYzJmNScsICcwZWIyZmMxOScsICc1NWU4MjFmNycsICc2OTUxODM4YicsICcwODg0N2JhNScsICdjMDA1ODJlOScsICc2ZWRmMTcyMCcsICcyYjgwZmQ5NicsICc2MzQ2Y2Y0OScsICcyMjU5YjcwNicsICdlNzk2Yjg0ZScsICc1YTU2NThmMScsICc1ODg3MTM4MCcsICc1YTkwYTVmOCcsICdjZmQyMDI3NCcsICc1NTgyZGViZScsICdlNDU2OWE1YicsICdmMjI5MzQ0NycsICdjMDQ4ODliMScsICcxYjI1MWZkNycsICdlYTU5YjM0MycsICdiOGVhNmU3ZicsICcxNmM0ODFhNicsICc1OGZkYzcyMCcsICdiZjA2MzE3ZScsICc2Mjk0ZDg0ZScsICdlNjQ2NGM5ZicsICdhMzk3YTU2OCcsICc4MWI5Y2QyOScsICcxYmZkMzI2YycsICc3MDg1OWJkYicsICc3MGEwOTViMScsICcyMzBkNmEwZCcsICczYmYzMjFiOCcsICdjMDRlMzc0YScsICdiZTJkZmFlYScsICdmOTcxNGIzZCcsICc0NjFmOTdlMScsICdkMDljMWMwNycsICdhMWM4MDhkNScsICcwYjJkNDMzMycsICc1ZGRiOTIzNycsICczOWVhZDUwNicsICc4MDJlMjU0NycsICc0OWJmNzM1OCcsICdjMDI2NDY5ZCcsICc1ODFmMzI4MicsICdmMGQ1YTNjNycsICc2MzU3MzY1YycsICdhZTJjNDc3NycsICc4NDljY2I2NCcsICdlOTY1ZDU0MScsICc3OTRmODkyOScsICcyNDAyYzNkMicsICdlMTVhZmFiMCcsICc2OTZlMTU0OCcsICdhZmE1ODNiYycsICdlYTU0ZDUyNScsICc1Y2E1NTI5MicsICdmNTFjYWI5YScsICcwODdkNTc1OScsICc4ZDM3MTE2MScsICdkODYwZmY0MicsICcxNDUzZDU5YScsICcxMmU5MmU2MicsICdiNTA0NjYyZCcsICdjZjk2NDNlNicsICdkZDY3YjA3NicsICdhNTgxZjU1ZScsICdiMjI0Y2M3YycsICcyZjAxNGM0MScsICczM2JjNTQ5MicsICcwZmMxMjNjNycsICdkYmRiZTdhNCcsICdkMjE3Mjk0MycsICc2ODY0ZGNiMCcsICczZmVhMTEwMCcsICdkOTEzZGFmYScsICdkNmJmMzVhZCcsICdhMjZlOWFhOScsICcxNzE4MzFjNScsICc1MzQwMDJhYicsICcxMmY4YWMxNCcsICczZmY4MjMwMycsICc5OWIxYTFjNicsICc3NGRhZjg2NicsICdmYzM3ZmUxZicsICc2YWExZmY3ZScsICdlYzkyODY1NScsICc4NDI4ZmM4ZScsICdkOGJkOWU1YScsICc4YmQwYjkxYicsICc1MmUzNDhiYScsICdjMmJjZTQ5NicsICdlMTQyZDFmOScsICcyZjU4MmVkOScsICc0MDY1Y2Q2OScsICc2NjYyODMxMCcsICc5MDNjODg0NycsICcxZmY3YzdlNycsICc0MDJlMTA2NCcsICdlYjc5OWQzNCcsICdlZjhmNWRiMScsICdlMTU1YzQ3ZScsICcxNzdjYzI1OCcsICc2ZjgxY2JlNycsICc2YjI5MGNkNCcsICdmMTA3NzMzNCcsICdkMWU3NmM4OScsICc1ZDc4NmNlZicsICdlYWExMzgwNCcsICdmYWZhMTRjMCcsICcyYzA0YzJlYicsICdjOTNiNTM2NicsICc0OTYyYWRhMScsICcyNWE3NjBiOCcsICdiZjYxMGNkYicsICdiY2Y3MzE1ZicsICc4MDFkNzNhZicsICcwMGZlMWVjOScsICcwZjM5ZDA1NycsICdmOGU2NTQ4NicsICczOTk5YTVlMScsICdhZDAxYTQyMicsICdkYzI3MWMzNScsICdiNTBlZGQ5OScsICdlNjhiNWM0ZScsICc4MmE5YTJmMScsICcwY2RiOTg1ZCcsICdhMjM4MzAwMScsICdjZTJlM2QxNicsICdjOWJjNGZmZCcsICdlZWQyZTVlMScsICdlMTAzMzliMycsICdmNzQ1MWM5MicsICc0MzAzOGUzZCcsICc4NTQxYWE0YycsICdmYTk5NGYzMycsICdiMmQ2ZmM5OCcsICc2YTc1YWUzYicsICc2Nzk5NTk5NicsICcwZjg0MDM3OScsICdlNTc0YmVmNicsICdiNTQ5NDAyNycsICczNjYwYjcxZicsICdhMjI3ODhmOCcsICdlMTZiYjFiYicsICdlNTk2MmJhMycsICdjNWU5YTg4MycsICc1ZWU0MTQ1NicsICczYTkxZDBkNicsICdjMDVmNzU5NicsICdkZWQ3NDA0NCcsICdmNWQxOTkzNCcsICdjNzk2MzRjMicsICcxODU3OWU4MycsICcxZThhOWE3OScsICc1MDhkMTYyNScsICdkMDVhNjZlYicsICczNDI3MDQ2OScsICdmM2M2ZWExMScsICc1NWQzYWE1NicsICc3YjJlNTI0MicsICdlOTY1ZDE4MCcsICcyNTg3ODlkMCcsICdkMmRjMjQ3NCcsICdkNDk4Nzk3ZCcsICdlYTdmOTBlYScsICdhNGQzNDE3NicsICdjMDRiMDYzNScsICcwMmIzZWVhMycsICc2YjA3ZDRmOCcsICc2YzE2ODgwMScsICdhYjQwYmVjZScsICdhNGI5ODhkYScsICc0YzllOGY1ZCcsICc1YWVhMWFmMScsICc3OTVlNWM5NScsICcyN2RiMjkyYycsICcwNTc4NTdhYycsICcyM2QxY2UyMCcsICc5MTc4NzFlNycsICdiZWZmZGEyNicsICc0ODJjODFiMicsICdjMDkyZmRmOCcsICc2MjQ4ZDllMycsICdlMzE2ZTRjMCcsICdhZGU3NWM0ZicsICc3MzYwZWJkMScsICczMDBlZTkyNycsICc1YmVmOWEzOScsICczNzQwYzRjNycsICc2NjhmMGY5MycsICc2ZGZhZTNjYicsICc5YjY3YjdkYycsICdkZTc5M2VhZCcsICcxNDlhMWVmYScsICc3OWE1N2FhOScsICdiZmUxYzIxMicsICc2MmJmN2VmMScsICcyNWY5Mzg1ZCcsICc0MDI3ZDE5MycsICdlOWRiYjhkNScsICdjYmExODc4YicsICc0NTAzZTc3MScsICdjYmVhZGU4YycsICdjMDczMDdjNicsICdjZWZiNzJjYScsICc2MjNjM2JmZCcsICcwMGI3MjUwNycsICc4MjE5ZTFhNCcsICc2MWQ5NDY0ZScsICc3MjM4YzVkZCcsICdiNGQ0MGRjYycsICcwNDYzNjI3ZCcsICc1ODMxZDVmZCcsICcwNTg2ZTIwYicsICc0NjdiOTlhNScsICdiMTBjMmE4NScsICdmMjIxZmVmNScsICc3YjgxMWNkZCcsICc5OWVmMmMzYicsICc1YjZhMTdhYScsICdhNWE0NzdhZScsICcxOTU5NDY2NicsICc0NjRkNTFhYycsICdhOTdkMzg1OCcsICcyMDQ4YmM1YScsICc2ZTgwNmZmYycsICc2OThjNWMyZScsICcyNzkzODgzMCcsICc2NmQ5OTJlOCcsICdjN2UzN2NhMCcsICc3ODY0MDg1OScsICc1MDJjNDAyYycsICdkOTcwZDM0NScsICdlYzA1MGJiNicsICc3NDE2ODhlNCcsICc2MTE3OGYyYScsICc5YzgxNGMxYicsICc3OTI4NGM0NycsICdkNzM0ZWEwOCcsICcxMDFlMDU4MicsICdlYThmNWFkMCcsICc2MWVlY2FhZScsICdkY2Q5YTI5ZScsICc0OGFmMDM4ZicsICdiYjc3YTQ2OScsICc4NTQ3OWI5OScsICcwNjM5YTgxYScsICdkZjlkYWViNicsICc5ZmQ3NjM1MicsICczYjcyNDkxNicsICcyYmI0ODhkYScsICdmZTA5OTdiNicsICc5ZTJiNWU5NCcsICdmMzNkOTE4ZScsICdiODk2MWQxNScsICdhM2Y5ZWUzNCcsICdhOTY0MDg4MCcsICdiYzBmOTY4NicsICcyZDE1Mjg3ZicsICdhYTczZjNhNCcsICcwMGMxYjQyZCddOw0KICAgICAgICAgICAgY29uc3QgY2FwYWJpbGl0aWVzID0gWy0yMTQ3Mjg3ODEwLCAtMjE0NzM4MjI1MSwgLTIxNDczNjE3NjksIC0yMTQ3MzgyMjcyLCAtMjE0NzM2MTc5MiwgLTIxNDU5NzQ2MTIsIC0yMTQ1OTc0NTk4LCAtMjE0NzI4NzgzNCwgLTIxNDcxMzM3NDksIC0yMTQ2Mzg0MDI3LCAtMjE0NzI5NTgyMiwgLTIxNDYzODQwMDMsIC0xMTQ3NDUxOTAxLCAtMjE0NzM4MzI0NiwgLTIxNDU5NjY1NDUsIC0yMTQ3NDQ3MTM3LCAtMTE0NzE2MDU1MywgMzQ5OTEyLCAtMjE0NzQyOTIwMSwgLTIxNDc0NTkwMzEsIC0yMTQ2Mzg0MDExLCAtMTE0NzQ2NDE3NywgLTIxNDU5NjY1MzUsIC0yMTQ3NDQwNDIyLCAtMTE0ODMyNjczOSwgMTIyOTgzNSwgLTIxNDczNjI3NjAsIC0yMTQ3MzM3MDAzLCAtMjE0NzMzMzExOCwgLTIxNDc0MDc4MjEsIC0yMTQ3NDQ3MTYxLCAtMjE0NzMxNjM4MywgLTIxNDYyNTE2NDEsIC0xMTQ3NDUxODgzLCA5OTkxNTY5MjIsIC0yMTQ2Mjg2NDM4LCAtMjE0NjI4NjQ2MywgLTExNDc0NjQxNjksIC0xMTQ3MTY4NzI0LCAtMjE0NzEzNjMyOCwgLTIxNDczODIyMjEsIC0yMTQ3NDQ3MTQ5LCAtMjE0NzI4Nzg1NCwgLTIxMzA2NTk5MTIsIC0yMTQ2MjUzNjkzLCAtMTE0ODY3ODYzMSwgLTIxNDczODczMzUsIC0yMTQ3MzYxNzc1LCAtMTE0NzYwMjkzNCwgLTIxNDczNjU4NjMsIC0xMTQ3NDE5Nzc1LCAtMTk2MjkxOTk3NCwgLTIxNDc0NjY5NzIsIC0yMTQ1OTY2NTI5LCAtMTE2NDI3OTg5MCwgLTIxNDczODU4MjUsIC0yMTQ3MzYxNzc0LCAxMTQ3NzE0NDI2LCAtMjE0NzI4NzgyMCwgLTIxNDczMzY5OTgsIC0yMTQ3NDYxMTY5LCAtMjE0NzQ3NTM1MiwgLTExNDg1NzIzNTQsIC0yMTQ2Mzg0MjgxLCAtMjE0NzM2MTczMSwgLTIxNDczMDQxOTMsIC0yMTQ3Mzg5OTMwLCAtMjE0NzM4NjI5MiwgLTE5NjI5MjgxNzgsIC0yMTQ3MzQ0Njg2LCAtMjE0NzQ0NzExMSwgLTIxNDc0NDcxMjIsIDk5ODgwNDk5MiwgLTEzNDgyMzk3MSwgLTIxNDc0NDc4NzMsIC0yMTQ3MzQ2NzQ3LCAtMjE0NjI4NjU4MywgLTIxNDczODk5NTEsIC0yMTMwMTY0Mzg4LCAxODQ1NTU0ODMsIC0yMTQ3Mzk0MTg4LCAxNjEwNjE4ODQxLCAtMTMzMjAyOTMzMiwgMjE0NzQ0MDQzOCwgMzUxNTEzLCAtMjE0NjQwMDM4NCwgLTIxNDYxODc3NjYsIC0xMTQ3MTYwMzk5LCAxMTk3MDc1LCA5OTg5MTEyNjgsIC0yMTQ3Mjk1ODQ5LCAtMjEzMDE2NDE2MiwgLTIxNDczODU4NDksIC0yMTMwMTY0NTQ2LCAtMTE0Nzc2NTI3NCwgLTEwNzM3MTkzMzEsIC0yMTQ2NDE3MDI3LCAtMjE0NzM2NTc2MCwgOTk5MTQ4NTk3LCAtMTg3ODExMTEyNCwgLTY3NzU1ODE2MCwgLTEzMzc1NzQ3NSwgLTIxNDcxMjgyNzUsIC0yMTQ3NDUzNzAxLCAtMjEzMDE3MjU3MywgLTExNDc0MTk3NTEsIC0yMTQ2NTI2Nzk1LCAtMjE0NjIzNjcwMywgLTIxNDc0MTA5NDEsIC0yMTQ3NDE1MDM3LCAtMjE0NTk3NDY1NywgLTIxNDczMDYzMjEsIC0yMTQ3Mzc4MTQ2LCAtMjE0NjIzNzAyMCwgLTIxNDU5NjY0MTQsIC0yMTQ3NDUzNzY4LCAtMjE0NzI5MTgyMCwgLTIxNDc0NzAxNzMsIC02Mzg0OTQ3NTUsIC0xMzQyMTU0Nzg3LCAtMjE0NzQ2NzE3MiwgLTIxNDU5NzQ0ODksIC0xMTQ3NjQzNzU5LCAtMjE0NzQ0Nzg5MiwgODM2MjUsIC0yMTQ2MjMyNTAzLCAtMjE0NzI5NTg1NywgLTIxNDYyNTM2NzEsIC0yMTQ3MzE2MzgyLCAtMjE0NzQyOTIyMywgLTIxNDczOTA0NjEsIC0yMTQ3MjkxNzE4LCAtMjE0NjUyNjkzNCwgLTIxNDc0NDcxMjYsIC0yMTQ2Mzg0MTIwLCAyMTY2NywgLTIxNDU5NzQ3MjksIC0yMTQ3MjkzMDU4LCAtMjE0NjI1MTYxOSwgMTA5OTUzNiwgLTIxNDcxNDI0MjksIC0yMTQ2Mzc5OTU1LCAtMjE0NzM2NTgyNywgLTIxNDY0MDA1NTYsIC0yMTQ3Mjk1NzY4LCAtMjE0NjI1MTY4MSwgLTE4NzgxMDI5MjEsIC0yMTQ1OTc0MzQzLCAyMTQ3NDc1MDg1LCAtMjE0NzM5NDI1MSwgLTIxNDYyMzI3MjMsIC0yMTQ3NDAwMDU3LCAtMjE0NzQxNDk1NiwgLTIxNDc0MzkwMjAsIC0yMTQ2MzE5MjY4LCAtMjE0NzQwNjc5OCwgLTExNDg2ODA1MDksIC0yMTQ2Mjc3MjE4LCAyMTQ2NTkwNzI4LCAtMjE0NjQwMDYyMCwgLTIxNDc0MTQ3MzMsIC0yMTQ2Mzc2MDY1LCAtMjE0NzM4NzM2NCwgLTIxNDczODYzMjYsIC0xOTYyODkzMzcwLCAtMjEzMDE2NDM4MiwgLTIxNDU5MzM2NDgsIC0yMTQ3NDQ3OTI4LCAtMjE0NzQ0ODU5MiwgLTIxNDU5NzQzODAsIC0yMTQ3MTMzNzQ3LCAtMjE0NTk0MTk3NywgLTIxNDc0MDc2NDMsIC0yMTQ3NDQ3MTU3LCAtMjE0NzMwMDAxOSwgMjE0NzQ3OTE4MSwgLTExNjQ4MDA0NzgsIC0yMTQ2MjMyMzM4LCAtMjE0NTk3NDYzNywgLTIxNDc0NTM3NjcsIC0yMTQ2NDAxOTI4LCAtMjE0NzM2NTczMCwgLTIxNDYzODQwMzQsIC0yMTQ3NDc1MzUxLCAtMjE0NjIzMjQ4MCwgLTIxNDYyMzY1ODgsIC0yMTQ3NDQ3ODk2LCAtMjE0NzI5NTgyMywgLTk5OTk4NzIxNiwgLTIxNDU5NjY0NDEsIC0yMTQ3MTM0OTc0LCAtMTE0NzQxOTc1MywgLTIxNDczOTQ0ODQsIC0xNjc0NjU0NiwgLTIxNDYyMzI3MjQsIC0xMTQ4MzM1MDcwLCAtMjE0NjIzMjU5MCwgLTIxNDYzOTg1NjgsIC0xMTY0ODAwMTkxLCAtMjE0NzQ2Njk1NiwgLTExNDc2NDM4NzIsIC0xMTQ4NzEzMjU5LCAtMTE0NzQyNzgyNiwgLTIxNDczNjU3NTksIC0yMTQ3MzM3MDEyLCAtMjE0NTk3MDY1OCwgLTIxNDcxMjU1NDQsIC0yMTQ3NDE0OTg3LCAtMjE0NzM3MzkxNCwgLTIxNDczNzM5ODQsIC0xMTQ3NDg4MTQ0LCAtNjcxMDgyNTQ2LCAtMjE0NzM2MTY1MiwgLTIxNDczNzQwODAsIC0yMTQ3Mjg3ODM1LCAtMjE0NTk3NDU5NiwgMTUwODk5OCwgLTIxNDczNzgwNDEsIC0yMTQ3Mzc0MDMyLCAtMjE0NzQxMDkzOCwgLTIxNDU5NTgyMjgsIC0yMTQ3MzM3MDIyLCAtMjE0NzM4MjEzMCwgLTIxNDcyODc4MTFdOw0KICAgICAgICAgICAgY29uc3Qgd2ViZ2xQYXJhbXMgPSAhZGF0YS5wYXJhbWV0ZXJzID8gdW5kZWZpbmVkIDogWw0KICAgICAgICAgICAgICAgIC4uLm5ldyBTZXQoT2JqZWN0LnZhbHVlcyhkYXRhLnBhcmFtZXRlcnMpDQogICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHZhbCkgPT4gdmFsICYmIHR5cGVvZiB2YWwgIT0gJ3N0cmluZycpDQogICAgICAgICAgICAgICAgICAgIC5mbGF0KCkNCiAgICAgICAgICAgICAgICAgICAgLm1hcCgodmFsKSA9PiBOdW1iZXIodmFsKSkpLA0KICAgICAgICAgICAgXS5zb3J0KChhLCBiKSA9PiAoYSAtIGIpKTsNCiAgICAgICAgICAgIGNvbnN0IGdwdUJyYW5kID0gZ2V0R3B1QnJhbmQoZGF0YS5wYXJhbWV0ZXJzPy5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCk7DQogICAgICAgICAgICBjb25zdCB3ZWJnbFBhcmFtc1N0ciA9ICcnICsgd2ViZ2xQYXJhbXM7DQogICAgICAgICAgICBjb25zdCB3ZWJnbEJyYW5kQ2FwYWJpbGl0aWVzID0gIWdwdUJyYW5kIHx8ICF3ZWJnbFBhcmFtc1N0ciA/IHVuZGVmaW5lZCA6IGhhc2hNaW5pKFtncHVCcmFuZCwgd2ViZ2xQYXJhbXNTdHJdKTsNCiAgICAgICAgICAgIGNvbnN0IHdlYmdsQ2FwYWJpbGl0aWVzID0gIXdlYmdsUGFyYW1zID8gdW5kZWZpbmVkIDogd2ViZ2xQYXJhbXMucmVkdWNlKChhY2MsIHZhbCwgaSkgPT4gYWNjIF4gKCt2YWwgKyBpKSwgMCk7DQogICAgICAgICAgICBBbmFseXNpcy53ZWJnbFBhcmFtcyA9IHdlYmdsUGFyYW1zU3RyOw0KICAgICAgICAgICAgQW5hbHlzaXMud2ViZ2xCcmFuZENhcGFiaWxpdGllcyA9IHdlYmdsQnJhbmRDYXBhYmlsaXRpZXM7DQogICAgICAgICAgICBBbmFseXNpcy53ZWJnbENhcGFiaWxpdGllcyA9IHdlYmdsQ2FwYWJpbGl0aWVzOw0KICAgICAgICAgICAgY29uc3QgaGFzU3VzR3B1ID0gd2ViZ2xCcmFuZENhcGFiaWxpdGllcyAmJiAhYnJhbmRDYXBhYmlsaXRpZXMuaW5jbHVkZXMod2ViZ2xCcmFuZENhcGFiaWxpdGllcyk7DQogICAgICAgICAgICBjb25zdCBoYXNTdXNDYXBhYmlsaXRpZXMgPSB3ZWJnbENhcGFiaWxpdGllcyAmJiAhY2FwYWJpbGl0aWVzLmluY2x1ZGVzKHdlYmdsQ2FwYWJpbGl0aWVzKTsNCiAgICAgICAgICAgIGlmIChoYXNTdXNHcHUpIHsNCiAgICAgICAgICAgICAgICBMb3dlckVudHJvcHkuV0VCR0wgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHNlbmRUb1RyYXNoKCdXZWJHTFJlbmRlcmluZ0NvbnRleHQuZ2V0UGFyYW1ldGVyJywgJ3N1c3BpY2lvdXMgZ3B1Jyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoaGFzU3VzQ2FwYWJpbGl0aWVzKSB7DQogICAgICAgICAgICAgICAgTG93ZXJFbnRyb3B5LldFQkdMID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBzZW5kVG9UcmFzaCgnV2ViR0xSZW5kZXJpbmdDb250ZXh0LmdldFBhcmFtZXRlcicsICdzdXNwaWNpb3VzIGNhcGFiaWxpdGllcycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbG9nVGVzdFJlc3VsdCh7IHRpbWU6IHRpbWVyLnN0b3AoKSwgdGVzdDogJ3dlYmdsJywgcGFzc2VkOiB0cnVlIH0pOw0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAuLi5kYXRhLA0KICAgICAgICAgICAgICAgIGdwdTogew0KICAgICAgICAgICAgICAgICAgICAuLi4oZ2V0V2ViR0xSZW5kZXJlckNvbmZpZGVuY2UoKGRhdGEucGFyYW1ldGVycyB8fCB7fSkuVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpIHx8IHt9KSwNCiAgICAgICAgICAgICAgICAgICAgY29tcHJlc3NlZEdQVTogY29tcHJlc3NXZWJHTFJlbmRlcmVyKChkYXRhLnBhcmFtZXRlcnMgfHwge30pLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfQ0KICAgICAgICBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0ZXN0OiAnd2ViZ2wnLCBwYXNzZWQ6IGZhbHNlIH0pOw0KICAgICAgICAgICAgY2FwdHVyZUVycm9yKGVycm9yKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXRXaW5kb3dGZWF0dXJlcygpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gY3JlYXRlVGltZXIoKTsNCiAgICAgICAgICAgIHRpbWVyLnN0YXJ0KCk7DQogICAgICAgICAgICBjb25zdCB3aW4gPSBQSEFOVE9NX0RBUktORVNTIHx8IHdpbmRvdzsNCiAgICAgICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luKQ0KICAgICAgICAgICAgICAgIC5maWx0ZXIoKGtleSkgPT4gIS9ffFxkezMsfS8udGVzdChrZXkpKTsgLy8gY2xlYXIgb3V0IGtub3duIGRkZyBub2lzZQ0KICAgICAgICAgICAgLy8gaWYgRmlyZWZveCwgcmVtb3ZlIHRoZSAnRXZlbnQnIGtleSBhbmQgcHVzaCB0byBlbmQgZm9yIGNvbnNpc3RlbnQgb3JkZXINCiAgICAgICAgICAgIC8vIGFuZCBkaXNyZWdhcmQga2V5cyBrbm93biB0byBiZSBtaXNzaW5nIGluIFJGUCBtb2RlDQogICAgICAgICAgICBjb25zdCBmaXJlZm94S2V5TW92ZWRCeUluc3BlY3QgPSAnRXZlbnQnOw0KICAgICAgICAgICAgY29uc3QgdmFyeWluZ0tleXNNaXNzaW5nSW5SRlAgPSBbJ1BlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZycsICdQZXJmb3JtYW5jZSddOw0KICAgICAgICAgICAgaWYgKElTX0dFQ0tPKSB7DQogICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBrZXlzLmluZGV4T2YoZmlyZWZveEtleU1vdmVkQnlJbnNwZWN0KTsNCiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAga2V5cyA9IGtleXMuc2xpY2UoMCwgaW5kZXgpLmNvbmNhdChrZXlzLnNsaWNlKGluZGV4ICsgMSkpOw0KICAgICAgICAgICAgICAgICAgICBrZXlzID0gWy4uLmtleXMsIGZpcmVmb3hLZXlNb3ZlZEJ5SW5zcGVjdF07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhcnlpbmdLZXlzTWlzc2luZ0luUkZQLmZvckVhY2goKGtleSkgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGtleXMuaW5kZXhPZihrZXkpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMgPSBrZXlzLnNsaWNlKDAsIGluZGV4KS5jb25jYXQoa2V5cy5zbGljZShpbmRleCArIDEpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5czsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IG1veiA9IGtleXMuZmlsdGVyKChrZXkpID0+ICgvbW96L2kpLnRlc3Qoa2V5KSkubGVuZ3RoOw0KICAgICAgICAgICAgY29uc3Qgd2Via2l0ID0ga2V5cy5maWx0ZXIoKGtleSkgPT4gKC93ZWJraXQvaSkudGVzdChrZXkpKS5sZW5ndGg7DQogICAgICAgICAgICBjb25zdCBhcHBsZSA9IGtleXMuZmlsdGVyKChrZXkpID0+ICgvYXBwbGUvaSkudGVzdChrZXkpKS5sZW5ndGg7DQogICAgICAgICAgICBjb25zdCBkYXRhID0geyBrZXlzLCBhcHBsZSwgbW96LCB3ZWJraXQgfTsNCiAgICAgICAgICAgIGxvZ1Rlc3RSZXN1bHQoeyB0aW1lOiB0aW1lci5zdG9wKCksIHRlc3Q6ICd3aW5kb3cnLCBwYXNzZWQ6IHRydWUgfSk7DQogICAgICAgICAgICByZXR1cm4geyAuLi5kYXRhIH07DQogICAgICAgIH0NCiAgICAgICAgY2F0Y2ggKGVycm9yKSB7DQogICAgICAgICAgICBsb2dUZXN0UmVzdWx0KHsgdGVzdDogJ3dpbmRvdycsIHBhc3NlZDogZmFsc2UgfSk7DQogICAgICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgfQoKICAgIC8qIGVzbGludC1kaXNhYmxlIGxpbmVicmVhay1zdHlsZSAqLw0KICAgIGNvbnN0IHZvb2RvbyA9IGFzeW5jIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgY29uc3Qgc2NvcGUgPSBhd2FpdCBzcGF3bldvcmtlcigpOw0KICAgICAgICBpZiAoc2NvcGUgPT0gMCAvKiBTY29wZS5XT1JLRVIgKi8pIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBhd2FpdCBxdWV1ZVRhc2soKTsNCiAgICAgICAgZ2V0U3RhY2tCeXRlcygpOw0KICAgICAgICBhd2FpdCBleGlsZSgpOw0KICAgICAgICBjb25zdCBpc0JyYXZlID0gSVNfQkxJTksgPyBhd2FpdCBicmF2ZUJyb3dzZXIoKSA6IGZhbHNlOw0KICAgICAgICBjb25zdCBicmF2ZU1vZGUgPSBpc0JyYXZlID8gZ2V0QnJhdmVNb2RlKCkgOiB7fTsNCiAgICAgICAgY29uc3QgYnJhdmVGaW5nZXJwcmludGluZ0Jsb2NraW5nID0gaXNCcmF2ZSAmJiAoYnJhdmVNb2RlLnN0YW5kYXJkIHx8IGJyYXZlTW9kZS5zdHJpY3QpOw0KICAgICAgICBjb25zdCBmaW5nZXJwcmludCA9IGFzeW5jICgpID0+IHsNCiAgICAgICAgICAgIGNvbnN0IHRpbWVTdGFydCA9IHRpbWVyKCk7DQogICAgICAgICAgICBjb25zdCBmaW5nZXJwcmludFRpbWVTdGFydCA9IHRpbWVyKCk7DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBbd29ya2VyU2NvcGVDb21wdXRlZCwgdm9pY2VzQ29tcHV0ZWQsIG9mZmxpbmVBdWRpb0NvbnRleHRDb21wdXRlZCwgY2FudmFzV2ViZ2xDb21wdXRlZCwgY2FudmFzMmRDb21wdXRlZCwgd2luZG93RmVhdHVyZXNDb21wdXRlZCwgaHRtbEVsZW1lbnRWZXJzaW9uQ29tcHV0ZWQsIGNzc0NvbXB1dGVkLCBjc3NNZWRpYUNvbXB1dGVkLCBzY3JlZW5Db21wdXRlZCwgbWF0aHNDb21wdXRlZCwgY29uc29sZUVycm9yc0NvbXB1dGVkLCB0aW1lem9uZUNvbXB1dGVkLCBjbGllbnRSZWN0c0NvbXB1dGVkLCBmb250c0NvbXB1dGVkLCBtZWRpYUNvbXB1dGVkLCBzdmdDb21wdXRlZCwgcmVzaXN0YW5jZUNvbXB1dGVkLCBpbnRsQ29tcHV0ZWQsXSA9IGF3YWl0IFByb21pc2UuYWxsKFsNCiAgICAgICAgICAgICAgICBnZXRCZXN0V29ya2VyU2NvcGUoKSwNCiAgICAgICAgICAgICAgICBnZXRWb2ljZXMoKSwNCiAgICAgICAgICAgICAgICBnZXRPZmZsaW5lQXVkaW9Db250ZXh0KCksDQogICAgICAgICAgICAgICAgZ2V0Q2FudmFzV2ViZ2woKSwNCiAgICAgICAgICAgICAgICBnZXRDYW52YXMyZCgpLA0KICAgICAgICAgICAgICAgIGdldFdpbmRvd0ZlYXR1cmVzKCksDQogICAgICAgICAgICAgICAgZ2V0SFRNTEVsZW1lbnRWZXJzaW9uKCksDQogICAgICAgICAgICAgICAgZ2V0Q1NTKCksDQogICAgICAgICAgICAgICAgZ2V0Q1NTTWVkaWEoKSwNCiAgICAgICAgICAgICAgICBnZXRTY3JlZW4oKSwNCiAgICAgICAgICAgICAgICBnZXRNYXRocygpLA0KICAgICAgICAgICAgICAgIGdldENvbnNvbGVFcnJvcnMoKSwNCiAgICAgICAgICAgICAgICBnZXRUaW1lem9uZSgpLA0KICAgICAgICAgICAgICAgIGdldENsaWVudFJlY3RzKCksDQogICAgICAgICAgICAgICAgZ2V0Rm9udHMoKSwNCiAgICAgICAgICAgICAgICBnZXRNZWRpYSgpLA0KICAgICAgICAgICAgICAgIGdldFNWRygpLA0KICAgICAgICAgICAgICAgIGdldFJlc2lzdGFuY2UoKSwNCiAgICAgICAgICAgICAgICBnZXRJbnRsKCksDQogICAgICAgICAgICBdKS5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSkpOw0KICAgICAgICAgICAgY29uc3QgbmF2aWdhdG9yQ29tcHV0ZWQgPSBhd2FpdCBnZXROYXZpZ2F0b3Iod29ya2VyU2NvcGVDb21wdXRlZCkNCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UpKTsNCiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUNCiAgICAgICAgICAgIGNvbnN0IFtoZWFkbGVzc0NvbXB1dGVkLCBmZWF0dXJlc0NvbXB1dGVkLF0gPSBhd2FpdCBQcm9taXNlLmFsbChbDQogICAgICAgICAgICAgICAgZ2V0SGVhZGxlc3NGZWF0dXJlcyh7DQogICAgICAgICAgICAgICAgICAgIHdlYmdsOiBjYW52YXNXZWJnbENvbXB1dGVkLA0KICAgICAgICAgICAgICAgICAgICB3b3JrZXJTY29wZTogd29ya2VyU2NvcGVDb21wdXRlZCwNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBnZXRFbmdpbmVGZWF0dXJlcyh7DQogICAgICAgICAgICAgICAgICAgIGNzc0NvbXB1dGVkLA0KICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3JDb21wdXRlZCwNCiAgICAgICAgICAgICAgICAgICAgd2luZG93RmVhdHVyZXNDb21wdXRlZCwNCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIF0pLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKSk7DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBbbGllc0NvbXB1dGVkLCB0cmFzaENvbXB1dGVkLCBjYXB0dXJlZEVycm9yc0NvbXB1dGVkLF0gPSBhd2FpdCBQcm9taXNlLmFsbChbDQogICAgICAgICAgICAgICAgZ2V0TGllcygpLA0KICAgICAgICAgICAgICAgIGdldFRyYXNoKCksDQogICAgICAgICAgICAgICAgZ2V0Q2FwdHVyZWRFcnJvcnMoKSwNCiAgICAgICAgICAgIF0pLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKSk7DQogICAgICAgICAgICBmaW5nZXJwcmludFRpbWVTdGFydCgpOw0KICAgICAgICAgICAgLy8gR1BVIFByZWRpY3Rpb24NCiAgICAgICAgICAgIGNvbnN0IHsgcGFyYW1ldGVyczogZ3B1UGFyYW1ldGVyIH0gPSBjYW52YXNXZWJnbENvbXB1dGVkIHx8IHt9Ow0KICAgICAgICAgICAgY29uc3QgcmVkdWNlZEdQVVBhcmFtZXRlcnMgPSB7DQogICAgICAgICAgICAgICAgLi4uKGJyYXZlRmluZ2VycHJpbnRpbmdCbG9ja2luZyA/IGdldEJyYXZlVW5wcm90ZWN0ZWRQYXJhbWV0ZXJzKGdwdVBhcmFtZXRlcikgOg0KICAgICAgICAgICAgICAgICAgICBncHVQYXJhbWV0ZXIpLA0KICAgICAgICAgICAgICAgIFJFTkRFUkVSOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgU0hBRElOR19MQU5HVUFHRV9WRVJTSU9OOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgVU5NQVNLRURfUkVOREVSRVJfV0VCR0w6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICBVTk1BU0tFRF9WRU5ET1JfV0VCR0w6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICBWRVJTSU9OOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgVkVORE9SOiB1bmRlZmluZWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgLy8gSGFzaGluZw0KICAgICAgICAgICAgY29uc3QgaGFzaFN0YXJ0VGltZSA9IHRpbWVyKCk7DQogICAgICAgICAgICAvLyBAdHMtaWdub3JlDQogICAgICAgICAgICBjb25zdCBbd2luZG93SGFzaCwgaGVhZGxlc3NIYXNoLCBodG1sSGFzaCwgY3NzTWVkaWFIYXNoLCBjc3NIYXNoLCBzdHlsZUhhc2gsIHN0eWxlU3lzdGVtSGFzaCwgc2NyZWVuSGFzaCwgdm9pY2VzSGFzaCwgY2FudmFzMmRIYXNoLCBjYW52YXMyZEltYWdlSGFzaCwgY2FudmFzMmRQYWludEhhc2gsIGNhbnZhczJkVGV4dEhhc2gsIGNhbnZhczJkRW1vamlIYXNoLCBjYW52YXNXZWJnbEhhc2gsIGNhbnZhc1dlYmdsSW1hZ2VIYXNoLCBjYW52YXNXZWJnbFBhcmFtZXRlcnNIYXNoLCBwaXhlbHNIYXNoLCBwaXhlbHMySGFzaCwgbWF0aHNIYXNoLCBjb25zb2xlRXJyb3JzSGFzaCwgdGltZXpvbmVIYXNoLCByZWN0c0hhc2gsIGRvbVJlY3RIYXNoLCBhdWRpb0hhc2gsIGZvbnRzSGFzaCwgd29ya2VySGFzaCwgbWVkaWFIYXNoLCBtaW1lVHlwZXNIYXNoLCBuYXZpZ2F0b3JIYXNoLCBsaWVzSGFzaCwgdHJhc2hIYXNoLCBlcnJvcnNIYXNoLCBzdmdIYXNoLCByZXNpc3RhbmNlSGFzaCwgaW50bEhhc2gsIGZlYXR1cmVzSGFzaCwgZGV2aWNlT2ZUaW1lem9uZUhhc2gsXSA9IGF3YWl0IFByb21pc2UuYWxsKFsNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KHdpbmRvd0ZlYXR1cmVzQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoaGVhZGxlc3NDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeSgoaHRtbEVsZW1lbnRWZXJzaW9uQ29tcHV0ZWQgfHwge30pLmtleXMpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoY3NzTWVkaWFDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeShjc3NDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeSgoY3NzQ29tcHV0ZWQgfHwge30pLmNvbXB1dGVkU3R5bGUpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoKGNzc0NvbXB1dGVkIHx8IHt9KS5zeXN0ZW0pLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoc2NyZWVuQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkodm9pY2VzQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoY2FudmFzMmRDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeSgoY2FudmFzMmRDb21wdXRlZCB8fCB7fSkuZGF0YVVSSSksDQogICAgICAgICAgICAgICAgaGFzaGlmeSgoY2FudmFzMmRDb21wdXRlZCB8fCB7fSkucGFpbnRVUkkpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoKGNhbnZhczJkQ29tcHV0ZWQgfHwge30pLnRleHRVUkkpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoKGNhbnZhczJkQ29tcHV0ZWQgfHwge30pLmVtb2ppVVJJKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KGNhbnZhc1dlYmdsQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoKGNhbnZhc1dlYmdsQ29tcHV0ZWQgfHwge30pLmRhdGFVUkkpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkocmVkdWNlZEdQVVBhcmFtZXRlcnMpLA0KICAgICAgICAgICAgICAgICgoY2FudmFzV2ViZ2xDb21wdXRlZCB8fCB7fSkucGl4ZWxzIHx8IFtdKS5sZW5ndGggPyBoYXNoaWZ5KGNhbnZhc1dlYmdsQ29tcHV0ZWQucGl4ZWxzKSA6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICAoKGNhbnZhc1dlYmdsQ29tcHV0ZWQgfHwge30pLnBpeGVsczIgfHwgW10pLmxlbmd0aCA/IGhhc2hpZnkoY2FudmFzV2ViZ2xDb21wdXRlZC5waXhlbHMyKSA6IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KChtYXRoc0NvbXB1dGVkIHx8IHt9KS5kYXRhKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KChjb25zb2xlRXJyb3JzQ29tcHV0ZWQgfHwge30pLmVycm9ycyksDQogICAgICAgICAgICAgICAgaGFzaGlmeSh0aW1lem9uZUNvbXB1dGVkKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KGNsaWVudFJlY3RzQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoWw0KICAgICAgICAgICAgICAgICAgICAoY2xpZW50UmVjdHNDb21wdXRlZCB8fCB7fSkuZWxlbWVudEJvdW5kaW5nQ2xpZW50UmVjdCwNCiAgICAgICAgICAgICAgICAgICAgKGNsaWVudFJlY3RzQ29tcHV0ZWQgfHwge30pLmVsZW1lbnRDbGllbnRSZWN0cywNCiAgICAgICAgICAgICAgICAgICAgKGNsaWVudFJlY3RzQ29tcHV0ZWQgfHwge30pLnJhbmdlQm91bmRpbmdDbGllbnRSZWN0LA0KICAgICAgICAgICAgICAgICAgICAoY2xpZW50UmVjdHNDb21wdXRlZCB8fCB7fSkucmFuZ2VDbGllbnRSZWN0cywNCiAgICAgICAgICAgICAgICBdKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KG9mZmxpbmVBdWRpb0NvbnRleHRDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeShmb250c0NvbXB1dGVkKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KHdvcmtlclNjb3BlQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkobWVkaWFDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeSgobWVkaWFDb21wdXRlZCB8fCB7fSkubWltZVR5cGVzKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KG5hdmlnYXRvckNvbXB1dGVkKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KGxpZXNDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeSh0cmFzaENvbXB1dGVkKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KGNhcHR1cmVkRXJyb3JzQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkoc3ZnQ29tcHV0ZWQpLA0KICAgICAgICAgICAgICAgIGhhc2hpZnkocmVzaXN0YW5jZUNvbXB1dGVkKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KGludGxDb21wdXRlZCksDQogICAgICAgICAgICAgICAgaGFzaGlmeShmZWF0dXJlc0NvbXB1dGVkKSwNCiAgICAgICAgICAgICAgICBoYXNoaWZ5KCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYmx1ZXRvb3RoQXZhaWxhYmlsaXR5LCBkZXZpY2UsIGRldmljZU1lbW9yeSwgaGFyZHdhcmVDb25jdXJyZW5jeSwgbWF4VG91Y2hQb2ludHMsIG9zY3B1LCBwbGF0Zm9ybSwgc3lzdGVtLCB1c2VyQWdlbnREYXRhLCB9ID0gbmF2aWdhdG9yQ29tcHV0ZWQgfHwge307DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYXJjaGl0ZWN0dXJlLCBiaXRuZXNzLCBtb2JpbGUsIG1vZGVsLCBwbGF0Zm9ybTogdWFQbGF0Zm9ybSwgcGxhdGZvcm1WZXJzaW9uLCB9ID0gdXNlckFnZW50RGF0YSB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBhbnlQb2ludGVyIH0gPSBjc3NNZWRpYUNvbXB1dGVkIHx8IHt9Ow0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvbG9yRGVwdGgsIHBpeGVsRGVwdGgsIGhlaWdodCwgd2lkdGggfSA9IHNjcmVlbkNvbXB1dGVkIHx8IHt9Ow0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGxvY2F0aW9uLCBsb2NhdGlvbkVwb2NoLCB6b25lIH0gPSB0aW1lem9uZUNvbXB1dGVkIHx8IHt9Ow0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRldmljZU1lbW9yeTogZGV2aWNlTWVtb3J5V29ya2VyLCBoYXJkd2FyZUNvbmN1cnJlbmN5OiBoYXJkd2FyZUNvbmN1cnJlbmN5V29ya2VyLCBncHUsIHBsYXRmb3JtOiBwbGF0Zm9ybVdvcmtlciwgc3lzdGVtOiBzeXN0ZW1Xb3JrZXIsIHRpbWV6b25lTG9jYXRpb246IGxvY2F0aW9uV29ya2VyLCB1c2VyQWdlbnREYXRhOiB1c2VyQWdlbnREYXRhV29ya2VyLCB9ID0gd29ya2VyU2NvcGVDb21wdXRlZCB8fCB7fTsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjb21wcmVzc2VkR1BVLCBjb25maWRlbmNlIH0gPSBncHUgfHwge307DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYXJjaGl0ZWN0dXJlOiBhcmNoaXRlY3R1cmVXb3JrZXIsIGJpdG5lc3M6IGJpdG5lc3NXb3JrZXIsIG1vYmlsZTogbW9iaWxlV29ya2VyLCBtb2RlbDogbW9kZWxXb3JrZXIsIHBsYXRmb3JtOiB1YVBsYXRmb3JtV29ya2VyLCBwbGF0Zm9ybVZlcnNpb246IHBsYXRmb3JtVmVyc2lvbldvcmtlciwgfSA9IHVzZXJBZ2VudERhdGFXb3JrZXIgfHwge307DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBbDQogICAgICAgICAgICAgICAgICAgICAgICBhbnlQb2ludGVyLA0KICAgICAgICAgICAgICAgICAgICAgICAgYXJjaGl0ZWN0dXJlLA0KICAgICAgICAgICAgICAgICAgICAgICAgYXJjaGl0ZWN0dXJlV29ya2VyLA0KICAgICAgICAgICAgICAgICAgICAgICAgYml0bmVzcywNCiAgICAgICAgICAgICAgICAgICAgICAgIGJpdG5lc3NXb3JrZXIsDQogICAgICAgICAgICAgICAgICAgICAgICBibHVldG9vdGhBdmFpbGFiaWxpdHksDQogICAgICAgICAgICAgICAgICAgICAgICBjb2xvckRlcHRoLA0KICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGNvbXByZXNzZWRHUFUgJiYgY29uZmlkZW5jZSAhPSAnbG93JyA/IFtjb21wcmVzc2VkR1BVXSA6IFtdKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZU1lbW9yeSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZU1lbW9yeVdvcmtlciwNCiAgICAgICAgICAgICAgICAgICAgICAgIGhhcmR3YXJlQ29uY3VycmVuY3ksDQogICAgICAgICAgICAgICAgICAgICAgICBoYXJkd2FyZUNvbmN1cnJlbmN5V29ya2VyLA0KICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LA0KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24sDQogICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbldvcmtlciwNCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uRXBvY2gsDQogICAgICAgICAgICAgICAgICAgICAgICBtYXhUb3VjaFBvaW50cywNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vYmlsZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vYmlsZVdvcmtlciwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLA0KICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxXb3JrZXIsDQogICAgICAgICAgICAgICAgICAgICAgICBvc2NwdSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsRGVwdGgsDQogICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtV29ya2VyLA0KICAgICAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm1WZXJzaW9uLA0KICAgICAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm1WZXJzaW9uV29ya2VyLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtV29ya2VyLA0KICAgICAgICAgICAgICAgICAgICAgICAgdWFQbGF0Zm9ybSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHVhUGxhdGZvcm1Xb3JrZXIsDQogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUsDQogICAgICAgICAgICAgICAgICAgIF07DQogICAgICAgICAgICAgICAgfSkoKSksDQogICAgICAgICAgICBdKS5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSkpOw0KICAgICAgICAgICAgaGFzaFN0YXJ0VGltZSgpOw0KICAgICAgICAgICAgY29uc3QgdGltZUVuZCA9IHRpbWVTdGFydCgpOw0KICAgICAgICAgICAgaWYgKFBBUkVOVF9QSEFOVE9NKSB7DQogICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQ0KICAgICAgICAgICAgICAgIFBBUkVOVF9QSEFOVE9NLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoUEFSRU5UX1BIQU5UT00pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc3QgZmluZ2VycHJpbnQgPSB7DQogICAgICAgICAgICAgICAgd29ya2VyU2NvcGU6ICF3b3JrZXJTY29wZUNvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi53b3JrZXJTY29wZUNvbXB1dGVkLCAkaGFzaDogd29ya2VySGFzaCB9LA0KICAgICAgICAgICAgICAgIG5hdmlnYXRvcjogIW5hdmlnYXRvckNvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5uYXZpZ2F0b3JDb21wdXRlZCwgJGhhc2g6IG5hdmlnYXRvckhhc2ggfSwNCiAgICAgICAgICAgICAgICB3aW5kb3dGZWF0dXJlczogIXdpbmRvd0ZlYXR1cmVzQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLndpbmRvd0ZlYXR1cmVzQ29tcHV0ZWQsICRoYXNoOiB3aW5kb3dIYXNoIH0sDQogICAgICAgICAgICAgICAgaGVhZGxlc3M6ICFoZWFkbGVzc0NvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5oZWFkbGVzc0NvbXB1dGVkLCAkaGFzaDogaGVhZGxlc3NIYXNoIH0sDQogICAgICAgICAgICAgICAgaHRtbEVsZW1lbnRWZXJzaW9uOiAhaHRtbEVsZW1lbnRWZXJzaW9uQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLmh0bWxFbGVtZW50VmVyc2lvbkNvbXB1dGVkLCAkaGFzaDogaHRtbEhhc2ggfSwNCiAgICAgICAgICAgICAgICBjc3NNZWRpYTogIWNzc01lZGlhQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLmNzc01lZGlhQ29tcHV0ZWQsICRoYXNoOiBjc3NNZWRpYUhhc2ggfSwNCiAgICAgICAgICAgICAgICBjc3M6ICFjc3NDb21wdXRlZCA/IHVuZGVmaW5lZCA6IHsgLi4uY3NzQ29tcHV0ZWQsICRoYXNoOiBjc3NIYXNoIH0sDQogICAgICAgICAgICAgICAgc2NyZWVuOiAhc2NyZWVuQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLnNjcmVlbkNvbXB1dGVkLCAkaGFzaDogc2NyZWVuSGFzaCB9LA0KICAgICAgICAgICAgICAgIHZvaWNlczogIXZvaWNlc0NvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi52b2ljZXNDb21wdXRlZCwgJGhhc2g6IHZvaWNlc0hhc2ggfSwNCiAgICAgICAgICAgICAgICBtZWRpYTogIW1lZGlhQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLm1lZGlhQ29tcHV0ZWQsICRoYXNoOiBtZWRpYUhhc2ggfSwNCiAgICAgICAgICAgICAgICBjYW52YXMyZDogIWNhbnZhczJkQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLmNhbnZhczJkQ29tcHV0ZWQsICRoYXNoOiBjYW52YXMyZEhhc2ggfSwNCiAgICAgICAgICAgICAgICBjYW52YXNXZWJnbDogIWNhbnZhc1dlYmdsQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLmNhbnZhc1dlYmdsQ29tcHV0ZWQsIHBpeGVsczogcGl4ZWxzSGFzaCwgcGl4ZWxzMjogcGl4ZWxzMkhhc2gsICRoYXNoOiBjYW52YXNXZWJnbEhhc2ggfSwNCiAgICAgICAgICAgICAgICBtYXRoczogIW1hdGhzQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLm1hdGhzQ29tcHV0ZWQsICRoYXNoOiBtYXRoc0hhc2ggfSwNCiAgICAgICAgICAgICAgICBjb25zb2xlRXJyb3JzOiAhY29uc29sZUVycm9yc0NvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5jb25zb2xlRXJyb3JzQ29tcHV0ZWQsICRoYXNoOiBjb25zb2xlRXJyb3JzSGFzaCB9LA0KICAgICAgICAgICAgICAgIHRpbWV6b25lOiAhdGltZXpvbmVDb21wdXRlZCA/IHVuZGVmaW5lZCA6IHsgLi4udGltZXpvbmVDb21wdXRlZCwgJGhhc2g6IHRpbWV6b25lSGFzaCB9LA0KICAgICAgICAgICAgICAgIGNsaWVudFJlY3RzOiAhY2xpZW50UmVjdHNDb21wdXRlZCA/IHVuZGVmaW5lZCA6IHsgLi4uY2xpZW50UmVjdHNDb21wdXRlZCwgJGhhc2g6IHJlY3RzSGFzaCB9LA0KICAgICAgICAgICAgICAgIG9mZmxpbmVBdWRpb0NvbnRleHQ6ICFvZmZsaW5lQXVkaW9Db250ZXh0Q29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLm9mZmxpbmVBdWRpb0NvbnRleHRDb21wdXRlZCwgJGhhc2g6IGF1ZGlvSGFzaCB9LA0KICAgICAgICAgICAgICAgIGZvbnRzOiAhZm9udHNDb21wdXRlZCA/IHVuZGVmaW5lZCA6IHsgLi4uZm9udHNDb21wdXRlZCwgJGhhc2g6IGZvbnRzSGFzaCB9LA0KICAgICAgICAgICAgICAgIGxpZXM6ICFsaWVzQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLmxpZXNDb21wdXRlZCwgJGhhc2g6IGxpZXNIYXNoIH0sDQogICAgICAgICAgICAgICAgdHJhc2g6ICF0cmFzaENvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi50cmFzaENvbXB1dGVkLCAkaGFzaDogdHJhc2hIYXNoIH0sDQogICAgICAgICAgICAgICAgY2FwdHVyZWRFcnJvcnM6ICFjYXB0dXJlZEVycm9yc0NvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5jYXB0dXJlZEVycm9yc0NvbXB1dGVkLCAkaGFzaDogZXJyb3JzSGFzaCB9LA0KICAgICAgICAgICAgICAgIHN2ZzogIXN2Z0NvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5zdmdDb21wdXRlZCwgJGhhc2g6IHN2Z0hhc2ggfSwNCiAgICAgICAgICAgICAgICByZXNpc3RhbmNlOiAhcmVzaXN0YW5jZUNvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5yZXNpc3RhbmNlQ29tcHV0ZWQsICRoYXNoOiByZXNpc3RhbmNlSGFzaCB9LA0KICAgICAgICAgICAgICAgIGludGw6ICFpbnRsQ29tcHV0ZWQgPyB1bmRlZmluZWQgOiB7IC4uLmludGxDb21wdXRlZCwgJGhhc2g6IGludGxIYXNoIH0sDQogICAgICAgICAgICAgICAgZmVhdHVyZXM6ICFmZWF0dXJlc0NvbXB1dGVkID8gdW5kZWZpbmVkIDogeyAuLi5mZWF0dXJlc0NvbXB1dGVkLCAkaGFzaDogZmVhdHVyZXNIYXNoIH0sDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICBmaW5nZXJwcmludCwNCiAgICAgICAgICAgICAgICBzdHlsZVN5c3RlbUhhc2gsDQogICAgICAgICAgICAgICAgc3R5bGVIYXNoLA0KICAgICAgICAgICAgICAgIGRvbVJlY3RIYXNoLA0KICAgICAgICAgICAgICAgIG1pbWVUeXBlc0hhc2gsDQogICAgICAgICAgICAgICAgY2FudmFzMmRJbWFnZUhhc2gsDQogICAgICAgICAgICAgICAgY2FudmFzV2ViZ2xJbWFnZUhhc2gsDQogICAgICAgICAgICAgICAgY2FudmFzMmRQYWludEhhc2gsDQogICAgICAgICAgICAgICAgY2FudmFzMmRUZXh0SGFzaCwNCiAgICAgICAgICAgICAgICBjYW52YXMyZEVtb2ppSGFzaCwNCiAgICAgICAgICAgICAgICBjYW52YXNXZWJnbFBhcmFtZXRlcnNIYXNoLA0KICAgICAgICAgICAgICAgIGRldmljZU9mVGltZXpvbmVIYXNoLA0KICAgICAgICAgICAgICAgIHRpbWVFbmQsDQogICAgICAgICAgICB9Ow0KICAgICAgICB9Ow0KICAgICAgICAvLyBmaW5nZXJwcmludCBhbmQgcmVuZGVyDQogICAgICAgIGNvbnN0IHsgZmluZ2VycHJpbnQ6IGZwLCBzdHlsZVN5c3RlbUhhc2gsIHN0eWxlSGFzaCwgZG9tUmVjdEhhc2gsIG1pbWVUeXBlc0hhc2gsIGNhbnZhczJkSW1hZ2VIYXNoLCBjYW52YXMyZFBhaW50SGFzaCwgY2FudmFzMmRUZXh0SGFzaCwgY2FudmFzMmRFbW9qaUhhc2gsIGNhbnZhc1dlYmdsSW1hZ2VIYXNoLCBjYW52YXNXZWJnbFBhcmFtZXRlcnNIYXNoLCBkZXZpY2VPZlRpbWV6b25lSGFzaCwgdGltZUVuZCwgfSA9IGF3YWl0IGZpbmdlcnByaW50KCkuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKGVycm9yKSkgfHwge307DQogICAgICAgIGlmICghZnApIHsNCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmluZ2VycHJpbnQgZmFpbGVkIScpOw0KICAgICAgICB9DQogICAgICAgICsoZnAuY2FudmFzMmQ/LnRleHRNZXRyaWNzU3lzdGVtU3VtKSB8fCAwOw0KICAgICAgICAvLyBUcnVzdGVkIEZpbmdlcnByaW50DQogICAgICAgIGZwLnRyYXNoLnRyYXNoQmluLmxlbmd0aDsNCiAgICAgICAgISgndG90YWxMaWVzJyBpbiBmcC5saWVzKSA/IDAgOiBmcC5saWVzLnRvdGFsTGllczsNCiAgICAgICAgZnAuY2FwdHVyZWRFcnJvcnMuZGF0YS5sZW5ndGg7DQogICAgICAgIGNvbnN0IGhhcmRlbkVudHJvcHkgPSAod29ya2VyU2NvcGUsIHByb3ApID0+IHsNCiAgICAgICAgICAgIHJldHVybiAoIXdvcmtlclNjb3BlID8gcHJvcCA6DQogICAgICAgICAgICAgICAgKHdvcmtlclNjb3BlLmxvY2FsZUVudHJvcHlJc1RydXN0eSAmJiB3b3JrZXJTY29wZS5sb2NhbGVJbnRsRW50cm9weUlzVHJ1c3R5KSA/IHByb3AgOg0KICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQpOw0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCBwcml2YWN5UmVzaXN0RmluZ2VycHJpbnRpbmcgPSAoZnAucmVzaXN0YW5jZSAmJiAvXih0b3IgYnJvd3NlcnxmaXJlZm94KSQvaS50ZXN0KGZwLnJlc2lzdGFuY2UucHJpdmFjeSkpOw0KICAgICAgICAvLyBoYXJkZW4gZ3B1DQogICAgICAgIGNvbnN0IGhhcmRlbkdQVSA9IChjYW52YXNXZWJnbCkgPT4gew0KICAgICAgICAgICAgY29uc3QgeyBncHU6IHsgY29uZmlkZW5jZSwgY29tcHJlc3NlZEdQVSB9IH0gPSBjYW52YXNXZWJnbDsNCiAgICAgICAgICAgIHJldHVybiAoY29uZmlkZW5jZSA9PSAnbG93JyA/IHt9IDogew0KICAgICAgICAgICAgICAgIFVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMOiBjb21wcmVzc2VkR1BVLA0KICAgICAgICAgICAgICAgIFVOTUFTS0VEX1ZFTkRPUl9XRUJHTDogY2FudmFzV2ViZ2wucGFyYW1ldGVycy5VTk1BU0tFRF9WRU5ET1JfV0VCR0wsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgY3JlZXAgPSB7DQogICAgICAgICAgICBuYXZpZ2F0b3I6ICghZnAubmF2aWdhdG9yIHx8IGZwLm5hdmlnYXRvci5saWVkID8gdW5kZWZpbmVkIDogew0KICAgICAgICAgICAgICAgIGJsdWV0b290aEF2YWlsYWJpbGl0eTogZnAubmF2aWdhdG9yLmJsdWV0b290aEF2YWlsYWJpbGl0eSwNCiAgICAgICAgICAgICAgICBkZXZpY2U6IGZwLm5hdmlnYXRvci5kZXZpY2UsDQogICAgICAgICAgICAgICAgZGV2aWNlTWVtb3J5OiBmcC5uYXZpZ2F0b3IuZGV2aWNlTWVtb3J5LA0KICAgICAgICAgICAgICAgIGhhcmR3YXJlQ29uY3VycmVuY3k6IGZwLm5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5LA0KICAgICAgICAgICAgICAgIG1heFRvdWNoUG9pbnRzOiBmcC5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMsDQogICAgICAgICAgICAgICAgb3NjcHU6IGZwLm5hdmlnYXRvci5vc2NwdSwNCiAgICAgICAgICAgICAgICBwbGF0Zm9ybTogZnAubmF2aWdhdG9yLnBsYXRmb3JtLA0KICAgICAgICAgICAgICAgIHN5c3RlbTogZnAubmF2aWdhdG9yLnN5c3RlbSwNCiAgICAgICAgICAgICAgICB1c2VyQWdlbnREYXRhOiB7DQogICAgICAgICAgICAgICAgICAgIC4uLihmcC5uYXZpZ2F0b3IudXNlckFnZW50RGF0YSB8fCB7fSksDQogICAgICAgICAgICAgICAgICAgIC8vIGxvb3NlDQogICAgICAgICAgICAgICAgICAgIGJyYW5kc1ZlcnNpb246IHVuZGVmaW5lZCwNCiAgICAgICAgICAgICAgICAgICAgdWFGdWxsVmVyc2lvbjogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdmVuZG9yOiBmcC5uYXZpZ2F0b3IudmVuZG9yLA0KICAgICAgICAgICAgfSksDQogICAgICAgICAgICBzY3JlZW46ICghZnAuc2NyZWVuIHx8IGZwLnNjcmVlbi5saWVkIHx8IHByaXZhY3lSZXNpc3RGaW5nZXJwcmludGluZyB8fCBMb3dlckVudHJvcHkuU0NSRUVOID8gdW5kZWZpbmVkIDoNCiAgICAgICAgICAgICAgICBoYXJkZW5FbnRyb3B5KGZwLndvcmtlclNjb3BlLCB7DQogICAgICAgICAgICAgICAgICAgIGhlaWdodDogZnAuc2NyZWVuLmhlaWdodCwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGZwLnNjcmVlbi53aWR0aCwNCiAgICAgICAgICAgICAgICAgICAgcGl4ZWxEZXB0aDogZnAuc2NyZWVuLnBpeGVsRGVwdGgsDQogICAgICAgICAgICAgICAgICAgIGNvbG9yRGVwdGg6IGZwLnNjcmVlbi5jb2xvckRlcHRoLA0KICAgICAgICAgICAgICAgICAgICBsaWVkOiBmcC5zY3JlZW4ubGllZCwNCiAgICAgICAgICAgICAgICB9KSksDQogICAgICAgICAgICB3b3JrZXJTY29wZTogIWZwLndvcmtlclNjb3BlIHx8IGZwLndvcmtlclNjb3BlLmxpZWQgPyB1bmRlZmluZWQgOiB7DQogICAgICAgICAgICAgICAgZGV2aWNlTWVtb3J5OiAoYnJhdmVGaW5nZXJwcmludGluZ0Jsb2NraW5nID8gdW5kZWZpbmVkIDogZnAud29ya2VyU2NvcGUuZGV2aWNlTWVtb3J5KSwNCiAgICAgICAgICAgICAgICBoYXJkd2FyZUNvbmN1cnJlbmN5OiAoYnJhdmVGaW5nZXJwcmludGluZ0Jsb2NraW5nID8gdW5kZWZpbmVkIDogZnAud29ya2VyU2NvcGUuaGFyZHdhcmVDb25jdXJyZW5jeSksDQogICAgICAgICAgICAgICAgLy8gc3lzdGVtIGxvY2FsZSBpbiBibGluaw0KICAgICAgICAgICAgICAgIGxhbmd1YWdlOiAhTG93ZXJFbnRyb3B5LlRJTUVfWk9ORSA/IGZwLndvcmtlclNjb3BlLmxhbmd1YWdlIDogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBmcC53b3JrZXJTY29wZS5wbGF0Zm9ybSwNCiAgICAgICAgICAgICAgICBzeXN0ZW06IGZwLndvcmtlclNjb3BlLnN5c3RlbSwNCiAgICAgICAgICAgICAgICBkZXZpY2U6IGZwLndvcmtlclNjb3BlLmRldmljZSwNCiAgICAgICAgICAgICAgICB0aW1lem9uZUxvY2F0aW9uOiAoIUxvd2VyRW50cm9weS5USU1FX1pPTkUgPw0KICAgICAgICAgICAgICAgICAgICBoYXJkZW5FbnRyb3B5KGZwLndvcmtlclNjb3BlLCBmcC53b3JrZXJTY29wZS50aW1lem9uZUxvY2F0aW9uKSA6DQogICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCksDQogICAgICAgICAgICAgICAgd2ViZ2xSZW5kZXJlcjogKChmcC53b3JrZXJTY29wZS5ncHUuY29uZmlkZW5jZSAhPSAnbG93JykgPyBmcC53b3JrZXJTY29wZS5ncHUuY29tcHJlc3NlZEdQVSA6IHVuZGVmaW5lZCksDQogICAgICAgICAgICAgICAgd2ViZ2xWZW5kb3I6ICgoZnAud29ya2VyU2NvcGUuZ3B1LmNvbmZpZGVuY2UgIT0gJ2xvdycpID8gZnAud29ya2VyU2NvcGUud2ViZ2xWZW5kb3IgOiB1bmRlZmluZWQpLA0KICAgICAgICAgICAgICAgIHVzZXJBZ2VudERhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgLi4uZnAud29ya2VyU2NvcGUudXNlckFnZW50RGF0YSwNCiAgICAgICAgICAgICAgICAgICAgLy8gbG9vc2UNCiAgICAgICAgICAgICAgICAgICAgYnJhbmRzVmVyc2lvbjogdW5kZWZpbmVkLA0KICAgICAgICAgICAgICAgICAgICB1YUZ1bGxWZXJzaW9uOiB1bmRlZmluZWQsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBtZWRpYTogZnAubWVkaWEsDQogICAgICAgICAgICBjYW52YXMyZDogKChjYW52YXMyZCkgPT4gew0KICAgICAgICAgICAgICAgIGlmICghY2FudmFzMmQpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb25zdCB7IGxpZWQsIGxpZWRUZXh0TWV0cmljcyB9ID0gY2FudmFzMmQ7DQogICAgICAgICAgICAgICAgbGV0IGRhdGE7DQogICAgICAgICAgICAgICAgaWYgKCFsaWVkKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YVVSSSwgcGFpbnRVUkksIHRleHRVUkksIGVtb2ppVVJJIH0gPSBjYW52YXMyZDsNCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpZWQsDQogICAgICAgICAgICAgICAgICAgICAgICAuLi57IGRhdGFVUkksIHBhaW50VVJJLCB0ZXh0VVJJLCBlbW9qaVVSSSB9LA0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoIWxpZWRUZXh0TWV0cmljcykgew0KICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHRleHRNZXRyaWNzU3lzdGVtU3VtLCBlbW9qaVNldCB9ID0gY2FudmFzMmQ7DQogICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAuLi4oZGF0YSB8fCB7fSksDQogICAgICAgICAgICAgICAgICAgICAgICAuLi57IHRleHRNZXRyaWNzU3lzdGVtU3VtLCBlbW9qaVNldCB9LA0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTsNCiAgICAgICAgICAgIH0pKGZwLmNhbnZhczJkKSwNCiAgICAgICAgICAgIGNhbnZhc1dlYmdsOiAoIWZwLmNhbnZhc1dlYmdsIHx8IGZwLmNhbnZhc1dlYmdsLmxpZWQgfHwgTG93ZXJFbnRyb3B5LldFQkdMKSA/IHVuZGVmaW5lZCA6IChicmF2ZUZpbmdlcnByaW50aW5nQmxvY2tpbmcgPyB7DQogICAgICAgICAgICAgICAgcGFyYW1ldGVyczogew0KICAgICAgICAgICAgICAgICAgICAuLi5nZXRCcmF2ZVVucHJvdGVjdGVkUGFyYW1ldGVycyhmcC5jYW52YXNXZWJnbC5wYXJhbWV0ZXJzKSwNCiAgICAgICAgICAgICAgICAgICAgLi4uaGFyZGVuR1BVKGZwLmNhbnZhc1dlYmdsKSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSA6IHsNCiAgICAgICAgICAgICAgICAuLi4oKGdsLCBjYW52YXMyZCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAoKGNhbnZhczJkICYmIGNhbnZhczJkLmxpZWQpIHx8IExvd2VyRW50cm9weS5DQU5WQVMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc3RydXN0IGltYWdlcw0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBleHRlbnNpb25zLCBncHUsIGxpZWQsIHBhcmFtZXRlck9yRXh0ZW5zaW9uTGllIH0gPSBnbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9ucywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncHUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGllZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJPckV4dGVuc2lvbkxpZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdsOw0KICAgICAgICAgICAgICAgIH0pKGZwLmNhbnZhc1dlYmdsLCBmcC5jYW52YXMyZCksDQogICAgICAgICAgICAgICAgcGFyYW1ldGVyczogew0KICAgICAgICAgICAgICAgICAgICAuLi5mcC5jYW52YXNXZWJnbC5wYXJhbWV0ZXJzLA0KICAgICAgICAgICAgICAgICAgICAuLi5oYXJkZW5HUFUoZnAuY2FudmFzV2ViZ2wpLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIGNzc01lZGlhOiAhZnAuY3NzTWVkaWEgPyB1bmRlZmluZWQgOiB7DQogICAgICAgICAgICAgICAgcmVkdWNlZE1vdGlvbjogY2FuaXVzZSgoKSA9PiBmcC5jc3NNZWRpYS5tZWRpYUNTU1sncHJlZmVycy1yZWR1Y2VkLW1vdGlvbiddKSwNCiAgICAgICAgICAgICAgICBjb2xvclNjaGVtZTogKGJyYXZlRmluZ2VycHJpbnRpbmdCbG9ja2luZyA/IHVuZGVmaW5lZCA6DQogICAgICAgICAgICAgICAgICAgIGNhbml1c2UoKCkgPT4gZnAuY3NzTWVkaWEubWVkaWFDU1NbJ3ByZWZlcnMtY29sb3Itc2NoZW1lJ10pKSwNCiAgICAgICAgICAgICAgICBtb25vY2hyb21lOiBjYW5pdXNlKCgpID0+IGZwLmNzc01lZGlhLm1lZGlhQ1NTLm1vbm9jaHJvbWUpLA0KICAgICAgICAgICAgICAgIGludmVydGVkQ29sb3JzOiBjYW5pdXNlKCgpID0+IGZwLmNzc01lZGlhLm1lZGlhQ1NTWydpbnZlcnRlZC1jb2xvcnMnXSksDQogICAgICAgICAgICAgICAgZm9yY2VkQ29sb3JzOiBjYW5pdXNlKCgpID0+IGZwLmNzc01lZGlhLm1lZGlhQ1NTWydmb3JjZWQtY29sb3JzJ10pLA0KICAgICAgICAgICAgICAgIGFueUhvdmVyOiBjYW5pdXNlKCgpID0+IGZwLmNzc01lZGlhLm1lZGlhQ1NTWydhbnktaG92ZXInXSksDQogICAgICAgICAgICAgICAgaG92ZXI6IGNhbml1c2UoKCkgPT4gZnAuY3NzTWVkaWEubWVkaWFDU1MuaG92ZXIpLA0KICAgICAgICAgICAgICAgIGFueVBvaW50ZXI6IGNhbml1c2UoKCkgPT4gZnAuY3NzTWVkaWEubWVkaWFDU1NbJ2FueS1wb2ludGVyJ10pLA0KICAgICAgICAgICAgICAgIHBvaW50ZXI6IGNhbml1c2UoKCkgPT4gZnAuY3NzTWVkaWEubWVkaWFDU1MucG9pbnRlciksDQogICAgICAgICAgICAgICAgY29sb3JHYW11dDogY2FuaXVzZSgoKSA9PiBmcC5jc3NNZWRpYS5tZWRpYUNTU1snY29sb3ItZ2FtdXQnXSksDQogICAgICAgICAgICAgICAgc2NyZWVuUXVlcnk6IChwcml2YWN5UmVzaXN0RmluZ2VycHJpbnRpbmcgfHwgKExvd2VyRW50cm9weS5TQ1JFRU4gfHwgTG93ZXJFbnRyb3B5LklGUkFNRV9TQ1JFRU4pID8NCiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkIDoNCiAgICAgICAgICAgICAgICAgICAgaGFyZGVuRW50cm9weShmcC53b3JrZXJTY29wZSwgY2FuaXVzZSgoKSA9PiBmcC5jc3NNZWRpYS5zY3JlZW5RdWVyeSkpKSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjc3M6ICFmcC5jc3MgPyB1bmRlZmluZWQgOiBmcC5jc3Muc3lzdGVtLmZvbnRzLA0KICAgICAgICAgICAgdGltZXpvbmU6ICFmcC50aW1lem9uZSB8fCBmcC50aW1lem9uZS5saWVkIHx8IExvd2VyRW50cm9weS5USU1FX1pPTkUgPyB1bmRlZmluZWQgOiB7DQogICAgICAgICAgICAgICAgbG9jYXRpb25NZWFzdXJlZDogaGFyZGVuRW50cm9weShmcC53b3JrZXJTY29wZSwgZnAudGltZXpvbmUubG9jYXRpb25NZWFzdXJlZCksDQogICAgICAgICAgICAgICAgbGllZDogZnAudGltZXpvbmUubGllZCwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBvZmZsaW5lQXVkaW9Db250ZXh0OiAhZnAub2ZmbGluZUF1ZGlvQ29udGV4dCA/IHVuZGVmaW5lZCA6IChmcC5vZmZsaW5lQXVkaW9Db250ZXh0LmxpZWQgfHwgTG93ZXJFbnRyb3B5LkFVRElPID8gdW5kZWZpbmVkIDoNCiAgICAgICAgICAgICAgICBmcC5vZmZsaW5lQXVkaW9Db250ZXh0KSwNCiAgICAgICAgICAgIGZvbnRzOiAhZnAuZm9udHMgfHwgZnAuZm9udHMubGllZCB8fCBMb3dlckVudHJvcHkuRk9OVFMgPyB1bmRlZmluZWQgOiBmcC5mb250cy5mb250RmFjZUxvYWRGb250cywNCiAgICAgICAgICAgIGZvcmNlUmVuZXc6IDE2NzIwMDU1MDM5MDEsDQogICAgICAgIH07DQogICAgICAgIGNvbnN0IFtmcEhhc2gsIGNyZWVwSGFzaF0gPSBhd2FpdCBQcm9taXNlLmFsbChbaGFzaGlmeShmcCksIGhhc2hpZnkoY3JlZXApXSkNCiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7DQogICAgICAgIH0pIHx8IFtdOw0KICAgICAgICByZXR1cm4geyBmcEhhc2gsIGNyZWVwSGFzaCwgZnAsIGNyZWVwIH07DQogICAgfTsKCiAgICB2b29kb28oKTsKCn0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWVwLmpzLm1hcAo=')], { type: 'text/javascript' }))));
            if (!hasConstructor(sharedWorker, 'SharedWorker'))
                return resolve(null);
            sharedWorker.port.start();
            sharedWorker.port.onmessage = (event) => {
                sharedWorker.port.close();
                clearTimeout(giveUpOnWorker);
                return resolve(event.data);
            };
        });
        const getServiceWorker = ({ scriptSource }) => new Promise((resolve) => {
            const giveUpOnWorker = setTimeout(() => {
                return resolve(null);
            }, 400);
            if (!ask(() => navigator.serviceWorker.register))
                return resolve(null);
            return navigator.serviceWorker.register(scriptSource).then((registration) => {
                if (!hasConstructor(registration, 'ServiceWorkerRegistration'))
                    return resolve(null);
                return navigator.serviceWorker.ready.then((registration) => {
                    // @ts-ignore
                    registration.active.postMessage(undefined);
                    navigator.serviceWorker.onmessage = (event) => {
                        registration.unregister();
                        clearTimeout(giveUpOnWorker);
                        return resolve(event.data);
                    };
                });
            }).catch((error) => {
                console.error(error);
                clearTimeout(giveUpOnWorker);
                return resolve(null);
            });
        });
        const scriptSource = './creep.js';
        let workerScope;
        /*
        WORKER_NAME = 'ServiceWorkerGlobalScope'
        WORKER_TYPE = 'service' // loads fast but is not available in frames
        workerScope = await getServiceWorker({ scriptSource }).catch((error) => {
            captureError(error)
            console.error(error.message)
            return
        })
        */
        if (!(workerScope || {}).userAgent) {
            WORKER_NAME = 'SharedWorkerGlobalScope';
            WORKER_TYPE = 'shared'; // no support in Safari, iOS, and Chrome Android
            workerScope = await getSharedWorker({ scriptSource }).catch((error) => {
                captureError(error);
                console.error(error.message);
                return;
            });
        }
        if (!(workerScope || {}).userAgent) {
            WORKER_NAME = 'DedicatedWorkerGlobalScope';
            WORKER_TYPE = 'dedicated'; // device emulators can easily spoof dedicated scope
            workerScope = await getDedicatedWorker({ scriptSource }).catch((error) => {
                captureError(error);
                console.error(error.message);
                return;
            });
        }
        if (!(workerScope || {}).userAgent) {
            return;
        }
        workerScope.system = getOS(workerScope.userAgent);
        workerScope.device = getUserAgentPlatform({ userAgent: workerScope.userAgent });
        // detect lies
        const { system, userAgent, userAgentData, platform, deviceMemory, hardwareConcurrency, } = workerScope || {};
        // navigator lies
        // skip language and languages to respect valid engine language switching bug in Chrome
        // these are more likely navigator lies, so don't trigger lied worker scope
        const workerScopeMatchLie = 'does not match worker scope';
        if (platform != navigator.platform) {
            documentLie('Navigator.platform', workerScopeMatchLie);
        }
        if (userAgent != navigator.userAgent) {
            documentLie('Navigator.userAgent', workerScopeMatchLie);
        }
        if (hardwareConcurrency && (hardwareConcurrency != navigator.hardwareConcurrency)) {
            documentLie('Navigator.hardwareConcurrency', workerScopeMatchLie);
        }
        // @ts-ignore
        if (deviceMemory && (deviceMemory != navigator.deviceMemory)) {
            documentLie('Navigator.deviceMemory', workerScopeMatchLie);
        }
        // prototype lies
        if (workerScope.lies.proto) {
            const { proto } = workerScope.lies;
            const keys = Object.keys(proto);
            keys.forEach((key) => {
                const api = `WorkerGlobalScope.${key}`;
                const lies = proto[key];
                lies.forEach((lie) => documentLie(api, lie));
            });
        }
        // user agent os lie
        const [userAgentOS, platformOS] = getReportedPlatform(userAgent, platform);
        if (userAgentOS != platformOS) {
            workerScope.lied = true;
            workerScope.lies.os = `${platformOS} platform and ${userAgentOS} user agent do not match`;
            documentLie('WorkerGlobalScope', workerScope.lies.os);
        }
        // user agent engine lie
        const decryptedName = decryptUserAgent({
            ua: userAgent,
            os: system,
            isBrave: false, // default false since we are only looking for JS runtime and version
        });
        const userAgentEngine = ((/safari/i.test(decryptedName) || /iphone|ipad/i.test(userAgent)) ? 'JavaScriptCore' :
            /firefox/i.test(userAgent) ? 'SpiderMonkey' :
                /chrome/i.test(userAgent) ? 'V8' :
                    undefined);
        if (userAgentEngine != JS_ENGINE) {
            workerScope.lied = true;
            workerScope.lies.engine = `${JS_ENGINE} JS runtime and ${userAgentEngine} user agent do not match`;
            documentLie('WorkerGlobalScope', workerScope.lies.engine);
        }
        // user agent version lie
        const getVersion = (x) => (/\d+/.exec(x) || [])[0];
        const userAgentVersion = getVersion(decryptedName);
        const userAgentDataVersion = getVersion(userAgentData ? userAgentData.uaFullVersion : '');
        const versionSupported = userAgentDataVersion && userAgentVersion;
        const versionMatch = userAgentDataVersion == userAgentVersion;
        if (versionSupported && !versionMatch) {
            workerScope.lied = true;
            workerScope.lies.version = `userAgentData version ${userAgentDataVersion} and user agent version ${userAgentVersion} do not match`;
            documentLie('WorkerGlobalScope', workerScope.lies.version);
        }
        // platformVersion lie
        const FEATURE_CASE = IS_BLINK && CSS.supports('accent-color: initial');
        const getPlatformVersionLie = (device, userAgentData) => {
            if (!/windows|mac/i.test(device) || !userAgentData?.platformVersion) {
                return false;
            }
            if (userAgentData.platform == 'macOS') {
                return FEATURE_CASE ? /_/.test(userAgentData.platformVersion) : false;
            }
            const reportedVersionNumber = (/windows ([\d|\.]+)/i.exec(device) || [])[1];
            const windows10OrHigherReport = +reportedVersionNumber == 10;
            const { platformVersion } = userAgentData;
            const versionMap = {
                '6.1': '7',
                '6.2': '8',
                '6.3': '8.1',
                '10.0': '10',
            };
            const version = versionMap[platformVersion];
            if (!FEATURE_CASE && version) {
                return version != reportedVersionNumber;
            }
            const parts = platformVersion.split('.');
            if (parts.length != 3)
                return true;
            const windows10OrHigherPlatform = +parts[0] > 0;
            return ((windows10OrHigherPlatform && !windows10OrHigherReport) ||
                (!windows10OrHigherPlatform && windows10OrHigherReport));
        };
        const windowsVersionLie = getPlatformVersionLie(workerScope.device, userAgentData);
        if (windowsVersionLie) {
            workerScope.lied = true;
            workerScope.lies.platformVersion = `platform version is fake`;
            documentLie('WorkerGlobalScope', workerScope.lies.platformVersion);
        }
        // capture userAgent version
        workerScope.userAgentVersion = userAgentVersion;
        workerScope.userAgentDataVersion = userAgentDataVersion;
        workerScope.userAgentEngine = userAgentEngine;
        const gpu = {
            ...(getWebGLRendererConfidence(workerScope.webglRenderer) || {}),
            compressedGPU: compressWebGLRenderer(workerScope.webglRenderer),
        };
        logTestResult({ time: timer.stop(), test: `${WORKER_TYPE} worker`, passed: true });
        return {
            ...workerScope,
            gpu,
            uaPostReduction: isUAPostReduction(workerScope.userAgent),
        };
    }
    catch (error) {
        logTestResult({ test: 'worker', passed: false });
        captureError(error, 'workers failed or blocked by client');
        return;
    }
}

// https://stackoverflow.com/a/22429679
const hashMini = (x) => {
    const json = `${JSON.stringify(x)}`;
    const hash = json.split('').reduce((hash, char, i) => {
        return Math.imul(31, hash) + json.charCodeAt(i) | 0;
    }, 0x811c9dc5);
    return ('0000000' + (hash >>> 0).toString(16)).substr(-8);
};
// instance id
const instanceId = (String.fromCharCode(Math.random() * 26 + 97) +
    Math.random().toString(36).slice(-7));
// https://stackoverflow.com/a/53490958
// https://stackoverflow.com/a/43383990
// https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest
const hashify = (x, algorithm = 'SHA-256') => {
    const json = `${JSON.stringify(x)}`;
    const jsonBuffer = new TextEncoder().encode(json);
    return crypto.subtle.digest(algorithm, jsonBuffer).then((hashBuffer) => {
        const hashArray = Array.from(new Uint8Array(hashBuffer));
        const hashHex = hashArray.map((b) => ('00' + b.toString(16)).slice(-2)).join('');
        return hashHex;
    });
};

const AUDIO_TRAP = Math.random();
async function hasFakeAudio() {
    const context = new OfflineAudioContext(1, 100, 44100);
    const oscillator = context.createOscillator();
    oscillator.frequency.value = 0;
    oscillator.start(0);
    context.startRendering();
    return new Promise((resolve) => {
        context.oncomplete = (event) => {
            const channelData = event.renderedBuffer.getChannelData?.(0);
            if (!channelData)
                resolve(false);
            resolve('' + [...new Set(channelData)] !== '0');
        };
    }).finally(() => oscillator.disconnect());
}
async function getOfflineAudioContext() {
    try {
        const timer = createTimer();
        await queueEvent(timer);
        try {
            // @ts-expect-error if unsupported
            window.OfflineAudioContext = OfflineAudioContext || webkitOfflineAudioContext;
        }
        catch (err) { }
        if (!window.OfflineAudioContext) {
            logTestResult({ test: 'audio', passed: false });
            return;
        }
        // detect lies
        const channelDataLie = lieProps['AudioBuffer.getChannelData'];
        const copyFromChannelLie = lieProps['AudioBuffer.copyFromChannel'];
        let lied = (channelDataLie || copyFromChannelLie) || false;
        const bufferLen = 5000;
        const context = new OfflineAudioContext(1, bufferLen, 44100);
        const analyser = context.createAnalyser();
        const oscillator = context.createOscillator();
        const dynamicsCompressor = context.createDynamicsCompressor();
        const biquadFilter = context.createBiquadFilter();
        // detect lie
        const dataArray = new Float32Array(analyser.frequencyBinCount);
        analyser.getFloatFrequencyData?.(dataArray);
        const floatFrequencyUniqueDataSize = new Set(dataArray).size;
        if (floatFrequencyUniqueDataSize > 1) {
            lied = true;
            const floatFrequencyDataLie = `expected -Infinity (silence) and got ${floatFrequencyUniqueDataSize} frequencies`;
            documentLie(`AnalyserNode.getFloatFrequencyData`, floatFrequencyDataLie);
        }
        const values = {
            ['AnalyserNode.channelCount']: attempt(() => analyser.channelCount),
            ['AnalyserNode.channelCountMode']: attempt(() => analyser.channelCountMode),
            ['AnalyserNode.channelInterpretation']: attempt(() => analyser.channelInterpretation),
            ['AnalyserNode.context.sampleRate']: attempt(() => analyser.context.sampleRate),
            ['AnalyserNode.fftSize']: attempt(() => analyser.fftSize),
            ['AnalyserNode.frequencyBinCount']: attempt(() => analyser.frequencyBinCount),
            ['AnalyserNode.maxDecibels']: attempt(() => analyser.maxDecibels),
            ['AnalyserNode.minDecibels']: attempt(() => analyser.minDecibels),
            ['AnalyserNode.numberOfInputs']: attempt(() => analyser.numberOfInputs),
            ['AnalyserNode.numberOfOutputs']: attempt(() => analyser.numberOfOutputs),
            ['AnalyserNode.smoothingTimeConstant']: attempt(() => analyser.smoothingTimeConstant),
            ['AnalyserNode.context.listener.forwardX.maxValue']: attempt(() => {
                return caniuse(() => analyser.context.listener.forwardX.maxValue);
            }),
            ['BiquadFilterNode.gain.maxValue']: attempt(() => biquadFilter.gain.maxValue),
            ['BiquadFilterNode.frequency.defaultValue']: attempt(() => biquadFilter.frequency.defaultValue),
            ['BiquadFilterNode.frequency.maxValue']: attempt(() => biquadFilter.frequency.maxValue),
            ['DynamicsCompressorNode.attack.defaultValue']: attempt(() => dynamicsCompressor.attack.defaultValue),
            ['DynamicsCompressorNode.knee.defaultValue']: attempt(() => dynamicsCompressor.knee.defaultValue),
            ['DynamicsCompressorNode.knee.maxValue']: attempt(() => dynamicsCompressor.knee.maxValue),
            ['DynamicsCompressorNode.ratio.defaultValue']: attempt(() => dynamicsCompressor.ratio.defaultValue),
            ['DynamicsCompressorNode.ratio.maxValue']: attempt(() => dynamicsCompressor.ratio.maxValue),
            ['DynamicsCompressorNode.release.defaultValue']: attempt(() => dynamicsCompressor.release.defaultValue),
            ['DynamicsCompressorNode.release.maxValue']: attempt(() => dynamicsCompressor.release.maxValue),
            ['DynamicsCompressorNode.threshold.defaultValue']: attempt(() => dynamicsCompressor.threshold.defaultValue),
            ['DynamicsCompressorNode.threshold.minValue']: attempt(() => dynamicsCompressor.threshold.minValue),
            ['OscillatorNode.detune.maxValue']: attempt(() => oscillator.detune.maxValue),
            ['OscillatorNode.detune.minValue']: attempt(() => oscillator.detune.minValue),
            ['OscillatorNode.frequency.defaultValue']: attempt(() => oscillator.frequency.defaultValue),
            ['OscillatorNode.frequency.maxValue']: attempt(() => oscillator.frequency.maxValue),
            ['OscillatorNode.frequency.minValue']: attempt(() => oscillator.frequency.minValue),
        };
        const getRenderedBuffer = (context) => (new Promise((resolve) => {
            const analyser = context.createAnalyser();
            const oscillator = context.createOscillator();
            const dynamicsCompressor = context.createDynamicsCompressor();
            try {
                oscillator.type = 'triangle';
                oscillator.frequency.value = 10000;
                dynamicsCompressor.threshold.value = -50;
                dynamicsCompressor.knee.value = 40;
                dynamicsCompressor.attack.value = 0;
            }
            catch (err) { }
            oscillator.connect(dynamicsCompressor);
            dynamicsCompressor.connect(analyser);
            dynamicsCompressor.connect(context.destination);
            oscillator.start(0);
            context.startRendering();
            return context.addEventListener('complete', (event) => {
                try {
                    dynamicsCompressor.disconnect();
                    oscillator.disconnect();
                    const floatFrequencyData = new Float32Array(analyser.frequencyBinCount);
                    analyser.getFloatFrequencyData?.(floatFrequencyData);
                    const floatTimeDomainData = new Float32Array(analyser.fftSize);
                    if ('getFloatTimeDomainData' in analyser) {
                        analyser.getFloatTimeDomainData(floatTimeDomainData);
                    }
                    return resolve({
                        floatFrequencyData,
                        floatTimeDomainData,
                        buffer: event.renderedBuffer,
                        compressorGainReduction: (
                        // @ts-expect-error if unsupported
                        dynamicsCompressor.reduction.value || // webkit
                            dynamicsCompressor.reduction),
                    });
                }
                catch (error) {
                    return resolve(null);
                }
            });
        }));
        await queueEvent(timer);
        const [audioData, audioIsFake,] = await Promise.all([
            getRenderedBuffer(new OfflineAudioContext(1, bufferLen, 44100)),
            hasFakeAudio().catch(() => false),
        ]);
        const { floatFrequencyData, floatTimeDomainData, buffer, compressorGainReduction, } = audioData || {};
        await queueEvent(timer);
        const getSnapshot = (arr, start, end) => {
            const collection = [];
            for (let i = start; i < end; i++) {
                collection.push(arr[i]);
            }
            return collection;
        };
        const getSum = (arr) => !arr ? 0 : [...arr]
            .reduce((acc, curr) => (acc += Math.abs(curr)), 0);
        const floatFrequencyDataSum = getSum(floatFrequencyData);
        const floatTimeDomainDataSum = getSum(floatTimeDomainData);
        const copy = new Float32Array(bufferLen);
        let bins = new Float32Array();
        if (buffer) {
            buffer.copyFromChannel?.(copy, 0);
            bins = buffer.getChannelData?.(0) || [];
        }
        const copySample = getSnapshot([...copy], 4500, 4600);
        const binsSample = getSnapshot([...bins], 4500, 4600);
        const sampleSum = getSum(getSnapshot([...bins], 4500, bufferLen));
        // detect lies
        if (audioIsFake) {
            lied = true;
            documentLie('AudioBuffer', 'audio is fake');
        }
        // sample matching
        const matching = '' + binsSample == '' + copySample;
        const copyFromChannelSupported = ('copyFromChannel' in AudioBuffer.prototype);
        if (copyFromChannelSupported && !matching) {
            lied = true;
            const audioSampleLie = 'getChannelData and copyFromChannel samples mismatch';
            documentLie('AudioBuffer', audioSampleLie);
        }
        // sample uniqueness
        const totalUniqueSamples = new Set([...bins]).size;
        if (totalUniqueSamples == bufferLen) {
            const audioUniquenessTrash = `${totalUniqueSamples} unique samples of ${bufferLen} is too high`;
            sendToTrash('AudioBuffer', audioUniquenessTrash);
        }
        // sample noise factor
        const getRandFromRange = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
        const getCopyFrom = (rand, buffer, copy) => {
            const { length } = buffer;
            const max = 20;
            const start = getRandFromRange(275, length - (max + 1));
            const mid = start + max / 2;
            const end = start + max;
            buffer.getChannelData(0)[start] = rand;
            buffer.getChannelData(0)[mid] = rand;
            buffer.getChannelData(0)[end] = rand;
            buffer.copyFromChannel(copy, 0);
            const attack = [
                buffer.getChannelData(0)[start] === 0 ? Math.random() : 0,
                buffer.getChannelData(0)[mid] === 0 ? Math.random() : 0,
                buffer.getChannelData(0)[end] === 0 ? Math.random() : 0,
            ];
            return [...new Set([...buffer.getChannelData(0), ...copy, ...attack])].filter((x) => x !== 0);
        };
        const getCopyTo = (rand, buffer, copy) => {
            buffer.copyToChannel(copy.map(() => rand), 0);
            const frequency = buffer.getChannelData(0)[0];
            const dataAttacked = [...buffer.getChannelData(0)]
                .map((x) => x !== frequency || !x ? Math.random() : x);
            return dataAttacked.filter((x) => x !== frequency);
        };
        const getNoiseFactor = () => {
            const length = 2000;
            try {
                const result = [...new Set([
                        ...getCopyFrom(AUDIO_TRAP, new AudioBuffer({ length, sampleRate: 44100 }), new Float32Array(length)),
                        ...getCopyTo(AUDIO_TRAP, new AudioBuffer({ length, sampleRate: 44100 }), new Float32Array(length)),
                    ])];
                return +(result.length !== 1 &&
                    result.reduce((acc, n) => acc += +n, 0));
            }
            catch (error) {
                console.error(error);
                return 0;
            }
        };
        const noiseFactor = getNoiseFactor();
        const noise = (noiseFactor || [...new Set(bins.slice(0, 100))]
            .reduce((acc, n) => acc += n, 0));
        // Locked Patterns
        const known = {
            /* BLINK */
            // 124.04347527516074/124.04347518575378
            '-20.538286209106445,164537.64796829224,502.5999283068122': [124.04347527516074],
            '-20.538288116455078,164537.64796829224,502.5999283068122': [124.04347527516074],
            '-20.538288116455078,164537.64795303345,502.5999283068122': [
                124.04347527516074,
                124.04347518575378,
                // sus:
                124.04347519320436,
                124.04347523045726,
            ],
            '-20.538286209106445,164537.64805984497,502.5999283068122': [124.04347527516074],
            '-20.538288116455078,164537.64805984497,502.5999283068122': [
                124.04347527516074,
                124.04347518575378,
                // sus
                124.04347520065494,
                124.04347523790784,
                124.043475252809,
                124.04347526025958,
                124.04347522300668,
                124.04347523045726,
                124.04347524535842,
            ],
            // 124.04344884395687
            '-20.538288116455078,164881.9727935791,502.59990317908887': [124.04344884395687],
            '-20.538288116455078,164881.9729309082,502.59990317908887': [124.04344884395687],
            // 124.0434488439787
            '-20.538286209106445,164882.2082748413,502.59990317911434': [124.0434488439787],
            '-20.538288116455078,164882.20836639404,502.59990317911434': [124.0434488439787],
            // 124.04344968475198
            '-20.538286209106445,164863.45319366455,502.5999033495791': [124.04344968475198],
            '-20.538288116455078,164863.45319366455,502.5999033495791': [
                124.04344968475198,
                124.04375314689969,
                // sus
                124.04341541208123,
            ],
            // 124.04347503720783 (rare)
            '-20.538288116455078,164531.82670593262,502.59992767886797': [
                124.04347503720783,
                // sus
                124.04347494780086,
                124.04347495525144,
                124.04347499250434,
                124.0434750074055,
            ],
            // 124.04347657808103
            '-20.538286209106445,164540.1567993164,502.59992209258417': [124.04347657808103],
            '-20.538288116455078,164540.1567993164,502.59992209258417': [
                124.04347657808103,
                124.0434765110258,
                124.04347656317987,
                // sus
                124.04347657063045,
                124.04378004022874,
            ],
            '-20.538288116455078,164540.1580810547,502.59992209258417': [124.04347657808103],
            // 124.080722568091/124.04347730590962 (rare)
            '-20.535268783569336,164940.360786438,502.69695458233764': [124.080722568091],
            '-20.538288116455078,164538.55073928833,502.5999307175407': [124.04347730590962],
            // Android/Linux
            '-20.535268783569336,164948.14596557617,502.6969545823631': [124.08072256811283],
            '-20.535268783569336,164926.65912628174,502.6969610930064': [124.08072766105033],
            '-20.535268783569336,164932.96168518066,502.69696179985476': [124.08072787802666],
            '-20.535268783569336,164931.54252624512,502.6969617998802': [124.08072787804849],
            '-20.535268783569336,164591.9659729004,502.6969925059784': [124.08074500028306],
            '-20.535268783569336,164590.4111480713,502.6969947774742': [124.0807470110085],
            '-20.535268783569336,164590.41115570068,502.6969947774742': [124.0807470110085],
            '-20.535268783569336,164593.64263916016,502.69700490119067': [124.08075528279005],
            '-20.535268783569336,164595.0285797119,502.69700578315314': [124.08075643483608],
            // sus
            '-20.538288116455078,164860.96576690674,502.6075748118915': [124.0434496279413],
            '-20.538288116455078,164860.9938583374,502.6073723861407': [124.04344962817413],
            '-20.538288116455078,164862.14078521729,502.59991004130643': [124.04345734833623],
            '-20.538288116455078,164534.50047683716,502.61542110471055': [124.04347520368174],
            '-20.538288116455078,164535.1324043274,502.6079200572931': [124.04347521997988],
            '-20.538288116455078,164535.51135635376,502.60633126448374': [124.04347522952594],
            /* GECKO */
            '-31.509262084960938,167722.6894454956,148.42717787250876': [35.7383295930922],
            '-31.509262084960938,167728.72756958008,148.427184343338': [35.73833402246237],
            '-31.50218963623047,167721.27517700195,148.47537828609347': [35.74996031448245],
            '-31.502185821533203,167727.52931976318,148.47542023658752': [35.7499681673944],
            /* WEBKIT */
            '-20.538288116455078,164873.80361557007,502.59989904452596': [124.0434485301812],
            '-20.538288116455078,164863.47760391235,502.5999033453372': [124.0434496849557],
            '-20.538288116455078,164876.62466049194,502.5998911961724': [124.043453265891],
            '-20.538288116455078,164862.14879989624,502.59991004130643': [124.04345734833623],
            '-20.538288116455078,164896.54167175293,502.5999054916465': [124.04345808873768],
            '-29.837873458862305,163206.43050384521,0': [35.10892717540264],
            '-29.837873458862305,163224.69785308838,0': [35.10892752557993],
            '-29.83786964416504,163209.17245483398,0': [35.10893232002854],
            '-29.83786964416504,163202.77336883545,0': [35.10893253237009],
        };
        if (noise) {
            lied = true;
            documentLie('AudioBuffer', 'sample noise detected');
        }
        const pattern = '' + [
            compressorGainReduction,
            floatFrequencyDataSum,
            floatTimeDomainDataSum,
        ];
        const knownPattern = known[pattern];
        if (knownPattern && !knownPattern.includes(sampleSum)) {
            LowerEntropy.AUDIO = true;
            sendToTrash('AudioBuffer', 'suspicious frequency data');
        }
        logTestResult({ time: timer.stop(), test: 'audio', passed: true });
        return {
            totalUniqueSamples,
            compressorGainReduction,
            floatFrequencyDataSum,
            floatTimeDomainDataSum,
            sampleSum,
            binsSample,
            copySample: copyFromChannelSupported ? copySample : [undefined],
            values,
            noise,
            lied,
        };
    }
    catch (error) {
        logTestResult({ test: 'audio', passed: false });
        captureError(error, 'OfflineAudioContext failed or blocked by client');
        return;
    }
}

// inspired by https://arkenfox.github.io/TZP/tests/canvasnoise.html
let pixelImageRandom = '';
const getPixelMods = () => {
    const pattern1 = [];
    const pattern2 = [];
    const len = 8; // canvas dimensions
    const alpha = 255;
    const visualMultiplier = 5;
    try {
        // create 2 canvas contexts
        const options = {
            willReadFrequently: true,
            desynchronized: true,
        };
        const canvasDisplay1 = document.createElement('canvas');
        const canvasDisplay2 = document.createElement('canvas');
        const canvas1 = document.createElement('canvas');
        const canvas2 = document.createElement('canvas');
        const contextDisplay1 = canvasDisplay1.getContext('2d', options);
        const contextDisplay2 = canvasDisplay2.getContext('2d', options);
        const context1 = canvas1.getContext('2d', options);
        const context2 = canvas2.getContext('2d', options);
        if (!contextDisplay1 || !contextDisplay2 || !context1 || !context2) {
            throw new Error('canvas context blocked');
        }
        // set the dimensions
        canvasDisplay1.width = len * visualMultiplier;
        canvasDisplay1.height = len * visualMultiplier;
        canvasDisplay2.width = len * visualMultiplier;
        canvasDisplay2.height = len * visualMultiplier;
        canvas1.width = len;
        canvas1.height = len;
        canvas2.width = len;
        canvas2.height = len;
        [...Array(len)].forEach((e, x) => [...Array(len)].forEach((e, y) => {
            const red = ~~(Math.random() * 256);
            const green = ~~(Math.random() * 256);
            const blue = ~~(Math.random() * 256);
            const colors = `${red}, ${green}, ${blue}, ${alpha}`;
            context1.fillStyle = `rgba(${colors})`;
            context1.fillRect(x, y, 1, 1);
            // capture data in visuals
            contextDisplay1.fillStyle = `rgba(${colors})`;
            contextDisplay1.fillRect(x * visualMultiplier, y * visualMultiplier, 1 * visualMultiplier, 1 * visualMultiplier);
            return pattern1.push(colors); // collect the pixel pattern
        }));
        [...Array(len)].forEach((e, x) => [...Array(len)].forEach((e, y) => {
            // get context1 pixel data and mirror to context2
            const { data: [red, green, blue, alpha], } = context1.getImageData(x, y, 1, 1) || {};
            const colors = `${red}, ${green}, ${blue}, ${alpha}`;
            context2.fillStyle = `rgba(${colors})`;
            context2.fillRect(x, y, 1, 1);
            // capture noise in visuals
            const { data: [red2, green2, blue2, alpha2], } = context2.getImageData(x, y, 1, 1) || {};
            const colorsDisplay = `
				${red != red2 ? red2 : 255},
				${green != green2 ? green2 : 255},
				${blue != blue2 ? blue2 : 255},
				${alpha != alpha2 ? alpha2 : 1}
			`;
            contextDisplay2.fillStyle = `rgba(${colorsDisplay})`;
            contextDisplay2.fillRect(x * visualMultiplier, y * visualMultiplier, 1 * visualMultiplier, 1 * visualMultiplier);
            return pattern2.push(colors); // collect the pixel pattern
        }));
        // compare the pattern collections and collect diffs
        const patternDiffs = [];
        const rgbaChannels = new Set();
        [...Array(pattern1.length)].forEach((e, i) => {
            const pixelColor1 = pattern1[i];
            const pixelColor2 = pattern2[i];
            if (pixelColor1 != pixelColor2) {
                const rgbaValues1 = pixelColor1.split(',');
                const rgbaValues2 = pixelColor2.split(',');
                const colors = [
                    rgbaValues1[0] != rgbaValues2[0] ? 'r' : '',
                    rgbaValues1[1] != rgbaValues2[1] ? 'g' : '',
                    rgbaValues1[2] != rgbaValues2[2] ? 'b' : '',
                    rgbaValues1[3] != rgbaValues2[3] ? 'a' : '',
                ].join('');
                rgbaChannels.add(colors);
                patternDiffs.push([i, colors]);
            }
        });
        pixelImageRandom = canvasDisplay1.toDataURL(); // template use only
        const pixelImage = canvasDisplay2.toDataURL();
        const rgba = rgbaChannels.size ? [...rgbaChannels].sort().join(', ') : undefined;
        const pixels = patternDiffs.length || undefined;
        return { rgba, pixels, pixelImage };
    }
    catch (error) {
        return console.error(error);
    }
};
// based on and inspired by https://github.com/antoinevastel/picasso-like-canvas-fingerprinting
const paintCanvas = ({ canvas, context, strokeText = false, cssFontFamily = '', area = { width: 50, height: 50 }, rounds = 10, maxShadowBlur = 50, seed = 500, offset = 2001000001, multiplier = 15000, }) => {
    if (!context) {
        return;
    }
    context.clearRect(0, 0, canvas.width, canvas.height);
    canvas.width = area.width;
    canvas.height = area.height;
    if (canvas.style) {
        canvas.style.display = 'none';
    }
    const createPicassoSeed = ({ seed, offset, multiplier }) => {
        let current = Number(seed) % Number(offset);
        const getNextSeed = () => {
            current = (Number(multiplier) * current) % Number(offset);
            return current;
        };
        return {
            getNextSeed,
        };
    };
    const picassoSeed = createPicassoSeed({ seed, offset, multiplier });
    const { getNextSeed } = picassoSeed;
    const patchSeed = (current, offset, maxBound, computeFloat) => {
        const result = (((current - 1) / offset) * (maxBound || 1)) || 0;
        return computeFloat ? result : Math.floor(result);
    };
    const addRandomCanvasGradient = (context, offset, area, colors, getNextSeed) => {
        const { width, height } = area;
        const canvasGradient = context.createRadialGradient(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, width));
        canvasGradient.addColorStop(0, colors[patchSeed(getNextSeed(), offset, colors.length)]);
        canvasGradient.addColorStop(1, colors[patchSeed(getNextSeed(), offset, colors.length)]);
        context.fillStyle = canvasGradient;
    };
    const colors = [
        '#FF6633', '#FFB399', '#FF33FF', '#FFFF99', '#00B3E6',
        '#E6B333', '#3366E6', '#999966', '#99FF99', '#B34D4D',
        '#80B300', '#809900', '#E6B3B3', '#6680B3', '#66991A',
        '#FF99E6', '#CCFF1A', '#FF1A66', '#E6331A', '#33FFCC',
        '#66994D', '#B366CC', '#4D8000', '#B33300', '#CC80CC',
        '#66664D', '#991AFF', '#E666FF', '#4DB3FF', '#1AB399',
        '#E666B3', '#33991A', '#CC9999', '#B3B31A', '#00E680',
        '#4D8066', '#809980', '#E6FF80', '#1AFF33', '#999933',
        '#FF3380', '#CCCC00', '#66E64D', '#4D80CC', '#9900B3',
        '#E64D66', '#4DB380', '#FF4D4D', '#99E6E6', '#6666FF',
    ];
    const drawOutlineOfText = (context, offset, area, getNextSeed) => {
        const { width, height } = area;
        const fontSize = 2.99;
        context.font = `${height / fontSize}px ${cssFontFamily.replace(/!important/gm, '')}`;
        context.strokeText('👾A', patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, width));
    };
    const createCircularArc = (context, offset, area, getNextSeed) => {
        const { width, height } = area;
        context.beginPath();
        context.arc(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, Math.min(width, height)), patchSeed(getNextSeed(), offset, 2 * Math.PI, true), patchSeed(getNextSeed(), offset, 2 * Math.PI, true));
        context.stroke();
    };
    const createBezierCurve = (context, offset, area, getNextSeed) => {
        const { width, height } = area;
        context.beginPath();
        context.moveTo(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height));
        context.bezierCurveTo(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height));
        context.stroke();
    };
    const createQuadraticCurve = (context, offset, area, getNextSeed) => {
        const { width, height } = area;
        context.beginPath();
        context.moveTo(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height));
        context.quadraticCurveTo(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height));
        context.stroke();
    };
    const createEllipticalArc = (context, offset, area, getNextSeed) => {
        if (!('ellipse' in context)) {
            return;
        }
        const { width, height } = area;
        context.beginPath();
        context.ellipse(patchSeed(getNextSeed(), offset, width), patchSeed(getNextSeed(), offset, height), patchSeed(getNextSeed(), offset, Math.floor(width / 2)), patchSeed(getNextSeed(), offset, Math.floor(height / 2)), patchSeed(getNextSeed(), offset, 2 * Math.PI, true), patchSeed(getNextSeed(), offset, 2 * Math.PI, true), patchSeed(getNextSeed(), offset, 2 * Math.PI, true));
        context.stroke();
    };
    const methods = [
        createCircularArc,
        createBezierCurve,
        createQuadraticCurve,
    ];
    if (!IS_WEBKIT)
        methods.push(createEllipticalArc); // unstable in webkit
    if (strokeText)
        methods.push(drawOutlineOfText);
    [...Array(rounds)].forEach((x) => {
        addRandomCanvasGradient(context, offset, area, colors, getNextSeed);
        context.shadowBlur = patchSeed(getNextSeed(), offset, maxShadowBlur, true);
        context.shadowColor = colors[patchSeed(getNextSeed(), offset, colors.length)];
        const nextMethod = methods[patchSeed(getNextSeed(), offset, methods.length)];
        nextMethod(context, offset, area, getNextSeed);
        context.fill();
    });
    return;
};
async function getCanvas2d() {
    try {
        const timer = createTimer();
        await queueEvent(timer);
        const dataLie = lieProps['HTMLCanvasElement.toDataURL'];
        const contextLie = lieProps['HTMLCanvasElement.getContext'];
        const imageDataLie = (lieProps['CanvasRenderingContext2D.fillText'] ||
            lieProps['CanvasRenderingContext2D.font'] ||
            lieProps['CanvasRenderingContext2D.getImageData'] ||
            lieProps['CanvasRenderingContext2D.strokeText']);
        const codePointLie = lieProps['String.fromCodePoint'];
        let textMetricsLie = (lieProps['CanvasRenderingContext2D.measureText'] ||
            lieProps['TextMetrics.actualBoundingBoxAscent'] ||
            lieProps['TextMetrics.actualBoundingBoxDescent'] ||
            lieProps['TextMetrics.actualBoundingBoxLeft'] ||
            lieProps['TextMetrics.actualBoundingBoxRight'] ||
            lieProps['TextMetrics.fontBoundingBoxAscent'] ||
            lieProps['TextMetrics.fontBoundingBoxDescent'] ||
            lieProps['TextMetrics.width']);
        let lied = (dataLie ||
            contextLie ||
            imageDataLie ||
            textMetricsLie ||
            codePointLie) || false;
        // create canvas context
        let win = window;
        if (!LIKE_BRAVE && PHANTOM_DARKNESS) {
            win = PHANTOM_DARKNESS;
        }
        const doc = win.document;
        const canvas = doc.createElement('canvas');
        const context = canvas.getContext('2d');
        const canvasCPU = doc.createElement('canvas');
        const contextCPU = canvasCPU.getContext('2d', {
            desynchronized: true,
            willReadFrequently: true,
        });
        if (!context) {
            throw new Error('canvas context blocked');
        }
        await queueEvent(timer);
        const imageSizeMax = IS_WEBKIT ? 50 : 75; // webkit is unstable
        paintCanvas({
            canvas,
            context,
            strokeText: true,
            cssFontFamily: CSS_FONT_FAMILY,
            area: { width: imageSizeMax, height: imageSizeMax },
            rounds: 10,
        });
        const dataURI = canvas.toDataURL();
        await queueEvent(timer);
        const mods = getPixelMods();
        // TextMetrics: get emoji set and system
        await queueEvent(timer);
        context.font = `10px ${CSS_FONT_FAMILY.replace(/!important/gm, '')}`;
        const pattern = new Set();
        const emojiSet = EMOJIS.reduce((emojiSet, emoji) => {
            const { actualBoundingBoxAscent, actualBoundingBoxDescent, actualBoundingBoxLeft, actualBoundingBoxRight, fontBoundingBoxAscent, fontBoundingBoxDescent, width, } = context.measureText(emoji) || {};
            const dimensions = [
                actualBoundingBoxAscent,
                actualBoundingBoxDescent,
                actualBoundingBoxLeft,
                actualBoundingBoxRight,
                fontBoundingBoxAscent,
                fontBoundingBoxDescent,
                width,
            ].join(',');
            if (!pattern.has(dimensions)) {
                pattern.add(dimensions);
                emojiSet.add(emoji);
            }
            return emojiSet;
        }, new Set());
        // textMetrics System Sum
        const textMetricsSystemSum = 0.00001 * [...pattern].map((x) => {
            return x.split(',').reduce((acc, x) => acc += (+x || 0), 0);
        }).reduce((acc, x) => acc += x, 0);
        // Paint
        const maxSize = 75;
        await queueEvent(timer);
        paintCanvas({
            canvas,
            context,
            area: { width: maxSize, height: maxSize },
        }); // clears image
        const paintURI = canvas.toDataURL();
        // Paint with CPU
        await queueEvent(timer);
        paintCanvas({
            canvas: canvasCPU,
            context: contextCPU,
            area: { width: maxSize, height: maxSize },
        }); // clears image
        const paintCpuURI = canvasCPU.toDataURL();
        // Text
        context.restore();
        context.clearRect(0, 0, canvas.width, canvas.height);
        canvas.width = 50;
        canvas.height = 50;
        context.font = `50px ${CSS_FONT_FAMILY.replace(/!important/gm, '')}`;
        context.fillText('A', 7, 37);
        const textURI = canvas.toDataURL();
        // Emoji
        context.restore();
        context.clearRect(0, 0, canvas.width, canvas.height);
        canvas.width = 50;
        canvas.height = 50;
        context.font = `35px ${CSS_FONT_FAMILY.replace(/!important/gm, '')}`;
        context.fillText('👾', 0, 37);
        const emojiURI = canvas.toDataURL();
        // lies
        context.clearRect(0, 0, canvas.width, canvas.height);
        if ((mods && mods.pixels) || !!Math.max(...context.getImageData(0, 0, 8, 8).data)) {
            lied = true;
            documentLie(`CanvasRenderingContext2D.getImageData`, `pixel data modified`);
        }
        // verify low entropy image data
        canvas.width = 2;
        canvas.height = 2;
        context.fillStyle = '#000';
        context.fillRect(0, 0, canvas.width, canvas.height);
        context.fillStyle = '#fff';
        context.fillRect(2, 2, 1, 1);
        context.beginPath();
        context.arc(0, 0, 2, 0, 1, true);
        context.closePath();
        context.fill();
        const imageDataLowEntropy = context.getImageData(0, 0, 2, 2).data.join('');
        const KnownImageData = {
            BLINK: [
                '255255255255192192192255240240240255484848255',
                '255255255255177177177255246246246255535353255',
                '255255255255128128128255191191191255646464255',
                '255255255255178178178255247247247255565656255',
                '255255255255174174174255242242242255474747255',
                '255255255255229229229255127127127255686868255',
                '255255255255192192192255244244244255535353255',
            ],
            GECKO: [
                '255255255255192192192255240240240255484848255',
                '255255255255191191191255239239239255646464255',
                '255255255255191191191255223223223255606060255',
                '255255255255171171171255223223223255606060255', // ?
            ],
            WEBKIT: [
                '255255255255185185185255233233233255474747255',
                '255255255255185185185255229229229255474747255',
                '255255255255185185185255218218218255474747255',
                '255255255255192192192255240240240255484848255',
                '255255255255178178178255247247247255565656255',
                '255255255255178178178255247247247255565656255',
                '255255255255192192192255240240240255484848255',
                '255255255255186186186255218218218255464646255',
            ],
        };
        Analysis.imageDataLowEntropy = imageDataLowEntropy;
        if (IS_BLINK && !KnownImageData.BLINK.includes(imageDataLowEntropy)) {
            LowerEntropy.CANVAS = true;
        }
        else if (IS_GECKO && !KnownImageData.GECKO.includes(imageDataLowEntropy)) {
            LowerEntropy.CANVAS = true;
        }
        else if (IS_WEBKIT && !KnownImageData.WEBKIT.includes(imageDataLowEntropy)) {
            LowerEntropy.CANVAS = true;
        }
        if (LowerEntropy.CANVAS) {
            sendToTrash('CanvasRenderingContext2D.getImageData', 'suspicious pixel data');
        }
        const getTextMetricsFloatLie = (context) => {
            const isFloat = (n) => n % 1 !== 0;
            const { actualBoundingBoxAscent: abba, actualBoundingBoxDescent: abbd, actualBoundingBoxLeft: abbl, actualBoundingBoxRight: abbr, fontBoundingBoxAscent: fbba, fontBoundingBoxDescent: fbbd,
            // width: w,
             } = context.measureText('') || {};
            const lied = [
                abba,
                abbd,
                abbl,
                abbr,
                fbba,
                fbbd,
            ].find((x) => isFloat((x || 0)));
            return lied;
        };
        await queueEvent(timer);
        if (getTextMetricsFloatLie(context)) {
            textMetricsLie = true;
            lied = true;
            documentLie('CanvasRenderingContext2D.measureText', 'metric noise detected');
        }
        logTestResult({ time: timer.stop(), test: 'canvas 2d', passed: true });
        return {
            dataURI,
            paintURI,
            paintCpuURI,
            textURI,
            emojiURI,
            mods,
            textMetricsSystemSum,
            liedTextMetrics: textMetricsLie,
            emojiSet: [...emojiSet],
            lied,
        };
    }
    catch (error) {
        logTestResult({ test: 'canvas 2d', passed: false });
        captureError(error);
        return;
    }
}

function getCSS() {
    const computeStyle = (type, { require: [captureError] }) => {
        try {
            // get CSSStyleDeclaration
            const cssStyleDeclaration = (type == 'getComputedStyle' ? getComputedStyle(document.body) :
                type == 'HTMLElement.style' ? document.body.style :
                    // @ts-ignore
                    type == 'CSSRuleList.style' ? document.styleSheets[0].cssRules[0].style :
                        undefined);
            if (!cssStyleDeclaration) {
                throw new TypeError('invalid argument string');
            }
            // get properties
            const proto = Object.getPrototypeOf(cssStyleDeclaration);
            const prototypeProperties = Object.getOwnPropertyNames(proto);
            const ownEnumerablePropertyNames = [];
            const cssVar = /^--.*$/;
            Object.keys(cssStyleDeclaration).forEach((key) => {
                const numericKey = !isNaN(+key);
                const value = cssStyleDeclaration[key];
                const customPropKey = cssVar.test(key);
                const customPropValue = cssVar.test(value);
                if (numericKey && !customPropValue) {
                    return ownEnumerablePropertyNames.push(value);
                }
                else if (!numericKey && !customPropKey) {
                    return ownEnumerablePropertyNames.push(key);
                }
                return;
            });
            // get properties in prototype chain (required only in chrome)
            const propertiesInPrototypeChain = {};
            const capitalize = (str) => str.charAt(0).toUpperCase() + str.slice(1);
            const uncapitalize = (str) => str.charAt(0).toLowerCase() + str.slice(1);
            const removeFirstChar = (str) => str.slice(1);
            const caps = /[A-Z]/g;
            ownEnumerablePropertyNames.forEach((key) => {
                if (propertiesInPrototypeChain[key]) {
                    return;
                }
                // determine attribute type
                const isNamedAttribute = key.indexOf('-') > -1;
                const isAliasAttribute = caps.test(key);
                // reduce key for computation
                const firstChar = key.charAt(0);
                const isPrefixedName = isNamedAttribute && firstChar == '-';
                const isCapitalizedAlias = isAliasAttribute && firstChar == firstChar.toUpperCase();
                key = (isPrefixedName ? removeFirstChar(key) :
                    isCapitalizedAlias ? uncapitalize(key) :
                        key);
                // find counterpart in CSSStyleDeclaration object or its prototype chain
                if (isNamedAttribute) {
                    const aliasAttribute = key.split('-').map((word, index) => index == 0 ? word : capitalize(word)).join('');
                    if (aliasAttribute in cssStyleDeclaration) {
                        propertiesInPrototypeChain[aliasAttribute] = true;
                    }
                    else if (capitalize(aliasAttribute) in cssStyleDeclaration) {
                        propertiesInPrototypeChain[capitalize(aliasAttribute)] = true;
                    }
                }
                else if (isAliasAttribute) {
                    const namedAttribute = key.replace(caps, (char) => '-' + char.toLowerCase());
                    if (namedAttribute in cssStyleDeclaration) {
                        propertiesInPrototypeChain[namedAttribute] = true;
                    }
                    else if (`-${namedAttribute}` in cssStyleDeclaration) {
                        propertiesInPrototypeChain[`-${namedAttribute}`] = true;
                    }
                }
                return;
            });
            // compile keys
            const keys = [
                ...new Set([
                    ...prototypeProperties,
                    ...ownEnumerablePropertyNames,
                    ...Object.keys(propertiesInPrototypeChain),
                ]),
            ];
            // @ts-ignore
            const interfaceName = ('' + proto).match(/\[object (.+)\]/)[1];
            return { keys, interfaceName };
        }
        catch (error) {
            captureError(error);
            return;
        }
    };
    const getSystemStyles = (el) => {
        try {
            const colors = [
                'ActiveBorder',
                'ActiveCaption',
                'ActiveText',
                'AppWorkspace',
                'Background',
                'ButtonBorder',
                'ButtonFace',
                'ButtonHighlight',
                'ButtonShadow',
                'ButtonText',
                'Canvas',
                'CanvasText',
                'CaptionText',
                'Field',
                'FieldText',
                'GrayText',
                'Highlight',
                'HighlightText',
                'InactiveBorder',
                'InactiveCaption',
                'InactiveCaptionText',
                'InfoBackground',
                'InfoText',
                'LinkText',
                'Mark',
                'MarkText',
                'Menu',
                'MenuText',
                'Scrollbar',
                'ThreeDDarkShadow',
                'ThreeDFace',
                'ThreeDHighlight',
                'ThreeDLightShadow',
                'ThreeDShadow',
                'VisitedText',
                'Window',
                'WindowFrame',
                'WindowText',
            ];
            const fonts = [
                'caption',
                'icon',
                'menu',
                'message-box',
                'small-caption',
                'status-bar',
            ];
            const getStyles = (el) => ({
                colors: colors.map((color) => {
                    el.setAttribute('style', `background-color: ${color} !important`);
                    return {
                        [color]: getComputedStyle(el).backgroundColor,
                    };
                }),
                fonts: fonts.map((font) => {
                    el.setAttribute('style', `font: ${font} !important`);
                    const computedStyle = getComputedStyle(el);
                    return {
                        [font]: `${computedStyle.fontSize} ${computedStyle.fontFamily}`,
                    };
                }),
            });
            if (!el) {
                el = document.createElement('div');
                document.body.append(el);
                const systemStyles = getStyles(el);
                el.parentNode.removeChild(el);
                return systemStyles;
            }
            return getStyles(el);
        }
        catch (error) {
            captureError(error);
            return;
        }
    };
    try {
        const timer = createTimer();
        timer.start();
        const computedStyle = computeStyle('getComputedStyle', { require: [captureError] });
        const system = getSystemStyles(PARENT_PHANTOM);
        logTestResult({ time: timer.stop(), test: 'computed style', passed: true });
        return {
            computedStyle,
            system,
        };
    }
    catch (error) {
        logTestResult({ test: 'computed style', passed: false });
        captureError(error);
        return;
    }
}

function getCSSMedia() {
    const gcd = (a, b) => b == 0 ? a : gcd(b, a % b);
    const getAspectRatio = (width, height) => {
        const r = gcd(width, height);
        const aspectRatio = `${width / r}/${height / r}`;
        return aspectRatio;
    };
    const query = ({ body, type, rangeStart, rangeLen }) => {
        const html = [...Array(rangeLen)].map((slot, i) => {
            i += rangeStart;
            return `@media(device-${type}:${i}px){body{--device-${type}:${i};}}`;
        }).join('');
        body.innerHTML = `<style>${html}</style>`;
        const style = getComputedStyle(body);
        return style.getPropertyValue(`--device-${type}`).trim();
    };
    const getScreenMedia = ({ body, width, height }) => {
        let widthMatch = query({ body, type: 'width', rangeStart: width, rangeLen: 1 });
        let heightMatch = query({ body, type: 'height', rangeStart: height, rangeLen: 1 });
        if (widthMatch && heightMatch) {
            return { width, height };
        }
        const rangeLen = 1000;
        [...Array(10)].find((slot, i) => {
            if (!widthMatch) {
                widthMatch = query({ body, type: 'width', rangeStart: i * rangeLen, rangeLen });
            }
            if (!heightMatch) {
                heightMatch = query({ body, type: 'height', rangeStart: i * rangeLen, rangeLen });
            }
            return widthMatch && heightMatch;
        });
        return { width: +widthMatch, height: +heightMatch };
    };
    try {
        const timer = createTimer();
        timer.start();
        const win = PHANTOM_DARKNESS.window;
        const { body } = win.document;
        const { width, availWidth, height, availHeight } = win.screen;
        const noTaskbar = !(width - availWidth || height - availHeight);
        if (screen.width !== width || (width > 800 && noTaskbar)) {
            LowerEntropy.IFRAME_SCREEN = true;
        }
        const deviceAspectRatio = getAspectRatio(width, height);
        const matchMediaCSS = {
            ['prefers-reduced-motion']: (win.matchMedia('(prefers-reduced-motion: no-preference)').matches ? 'no-preference' :
                win.matchMedia('(prefers-reduced-motion: reduce)').matches ? 'reduce' : undefined),
            ['prefers-color-scheme']: (win.matchMedia('(prefers-color-scheme: light)').matches ? 'light' :
                win.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : undefined),
            monochrome: (win.matchMedia('(monochrome)').matches ? 'monochrome' :
                win.matchMedia('(monochrome: 0)').matches ? 'non-monochrome' : undefined),
            ['inverted-colors']: (win.matchMedia('(inverted-colors: inverted)').matches ? 'inverted' :
                win.matchMedia('(inverted-colors: none)').matches ? 'none' : undefined),
            ['forced-colors']: (win.matchMedia('(forced-colors: none)').matches ? 'none' :
                win.matchMedia('(forced-colors: active)').matches ? 'active' : undefined),
            ['any-hover']: (win.matchMedia('(any-hover: hover)').matches ? 'hover' :
                win.matchMedia('(any-hover: none)').matches ? 'none' : undefined),
            hover: (win.matchMedia('(hover: hover)').matches ? 'hover' :
                win.matchMedia('(hover: none)').matches ? 'none' : undefined),
            ['any-pointer']: (win.matchMedia('(any-pointer: fine)').matches ? 'fine' :
                win.matchMedia('(any-pointer: coarse)').matches ? 'coarse' :
                    win.matchMedia('(any-pointer: none)').matches ? 'none' : undefined),
            pointer: (win.matchMedia('(pointer: fine)').matches ? 'fine' :
                win.matchMedia('(pointer: coarse)').matches ? 'coarse' :
                    win.matchMedia('(pointer: none)').matches ? 'none' : undefined),
            ['device-aspect-ratio']: (win.matchMedia(`(device-aspect-ratio: ${deviceAspectRatio})`).matches ? deviceAspectRatio : undefined),
            ['device-screen']: (win.matchMedia(`(device-width: ${width}px) and (device-height: ${height}px)`).matches ? `${width} x ${height}` : undefined),
            ['display-mode']: (win.matchMedia('(display-mode: fullscreen)').matches ? 'fullscreen' :
                win.matchMedia('(display-mode: standalone)').matches ? 'standalone' :
                    win.matchMedia('(display-mode: minimal-ui)').matches ? 'minimal-ui' :
                        win.matchMedia('(display-mode: browser)').matches ? 'browser' : undefined),
            ['color-gamut']: (win.matchMedia('(color-gamut: srgb)').matches ? 'srgb' :
                win.matchMedia('(color-gamut: p3)').matches ? 'p3' :
                    win.matchMedia('(color-gamut: rec2020)').matches ? 'rec2020' : undefined),
            orientation: (win.matchMedia('(orientation: landscape)').matches ? 'landscape' :
                win.matchMedia('(orientation: portrait)').matches ? 'portrait' : undefined),
        };
        body.innerHTML = `
		<style>
		@media (prefers-reduced-motion: no-preference) {body {--prefers-reduced-motion: no-preference}}
		@media (prefers-reduced-motion: reduce) {body {--prefers-reduced-motion: reduce}}
		@media (prefers-color-scheme: light) {body {--prefers-color-scheme: light}}
		@media (prefers-color-scheme: dark) {body {--prefers-color-scheme: dark}}
		@media (monochrome) {body {--monochrome: monochrome}}
		@media (monochrome: 0) {body {--monochrome: non-monochrome}}
		@media (inverted-colors: inverted) {body {--inverted-colors: inverted}}
		@media (inverted-colors: none) {body {--inverted-colors: none}}
		@media (forced-colors: none) {body {--forced-colors: none}}
		@media (forced-colors: active) {body {--forced-colors: active}}
		@media (any-hover: hover) {body {--any-hover: hover}}
		@media (any-hover: none) {body {--any-hover: none}}
		@media (hover: hover) {body {--hover: hover}}
		@media (hover: none) {body {--hover: none}}
		@media (any-pointer: fine) {body {--any-pointer: fine}}
		@media (any-pointer: coarse) {body {--any-pointer: coarse}}
		@media (any-pointer: none) {body {--any-pointer: none}}
		@media (pointer: fine) {body {--pointer: fine}}
		@media (pointer: coarse) {body {--pointer: coarse}}
		@media (pointer: none) {body {--pointer: none}}
		@media (device-aspect-ratio: ${deviceAspectRatio}) {body {--device-aspect-ratio: ${deviceAspectRatio}}}
		@media (device-width: ${width}px) and (device-height: ${height}px) {body {--device-screen: ${width} x ${height}}}
		@media (display-mode: fullscreen) {body {--display-mode: fullscreen}}
		@media (display-mode: standalone) {body {--display-mode: standalone}}
		@media (display-mode: minimal-ui) {body {--display-mode: minimal-ui}}
		@media (display-mode: browser) {body {--display-mode: browser}}
		@media (color-gamut: srgb) {body {--color-gamut: srgb}}
		@media (color-gamut: p3) {body {--color-gamut: p3}}
		@media (color-gamut: rec2020) {body {--color-gamut: rec2020}}
		@media (orientation: landscape) {body {--orientation: landscape}}
		@media (orientation: portrait) {body {--orientation: portrait}}
		</style>
		`;
        const style = getComputedStyle(body);
        const mediaCSS = {
            ['prefers-reduced-motion']: style.getPropertyValue('--prefers-reduced-motion').trim() || undefined,
            ['prefers-color-scheme']: style.getPropertyValue('--prefers-color-scheme').trim() || undefined,
            monochrome: style.getPropertyValue('--monochrome').trim() || undefined,
            ['inverted-colors']: style.getPropertyValue('--inverted-colors').trim() || undefined,
            ['forced-colors']: style.getPropertyValue('--forced-colors').trim() || undefined,
            ['any-hover']: style.getPropertyValue('--any-hover').trim() || undefined,
            hover: style.getPropertyValue('--hover').trim() || undefined,
            ['any-pointer']: style.getPropertyValue('--any-pointer').trim() || undefined,
            pointer: style.getPropertyValue('--pointer').trim() || undefined,
            ['device-aspect-ratio']: style.getPropertyValue('--device-aspect-ratio').trim() || undefined,
            ['device-screen']: style.getPropertyValue('--device-screen').trim() || undefined,
            ['display-mode']: style.getPropertyValue('--display-mode').trim() || undefined,
            ['color-gamut']: style.getPropertyValue('--color-gamut').trim() || undefined,
            orientation: style.getPropertyValue('--orientation').trim() || undefined,
        };
        // get screen query
        const screenQuery = getScreenMedia({ body, width, height });
        logTestResult({ time: timer.stop(), test: 'css media', passed: true });
        return { mediaCSS, matchMediaCSS, screenQuery };
    }
    catch (error) {
        logTestResult({ test: 'css media', passed: false });
        captureError(error);
        return;
    }
}

function getHTMLElementVersion() {
    try {
        const timer = createTimer();
        timer.start();
        const keys = [];
        // eslint-disable-next-line guard-for-in
        for (const key in document.documentElement) {
            keys.push(key);
        }
        logTestResult({ time: timer.stop(), test: 'html element', passed: true });
        return { keys };
    }
    catch (error) {
        logTestResult({ test: 'html element', passed: false });
        captureError(error);
        return;
    }
}

// inspired by
// https://privacycheck.sec.lrz.de/active/fp_gcr/fp_getclientrects.html
// https://privacycheck.sec.lrz.de/active/fp_e/fp_emoji.html
async function getClientRects() {
    try {
        const timer = createTimer();
        await queueEvent(timer);
        const toNativeObject = (domRect) => {
            return {
                bottom: domRect.bottom,
                height: domRect.height,
                left: domRect.left,
                right: domRect.right,
                width: domRect.width,
                top: domRect.top,
                x: domRect.x,
                y: domRect.y,
            };
        };
        let lied = (lieProps['Element.getClientRects'] ||
            lieProps['Element.getBoundingClientRect'] ||
            lieProps['Range.getClientRects'] ||
            lieProps['Range.getBoundingClientRect'] ||
            lieProps['String.fromCodePoint']) || false;
        const DOC = (PHANTOM_DARKNESS &&
            PHANTOM_DARKNESS.document &&
            PHANTOM_DARKNESS.document.body ? PHANTOM_DARKNESS.document :
            document);
        const getBestRect = (el) => {
            let range;
            if (!lieProps['Element.getClientRects']) {
                return el.getClientRects()[0];
            }
            else if (!lieProps['Element.getBoundingClientRect']) {
                return el.getBoundingClientRect();
            }
            else if (!lieProps['Range.getClientRects']) {
                range = DOC.createRange();
                range.selectNode(el);
                return range.getClientRects()[0];
            }
            range = DOC.createRange();
            range.selectNode(el);
            return range.getBoundingClientRect();
        };
        const rectsId = `${instanceId}-client-rects-div`;
        const divElement = document.createElement('div');
        divElement.setAttribute('id', rectsId);
        DOC.body.appendChild(divElement);
        patch(divElement, html `
		<div id="${rectsId}">
			<style>
			.rect-ghost,
			.rect-known {
				top: 0;
				left: 0;
				position: absolute;
				visibility: hidden;
			}
			.rect-known {
				width: 100px;
				height: 100px;
				transform: rotate(45deg);
			}
			.rect-ghost {
				width: 0;
				height: 0;
			}
			</style>
			<div class="rect-known"></div>
			<div class="rect-ghost"></div>
			<div style="perspective:100px;width:1000.099%;" id="rect-container">
				<style>
				.rects {
					width: 1000%;
					height: 1000%;
					max-width: 1000%;
				}
				.absolute {
					position: absolute;
				}
				#cRect1 {
					border: solid 2.715px;
					border-color: #F72585;
					padding: 3.98px;
					margin-left: 12.12px;
				}
				#cRect2 {
					border: solid 2px;
					border-color: #7209B7;
					font-size: 30px;
					margin-top: 20px;
					padding: 3.98px;
					transform: skewY(23.1753218deg) rotate3d(10.00099, 90, 0.100000000000009, 60000000000008.00000009deg);
				}
				#cRect3 {
					border: solid 2.89px;
					border-color: #3A0CA3;
					font-size: 45px;
					transform: skewY(-23.1753218deg) scale(1099.0000000099, 1.89) matrix(1.11, 2.0001, -1.0001, 1.009, 150, 94.4);
					margin-top: 50px;
				}
				#cRect4 {
					border: solid 2px;
					border-color: #4361EE;
					transform: matrix(1.11, 2.0001, -1.0001, 1.009, 150, 94.4);
					margin-top: 11.1331px;
					margin-left: 12.1212px;
					padding: 4.4545px;
					left: 239.4141px;
					top: 8.5050px;
				}
				#cRect5 {
					border: solid 2px;
					border-color: #4CC9F0;
					margin-left: 42.395pt;
				}
				#cRect6 {
					border: solid 2px;
					border-color: #F72585;
					transform: perspective(12890px) translateZ(101.5px);
					padding: 12px;
				}
				#cRect7 {
					margin-top: -350.552px;
					margin-left: 0.9099rem;
					border: solid 2px;
					border-color: #4361EE;
				}
				#cRect8 {
					margin-top: -150.552px;
					margin-left: 15.9099rem;
					border: solid 2px;
					border-color: #3A0CA3;
				}
				#cRect9 {
					margin-top: -110.552px;
					margin-left: 15.9099rem;
					border: solid 2px;
					border-color: #7209B7;
				}
				#cRect10 {
					margin-top: -315.552px;
					margin-left: 15.9099rem;
					border: solid 2px;
					border-color: #F72585;
				}
				#cRect11 {
					width: 10px;
					height: 10px;
					margin-left: 15.0000009099rem;
					border: solid 2px;
					border-color: #F72585;
				}
				#cRect12 {
					width: 10px;
					height: 10px;
					margin-left: 15.0000009099rem;
					border: solid 2px;
					border-color: #F72585;
				}
				#rect-container .shift-dom-rect {
					top: 1px !important;
					left: 1px !important;
				}
				</style>
				<div id="cRect1" class="rects"></div>
				<div id="cRect2" class="rects"></div>
				<div id="cRect3" class="rects"></div>
				<div id="cRect4" class="rects absolute"></div>
				<div id="cRect5" class="rects"></div>
				<div id="cRect6" class="rects"></div>
				<div id="cRect7" class="rects absolute"></div>
				<div id="cRect8" class="rects absolute"></div>
				<div id="cRect9" class="rects absolute"></div>
				<div id="cRect10" class="rects absolute"></div>
				<div id="cRect11" class="rects"></div>
				<div id="cRect12" class="rects"></div>
				<div id="emoji" class="emojis"></div>
			</div>
			<div id="emoji-container">
				<style>
				.domrect-emoji {
					font-family: ${CSS_FONT_FAMILY};
					font-size: 200px !important;
					height: auto;
					position: absolute !important;
					transform: scale(1.000999);
				}
				</style>
				${EMOJIS.map((emoji) => {
            return `<div class="domrect-emoji">${emoji}</div>`;
        }).join('')}
			</div>
		</div>
		`);
        // get emoji set and system
        const pattern = new Set();
        await queueEvent(timer);
        const emojiElems = [...DOC.getElementsByClassName('domrect-emoji')];
        const emojiSet = emojiElems.reduce((emojiSet, el, i) => {
            const emoji = EMOJIS[i];
            const { height, width } = getBestRect(el);
            const dimensions = `${width},${height}`;
            if (!pattern.has(dimensions)) {
                pattern.add(dimensions);
                emojiSet.add(emoji);
            }
            return emojiSet;
        }, new Set());
        const domrectSystemSum = 0.00001 * [...pattern].map((x) => {
            return x.split(',').reduce((acc, x) => acc += (+x || 0), 0);
        }).reduce((acc, x) => acc += x, 0);
        // get clientRects
        const range = document.createRange();
        const rectElems = DOC.getElementsByClassName('rects');
        const elementClientRects = [...rectElems].map((el) => {
            return toNativeObject(el.getClientRects()[0]);
        });
        const elementBoundingClientRect = [...rectElems].map((el) => {
            return toNativeObject(el.getBoundingClientRect());
        });
        const rangeClientRects = [...rectElems].map((el) => {
            range.selectNode(el);
            return toNativeObject(range.getClientRects()[0]);
        });
        const rangeBoundingClientRect = [...rectElems].map((el) => {
            range.selectNode(el);
            return toNativeObject(el.getBoundingClientRect());
        });
        // detect failed shift calculation
        // inspired by https://arkenfox.github.io/TZP
        const rect4 = [...rectElems][3];
        const { top: initialTop } = elementClientRects[3];
        rect4.classList.add('shift-dom-rect');
        const { top: shiftedTop } = toNativeObject(rect4.getClientRects()[0]);
        rect4.classList.remove('shift-dom-rect');
        const { top: unshiftedTop } = toNativeObject(rect4.getClientRects()[0]);
        const diff = initialTop - shiftedTop;
        const unshiftLie = diff != (unshiftedTop - shiftedTop);
        if (unshiftLie) {
            lied = true;
            documentLie('Element.getClientRects', 'failed unshift calculation');
        }
        // detect failed math calculation lie
        let mathLie = false;
        elementClientRects.forEach((rect) => {
            const { right, left, width, bottom, top, height, x, y } = rect;
            if (right - left != width ||
                bottom - top != height ||
                right - x != width ||
                bottom - y != height) {
                lied = true;
                mathLie = true;
            }
            return;
        });
        if (mathLie) {
            documentLie('Element.getClientRects', 'failed math calculation');
        }
        // detect equal elements mismatch lie
        const { right: right1, left: left1 } = elementClientRects[10];
        const { right: right2, left: left2 } = elementClientRects[11];
        if (right1 != right2 || left1 != left2) {
            documentLie('Element.getClientRects', 'equal elements mismatch');
            lied = true;
        }
        // detect unknown rotate dimensions
        const knownEl = [...DOC.getElementsByClassName('rect-known')][0];
        const knownDimensions = toNativeObject(knownEl.getClientRects()[0]);
        const knownHash = hashMini(knownDimensions);
        if (IS_BLINK) {
            const Rotate = {
                '9d9215cc': true,
                '47ded322': true,
                'd0eceaa8': true, // 90
            };
            if (!Rotate[knownHash]) {
                documentLie('Element.getClientRects', 'unknown rotate dimensions');
                lied = true;
            }
        }
        else if (IS_GECKO) {
            const Rotate = {
                'e38453f0': true, // 100, etc
            };
            if (!Rotate[knownHash]) {
                documentLie('Element.getClientRects', 'unknown rotate dimensions');
                lied = true;
            }
        }
        // detect ghost dimensions
        const ghostEl = [...DOC.getElementsByClassName('rect-ghost')][0];
        const ghostDimensions = toNativeObject(ghostEl.getClientRects()[0]);
        const hasGhostDimensions = Object.keys(ghostDimensions)
            .some((key) => ghostDimensions[key] !== 0);
        if (hasGhostDimensions) {
            documentLie('Element.getClientRects', 'unknown ghost dimensions');
            lied = true;
        }
        DOC.body.removeChild(DOC.getElementById(rectsId));
        logTestResult({ time: timer.stop(), test: 'rects', passed: true });
        return {
            elementClientRects,
            elementBoundingClientRect,
            rangeClientRects,
            rangeBoundingClientRect,
            emojiSet: [...emojiSet],
            domrectSystemSum,
            lied,
        };
    }
    catch (error) {
        logTestResult({ test: 'rects', passed: false });
        captureError(error);
        return;
    }
}

function getErrors(errFns) {
    const errors = [];
    let i;
    const len = errFns.length;
    for (i = 0; i < len; i++) {
        try {
            errFns[i]();
        }
        catch (err) {
            errors.push(err.message);
        }
    }
    return errors;
}
function getConsoleErrors() {
    try {
        const timer = createTimer();
        timer.start();
        const errorTests = [
            () => new Function('alert(")')(),
            () => new Function('const foo;foo.bar')(),
            () => new Function('null.bar')(),
            () => new Function('abc.xyz = 123')(),
            () => new Function('const foo;foo.bar')(),
            () => new Function('(1).toString(1000)')(),
            () => new Function('[...undefined].length')(),
            () => new Function('var x = new Array(-1)')(),
            () => new Function('const a=1; const a=2;')(),
        ];
        const errors = getErrors(errorTests);
        logTestResult({ time: timer.stop(), test: 'console errors', passed: true });
        return { errors };
    }
    catch (error) {
        logTestResult({ test: 'console errors', passed: false });
        captureError(error);
        return;
    }
}

/*
Steps to update:
0. get beta release desktop/mobile
1. get diffs from template
2. update feature list
3. update stable features object
*/
const getStableFeatures = () => ({
    'Chrome': {
        version: 109,
        windowKeys: `Object, Function, Array, Number, parseFloat, parseInt, Infinity, NaN, undefined, Boolean, String, Symbol, Date, Promise, RegExp, Error, AggregateError, EvalError, RangeError, ReferenceError, SyntaxError, TypeError, URIError, globalThis, JSON, Math, Intl, ArrayBuffer, Uint8Array, Int8Array, Uint16Array, Int16Array, Uint32Array, Int32Array, Float32Array, Float64Array, Uint8ClampedArray, BigUint64Array, BigInt64Array, DataView, Map, BigInt, Set, WeakMap, WeakSet, Proxy, Reflect, FinalizationRegistry, WeakRef, decodeURI, decodeURIComponent, encodeURI, encodeURIComponent, escape, unescape, eval, isFinite, isNaN, console, Option, Image, Audio, webkitURL, webkitRTCPeerConnection, webkitMediaStream, WebKitMutationObserver, WebKitCSSMatrix, XSLTProcessor, XPathResult, XPathExpression, XPathEvaluator, XMLSerializer, XMLHttpRequestUpload, XMLHttpRequestEventTarget, XMLHttpRequest, XMLDocument, WritableStreamDefaultWriter, WritableStreamDefaultController, WritableStream, Worker, Window, WheelEvent, WebSocket, WebGLVertexArrayObject, WebGLUniformLocation, WebGLTransformFeedback, WebGLTexture, WebGLSync, WebGLShaderPrecisionFormat, WebGLShader, WebGLSampler, WebGLRenderingContext, WebGLRenderbuffer, WebGLQuery, WebGLProgram, WebGLFramebuffer, WebGLContextEvent, WebGLBuffer, WebGLActiveInfo, WebGL2RenderingContext, WaveShaperNode, VisualViewport, VirtualKeyboardGeometryChangeEvent, ValidityState, VTTCue, UserActivation, URLSearchParams, URLPattern, URL, UIEvent, TrustedTypePolicyFactory, TrustedTypePolicy, TrustedScriptURL, TrustedScript, TrustedHTML, TreeWalker, TransitionEvent, TransformStreamDefaultController, TransformStream, TrackEvent, TouchList, TouchEvent, Touch, TimeRanges, TextTrackList, TextTrackCueList, TextTrackCue, TextTrack, TextMetrics, TextEvent, TextEncoderStream, TextEncoder, TextDecoderStream, TextDecoder, Text, TaskSignal, TaskPriorityChangeEvent, TaskController, TaskAttributionTiming, SyncManager, SubmitEvent, StyleSheetList, StyleSheet, StylePropertyMapReadOnly, StylePropertyMap, StorageEvent, Storage, StereoPannerNode, StaticRange, ShadowRoot, Selection, SecurityPolicyViolationEvent, ScriptProcessorNode, ScreenOrientation, Screen, Scheduling, Scheduler, SVGViewElement, SVGUseElement, SVGUnitTypes, SVGTransformList, SVGTransform, SVGTitleElement, SVGTextPositioningElement, SVGTextPathElement, SVGTextElement, SVGTextContentElement, SVGTSpanElement, SVGSymbolElement, SVGSwitchElement, SVGStyleElement, SVGStringList, SVGStopElement, SVGSetElement, SVGScriptElement, SVGSVGElement, SVGRectElement, SVGRect, SVGRadialGradientElement, SVGPreserveAspectRatio, SVGPolylineElement, SVGPolygonElement, SVGPointList, SVGPoint, SVGPatternElement, SVGPathElement, SVGNumberList, SVGNumber, SVGMetadataElement, SVGMatrix, SVGMaskElement, SVGMarkerElement, SVGMPathElement, SVGLinearGradientElement, SVGLineElement, SVGLengthList, SVGLength, SVGImageElement, SVGGraphicsElement, SVGGradientElement, SVGGeometryElement, SVGGElement, SVGForeignObjectElement, SVGFilterElement, SVGFETurbulenceElement, SVGFETileElement, SVGFESpotLightElement, SVGFESpecularLightingElement, SVGFEPointLightElement, SVGFEOffsetElement, SVGFEMorphologyElement, SVGFEMergeNodeElement, SVGFEMergeElement, SVGFEImageElement, SVGFEGaussianBlurElement, SVGFEFuncRElement, SVGFEFuncGElement, SVGFEFuncBElement, SVGFEFuncAElement, SVGFEFloodElement, SVGFEDropShadowElement, SVGFEDistantLightElement, SVGFEDisplacementMapElement, SVGFEDiffuseLightingElement, SVGFEConvolveMatrixElement, SVGFECompositeElement, SVGFEComponentTransferElement, SVGFEColorMatrixElement, SVGFEBlendElement, SVGEllipseElement, SVGElement, SVGDescElement, SVGDefsElement, SVGComponentTransferFunctionElement, SVGClipPathElement, SVGCircleElement, SVGAnimationElement, SVGAnimatedTransformList, SVGAnimatedString, SVGAnimatedRect, SVGAnimatedPreserveAspectRatio, SVGAnimatedNumberList, SVGAnimatedNumber, SVGAnimatedLengthList, SVGAnimatedLength, SVGAnimatedInteger, SVGAnimatedEnumeration, SVGAnimatedBoolean, SVGAnimatedAngle, SVGAnimateTransformElement, SVGAnimateMotionElement, SVGAnimateElement, SVGAngle, SVGAElement, Response, ResizeObserverSize, ResizeObserverEntry, ResizeObserver, Request, ReportingObserver, ReadableStreamDefaultReader, ReadableStreamDefaultController, ReadableStreamBYOBRequest, ReadableStreamBYOBReader, ReadableStream, ReadableByteStreamController, Range, RadioNodeList, RTCTrackEvent, RTCStatsReport, RTCSessionDescription, RTCSctpTransport, RTCRtpTransceiver, RTCRtpSender, RTCRtpReceiver, RTCPeerConnectionIceEvent, RTCPeerConnectionIceErrorEvent, RTCPeerConnection, RTCIceTransport, RTCIceCandidate, RTCErrorEvent, RTCError, RTCEncodedVideoFrame, RTCEncodedAudioFrame, RTCDtlsTransport, RTCDataChannelEvent, RTCDataChannel, RTCDTMFToneChangeEvent, RTCDTMFSender, RTCCertificate, PromiseRejectionEvent, ProgressEvent, Profiler, ProcessingInstruction, PopStateEvent, PointerEvent, PluginArray, Plugin, PeriodicWave, PerformanceTiming, PerformanceServerTiming, PerformanceResourceTiming, PerformancePaintTiming, PerformanceObserverEntryList, PerformanceObserver, PerformanceNavigationTiming, PerformanceNavigation, PerformanceMeasure, PerformanceMark, PerformanceLongTaskTiming, PerformanceEventTiming, PerformanceEntry, PerformanceElementTiming, Performance, Path2D, PannerNode, PageTransitionEvent, OverconstrainedError, OscillatorNode, OffscreenCanvasRenderingContext2D, OffscreenCanvas, OfflineAudioContext, OfflineAudioCompletionEvent, NodeList, NodeIterator, NodeFilter, Node, NetworkInformation, Navigator, NamedNodeMap, MutationRecord, MutationObserver, MutationEvent, MouseEvent, MimeTypeArray, MimeType, MessagePort, MessageEvent, MessageChannel, MediaStreamTrackProcessor, MediaStreamTrackEvent, MediaStreamEvent, MediaStreamAudioSourceNode, MediaStreamAudioDestinationNode, MediaStream, MediaRecorder, MediaQueryListEvent, MediaQueryList, MediaList, MediaError, MediaEncryptedEvent, MediaElementAudioSourceNode, MediaCapabilities, Location, LayoutShiftAttribution, LayoutShift, LargestContentfulPaint, KeyframeEffect, KeyboardEvent, IntersectionObserverEntry, IntersectionObserver, InputEvent, InputDeviceInfo, InputDeviceCapabilities, ImageData, ImageCapture, ImageBitmapRenderingContext, ImageBitmap, IdleDeadline, IIRFilterNode, IDBVersionChangeEvent, IDBTransaction, IDBRequest, IDBOpenDBRequest, IDBObjectStore, IDBKeyRange, IDBIndex, IDBFactory, IDBDatabase, IDBCursorWithValue, IDBCursor, History, Headers, HashChangeEvent, HTMLVideoElement, HTMLUnknownElement, HTMLUListElement, HTMLTrackElement, HTMLTitleElement, HTMLTimeElement, HTMLTextAreaElement, HTMLTemplateElement, HTMLTableSectionElement, HTMLTableRowElement, HTMLTableElement, HTMLTableColElement, HTMLTableCellElement, HTMLTableCaptionElement, HTMLStyleElement, HTMLSpanElement, HTMLSourceElement, HTMLSlotElement, HTMLSelectElement, HTMLScriptElement, HTMLQuoteElement, HTMLProgressElement, HTMLPreElement, HTMLPictureElement, HTMLParamElement, HTMLParagraphElement, HTMLOutputElement, HTMLOptionsCollection, HTMLOptionElement, HTMLOptGroupElement, HTMLObjectElement, HTMLOListElement, HTMLModElement, HTMLMeterElement, HTMLMetaElement, HTMLMenuElement, HTMLMediaElement, HTMLMarqueeElement, HTMLMapElement, HTMLLinkElement, HTMLLegendElement, HTMLLabelElement, HTMLLIElement, HTMLInputElement, HTMLImageElement, HTMLIFrameElement, HTMLHtmlElement, HTMLHeadingElement, HTMLHeadElement, HTMLHRElement, HTMLFrameSetElement, HTMLFrameElement, HTMLFormElement, HTMLFormControlsCollection, HTMLFontElement, HTMLFieldSetElement, HTMLEmbedElement, HTMLElement, HTMLDocument, HTMLDivElement, HTMLDirectoryElement, HTMLDialogElement, HTMLDetailsElement, HTMLDataListElement, HTMLDataElement, HTMLDListElement, HTMLCollection, HTMLCanvasElement, HTMLButtonElement, HTMLBodyElement, HTMLBaseElement, HTMLBRElement, HTMLAudioElement, HTMLAreaElement, HTMLAnchorElement, HTMLAllCollection, GeolocationPositionError, GeolocationPosition, GeolocationCoordinates, Geolocation, GamepadHapticActuator, GamepadEvent, GamepadButton, Gamepad, GainNode, FormDataEvent, FormData, FontFaceSetLoadEvent, FontFace, FocusEvent, FileReader, FileList, File, FeaturePolicy, External, EventTarget, EventSource, EventCounts, Event, ErrorEvent, ElementInternals, Element, DynamicsCompressorNode, DragEvent, DocumentType, DocumentFragment, Document, DelayNode, DecompressionStream, DataTransferItemList, DataTransferItem, DataTransfer, DOMTokenList, DOMStringMap, DOMStringList, DOMRectReadOnly, DOMRectList, DOMRect, DOMQuad, DOMPointReadOnly, DOMPoint, DOMParser, DOMMatrixReadOnly, DOMMatrix, DOMImplementation, DOMException, DOMError, CustomStateSet, CustomEvent, CustomElementRegistry, Crypto, CountQueuingStrategy, ConvolverNode, ConstantSourceNode, CompressionStream, CompositionEvent, Comment, CloseEvent, ClipboardEvent, CharacterData, ChannelSplitterNode, ChannelMergerNode, CanvasRenderingContext2D, CanvasPattern, CanvasGradient, CanvasFilter, CanvasCaptureMediaStreamTrack, CSSVariableReferenceValue, CSSUnparsedValue, CSSUnitValue, CSSTranslate, CSSTransformValue, CSSTransformComponent, CSSSupportsRule, CSSStyleValue, CSSStyleSheet, CSSStyleRule, CSSStyleDeclaration, CSSSkewY, CSSSkewX, CSSSkew, CSSScale, CSSRuleList, CSSRule, CSSRotate, CSSPropertyRule, CSSPositionValue, CSSPerspective, CSSPageRule, CSSNumericValue, CSSNumericArray, CSSNamespaceRule, CSSMediaRule, CSSMatrixComponent, CSSMathValue, CSSMathSum, CSSMathProduct, CSSMathNegate, CSSMathMin, CSSMathMax, CSSMathInvert, CSSMathClamp, CSSLayerStatementRule, CSSLayerBlockRule, CSSKeywordValue, CSSKeyframesRule, CSSKeyframeRule, CSSImportRule, CSSImageValue, CSSGroupingRule, CSSFontFaceRule, CSSCounterStyleRule, CSSConditionRule, CSS, CDATASection, ByteLengthQueuingStrategy, BroadcastChannel, BlobEvent, Blob, BiquadFilterNode, BeforeUnloadEvent, BeforeInstallPromptEvent, BaseAudioContext, BarProp, AudioWorkletNode, AudioScheduledSourceNode, AudioProcessingEvent, AudioParamMap, AudioParam, AudioNode, AudioListener, AudioDestinationNode, AudioContext, AudioBufferSourceNode, AudioBuffer, Attr, AnimationEvent, AnimationEffect, Animation, AnalyserNode, AbstractRange, AbortSignal, AbortController, window, self, document, name, location, customElements, history, locationbar, menubar, personalbar, scrollbars, statusbar, toolbar, status, closed, frames, length, top, opener, parent, frameElement, navigator, origin, external, screen, innerWidth, innerHeight, scrollX, pageXOffset, scrollY, pageYOffset, visualViewport, screenX, screenY, outerWidth, outerHeight, devicePixelRatio, event, clientInformation, offscreenBuffering, screenLeft, screenTop, styleMedia, onsearch, isSecureContext, trustedTypes, performance, onappinstalled, onbeforeinstallprompt, crypto, indexedDB, sessionStorage, localStorage, onbeforexrselect, onabort, onbeforeinput, onblur, oncancel, oncanplay, oncanplaythrough, onchange, onclick, onclose, oncontextlost, oncontextmenu, oncontextrestored, oncuechange, ondblclick, ondrag, ondragend, ondragenter, ondragleave, ondragover, ondragstart, ondrop, ondurationchange, onemptied, onended, onerror, onfocus, onformdata, oninput, oninvalid, onkeydown, onkeypress, onkeyup, onload, onloadeddata, onloadedmetadata, onloadstart, onmousedown, onmouseenter, onmouseleave, onmousemove, onmouseout, onmouseover, onmouseup, onmousewheel, onpause, onplay, onplaying, onprogress, onratechange, onreset, onresize, onscroll, onsecuritypolicyviolation, onseeked, onseeking, onselect, onslotchange, onstalled, onsubmit, onsuspend, ontimeupdate, ontoggle, onvolumechange, onwaiting, onwebkitanimationend, onwebkitanimationiteration, onwebkitanimationstart, onwebkittransitionend, onwheel, onauxclick, ongotpointercapture, onlostpointercapture, onpointerdown, onpointermove, onpointerrawupdate, onpointerup, onpointercancel, onpointerover, onpointerout, onpointerenter, onpointerleave, onselectstart, onselectionchange, onanimationend, onanimationiteration, onanimationstart, ontransitionrun, ontransitionstart, ontransitionend, ontransitioncancel, onafterprint, onbeforeprint, onbeforeunload, onhashchange, onlanguagechange, onmessage, onmessageerror, onoffline, ononline, onpagehide, onpageshow, onpopstate, onrejectionhandled, onstorage, onunhandledrejection, onunload, crossOriginIsolated, scheduler, alert, atob, blur, btoa, cancelAnimationFrame, cancelIdleCallback, captureEvents, clearInterval, clearTimeout, close, confirm, createImageBitmap, fetch, find, focus, getComputedStyle, getSelection, matchMedia, moveBy, moveTo, open, postMessage, print, prompt, queueMicrotask, releaseEvents, reportError, requestAnimationFrame, requestIdleCallback, resizeBy, resizeTo, scroll, scrollBy, scrollTo, setInterval, setTimeout, stop, structuredClone, webkitCancelAnimationFrame, webkitRequestAnimationFrame, Atomics, chrome, WebAssembly, caches, cookieStore, ondevicemotion, ondeviceorientation, ondeviceorientationabsolute, launchQueue, onbeforematch, AbsoluteOrientationSensor, Accelerometer, AudioWorklet, BatteryManager, Cache, CacheStorage, Clipboard, ClipboardItem, CookieChangeEvent, CookieStore, CookieStoreManager, Credential, CredentialsContainer, CryptoKey, DeviceMotionEvent, DeviceMotionEventAcceleration, DeviceMotionEventRotationRate, DeviceOrientationEvent, FederatedCredential, GravitySensor, Gyroscope, Keyboard, KeyboardLayoutMap, LinearAccelerationSensor, Lock, LockManager, MIDIAccess, MIDIConnectionEvent, MIDIInput, MIDIInputMap, MIDIMessageEvent, MIDIOutput, MIDIOutputMap, MIDIPort, MediaDeviceInfo, MediaDevices, MediaKeyMessageEvent, MediaKeySession, MediaKeyStatusMap, MediaKeySystemAccess, MediaKeys, NavigationPreloadManager, NavigatorManagedData, OrientationSensor, PasswordCredential, RelativeOrientationSensor, ScreenDetailed, ScreenDetails, Sensor, SensorErrorEvent, ServiceWorker, ServiceWorkerContainer, ServiceWorkerRegistration, StorageManager, SubtleCrypto, VirtualKeyboard, WebTransport, WebTransportBidirectionalStream, WebTransportDatagramDuplexStream, WebTransportError, Worklet, XRDOMOverlayState, XRLayer, XRWebGLBinding, AudioData, EncodedAudioChunk, EncodedVideoChunk, ImageTrack, ImageTrackList, VideoColorSpace, VideoFrame, AudioDecoder, AudioEncoder, ImageDecoder, VideoDecoder, VideoEncoder, AuthenticatorAssertionResponse, AuthenticatorAttestationResponse, AuthenticatorResponse, PublicKeyCredential, Bluetooth, BluetoothCharacteristicProperties, BluetoothDevice, BluetoothRemoteGATTCharacteristic, BluetoothRemoteGATTDescriptor, BluetoothRemoteGATTServer, BluetoothRemoteGATTService, CaptureController, EyeDropper, FileSystemDirectoryHandle, FileSystemFileHandle, FileSystemHandle, FileSystemWritableFileStream, FontData, FragmentDirective, HID, HIDConnectionEvent, HIDDevice, HIDInputReportEvent, IdentityCredential, IdleDetector, LaunchParams, LaunchQueue, OTPCredential, PaymentAddress, PaymentRequest, PaymentResponse, PaymentMethodChangeEvent, Presentation, PresentationAvailability, PresentationConnection, PresentationConnectionAvailableEvent, PresentationConnectionCloseEvent, PresentationConnectionList, PresentationReceiver, PresentationRequest, Sanitizer, Serial, SerialPort, USB, USBAlternateInterface, USBConfiguration, USBConnectionEvent, USBDevice, USBEndpoint, USBInTransferResult, USBInterface, USBIsochronousInTransferPacket, USBIsochronousInTransferResult, USBIsochronousOutTransferPacket, USBIsochronousOutTransferResult, USBOutTransferResult, WakeLock, WakeLockSentinel, WindowControlsOverlay, WindowControlsOverlayGeometryChangeEvent, XRAnchor, XRAnchorSet, XRBoundedReferenceSpace, XRFrame, XRInputSource, XRInputSourceArray, XRInputSourceEvent, XRInputSourcesChangeEvent, XRPose, XRReferenceSpace, XRReferenceSpaceEvent, XRRenderState, XRRigidTransform, XRSession, XRSessionEvent, XRSpace, XRSystem, XRView, XRViewerPose, XRViewport, XRWebGLLayer, XRCPUDepthInformation, XRDepthInformation, XRWebGLDepthInformation, XRCamera, XRHitTestResult, XRHitTestSource, XRRay, XRTransientInputHitTestResult, XRTransientInputHitTestSource, XRLightEstimate, XRLightProbe, getScreenDetails, queryLocalFonts, showDirectoryPicker, showOpenFilePicker, showSaveFilePicker, originAgentCluster, navigation, webkitStorageInfo, speechSynthesis, oncontentvisibilityautostatechange, AnimationPlaybackEvent, AnimationTimeline, CSSAnimation, CSSTransition, DocumentTimeline, BackgroundFetchManager, BackgroundFetchRecord, BackgroundFetchRegistration, BluetoothUUID, BrowserCaptureMediaStreamTrack, CropTarget, CSSContainerRule, CSSFontPaletteValuesRule, ContentVisibilityAutoStateChangeEvent, DelegatedInkTrailPresenter, Ink, Highlight, HighlightRegistry, MathMLElement, MediaMetadata, MediaSession, MediaSource, SourceBuffer, SourceBufferList, MediaSourceHandle, MediaStreamTrack, MediaStreamTrackGenerator, NavigateEvent, Navigation, NavigationCurrentEntryChangeEvent, NavigationDestination, NavigationHistoryEntry, NavigationTransition, NavigatorUAData, Notification, PaymentInstruments, PaymentManager, PaymentRequestUpdateEvent, PeriodicSyncManager, PermissionStatus, Permissions, PictureInPictureEvent, PictureInPictureWindow, PushManager, PushSubscription, PushSubscriptionOptions, RemotePlayback, SharedWorker, SpeechSynthesisErrorEvent, SpeechSynthesisEvent, SpeechSynthesisUtterance, VideoPlaybackQuality, webkitSpeechGrammar, webkitSpeechGrammarList, webkitSpeechRecognition, webkitSpeechRecognitionError, webkitSpeechRecognitionEvent, openDatabase, webkitRequestFileSystem, webkitResolveLocalFileSystemURL`,
        cssKeys: `cssText, length, parentRule, cssFloat, getPropertyPriority, getPropertyValue, item, removeProperty, setProperty, constructor, accent-color, align-content, align-items, align-self, alignment-baseline, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, app-region, appearance, backdrop-filter, backface-visibility, background-attachment, background-blend-mode, background-clip, background-color, background-image, background-origin, background-position, background-repeat, background-size, baseline-shift, block-size, border-block-end-color, border-block-end-style, border-block-end-width, border-block-start-color, border-block-start-style, border-block-start-width, border-bottom-color, border-bottom-left-radius, border-bottom-right-radius, border-bottom-style, border-bottom-width, border-collapse, border-end-end-radius, border-end-start-radius, border-image-outset, border-image-repeat, border-image-slice, border-image-source, border-image-width, border-inline-end-color, border-inline-end-style, border-inline-end-width, border-inline-start-color, border-inline-start-style, border-inline-start-width, border-left-color, border-left-style, border-left-width, border-right-color, border-right-style, border-right-width, border-start-end-radius, border-start-start-radius, border-top-color, border-top-left-radius, border-top-right-radius, border-top-style, border-top-width, bottom, box-shadow, box-sizing, break-after, break-before, break-inside, buffered-rendering, caption-side, caret-color, clear, clip, clip-path, clip-rule, color, color-interpolation, color-interpolation-filters, color-rendering, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-span, column-width, contain-intrinsic-block-size, contain-intrinsic-height, contain-intrinsic-inline-size, contain-intrinsic-size, contain-intrinsic-width, container-name, container-type, content, cursor, cx, cy, d, direction, display, dominant-baseline, empty-cells, fill, fill-opacity, fill-rule, filter, flex-basis, flex-direction, flex-grow, flex-shrink, flex-wrap, float, flood-color, flood-opacity, font-family, font-kerning, font-optical-sizing, font-palette, font-size, font-stretch, font-style, font-synthesis-small-caps, font-synthesis-style, font-synthesis-weight, font-variant, font-variant-caps, font-variant-east-asian, font-variant-ligatures, font-variant-numeric, font-weight, grid-auto-columns, grid-auto-flow, grid-auto-rows, grid-column-end, grid-column-start, grid-row-end, grid-row-start, grid-template-areas, grid-template-columns, grid-template-rows, height, hyphenate-character, hyphenate-limit-chars, hyphens, image-orientation, image-rendering, inline-size, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start, isolation, justify-content, justify-items, justify-self, left, letter-spacing, lighting-color, line-break, line-height, list-style-image, list-style-position, list-style-type, margin-block-end, margin-block-start, margin-bottom, margin-inline-end, margin-inline-start, margin-left, margin-right, margin-top, marker-end, marker-mid, marker-start, mask-type, math-depth, math-shift, math-style, max-block-size, max-height, max-inline-size, max-width, min-block-size, min-height, min-inline-size, min-width, mix-blend-mode, object-fit, object-position, object-view-box, offset-distance, offset-path, offset-rotate, opacity, order, orphans, outline-color, outline-offset, outline-style, outline-width, overflow-anchor, overflow-clip-margin, overflow-wrap, overflow-x, overflow-y, overscroll-behavior-block, overscroll-behavior-inline, padding-block-end, padding-block-start, padding-bottom, padding-inline-end, padding-inline-start, padding-left, padding-right, padding-top, paint-order, perspective, perspective-origin, pointer-events, position, r, resize, right, rotate, row-gap, ruby-position, rx, ry, scale, scroll-behavior, scroll-margin-block-end, scroll-margin-block-start, scroll-margin-inline-end, scroll-margin-inline-start, scroll-padding-block-end, scroll-padding-block-start, scroll-padding-inline-end, scroll-padding-inline-start, scrollbar-gutter, shape-image-threshold, shape-margin, shape-outside, shape-rendering, speak, stop-color, stop-opacity, stroke, stroke-dasharray, stroke-dashoffset, stroke-linecap, stroke-linejoin, stroke-miterlimit, stroke-opacity, stroke-width, tab-size, table-layout, text-align, text-align-last, text-anchor, text-decoration, text-decoration-color, text-decoration-line, text-decoration-skip-ink, text-decoration-style, text-emphasis-color, text-emphasis-position, text-emphasis-style, text-indent, text-overflow, text-rendering, text-shadow, text-size-adjust, text-transform, text-underline-position, top, touch-action, transform, transform-origin, transform-style, transition-delay, transition-duration, transition-property, transition-timing-function, translate, unicode-bidi, user-select, vector-effect, vertical-align, visibility, white-space, widows, width, will-change, word-break, word-spacing, writing-mode, x, y, z-index, zoom, -webkit-border-horizontal-spacing, -webkit-border-image, -webkit-border-vertical-spacing, -webkit-box-align, -webkit-box-decoration-break, -webkit-box-direction, -webkit-box-flex, -webkit-box-ordinal-group, -webkit-box-orient, -webkit-box-pack, -webkit-box-reflect, -webkit-font-smoothing, -webkit-highlight, -webkit-line-break, -webkit-line-clamp, -webkit-locale, -webkit-mask-box-image, -webkit-mask-box-image-outset, -webkit-mask-box-image-repeat, -webkit-mask-box-image-slice, -webkit-mask-box-image-source, -webkit-mask-box-image-width, -webkit-mask-clip, -webkit-mask-composite, -webkit-mask-image, -webkit-mask-origin, -webkit-mask-position, -webkit-mask-repeat, -webkit-mask-size, -webkit-print-color-adjust, -webkit-rtl-ordering, -webkit-tap-highlight-color, -webkit-text-combine, -webkit-text-decorations-in-effect, -webkit-text-fill-color, -webkit-text-orientation, -webkit-text-security, -webkit-text-stroke-color, -webkit-text-stroke-width, -webkit-user-drag, -webkit-user-modify, -webkit-writing-mode, accentColor, additiveSymbols, alignContent, alignItems, alignSelf, alignmentBaseline, all, animation, animationDelay, animationDirection, animationDuration, animationFillMode, animationIterationCount, animationName, animationPlayState, animationTimingFunction, appRegion, ascentOverride, aspectRatio, backdropFilter, backfaceVisibility, background, backgroundAttachment, backgroundBlendMode, backgroundClip, backgroundColor, backgroundImage, backgroundOrigin, backgroundPosition, backgroundPositionX, backgroundPositionY, backgroundRepeat, backgroundRepeatX, backgroundRepeatY, backgroundSize, basePalette, baselineShift, blockSize, border, borderBlock, borderBlockColor, borderBlockEnd, borderBlockEndColor, borderBlockEndStyle, borderBlockEndWidth, borderBlockStart, borderBlockStartColor, borderBlockStartStyle, borderBlockStartWidth, borderBlockStyle, borderBlockWidth, borderBottom, borderBottomColor, borderBottomLeftRadius, borderBottomRightRadius, borderBottomStyle, borderBottomWidth, borderCollapse, borderColor, borderEndEndRadius, borderEndStartRadius, borderImage, borderImageOutset, borderImageRepeat, borderImageSlice, borderImageSource, borderImageWidth, borderInline, borderInlineColor, borderInlineEnd, borderInlineEndColor, borderInlineEndStyle, borderInlineEndWidth, borderInlineStart, borderInlineStartColor, borderInlineStartStyle, borderInlineStartWidth, borderInlineStyle, borderInlineWidth, borderLeft, borderLeftColor, borderLeftStyle, borderLeftWidth, borderRadius, borderRight, borderRightColor, borderRightStyle, borderRightWidth, borderSpacing, borderStartEndRadius, borderStartStartRadius, borderStyle, borderTop, borderTopColor, borderTopLeftRadius, borderTopRightRadius, borderTopStyle, borderTopWidth, borderWidth, boxShadow, boxSizing, breakAfter, breakBefore, breakInside, bufferedRendering, captionSide, caretColor, clipPath, clipRule, colorInterpolation, colorInterpolationFilters, colorRendering, colorScheme, columnCount, columnFill, columnGap, columnRule, columnRuleColor, columnRuleStyle, columnRuleWidth, columnSpan, columnWidth, columns, contain, containIntrinsicBlockSize, containIntrinsicHeight, containIntrinsicInlineSize, containIntrinsicSize, containIntrinsicWidth, container, containerName, containerType, contentVisibility, counterIncrement, counterReset, counterSet, descentOverride, dominantBaseline, emptyCells, fallback, fillOpacity, fillRule, flex, flexBasis, flexDirection, flexFlow, flexGrow, flexShrink, flexWrap, floodColor, floodOpacity, font, fontDisplay, fontFamily, fontFeatureSettings, fontKerning, fontOpticalSizing, fontPalette, fontSize, fontStretch, fontStyle, fontSynthesis, fontSynthesisSmallCaps, fontSynthesisStyle, fontSynthesisWeight, fontVariant, fontVariantCaps, fontVariantEastAsian, fontVariantLigatures, fontVariantNumeric, fontVariationSettings, fontWeight, forcedColorAdjust, gap, grid, gridArea, gridAutoColumns, gridAutoFlow, gridAutoRows, gridColumn, gridColumnEnd, gridColumnGap, gridColumnStart, gridGap, gridRow, gridRowEnd, gridRowGap, gridRowStart, gridTemplate, gridTemplateAreas, gridTemplateColumns, gridTemplateRows, hyphenateCharacter, hyphenateLimitChars, imageOrientation, imageRendering, inherits, initialValue, inlineSize, inset, insetBlock, insetBlockEnd, insetBlockStart, insetInline, insetInlineEnd, insetInlineStart, justifyContent, justifyItems, justifySelf, letterSpacing, lightingColor, lineBreak, lineGapOverride, lineHeight, listStyle, listStyleImage, listStylePosition, listStyleType, margin, marginBlock, marginBlockEnd, marginBlockStart, marginBottom, marginInline, marginInlineEnd, marginInlineStart, marginLeft, marginRight, marginTop, marker, markerEnd, markerMid, markerStart, mask, maskType, mathDepth, mathShift, mathStyle, maxBlockSize, maxHeight, maxInlineSize, maxWidth, minBlockSize, minHeight, minInlineSize, minWidth, mixBlendMode, negative, objectFit, objectPosition, objectViewBox, offset, offsetDistance, offsetPath, offsetRotate, outline, outlineColor, outlineOffset, outlineStyle, outlineWidth, overflow, overflowAnchor, overflowClipMargin, overflowWrap, overflowX, overflowY, overrideColors, overscrollBehavior, overscrollBehaviorBlock, overscrollBehaviorInline, overscrollBehaviorX, overscrollBehaviorY, pad, padding, paddingBlock, paddingBlockEnd, paddingBlockStart, paddingBottom, paddingInline, paddingInlineEnd, paddingInlineStart, paddingLeft, paddingRight, paddingTop, page, pageBreakAfter, pageBreakBefore, pageBreakInside, pageOrientation, paintOrder, perspectiveOrigin, placeContent, placeItems, placeSelf, pointerEvents, prefix, quotes, range, rowGap, rubyPosition, scrollBehavior, scrollMargin, scrollMarginBlock, scrollMarginBlockEnd, scrollMarginBlockStart, scrollMarginBottom, scrollMarginInline, scrollMarginInlineEnd, scrollMarginInlineStart, scrollMarginLeft, scrollMarginRight, scrollMarginTop, scrollPadding, scrollPaddingBlock, scrollPaddingBlockEnd, scrollPaddingBlockStart, scrollPaddingBottom, scrollPaddingInline, scrollPaddingInlineEnd, scrollPaddingInlineStart, scrollPaddingLeft, scrollPaddingRight, scrollPaddingTop, scrollSnapAlign, scrollSnapStop, scrollSnapType, scrollbarGutter, shapeImageThreshold, shapeMargin, shapeOutside, shapeRendering, size, sizeAdjust, speakAs, src, stopColor, stopOpacity, strokeDasharray, strokeDashoffset, strokeLinecap, strokeLinejoin, strokeMiterlimit, strokeOpacity, strokeWidth, suffix, symbols, syntax, system, tabSize, tableLayout, textAlign, textAlignLast, textAnchor, textCombineUpright, textDecoration, textDecorationColor, textDecorationLine, textDecorationSkipInk, textDecorationStyle, textDecorationThickness, textEmphasis, textEmphasisColor, textEmphasisPosition, textEmphasisStyle, textIndent, textOrientation, textOverflow, textRendering, textShadow, textSizeAdjust, textTransform, textUnderlineOffset, textUnderlinePosition, touchAction, transformBox, transformOrigin, transformStyle, transition, transitionDelay, transitionDuration, transitionProperty, transitionTimingFunction, unicodeBidi, unicodeRange, userSelect, vectorEffect, verticalAlign, webkitAlignContent, webkitAlignItems, webkitAlignSelf, webkitAnimation, webkitAnimationDelay, webkitAnimationDirection, webkitAnimationDuration, webkitAnimationFillMode, webkitAnimationIterationCount, webkitAnimationName, webkitAnimationPlayState, webkitAnimationTimingFunction, webkitAppRegion, webkitAppearance, webkitBackfaceVisibility, webkitBackgroundClip, webkitBackgroundOrigin, webkitBackgroundSize, webkitBorderAfter, webkitBorderAfterColor, webkitBorderAfterStyle, webkitBorderAfterWidth, webkitBorderBefore, webkitBorderBeforeColor, webkitBorderBeforeStyle, webkitBorderBeforeWidth, webkitBorderBottomLeftRadius, webkitBorderBottomRightRadius, webkitBorderEnd, webkitBorderEndColor, webkitBorderEndStyle, webkitBorderEndWidth, webkitBorderHorizontalSpacing, webkitBorderImage, webkitBorderRadius, webkitBorderStart, webkitBorderStartColor, webkitBorderStartStyle, webkitBorderStartWidth, webkitBorderTopLeftRadius, webkitBorderTopRightRadius, webkitBorderVerticalSpacing, webkitBoxAlign, webkitBoxDecorationBreak, webkitBoxDirection, webkitBoxFlex, webkitBoxOrdinalGroup, webkitBoxOrient, webkitBoxPack, webkitBoxReflect, webkitBoxShadow, webkitBoxSizing, webkitClipPath, webkitColumnBreakAfter, webkitColumnBreakBefore, webkitColumnBreakInside, webkitColumnCount, webkitColumnGap, webkitColumnRule, webkitColumnRuleColor, webkitColumnRuleStyle, webkitColumnRuleWidth, webkitColumnSpan, webkitColumnWidth, webkitColumns, webkitFilter, webkitFlex, webkitFlexBasis, webkitFlexDirection, webkitFlexFlow, webkitFlexGrow, webkitFlexShrink, webkitFlexWrap, webkitFontFeatureSettings, webkitFontSmoothing, webkitHighlight, webkitHyphenateCharacter, webkitJustifyContent, webkitLineBreak, webkitLineClamp, webkitLocale, webkitLogicalHeight, webkitLogicalWidth, webkitMarginAfter, webkitMarginBefore, webkitMarginEnd, webkitMarginStart, webkitMask, webkitMaskBoxImage, webkitMaskBoxImageOutset, webkitMaskBoxImageRepeat, webkitMaskBoxImageSlice, webkitMaskBoxImageSource, webkitMaskBoxImageWidth, webkitMaskClip, webkitMaskComposite, webkitMaskImage, webkitMaskOrigin, webkitMaskPosition, webkitMaskPositionX, webkitMaskPositionY, webkitMaskRepeat, webkitMaskRepeatX, webkitMaskRepeatY, webkitMaskSize, webkitMaxLogicalHeight, webkitMaxLogicalWidth, webkitMinLogicalHeight, webkitMinLogicalWidth, webkitOpacity, webkitOrder, webkitPaddingAfter, webkitPaddingBefore, webkitPaddingEnd, webkitPaddingStart, webkitPerspective, webkitPerspectiveOrigin, webkitPerspectiveOriginX, webkitPerspectiveOriginY, webkitPrintColorAdjust, webkitRtlOrdering, webkitRubyPosition, webkitShapeImageThreshold, webkitShapeMargin, webkitShapeOutside, webkitTapHighlightColor, webkitTextCombine, webkitTextDecorationsInEffect, webkitTextEmphasis, webkitTextEmphasisColor, webkitTextEmphasisPosition, webkitTextEmphasisStyle, webkitTextFillColor, webkitTextOrientation, webkitTextSecurity, webkitTextSizeAdjust, webkitTextStroke, webkitTextStrokeColor, webkitTextStrokeWidth, webkitTransform, webkitTransformOrigin, webkitTransformOriginX, webkitTransformOriginY, webkitTransformOriginZ, webkitTransformStyle, webkitTransition, webkitTransitionDelay, webkitTransitionDuration, webkitTransitionProperty, webkitTransitionTimingFunction, webkitUserDrag, webkitUserModify, webkitUserSelect, webkitWritingMode, whiteSpace, willChange, wordBreak, wordSpacing, wordWrap, writingMode, zIndex, additive-symbols, ascent-override, aspect-ratio, background-position-x, background-position-y, background-repeat-x, background-repeat-y, base-palette, border-block, border-block-color, border-block-end, border-block-start, border-block-style, border-block-width, border-bottom, border-color, border-image, border-inline, border-inline-color, border-inline-end, border-inline-start, border-inline-style, border-inline-width, border-left, border-radius, border-right, border-spacing, border-style, border-top, border-width, color-scheme, column-fill, column-rule, content-visibility, counter-increment, counter-reset, counter-set, descent-override, flex-flow, font-display, font-feature-settings, font-synthesis, font-variation-settings, forced-color-adjust, grid-area, grid-column, grid-column-gap, grid-gap, grid-row, grid-row-gap, grid-template, initial-value, inset-block, inset-inline, line-gap-override, list-style, margin-block, margin-inline, override-colors, overscroll-behavior, overscroll-behavior-x, overscroll-behavior-y, padding-block, padding-inline, page-break-after, page-break-before, page-break-inside, page-orientation, place-content, place-items, place-self, scroll-margin, scroll-margin-block, scroll-margin-bottom, scroll-margin-inline, scroll-margin-left, scroll-margin-right, scroll-margin-top, scroll-padding, scroll-padding-block, scroll-padding-bottom, scroll-padding-inline, scroll-padding-left, scroll-padding-right, scroll-padding-top, scroll-snap-align, scroll-snap-stop, scroll-snap-type, size-adjust, speak-as, text-combine-upright, text-decoration-thickness, text-emphasis, text-orientation, text-underline-offset, transform-box, unicode-range, -webkit-align-content, -webkit-align-items, -webkit-align-self, -webkit-animation, -webkit-animation-delay, -webkit-animation-direction, -webkit-animation-duration, -webkit-animation-fill-mode, -webkit-animation-iteration-count, -webkit-animation-name, -webkit-animation-play-state, -webkit-animation-timing-function, -webkit-app-region, -webkit-appearance, -webkit-backface-visibility, -webkit-background-clip, -webkit-background-origin, -webkit-background-size, -webkit-border-after, -webkit-border-after-color, -webkit-border-after-style, -webkit-border-after-width, -webkit-border-before, -webkit-border-before-color, -webkit-border-before-style, -webkit-border-before-width, -webkit-border-bottom-left-radius, -webkit-border-bottom-right-radius, -webkit-border-end, -webkit-border-end-color, -webkit-border-end-style, -webkit-border-end-width, -webkit-border-radius, -webkit-border-start, -webkit-border-start-color, -webkit-border-start-style, -webkit-border-start-width, -webkit-border-top-left-radius, -webkit-border-top-right-radius, -webkit-box-shadow, -webkit-box-sizing, -webkit-clip-path, -webkit-column-break-after, -webkit-column-break-before, -webkit-column-break-inside, -webkit-column-count, -webkit-column-gap, -webkit-column-rule, -webkit-column-rule-color, -webkit-column-rule-style, -webkit-column-rule-width, -webkit-column-span, -webkit-column-width, -webkit-columns, -webkit-filter, -webkit-flex, -webkit-flex-basis, -webkit-flex-direction, -webkit-flex-flow, -webkit-flex-grow, -webkit-flex-shrink, -webkit-flex-wrap, -webkit-font-feature-settings, -webkit-hyphenate-character, -webkit-justify-content, -webkit-logical-height, -webkit-logical-width, -webkit-margin-after, -webkit-margin-before, -webkit-margin-end, -webkit-margin-start, -webkit-mask, -webkit-mask-position-x, -webkit-mask-position-y, -webkit-mask-repeat-x, -webkit-mask-repeat-y, -webkit-max-logical-height, -webkit-max-logical-width, -webkit-min-logical-height, -webkit-min-logical-width, -webkit-opacity, -webkit-order, -webkit-padding-after, -webkit-padding-before, -webkit-padding-end, -webkit-padding-start, -webkit-perspective, -webkit-perspective-origin, -webkit-perspective-origin-x, -webkit-perspective-origin-y, -webkit-ruby-position, -webkit-shape-image-threshold, -webkit-shape-margin, -webkit-shape-outside, -webkit-text-emphasis, -webkit-text-emphasis-color, -webkit-text-emphasis-position, -webkit-text-emphasis-style, -webkit-text-size-adjust, -webkit-text-stroke, -webkit-transform, -webkit-transform-origin, -webkit-transform-origin-x, -webkit-transform-origin-y, -webkit-transform-origin-z, -webkit-transform-style, -webkit-transition, -webkit-transition-delay, -webkit-transition-duration, -webkit-transition-property, -webkit-transition-timing-function, -webkit-user-select, word-wrap`,
        jsKeys: 'Object.assign, Object.getOwnPropertyDescriptor, Object.getOwnPropertyDescriptors, Object.getOwnPropertyNames, Object.getOwnPropertySymbols, Object.hasOwn, Object.is, Object.preventExtensions, Object.seal, Object.create, Object.defineProperties, Object.defineProperty, Object.freeze, Object.getPrototypeOf, Object.setPrototypeOf, Object.isExtensible, Object.isFrozen, Object.isSealed, Object.keys, Object.entries, Object.fromEntries, Object.values, Object.__defineGetter__, Object.__defineSetter__, Object.hasOwnProperty, Object.__lookupGetter__, Object.__lookupSetter__, Object.isPrototypeOf, Object.propertyIsEnumerable, Object.toString, Object.valueOf, Object.__proto__, Object.toLocaleString, Function.apply, Function.bind, Function.call, Function.toString, Boolean.toString, Boolean.valueOf, Symbol.for, Symbol.keyFor, Symbol.asyncIterator, Symbol.hasInstance, Symbol.isConcatSpreadable, Symbol.iterator, Symbol.match, Symbol.matchAll, Symbol.replace, Symbol.search, Symbol.species, Symbol.split, Symbol.toPrimitive, Symbol.toStringTag, Symbol.unscopables, Symbol.toString, Symbol.valueOf, Symbol.description, Error.captureStackTrace, Error.stackTraceLimit, Error.message, Error.toString, Number.isFinite, Number.isInteger, Number.isNaN, Number.isSafeInteger, Number.parseFloat, Number.parseInt, Number.MAX_VALUE, Number.MIN_VALUE, Number.NaN, Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY, Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER, Number.EPSILON, Number.toExponential, Number.toFixed, Number.toPrecision, Number.toString, Number.valueOf, Number.toLocaleString, BigInt.asUintN, BigInt.asIntN, BigInt.toLocaleString, BigInt.toString, BigInt.valueOf, Math.abs, Math.acos, Math.acosh, Math.asin, Math.asinh, Math.atan, Math.atanh, Math.atan2, Math.ceil, Math.cbrt, Math.expm1, Math.clz32, Math.cos, Math.cosh, Math.exp, Math.floor, Math.fround, Math.hypot, Math.imul, Math.log, Math.log1p, Math.log2, Math.log10, Math.max, Math.min, Math.pow, Math.random, Math.round, Math.sign, Math.sin, Math.sinh, Math.sqrt, Math.tan, Math.tanh, Math.trunc, Math.E, Math.LN10, Math.LN2, Math.LOG10E, Math.LOG2E, Math.PI, Math.SQRT1_2, Math.SQRT2, Date.now, Date.parse, Date.UTC, Date.toString, Date.toDateString, Date.toTimeString, Date.toISOString, Date.toUTCString, Date.toGMTString, Date.getDate, Date.setDate, Date.getDay, Date.getFullYear, Date.setFullYear, Date.getHours, Date.setHours, Date.getMilliseconds, Date.setMilliseconds, Date.getMinutes, Date.setMinutes, Date.getMonth, Date.setMonth, Date.getSeconds, Date.setSeconds, Date.getTime, Date.setTime, Date.getTimezoneOffset, Date.getUTCDate, Date.setUTCDate, Date.getUTCDay, Date.getUTCFullYear, Date.setUTCFullYear, Date.getUTCHours, Date.setUTCHours, Date.getUTCMilliseconds, Date.setUTCMilliseconds, Date.getUTCMinutes, Date.setUTCMinutes, Date.getUTCMonth, Date.setUTCMonth, Date.getUTCSeconds, Date.setUTCSeconds, Date.valueOf, Date.getYear, Date.setYear, Date.toJSON, Date.toLocaleString, Date.toLocaleDateString, Date.toLocaleTimeString, String.fromCharCode, String.fromCodePoint, String.raw, String.anchor, String.at, String.big, String.blink, String.bold, String.charAt, String.charCodeAt, String.codePointAt, String.concat, String.endsWith, String.fontcolor, String.fontsize, String.fixed, String.includes, String.indexOf, String.italics, String.lastIndexOf, String.link, String.localeCompare, String.match, String.matchAll, String.normalize, String.padEnd, String.padStart, String.repeat, String.replace, String.replaceAll, String.search, String.slice, String.small, String.split, String.strike, String.sub, String.substr, String.substring, String.sup, String.startsWith, String.toString, String.trim, String.trimStart, String.trimLeft, String.trimEnd, String.trimRight, String.toLocaleLowerCase, String.toLocaleUpperCase, String.toLowerCase, String.toUpperCase, String.valueOf, RegExp.input, RegExp.$_, RegExp.lastMatch, RegExp.$&, RegExp.lastParen, RegExp.$+, RegExp.leftContext, RegExp.$`, RegExp.rightContext, RegExp.$\', RegExp.$1, RegExp.$2, RegExp.$3, RegExp.$4, RegExp.$5, RegExp.$6, RegExp.$7, RegExp.$8, RegExp.$9, RegExp.exec, RegExp.dotAll, RegExp.flags, RegExp.global, RegExp.hasIndices, RegExp.ignoreCase, RegExp.multiline, RegExp.source, RegExp.sticky, RegExp.unicode, RegExp.compile, RegExp.toString, RegExp.test, Array.isArray, Array.from, Array.of, Array.at, Array.concat, Array.copyWithin, Array.fill, Array.find, Array.findIndex, Array.lastIndexOf, Array.pop, Array.push, Array.reverse, Array.shift, Array.unshift, Array.slice, Array.sort, Array.splice, Array.includes, Array.indexOf, Array.join, Array.keys, Array.entries, Array.values, Array.forEach, Array.filter, Array.flat, Array.flatMap, Array.map, Array.every, Array.some, Array.reduce, Array.reduceRight, Array.toLocaleString, Array.toString, Array.findLast, Array.findLastIndex, Map.get, Map.set, Map.has, Map.delete, Map.clear, Map.entries, Map.forEach, Map.keys, Map.size, Map.values, Set.has, Set.add, Set.delete, Set.clear, Set.entries, Set.forEach, Set.size, Set.values, Set.keys, WeakMap.delete, WeakMap.get, WeakMap.set, WeakMap.has, WeakSet.delete, WeakSet.has, WeakSet.add, Atomics.load, Atomics.store, Atomics.add, Atomics.sub, Atomics.and, Atomics.or, Atomics.xor, Atomics.exchange, Atomics.compareExchange, Atomics.isLockFree, Atomics.wait, Atomics.waitAsync, Atomics.notify, JSON.parse, JSON.stringify, Promise.all, Promise.allSettled, Promise.any, Promise.race, Promise.resolve, Promise.reject, Promise.then, Promise.catch, Promise.finally, Reflect.defineProperty, Reflect.deleteProperty, Reflect.apply, Reflect.construct, Reflect.get, Reflect.getOwnPropertyDescriptor, Reflect.getPrototypeOf, Reflect.has, Reflect.isExtensible, Reflect.ownKeys, Reflect.preventExtensions, Reflect.set, Reflect.setPrototypeOf, Proxy.revocable, Intl.getCanonicalLocales, Intl.supportedValuesOf, Intl.DateTimeFormat, Intl.NumberFormat, Intl.Collator, Intl.v8BreakIterator, Intl.PluralRules, Intl.RelativeTimeFormat, Intl.ListFormat, Intl.Locale, Intl.DisplayNames, Intl.Segmenter, WebAssembly.compile, WebAssembly.validate, WebAssembly.instantiate, WebAssembly.compileStreaming, WebAssembly.instantiateStreaming, WebAssembly.Module, WebAssembly.Instance, WebAssembly.Table, WebAssembly.Memory, WebAssembly.Global, WebAssembly.Tag, WebAssembly.Exception, WebAssembly.CompileError, WebAssembly.LinkError, WebAssembly.RuntimeError, Document.implementation, Document.URL, Document.documentURI, Document.compatMode, Document.characterSet, Document.charset, Document.inputEncoding, Document.contentType, Document.doctype, Document.documentElement, Document.xmlEncoding, Document.xmlVersion, Document.xmlStandalone, Document.domain, Document.referrer, Document.cookie, Document.lastModified, Document.readyState, Document.title, Document.dir, Document.body, Document.head, Document.images, Document.embeds, Document.plugins, Document.links, Document.forms, Document.scripts, Document.currentScript, Document.defaultView, Document.designMode, Document.onreadystatechange, Document.anchors, Document.applets, Document.fgColor, Document.linkColor, Document.vlinkColor, Document.alinkColor, Document.bgColor, Document.all, Document.scrollingElement, Document.onpointerlockchange, Document.onpointerlockerror, Document.hidden, Document.visibilityState, Document.wasDiscarded, Document.featurePolicy, Document.webkitVisibilityState, Document.webkitHidden, Document.onbeforecopy, Document.onbeforecut, Document.onbeforepaste, Document.onfreeze, Document.onresume, Document.onsearch, Document.onvisibilitychange, Document.fullscreenEnabled, Document.fullscreen, Document.onfullscreenchange, Document.onfullscreenerror, Document.webkitIsFullScreen, Document.webkitCurrentFullScreenElement, Document.webkitFullscreenEnabled, Document.webkitFullscreenElement, Document.onwebkitfullscreenchange, Document.onwebkitfullscreenerror, Document.rootElement, Document.onbeforexrselect, Document.onabort, Document.onbeforeinput, Document.onblur, Document.oncancel, Document.oncanplay, Document.oncanplaythrough, Document.onchange, Document.onclick, Document.onclose, Document.oncontextlost, Document.oncontextmenu, Document.oncontextrestored, Document.oncuechange, Document.ondblclick, Document.ondrag, Document.ondragend, Document.ondragenter, Document.ondragleave, Document.ondragover, Document.ondragstart, Document.ondrop, Document.ondurationchange, Document.onemptied, Document.onended, Document.onerror, Document.onfocus, Document.onformdata, Document.oninput, Document.oninvalid, Document.onkeydown, Document.onkeypress, Document.onkeyup, Document.onload, Document.onloadeddata, Document.onloadedmetadata, Document.onloadstart, Document.onmousedown, Document.onmouseenter, Document.onmouseleave, Document.onmousemove, Document.onmouseout, Document.onmouseover, Document.onmouseup, Document.onmousewheel, Document.onpause, Document.onplay, Document.onplaying, Document.onprogress, Document.onratechange, Document.onreset, Document.onresize, Document.onscroll, Document.onsecuritypolicyviolation, Document.onseeked, Document.onseeking, Document.onselect, Document.onslotchange, Document.onstalled, Document.onsubmit, Document.onsuspend, Document.ontimeupdate, Document.ontoggle, Document.onvolumechange, Document.onwaiting, Document.onwebkitanimationend, Document.onwebkitanimationiteration, Document.onwebkitanimationstart, Document.onwebkittransitionend, Document.onwheel, Document.onauxclick, Document.ongotpointercapture, Document.onlostpointercapture, Document.onpointerdown, Document.onpointermove, Document.onpointerrawupdate, Document.onpointerup, Document.onpointercancel, Document.onpointerover, Document.onpointerout, Document.onpointerenter, Document.onpointerleave, Document.onselectstart, Document.onselectionchange, Document.onanimationend, Document.onanimationiteration, Document.onanimationstart, Document.ontransitionrun, Document.ontransitionstart, Document.ontransitionend, Document.ontransitioncancel, Document.oncopy, Document.oncut, Document.onpaste, Document.children, Document.firstElementChild, Document.lastElementChild, Document.childElementCount, Document.activeElement, Document.styleSheets, Document.pointerLockElement, Document.fullscreenElement, Document.adoptedStyleSheets, Document.fonts, Document.adoptNode, Document.append, Document.captureEvents, Document.caretRangeFromPoint, Document.clear, Document.close, Document.createAttribute, Document.createAttributeNS, Document.createCDATASection, Document.createComment, Document.createDocumentFragment, Document.createElement, Document.createElementNS, Document.createEvent, Document.createExpression, Document.createNSResolver, Document.createNodeIterator, Document.createProcessingInstruction, Document.createRange, Document.createTextNode, Document.createTreeWalker, Document.elementFromPoint, Document.elementsFromPoint, Document.evaluate, Document.execCommand, Document.exitFullscreen, Document.exitPointerLock, Document.getElementById, Document.getElementsByClassName, Document.getElementsByName, Document.getElementsByTagName, Document.getElementsByTagNameNS, Document.getSelection, Document.hasFocus, Document.importNode, Document.open, Document.prepend, Document.queryCommandEnabled, Document.queryCommandIndeterm, Document.queryCommandState, Document.queryCommandSupported, Document.queryCommandValue, Document.querySelector, Document.querySelectorAll, Document.releaseEvents, Document.replaceChildren, Document.webkitCancelFullScreen, Document.webkitExitFullscreen, Document.write, Document.writeln, Document.prerendering, Document.onprerenderingchange, Document.fragmentDirective, Document.onbeforematch, Document.timeline, Document.pictureInPictureEnabled, Document.pictureInPictureElement, Document.oncontentvisibilityautostatechange, Document.exitPictureInPicture, Document.getAnimations, Element.namespaceURI, Element.prefix, Element.localName, Element.tagName, Element.id, Element.className, Element.classList, Element.slot, Element.attributes, Element.shadowRoot, Element.part, Element.assignedSlot, Element.innerHTML, Element.outerHTML, Element.scrollTop, Element.scrollLeft, Element.scrollWidth, Element.scrollHeight, Element.clientTop, Element.clientLeft, Element.clientWidth, Element.clientHeight, Element.onbeforecopy, Element.onbeforecut, Element.onbeforepaste, Element.onsearch, Element.elementTiming, Element.onfullscreenchange, Element.onfullscreenerror, Element.onwebkitfullscreenchange, Element.onwebkitfullscreenerror, Element.role, Element.ariaAtomic, Element.ariaAutoComplete, Element.ariaBusy, Element.ariaBrailleLabel, Element.ariaBrailleRoleDescription, Element.ariaChecked, Element.ariaColCount, Element.ariaColIndex, Element.ariaColSpan, Element.ariaCurrent, Element.ariaDescription, Element.ariaDisabled, Element.ariaExpanded, Element.ariaHasPopup, Element.ariaHidden, Element.ariaInvalid, Element.ariaKeyShortcuts, Element.ariaLabel, Element.ariaLevel, Element.ariaLive, Element.ariaModal, Element.ariaMultiLine, Element.ariaMultiSelectable, Element.ariaOrientation, Element.ariaPlaceholder, Element.ariaPosInSet, Element.ariaPressed, Element.ariaReadOnly, Element.ariaRelevant, Element.ariaRequired, Element.ariaRoleDescription, Element.ariaRowCount, Element.ariaRowIndex, Element.ariaRowSpan, Element.ariaSelected, Element.ariaSetSize, Element.ariaSort, Element.ariaValueMax, Element.ariaValueMin, Element.ariaValueNow, Element.ariaValueText, Element.children, Element.firstElementChild, Element.lastElementChild, Element.childElementCount, Element.previousElementSibling, Element.nextElementSibling, Element.after, Element.animate, Element.append, Element.attachShadow, Element.before, Element.closest, Element.computedStyleMap, Element.getAttribute, Element.getAttributeNS, Element.getAttributeNames, Element.getAttributeNode, Element.getAttributeNodeNS, Element.getBoundingClientRect, Element.getClientRects, Element.getElementsByClassName, Element.getElementsByTagName, Element.getElementsByTagNameNS, Element.getInnerHTML, Element.hasAttribute, Element.hasAttributeNS, Element.hasAttributes, Element.hasPointerCapture, Element.insertAdjacentElement, Element.insertAdjacentHTML, Element.insertAdjacentText, Element.matches, Element.prepend, Element.querySelector, Element.querySelectorAll, Element.releasePointerCapture, Element.remove, Element.removeAttribute, Element.removeAttributeNS, Element.removeAttributeNode, Element.replaceChildren, Element.replaceWith, Element.requestFullscreen, Element.requestPointerLock, Element.scroll, Element.scrollBy, Element.scrollIntoView, Element.scrollIntoViewIfNeeded, Element.scrollTo, Element.setAttribute, Element.setAttributeNS, Element.setAttributeNode, Element.setAttributeNodeNS, Element.setPointerCapture, Element.toggleAttribute, Element.webkitMatchesSelector, Element.webkitRequestFullScreen, Element.webkitRequestFullscreen, Element.checkVisibility, Element.getAnimations, Element.setHTML',
    },
    'Firefox': {
        version: 108,
        windowKeys: `undefined, globalThis, Array, Boolean, JSON, Date, Math, Number, String, RegExp, Error, InternalError, AggregateError, EvalError, RangeError, ReferenceError, SyntaxError, TypeError, URIError, ArrayBuffer, Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array, Uint8ClampedArray, BigInt64Array, BigUint64Array, BigInt, Proxy, WeakMap, Set, DataView, Symbol, Intl, Reflect, WeakSet, Atomics, Promise, WebAssembly, FinalizationRegistry, WeakRef, NaN, Infinity, isNaN, isFinite, parseFloat, parseInt, escape, unescape, decodeURI, encodeURI, decodeURIComponent, encodeURIComponent, ResizeObserverEntry, BroadcastChannel, AbortController, DOMRectList, SVGAnimatedEnumeration, DOMPointReadOnly, RTCDtlsTransport, MediaStreamTrackEvent, HTMLMediaElement, MediaDevices, TextMetrics, MIDIAccess, GamepadButton, IIRFilterNode, Response, PushSubscription, DocumentTimeline, SVGAnimatedNumberList, HTMLImageElement, HTMLFontElement, SourceBufferList, SVGFilterElement, HTMLPictureElement, CSSGroupingRule, HTMLSlotElement, DeviceOrientationEvent, SVGDefsElement, XPathResult, SVGFEDiffuseLightingElement, VTTCue, NodeFilter, WebGLTexture, GainNode, TextDecoder, GamepadPose, FileSystemFileEntry, SVGRadialGradientElement, WebGLShaderPrecisionFormat, SVGScriptElement, IDBOpenDBRequest, CustomEvent, IntersectionObserverEntry, DOMRectReadOnly, DataTransferItem, MIDIInput, TextDecoderStream, SVGComponentTransferFunctionElement, Image, Notification, ProcessingInstruction, ReadableStreamBYOBRequest, HTMLHeadingElement, FontFace, MIDIOutputMap, SVGFEMergeNodeElement, PopStateEvent, HTMLTrackElement, PluginArray, MIDIPort, FocusEvent, SVGAnimateTransformElement, DataTransfer, HTMLSpanElement, HTMLMeterElement, AudioProcessingEvent, HTMLTimeElement, IDBDatabase, SVGAnimatedInteger, ChannelMergerNode, HTMLFormElement, XMLDocument, NavigationPreloadManager, FileReader, Range, TextEncoderStream, HTMLBodyElement, HTMLTitleElement, Comment, FileSystemDirectoryReader, PublicKeyCredential, ImageBitmap, console, FontFaceSet, HTMLProgressElement, RTCTrackEvent, PointerEvent, HTMLFieldSetElement, MediaSource, SVGFEDisplacementMapElement, Cache, ReadableStreamBYOBReader, MessageEvent, WebGLProgram, StaticRange, XPathEvaluator, HTMLAreaElement, HTMLFormControlsCollection, PaintRequest, ChannelSplitterNode, MediaSession, DOMRect, SVGFESpecularLightingElement, SVGDescElement, AudioScheduledSourceNode, HTMLUnknownElement, SVGFETileElement, HTMLMenuElement, Storage, ConstantSourceNode, CacheStorage, SVGAnimatedPreserveAspectRatio, SVGFEFuncGElement, ScrollAreaEvent, CSSMediaRule, SVGSetElement, SVGGElement, SVGMetadataElement, ClipboardEvent, AudioContext, WebGLRenderbuffer, AudioParamMap, WebGLQuery, MediaKeySession, HTMLVideoElement, SVGFETurbulenceElement, BeforeUnloadEvent, CSSTransition, SVGTextPositioningElement, RTCPeerConnectionIceEvent, SVGTransform, PerformanceEventTiming, HTMLBRElement, SVGTSpanElement, SVGMaskElement, SVGMarkerElement, U2F, MutationRecord, AudioDestinationNode, ReadableByteStreamController, UIEvent, WebGLBuffer, IDBTransaction, OfflineResourceList, HTMLInputElement, HTMLLegendElement, mozRTCSessionDescription, SVGAnimationElement, SVGViewElement, CaretPosition, EventSource, SharedWorker, ServiceWorkerRegistration, DelayNode, CryptoKey, SVGMPathElement, NodeList, SVGFEPointLightElement, MediaError, SVGFEFloodElement, MediaKeyMessageEvent, HTMLTextAreaElement, MediaDeviceInfo, CSSCounterStyleRule, HTMLTableRowElement, AudioWorkletNode, AuthenticatorResponse, AudioNode, StorageManager, Permissions, IDBKeyRange, SVGFEComponentTransferElement, HTMLOutputElement, WebGL2RenderingContext, SVGTitleElement, AnimationPlaybackEvent, PromiseRejectionEvent, PerformancePaintTiming, SVGUnitTypes, SVGUseElement, PerformanceTiming, MathMLElement, GamepadHapticActuator, Navigator, mozRTCPeerConnection, PerformanceResourceTiming, AnimationTimeline, MIDIConnectionEvent, CanvasCaptureMediaStream, HTMLDirectoryElement, Gamepad, Lock, DOMQuad, MediaStreamTrackAudioSourceNode, PopupBlockedEvent, MouseScrollEvent, SVGFEFuncAElement, DataTransferItemList, AudioBufferSourceNode, WebGLContextEvent, XSLTProcessor, SVGFECompositeElement, TextTrack, OfflineAudioCompletionEvent, HTMLHRElement, SpeechSynthesisUtterance, CredentialsContainer, RTCRtpTransceiver, SVGTextElement, ImageBitmapRenderingContext, MediaList, HTMLDivElement, SVGGraphicsElement, CanvasPattern, ResizeObserver, HTMLBaseElement, MimeTypeArray, MediaCapabilitiesInfo, HTMLTableSectionElement, HTMLSelectElement, VideoPlaybackQuality, RTCDataChannelEvent, Headers, IdleDeadline, WebGLSampler, HTMLFrameElement, WebGLShader, Option, PaintRequestList, BarProp, SVGMatrix, ImageData, CSSFontFeatureValuesRule, SVGPolylineElement, CSSImportRule, MediaStreamEvent, HTMLLabelElement, ReadableStream, HTMLDialogElement, SVGAnimatedString, MimeType, StorageEvent, IDBObjectStore, HTMLParamElement, CSSRuleList, IDBCursor, CSSNamespaceRule, Worker, SVGAnimatedTransformList, GeolocationPosition, PageTransitionEvent, Directory, PerformanceObserverEntryList, PerformanceMark, AnalyserNode, CloseEvent, DocumentType, TransformStreamDefaultController, SVGPathElement, ReadableStreamDefaultController, PeriodicWave, BiquadFilterNode, SubmitEvent, WebGLVertexArrayObject, HTMLQuoteElement, Request, SVGClipPathElement, RadioNodeList, RTCPeerConnection, ByteLengthQueuingStrategy, WebGLTransformFeedback, HTMLHeadElement, CSSLayerStatementRule, SVGAElement, ServiceWorker, AudioParam, IDBVersionChangeEvent, BlobEvent, TrackEvent, Text, MediaKeys, MediaMetadata, DOMTokenList, SpeechSynthesis, RTCRtpReceiver, ResizeObserverSize, FormData, MediaStream, HTMLMetaElement, Worklet, FileSystem, SVGLinearGradientElement, Element, SVGAnimatedRect, SVGTextPathElement, CSSKeyframeRule, TimeEvent, InputEvent, AbstractRange, AbortSignal, DeviceMotionEvent, SVGAnimatedLengthList, PerformanceMeasure, IDBFactory, MediaRecorder, CSSConditionRule, RTCSessionDescription, CSSKeyframesRule, NodeIterator, Geolocation, RTCIceCandidate, MediaKeyError, AnimationEvent, CustomElementRegistry, HTMLObjectElement, File, ErrorEvent, MediaQueryListEvent, ValidityState, PannerNode, IntersectionObserver, DOMStringList, SVGFEOffsetElement, Plugin, DOMParser, SVGFEConvolveMatrixElement, SpeechSynthesisEvent, TreeWalker, HTMLAllCollection, SVGCircleElement, SVGFEDistantLightElement, SpeechSynthesisErrorEvent, WaveShaperNode, CSSAnimation, URL, SVGLengthList, SubtleCrypto, SVGPointList, HTMLAudioElement, MessageChannel, MessagePort, WebGLActiveInfo, Screen, XPathExpression, MediaRecorderErrorEvent, HTMLButtonElement, Location, MediaStreamAudioSourceNode, AnimationEffect, PerformanceObserver, SVGRectElement, ReadableStreamDefaultReader, DOMPoint, MediaKeySystemAccess, SVGFEDropShadowElement, HTMLDataElement, SVGTextContentElement, SVGFEMorphologyElement, SVGElement, HTMLModElement, Blob, CDATASection, FontFaceSetLoadEvent, AuthenticatorAttestationResponse, TextTrackCue, CSSFontFaceRule, MediaStreamAudioDestinationNode, SVGImageElement, SVGRect, SVGStopElement, VTTRegion, SVGFESpotLightElement, Selection, BaseAudioContext, SVGPoint, CanvasRenderingContext2D, Attr, XMLHttpRequest, WritableStreamDefaultWriter, Audio, HTMLStyleElement, SVGEllipseElement, MutationEvent, ProgressEvent, HTMLPreElement, DOMImplementation, HTMLMarqueeElement, XMLSerializer, SVGAnimateMotionElement, SVGGeometryElement, IDBRequest, PushManager, CSSMozDocumentRule, HTMLMapElement, AudioListener, GamepadEvent, MIDIMessageEvent, ElementInternals, TextEncoder, webkitURL, CSSStyleRule, SVGGradientElement, HTMLDetailsElement, SVGForeignObjectElement, CharacterData, RTCCertificate, HTMLCanvasElement, RTCDTMFToneChangeEvent, CSSStyleSheet, ScreenOrientation, ShadowRoot, DynamicsCompressorNode, WritableStream, HTMLFrameSetElement, TimeRanges, KeyframeEffect, SVGSVGElement, KeyEvent, Clipboard, HTMLDListElement, CountQueuingStrategy, DocumentFragment, DragEvent, mozRTCIceCandidate, MediaStreamTrack, SVGLength, MediaQueryList, URLSearchParams, HTMLSourceElement, KeyboardEvent, ScriptProcessorNode, DOMStringMap, HTMLOptGroupElement, WebGLUniformLocation, OffscreenCanvas, SVGPolygonElement, HTMLCollection, SVGNumber, MediaCapabilities, SourceBuffer, VisualViewport, CSSPageRule, GeolocationPositionError, HTMLTableColElement, SVGTransformList, SVGAnimatedNumber, CanvasGradient, PushSubscriptionOptions, History, WebKitCSSMatrix, HTMLTableCellElement, HTMLOptionElement, MediaElementAudioSourceNode, FormDataEvent, TextTrackCueList, SVGSwitchElement, Path2D, StyleSheet, PerformanceServerTiming, PerformanceNavigation, MutationObserver, XMLHttpRequestUpload, CSSLayerBlockRule, SVGPreserveAspectRatio, HTMLTableCaptionElement, SVGPatternElement, HTMLEmbedElement, XMLHttpRequestEventTarget, TransitionEvent, HTMLAnchorElement, HTMLDataListElement, SVGAngle, SVGLineElement, AudioBuffer, HashChangeEvent, MediaKeyStatusMap, IDBIndex, CSS, SVGFEGaussianBlurElement, Crypto, NamedNodeMap, CSSStyleDeclaration, MouseEvent, FileSystemEntry, DOMMatrix, SVGAnimatedAngle, OfflineAudioContext, HTMLScriptElement, StyleSheetList, RTCDTMFSender, HTMLOListElement, SVGSymbolElement, SpeechSynthesisVoice, SVGFEColorMatrixElement, TransformStream, SVGFEFuncBElement, DOMRequest, RTCRtpSender, CSSRule, OscillatorNode, ServiceWorkerContainer, HTMLParagraphElement, ConvolverNode, AudioWorklet, HTMLLinkElement, MIDIInputMap, PerformanceEntry, AuthenticatorAssertionResponse, TextTrackList, DOMException, SVGAnimateElement, HTMLOptionsCollection, HTMLUListElement, WheelEvent, SVGAnimatedBoolean, SecurityPolicyViolationEvent, RTCStatsReport, OffscreenCanvasRenderingContext2D, PermissionStatus, CompositionEvent, SVGFEFuncRElement, FileList, SVGStringList, SVGFEImageElement, HTMLElement, DOMMatrixReadOnly, LockManager, HTMLLIElement, SVGFEBlendElement, Animation, RTCDataChannel, MediaEncryptedEvent, WritableStreamDefaultController, WebGLFramebuffer, SVGStyleElement, SVGAnimatedLength, CSSFontPaletteValuesRule, CSSSupportsRule, HTMLIFrameElement, SVGNumberList, MIDIOutput, WebSocket, CSS2Properties, HTMLTableElement, FileSystemDirectoryEntry, SVGFEMergeElement, GeolocationCoordinates, StereoPannerNode, Credential, WebGLRenderingContext, WebGLSync, HTMLHtmlElement, HTMLTemplateElement, IDBCursorWithValue, Function, Object, eval, EventTarget, Window, close, stop, focus, blur, open, alert, confirm, prompt, print, postMessage, captureEvents, releaseEvents, getSelection, getComputedStyle, matchMedia, moveTo, moveBy, resizeTo, resizeBy, scroll, scrollTo, scrollBy, getDefaultComputedStyle, scrollByLines, scrollByPages, sizeToContent, updateCommands, find, dump, setResizable, requestIdleCallback, cancelIdleCallback, requestAnimationFrame, cancelAnimationFrame, reportError, btoa, atob, setTimeout, clearTimeout, setInterval, clearInterval, queueMicrotask, createImageBitmap, structuredClone, fetch, self, name, history, customElements, locationbar, menubar, personalbar, scrollbars, statusbar, toolbar, status, closed, event, frames, length, opener, parent, frameElement, navigator, clientInformation, external, applicationCache, screen, innerWidth, innerHeight, scrollX, pageXOffset, scrollY, pageYOffset, screenLeft, screenTop, screenX, screenY, outerWidth, outerHeight, performance, mozInnerScreenX, mozInnerScreenY, devicePixelRatio, scrollMaxX, scrollMaxY, fullScreen, ondevicemotion, ondeviceorientation, onabsolutedeviceorientation, InstallTrigger, visualViewport, crypto, onabort, onblur, onfocus, onauxclick, onbeforeinput, oncanplay, oncanplaythrough, onchange, onclick, onclose, oncontextmenu, oncuechange, ondblclick, ondrag, ondragend, ondragenter, ondragexit, ondragleave, ondragover, ondragstart, ondrop, ondurationchange, onemptied, onended, onformdata, oninput, oninvalid, onkeydown, onkeypress, onkeyup, onload, onloadeddata, onloadedmetadata, onloadstart, onmousedown, onmouseenter, onmouseleave, onmousemove, onmouseout, onmouseover, onmouseup, onwheel, onpause, onplay, onplaying, onprogress, onratechange, onreset, onresize, onscroll, onsecuritypolicyviolation, onseeked, onseeking, onselect, onslotchange, onstalled, onsubmit, onsuspend, ontimeupdate, onvolumechange, onwaiting, onselectstart, onselectionchange, ontoggle, onpointercancel, onpointerdown, onpointerup, onpointermove, onpointerout, onpointerover, onpointerenter, onpointerleave, ongotpointercapture, onlostpointercapture, onmozfullscreenchange, onmozfullscreenerror, onanimationcancel, onanimationend, onanimationiteration, onanimationstart, ontransitioncancel, ontransitionend, ontransitionrun, ontransitionstart, onwebkitanimationend, onwebkitanimationiteration, onwebkitanimationstart, onwebkittransitionend, u2f, onerror, speechSynthesis, onafterprint, onbeforeprint, onbeforeunload, onhashchange, onlanguagechange, onmessage, onmessageerror, onoffline, ononline, onpagehide, onpageshow, onpopstate, onrejectionhandled, onstorage, onunhandledrejection, onunload, ongamepadconnected, ongamepaddisconnected, localStorage, origin, crossOriginIsolated, isSecureContext, indexedDB, caches, sessionStorage, window, document, location, top, netscape, Node, Document, HTMLDocument, EventCounts, Map, Event`,
        cssKeys: `alignContent, align-content, alignItems, align-items, alignSelf, align-self, aspectRatio, aspect-ratio, backfaceVisibility, backface-visibility, borderCollapse, border-collapse, borderImageRepeat, border-image-repeat, boxDecorationBreak, box-decoration-break, boxSizing, box-sizing, breakInside, break-inside, captionSide, caption-side, clear, colorInterpolation, color-interpolation, colorInterpolationFilters, color-interpolation-filters, columnCount, column-count, columnFill, column-fill, columnSpan, column-span, contain, direction, display, dominantBaseline, dominant-baseline, emptyCells, empty-cells, flexDirection, flex-direction, flexWrap, flex-wrap, cssFloat, float, fontKerning, font-kerning, fontOpticalSizing, font-optical-sizing, fontSizeAdjust, font-size-adjust, fontStretch, font-stretch, fontStyle, font-style, fontSynthesis, font-synthesis, fontVariantCaps, font-variant-caps, fontVariantEastAsian, font-variant-east-asian, fontVariantLigatures, font-variant-ligatures, fontVariantNumeric, font-variant-numeric, fontVariantPosition, font-variant-position, fontWeight, font-weight, gridAutoFlow, grid-auto-flow, hyphens, imageOrientation, image-orientation, imageRendering, image-rendering, imeMode, ime-mode, isolation, justifyContent, justify-content, justifyItems, justify-items, justifySelf, justify-self, lineBreak, line-break, listStylePosition, list-style-position, maskType, mask-type, mixBlendMode, mix-blend-mode, MozBoxAlign, -moz-box-align, MozBoxDirection, -moz-box-direction, MozBoxOrient, -moz-box-orient, MozBoxPack, -moz-box-pack, MozFloatEdge, -moz-float-edge, MozOrient, -moz-orient, MozTextSizeAdjust, -moz-text-size-adjust, MozUserFocus, -moz-user-focus, MozUserInput, -moz-user-input, MozUserModify, -moz-user-modify, MozWindowDragging, -moz-window-dragging, objectFit, object-fit, offsetRotate, offset-rotate, outlineStyle, outline-style, overflowAnchor, overflow-anchor, overflowWrap, overflow-wrap, paintOrder, paint-order, pointerEvents, pointer-events, position, printColorAdjust, print-color-adjust, resize, rubyAlign, ruby-align, rubyPosition, ruby-position, scrollBehavior, scroll-behavior, scrollSnapAlign, scroll-snap-align, scrollSnapStop, scroll-snap-stop, scrollSnapType, scroll-snap-type, scrollbarGutter, scrollbar-gutter, scrollbarWidth, scrollbar-width, shapeRendering, shape-rendering, strokeLinecap, stroke-linecap, strokeLinejoin, stroke-linejoin, tableLayout, table-layout, textAlign, text-align, textAlignLast, text-align-last, textAnchor, text-anchor, textCombineUpright, text-combine-upright, textDecorationLine, text-decoration-line, textDecorationSkipInk, text-decoration-skip-ink, textDecorationStyle, text-decoration-style, textEmphasisPosition, text-emphasis-position, textJustify, text-justify, textOrientation, text-orientation, textRendering, text-rendering, textTransform, text-transform, textUnderlinePosition, text-underline-position, touchAction, touch-action, transformBox, transform-box, transformStyle, transform-style, unicodeBidi, unicode-bidi, userSelect, user-select, vectorEffect, vector-effect, visibility, webkitLineClamp, WebkitLineClamp, -webkit-line-clamp, whiteSpace, white-space, wordBreak, word-break, writingMode, writing-mode, zIndex, z-index, appearance, MozForceBrokenImageIcon, -moz-force-broken-image-icon, breakAfter, break-after, breakBefore, break-before, clipRule, clip-rule, fillRule, fill-rule, fillOpacity, fill-opacity, strokeOpacity, stroke-opacity, MozBoxOrdinalGroup, -moz-box-ordinal-group, order, flexGrow, flex-grow, flexShrink, flex-shrink, MozBoxFlex, -moz-box-flex, strokeMiterlimit, stroke-miterlimit, overflowBlock, overflow-block, overflowInline, overflow-inline, overflowX, overflow-x, overflowY, overflow-y, overscrollBehaviorBlock, overscroll-behavior-block, overscrollBehaviorInline, overscroll-behavior-inline, overscrollBehaviorX, overscroll-behavior-x, overscrollBehaviorY, overscroll-behavior-y, floodOpacity, flood-opacity, opacity, shapeImageThreshold, shape-image-threshold, stopOpacity, stop-opacity, borderBlockEndStyle, border-block-end-style, borderBlockStartStyle, border-block-start-style, borderBottomStyle, border-bottom-style, borderInlineEndStyle, border-inline-end-style, borderInlineStartStyle, border-inline-start-style, borderLeftStyle, border-left-style, borderRightStyle, border-right-style, borderTopStyle, border-top-style, columnRuleStyle, column-rule-style, accentColor, accent-color, animationDelay, animation-delay, animationDirection, animation-direction, animationDuration, animation-duration, animationFillMode, animation-fill-mode, animationIterationCount, animation-iteration-count, animationName, animation-name, animationPlayState, animation-play-state, animationTimingFunction, animation-timing-function, backdropFilter, backdrop-filter, backgroundAttachment, background-attachment, backgroundBlendMode, background-blend-mode, backgroundClip, background-clip, backgroundImage, background-image, backgroundOrigin, background-origin, backgroundPositionX, background-position-x, backgroundPositionY, background-position-y, backgroundRepeat, background-repeat, backgroundSize, background-size, borderImageOutset, border-image-outset, borderImageSlice, border-image-slice, borderImageWidth, border-image-width, borderSpacing, border-spacing, boxShadow, box-shadow, caretColor, caret-color, clipPath, clip-path, color, colorScheme, color-scheme, columnWidth, column-width, content, counterIncrement, counter-increment, counterReset, counter-reset, counterSet, counter-set, cursor, d, filter, flexBasis, flex-basis, fontFamily, font-family, fontFeatureSettings, font-feature-settings, fontLanguageOverride, font-language-override, fontPalette, font-palette, fontSize, font-size, fontVariantAlternates, font-variant-alternates, fontVariationSettings, font-variation-settings, gridTemplateAreas, grid-template-areas, hyphenateCharacter, hyphenate-character, letterSpacing, letter-spacing, lineHeight, line-height, listStyleType, list-style-type, maskClip, mask-clip, maskComposite, mask-composite, maskImage, mask-image, maskMode, mask-mode, maskOrigin, mask-origin, maskPositionX, mask-position-x, maskPositionY, mask-position-y, maskRepeat, mask-repeat, maskSize, mask-size, offsetAnchor, offset-anchor, offsetPath, offset-path, perspective, quotes, rotate, scale, scrollbarColor, scrollbar-color, shapeOutside, shape-outside, strokeDasharray, stroke-dasharray, strokeDashoffset, stroke-dashoffset, strokeWidth, stroke-width, tabSize, tab-size, textDecorationThickness, text-decoration-thickness, textEmphasisStyle, text-emphasis-style, textOverflow, text-overflow, textShadow, text-shadow, transitionDelay, transition-delay, transitionDuration, transition-duration, transitionProperty, transition-property, transitionTimingFunction, transition-timing-function, translate, verticalAlign, vertical-align, willChange, will-change, wordSpacing, word-spacing, clip, MozImageRegion, -moz-image-region, objectPosition, object-position, perspectiveOrigin, perspective-origin, fill, stroke, transformOrigin, transform-origin, gridTemplateColumns, grid-template-columns, gridTemplateRows, grid-template-rows, borderImageSource, border-image-source, listStyleImage, list-style-image, gridAutoColumns, grid-auto-columns, gridAutoRows, grid-auto-rows, transform, columnGap, column-gap, rowGap, row-gap, markerEnd, marker-end, markerMid, marker-mid, markerStart, marker-start, containIntrinsicBlockSize, contain-intrinsic-block-size, containIntrinsicHeight, contain-intrinsic-height, containIntrinsicInlineSize, contain-intrinsic-inline-size, containIntrinsicWidth, contain-intrinsic-width, gridColumnEnd, grid-column-end, gridColumnStart, grid-column-start, gridRowEnd, grid-row-end, gridRowStart, grid-row-start, maxBlockSize, max-block-size, maxHeight, max-height, maxInlineSize, max-inline-size, maxWidth, max-width, cx, cy, offsetDistance, offset-distance, textIndent, text-indent, x, y, borderBottomLeftRadius, border-bottom-left-radius, borderBottomRightRadius, border-bottom-right-radius, borderEndEndRadius, border-end-end-radius, borderEndStartRadius, border-end-start-radius, borderStartEndRadius, border-start-end-radius, borderStartStartRadius, border-start-start-radius, borderTopLeftRadius, border-top-left-radius, borderTopRightRadius, border-top-right-radius, blockSize, block-size, height, inlineSize, inline-size, minBlockSize, min-block-size, minHeight, min-height, minInlineSize, min-inline-size, minWidth, min-width, width, paddingBlockEnd, padding-block-end, paddingBlockStart, padding-block-start, paddingBottom, padding-bottom, paddingInlineEnd, padding-inline-end, paddingInlineStart, padding-inline-start, paddingLeft, padding-left, paddingRight, padding-right, paddingTop, padding-top, r, shapeMargin, shape-margin, rx, ry, scrollPaddingBlockEnd, scroll-padding-block-end, scrollPaddingBlockStart, scroll-padding-block-start, scrollPaddingBottom, scroll-padding-bottom, scrollPaddingInlineEnd, scroll-padding-inline-end, scrollPaddingInlineStart, scroll-padding-inline-start, scrollPaddingLeft, scroll-padding-left, scrollPaddingRight, scroll-padding-right, scrollPaddingTop, scroll-padding-top, borderBlockEndWidth, border-block-end-width, borderBlockStartWidth, border-block-start-width, borderBottomWidth, border-bottom-width, borderInlineEndWidth, border-inline-end-width, borderInlineStartWidth, border-inline-start-width, borderLeftWidth, border-left-width, borderRightWidth, border-right-width, borderTopWidth, border-top-width, columnRuleWidth, column-rule-width, outlineWidth, outline-width, webkitTextStrokeWidth, WebkitTextStrokeWidth, -webkit-text-stroke-width, outlineOffset, outline-offset, overflowClipMargin, overflow-clip-margin, scrollMarginBlockEnd, scroll-margin-block-end, scrollMarginBlockStart, scroll-margin-block-start, scrollMarginBottom, scroll-margin-bottom, scrollMarginInlineEnd, scroll-margin-inline-end, scrollMarginInlineStart, scroll-margin-inline-start, scrollMarginLeft, scroll-margin-left, scrollMarginRight, scroll-margin-right, scrollMarginTop, scroll-margin-top, bottom, insetBlockEnd, inset-block-end, insetBlockStart, inset-block-start, insetInlineEnd, inset-inline-end, insetInlineStart, inset-inline-start, left, marginBlockEnd, margin-block-end, marginBlockStart, margin-block-start, marginBottom, margin-bottom, marginInlineEnd, margin-inline-end, marginInlineStart, margin-inline-start, marginLeft, margin-left, marginRight, margin-right, marginTop, margin-top, right, textUnderlineOffset, text-underline-offset, top, backgroundColor, background-color, borderBlockEndColor, border-block-end-color, borderBlockStartColor, border-block-start-color, borderBottomColor, border-bottom-color, borderInlineEndColor, border-inline-end-color, borderInlineStartColor, border-inline-start-color, borderLeftColor, border-left-color, borderRightColor, border-right-color, borderTopColor, border-top-color, columnRuleColor, column-rule-color, floodColor, flood-color, lightingColor, lighting-color, outlineColor, outline-color, stopColor, stop-color, textDecorationColor, text-decoration-color, textEmphasisColor, text-emphasis-color, webkitTextFillColor, WebkitTextFillColor, -webkit-text-fill-color, webkitTextStrokeColor, WebkitTextStrokeColor, -webkit-text-stroke-color, background, backgroundPosition, background-position, borderColor, border-color, borderStyle, border-style, borderWidth, border-width, borderTop, border-top, borderRight, border-right, borderBottom, border-bottom, borderLeft, border-left, borderBlockStart, border-block-start, borderBlockEnd, border-block-end, borderInlineStart, border-inline-start, borderInlineEnd, border-inline-end, border, borderRadius, border-radius, borderImage, border-image, borderBlockWidth, border-block-width, borderBlockStyle, border-block-style, borderBlockColor, border-block-color, borderInlineWidth, border-inline-width, borderInlineStyle, border-inline-style, borderInlineColor, border-inline-color, borderBlock, border-block, borderInline, border-inline, overflow, overscrollBehavior, overscroll-behavior, pageBreakBefore, page-break-before, pageBreakAfter, page-break-after, pageBreakInside, page-break-inside, offset, columns, columnRule, column-rule, font, fontVariant, font-variant, marker, textEmphasis, text-emphasis, webkitTextStroke, WebkitTextStroke, -webkit-text-stroke, listStyle, list-style, margin, marginBlock, margin-block, marginInline, margin-inline, scrollMargin, scroll-margin, scrollMarginBlock, scroll-margin-block, scrollMarginInline, scroll-margin-inline, outline, padding, paddingBlock, padding-block, paddingInline, padding-inline, scrollPadding, scroll-padding, scrollPaddingBlock, scroll-padding-block, scrollPaddingInline, scroll-padding-inline, flexFlow, flex-flow, flex, gap, gridRow, grid-row, gridColumn, grid-column, gridArea, grid-area, gridTemplate, grid-template, grid, placeContent, place-content, placeSelf, place-self, placeItems, place-items, inset, insetBlock, inset-block, insetInline, inset-inline, containIntrinsicSize, contain-intrinsic-size, mask, maskPosition, mask-position, textDecoration, text-decoration, transition, animation, all, webkitBackgroundClip, WebkitBackgroundClip, -webkit-background-clip, webkitBackgroundOrigin, WebkitBackgroundOrigin, -webkit-background-origin, webkitBackgroundSize, WebkitBackgroundSize, -webkit-background-size, MozBorderStartColor, -moz-border-start-color, MozBorderStartStyle, -moz-border-start-style, MozBorderStartWidth, -moz-border-start-width, MozBorderEndColor, -moz-border-end-color, MozBorderEndStyle, -moz-border-end-style, MozBorderEndWidth, -moz-border-end-width, webkitBorderTopLeftRadius, WebkitBorderTopLeftRadius, -webkit-border-top-left-radius, webkitBorderTopRightRadius, WebkitBorderTopRightRadius, -webkit-border-top-right-radius, webkitBorderBottomRightRadius, WebkitBorderBottomRightRadius, -webkit-border-bottom-right-radius, webkitBorderBottomLeftRadius, WebkitBorderBottomLeftRadius, -webkit-border-bottom-left-radius, MozTransform, -moz-transform, webkitTransform, WebkitTransform, -webkit-transform, MozPerspective, -moz-perspective, webkitPerspective, WebkitPerspective, -webkit-perspective, MozPerspectiveOrigin, -moz-perspective-origin, webkitPerspectiveOrigin, WebkitPerspectiveOrigin, -webkit-perspective-origin, MozBackfaceVisibility, -moz-backface-visibility, webkitBackfaceVisibility, WebkitBackfaceVisibility, -webkit-backface-visibility, MozTransformStyle, -moz-transform-style, webkitTransformStyle, WebkitTransformStyle, -webkit-transform-style, MozTransformOrigin, -moz-transform-origin, webkitTransformOrigin, WebkitTransformOrigin, -webkit-transform-origin, MozAppearance, -moz-appearance, webkitAppearance, WebkitAppearance, -webkit-appearance, webkitBoxShadow, WebkitBoxShadow, -webkit-box-shadow, webkitFilter, WebkitFilter, -webkit-filter, MozFontFeatureSettings, -moz-font-feature-settings, MozFontLanguageOverride, -moz-font-language-override, colorAdjust, color-adjust, MozHyphens, -moz-hyphens, webkitTextSizeAdjust, WebkitTextSizeAdjust, -webkit-text-size-adjust, wordWrap, word-wrap, MozTabSize, -moz-tab-size, MozMarginStart, -moz-margin-start, MozMarginEnd, -moz-margin-end, MozPaddingStart, -moz-padding-start, MozPaddingEnd, -moz-padding-end, webkitFlexDirection, WebkitFlexDirection, -webkit-flex-direction, webkitFlexWrap, WebkitFlexWrap, -webkit-flex-wrap, webkitJustifyContent, WebkitJustifyContent, -webkit-justify-content, webkitAlignContent, WebkitAlignContent, -webkit-align-content, webkitAlignItems, WebkitAlignItems, -webkit-align-items, webkitFlexGrow, WebkitFlexGrow, -webkit-flex-grow, webkitFlexShrink, WebkitFlexShrink, -webkit-flex-shrink, webkitAlignSelf, WebkitAlignSelf, -webkit-align-self, webkitOrder, WebkitOrder, -webkit-order, webkitFlexBasis, WebkitFlexBasis, -webkit-flex-basis, MozBoxSizing, -moz-box-sizing, webkitBoxSizing, WebkitBoxSizing, -webkit-box-sizing, gridColumnGap, grid-column-gap, gridRowGap, grid-row-gap, webkitMaskRepeat, WebkitMaskRepeat, -webkit-mask-repeat, webkitMaskPositionX, WebkitMaskPositionX, -webkit-mask-position-x, webkitMaskPositionY, WebkitMaskPositionY, -webkit-mask-position-y, webkitMaskClip, WebkitMaskClip, -webkit-mask-clip, webkitMaskOrigin, WebkitMaskOrigin, -webkit-mask-origin, webkitMaskSize, WebkitMaskSize, -webkit-mask-size, webkitMaskComposite, WebkitMaskComposite, -webkit-mask-composite, webkitMaskImage, WebkitMaskImage, -webkit-mask-image, MozUserSelect, -moz-user-select, webkitUserSelect, WebkitUserSelect, -webkit-user-select, MozTransitionDuration, -moz-transition-duration, webkitTransitionDuration, WebkitTransitionDuration, -webkit-transition-duration, MozTransitionTimingFunction, -moz-transition-timing-function, webkitTransitionTimingFunction, WebkitTransitionTimingFunction, -webkit-transition-timing-function, MozTransitionProperty, -moz-transition-property, webkitTransitionProperty, WebkitTransitionProperty, -webkit-transition-property, MozTransitionDelay, -moz-transition-delay, webkitTransitionDelay, WebkitTransitionDelay, -webkit-transition-delay, MozAnimationName, -moz-animation-name, webkitAnimationName, WebkitAnimationName, -webkit-animation-name, MozAnimationDuration, -moz-animation-duration, webkitAnimationDuration, WebkitAnimationDuration, -webkit-animation-duration, MozAnimationTimingFunction, -moz-animation-timing-function, webkitAnimationTimingFunction, WebkitAnimationTimingFunction, -webkit-animation-timing-function, MozAnimationIterationCount, -moz-animation-iteration-count, webkitAnimationIterationCount, WebkitAnimationIterationCount, -webkit-animation-iteration-count, MozAnimationDirection, -moz-animation-direction, webkitAnimationDirection, WebkitAnimationDirection, -webkit-animation-direction, MozAnimationPlayState, -moz-animation-play-state, webkitAnimationPlayState, WebkitAnimationPlayState, -webkit-animation-play-state, MozAnimationFillMode, -moz-animation-fill-mode, webkitAnimationFillMode, WebkitAnimationFillMode, -webkit-animation-fill-mode, MozAnimationDelay, -moz-animation-delay, webkitAnimationDelay, WebkitAnimationDelay, -webkit-animation-delay, webkitBoxAlign, WebkitBoxAlign, -webkit-box-align, webkitBoxDirection, WebkitBoxDirection, -webkit-box-direction, webkitBoxFlex, WebkitBoxFlex, -webkit-box-flex, webkitBoxOrient, WebkitBoxOrient, -webkit-box-orient, webkitBoxPack, WebkitBoxPack, -webkit-box-pack, webkitBoxOrdinalGroup, WebkitBoxOrdinalGroup, -webkit-box-ordinal-group, MozBorderStart, -moz-border-start, MozBorderEnd, -moz-border-end, webkitBorderRadius, WebkitBorderRadius, -webkit-border-radius, MozBorderImage, -moz-border-image, webkitBorderImage, WebkitBorderImage, -webkit-border-image, webkitFlexFlow, WebkitFlexFlow, -webkit-flex-flow, webkitFlex, WebkitFlex, -webkit-flex, gridGap, grid-gap, webkitMask, WebkitMask, -webkit-mask, webkitMaskPosition, WebkitMaskPosition, -webkit-mask-position, MozTransition, -moz-transition, webkitTransition, WebkitTransition, -webkit-transition, MozAnimation, -moz-animation, webkitAnimation, WebkitAnimation, -webkit-animation, constructor`,
        jsKeys: 'Object.assign, Object.getPrototypeOf, Object.setPrototypeOf, Object.getOwnPropertyDescriptor, Object.getOwnPropertyDescriptors, Object.keys, Object.values, Object.entries, Object.is, Object.defineProperty, Object.defineProperties, Object.create, Object.getOwnPropertyNames, Object.getOwnPropertySymbols, Object.isExtensible, Object.preventExtensions, Object.freeze, Object.isFrozen, Object.seal, Object.isSealed, Object.fromEntries, Object.hasOwn, Object.toString, Object.toLocaleString, Object.valueOf, Object.hasOwnProperty, Object.isPrototypeOf, Object.propertyIsEnumerable, Object.__defineGetter__, Object.__defineSetter__, Object.__lookupGetter__, Object.__lookupSetter__, Object.__proto__, Function.toString, Function.apply, Function.call, Function.bind, Boolean.toString, Boolean.valueOf, Symbol.for, Symbol.keyFor, Symbol.isConcatSpreadable, Symbol.iterator, Symbol.match, Symbol.replace, Symbol.search, Symbol.species, Symbol.hasInstance, Symbol.split, Symbol.toPrimitive, Symbol.toStringTag, Symbol.unscopables, Symbol.asyncIterator, Symbol.matchAll, Symbol.toString, Symbol.valueOf, Symbol.description, Error.toString, Error.message, Error.stack, Number.isFinite, Number.isInteger, Number.isNaN, Number.isSafeInteger, Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.MAX_VALUE, Number.MIN_VALUE, Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER, Number.EPSILON, Number.parseInt, Number.parseFloat, Number.NaN, Number.toString, Number.toLocaleString, Number.valueOf, Number.toFixed, Number.toExponential, Number.toPrecision, BigInt.asUintN, BigInt.asIntN, BigInt.valueOf, BigInt.toString, BigInt.toLocaleString, Math.abs, Math.acos, Math.asin, Math.atan, Math.atan2, Math.ceil, Math.clz32, Math.cos, Math.exp, Math.floor, Math.imul, Math.fround, Math.log, Math.max, Math.min, Math.pow, Math.random, Math.round, Math.sin, Math.sqrt, Math.tan, Math.log10, Math.log2, Math.log1p, Math.expm1, Math.cosh, Math.sinh, Math.tanh, Math.acosh, Math.asinh, Math.atanh, Math.hypot, Math.trunc, Math.sign, Math.cbrt, Math.E, Math.LOG2E, Math.LOG10E, Math.LN2, Math.LN10, Math.PI, Math.SQRT2, Math.SQRT1_2, Date.UTC, Date.parse, Date.now, Date.getTime, Date.getTimezoneOffset, Date.getYear, Date.getFullYear, Date.getUTCFullYear, Date.getMonth, Date.getUTCMonth, Date.getDate, Date.getUTCDate, Date.getDay, Date.getUTCDay, Date.getHours, Date.getUTCHours, Date.getMinutes, Date.getUTCMinutes, Date.getSeconds, Date.getUTCSeconds, Date.getMilliseconds, Date.getUTCMilliseconds, Date.setTime, Date.setYear, Date.setFullYear, Date.setUTCFullYear, Date.setMonth, Date.setUTCMonth, Date.setDate, Date.setUTCDate, Date.setHours, Date.setUTCHours, Date.setMinutes, Date.setUTCMinutes, Date.setSeconds, Date.setUTCSeconds, Date.setMilliseconds, Date.setUTCMilliseconds, Date.toUTCString, Date.toLocaleString, Date.toLocaleDateString, Date.toLocaleTimeString, Date.toDateString, Date.toTimeString, Date.toISOString, Date.toJSON, Date.toString, Date.valueOf, Date.toGMTString, String.fromCharCode, String.fromCodePoint, String.raw, String.toString, String.valueOf, String.toLowerCase, String.toUpperCase, String.charAt, String.charCodeAt, String.substring, String.padStart, String.padEnd, String.codePointAt, String.includes, String.indexOf, String.lastIndexOf, String.startsWith, String.endsWith, String.trim, String.trimStart, String.trimEnd, String.toLocaleLowerCase, String.toLocaleUpperCase, String.localeCompare, String.repeat, String.normalize, String.match, String.matchAll, String.search, String.replace, String.replaceAll, String.split, String.substr, String.concat, String.slice, String.at, String.bold, String.italics, String.fixed, String.strike, String.small, String.big, String.blink, String.sup, String.sub, String.anchor, String.link, String.fontcolor, String.fontsize, String.trimLeft, String.trimRight, RegExp.input, RegExp.lastMatch, RegExp.lastParen, RegExp.leftContext, RegExp.rightContext, RegExp.$1, RegExp.$2, RegExp.$3, RegExp.$4, RegExp.$5, RegExp.$6, RegExp.$7, RegExp.$8, RegExp.$9, RegExp.$_, RegExp.$&, RegExp.$+, RegExp.$`, RegExp.$\', RegExp.toString, RegExp.compile, RegExp.exec, RegExp.test, RegExp.flags, RegExp.hasIndices, RegExp.global, RegExp.ignoreCase, RegExp.multiline, RegExp.dotAll, RegExp.source, RegExp.sticky, RegExp.unicode, Array.isArray, Array.from, Array.of, Array.toString, Array.toLocaleString, Array.join, Array.reverse, Array.sort, Array.push, Array.pop, Array.shift, Array.unshift, Array.splice, Array.concat, Array.slice, Array.lastIndexOf, Array.indexOf, Array.forEach, Array.map, Array.filter, Array.reduce, Array.reduceRight, Array.some, Array.every, Array.find, Array.findIndex, Array.copyWithin, Array.fill, Array.entries, Array.keys, Array.values, Array.includes, Array.flatMap, Array.flat, Array.at, Array.findLast, Array.findLastIndex, Map.get, Map.has, Map.set, Map.delete, Map.keys, Map.values, Map.clear, Map.forEach, Map.entries, Map.size, Set.has, Set.add, Set.delete, Set.entries, Set.clear, Set.forEach, Set.values, Set.keys, Set.size, WeakMap.has, WeakMap.get, WeakMap.delete, WeakMap.set, WeakSet.add, WeakSet.delete, WeakSet.has, Atomics.compareExchange, Atomics.load, Atomics.store, Atomics.exchange, Atomics.add, Atomics.sub, Atomics.and, Atomics.or, Atomics.xor, Atomics.isLockFree, Atomics.wait, Atomics.notify, Atomics.wake, JSON.parse, JSON.stringify, Promise.all, Promise.allSettled, Promise.any, Promise.race, Promise.reject, Promise.resolve, Promise.then, Promise.catch, Promise.finally, Reflect.apply, Reflect.construct, Reflect.defineProperty, Reflect.deleteProperty, Reflect.get, Reflect.getOwnPropertyDescriptor, Reflect.getPrototypeOf, Reflect.has, Reflect.isExtensible, Reflect.ownKeys, Reflect.preventExtensions, Reflect.set, Reflect.setPrototypeOf, Proxy.revocable, Intl.getCanonicalLocales, Intl.supportedValuesOf, Intl.Collator, Intl.DateTimeFormat, Intl.DisplayNames, Intl.ListFormat, Intl.Locale, Intl.NumberFormat, Intl.PluralRules, Intl.RelativeTimeFormat, WebAssembly.compile, WebAssembly.instantiate, WebAssembly.validate, WebAssembly.compileStreaming, WebAssembly.instantiateStreaming, WebAssembly.Module, WebAssembly.Instance, WebAssembly.Memory, WebAssembly.Table, WebAssembly.Global, WebAssembly.CompileError, WebAssembly.LinkError, WebAssembly.RuntimeError, WebAssembly.Tag, WebAssembly.Exception, Document.getElementsByTagName, Document.getElementsByTagNameNS, Document.getElementsByClassName, Document.getElementById, Document.createElement, Document.createElementNS, Document.createDocumentFragment, Document.createTextNode, Document.createComment, Document.createProcessingInstruction, Document.importNode, Document.adoptNode, Document.createEvent, Document.createRange, Document.createNodeIterator, Document.createTreeWalker, Document.createCDATASection, Document.createAttribute, Document.createAttributeNS, Document.getElementsByName, Document.open, Document.close, Document.write, Document.writeln, Document.hasFocus, Document.execCommand, Document.queryCommandEnabled, Document.queryCommandIndeterm, Document.queryCommandState, Document.queryCommandSupported, Document.queryCommandValue, Document.releaseCapture, Document.mozSetImageElement, Document.clear, Document.captureEvents, Document.releaseEvents, Document.exitFullscreen, Document.mozCancelFullScreen, Document.exitPointerLock, Document.enableStyleSheetsForSet, Document.caretPositionFromPoint, Document.querySelector, Document.querySelectorAll, Document.getSelection, Document.hasStorageAccess, Document.requestStorageAccess, Document.elementFromPoint, Document.elementsFromPoint, Document.getAnimations, Document.prepend, Document.append, Document.replaceChildren, Document.createExpression, Document.createNSResolver, Document.evaluate, Document.implementation, Document.URL, Document.documentURI, Document.compatMode, Document.characterSet, Document.charset, Document.inputEncoding, Document.contentType, Document.doctype, Document.documentElement, Document.domain, Document.referrer, Document.cookie, Document.lastModified, Document.readyState, Document.title, Document.dir, Document.body, Document.head, Document.images, Document.embeds, Document.plugins, Document.links, Document.forms, Document.scripts, Document.defaultView, Document.designMode, Document.onreadystatechange, Document.onbeforescriptexecute, Document.onafterscriptexecute, Document.currentScript, Document.fgColor, Document.linkColor, Document.vlinkColor, Document.alinkColor, Document.bgColor, Document.anchors, Document.applets, Document.all, Document.fullscreen, Document.mozFullScreen, Document.fullscreenEnabled, Document.mozFullScreenEnabled, Document.onfullscreenchange, Document.onfullscreenerror, Document.onpointerlockchange, Document.onpointerlockerror, Document.hidden, Document.visibilityState, Document.onvisibilitychange, Document.selectedStyleSheetSet, Document.lastStyleSheetSet, Document.preferredStyleSheetSet, Document.styleSheetSets, Document.scrollingElement, Document.timeline, Document.rootElement, Document.oncopy, Document.oncut, Document.onpaste, Document.activeElement, Document.styleSheets, Document.pointerLockElement, Document.fullscreenElement, Document.mozFullScreenElement, Document.adoptedStyleSheets, Document.fonts, Document.onabort, Document.onblur, Document.onfocus, Document.onauxclick, Document.onbeforeinput, Document.oncanplay, Document.oncanplaythrough, Document.onchange, Document.onclick, Document.onclose, Document.oncontextmenu, Document.oncuechange, Document.ondblclick, Document.ondrag, Document.ondragend, Document.ondragenter, Document.ondragexit, Document.ondragleave, Document.ondragover, Document.ondragstart, Document.ondrop, Document.ondurationchange, Document.onemptied, Document.onended, Document.onformdata, Document.oninput, Document.oninvalid, Document.onkeydown, Document.onkeypress, Document.onkeyup, Document.onload, Document.onloadeddata, Document.onloadedmetadata, Document.onloadstart, Document.onmousedown, Document.onmouseenter, Document.onmouseleave, Document.onmousemove, Document.onmouseout, Document.onmouseover, Document.onmouseup, Document.onwheel, Document.onpause, Document.onplay, Document.onplaying, Document.onprogress, Document.onratechange, Document.onreset, Document.onresize, Document.onscroll, Document.onsecuritypolicyviolation, Document.onseeked, Document.onseeking, Document.onselect, Document.onslotchange, Document.onstalled, Document.onsubmit, Document.onsuspend, Document.ontimeupdate, Document.onvolumechange, Document.onwaiting, Document.onselectstart, Document.onselectionchange, Document.ontoggle, Document.onpointercancel, Document.onpointerdown, Document.onpointerup, Document.onpointermove, Document.onpointerout, Document.onpointerover, Document.onpointerenter, Document.onpointerleave, Document.ongotpointercapture, Document.onlostpointercapture, Document.onmozfullscreenchange, Document.onmozfullscreenerror, Document.onanimationcancel, Document.onanimationend, Document.onanimationiteration, Document.onanimationstart, Document.ontransitioncancel, Document.ontransitionend, Document.ontransitionrun, Document.ontransitionstart, Document.onwebkitanimationend, Document.onwebkitanimationiteration, Document.onwebkitanimationstart, Document.onwebkittransitionend, Document.onerror, Document.children, Document.firstElementChild, Document.lastElementChild, Document.childElementCount, Element.getAttributeNames, Element.getAttribute, Element.getAttributeNS, Element.toggleAttribute, Element.setAttribute, Element.setAttributeNS, Element.removeAttribute, Element.removeAttributeNS, Element.hasAttribute, Element.hasAttributeNS, Element.hasAttributes, Element.closest, Element.matches, Element.webkitMatchesSelector, Element.getElementsByTagName, Element.getElementsByTagNameNS, Element.getElementsByClassName, Element.insertAdjacentElement, Element.insertAdjacentText, Element.mozMatchesSelector, Element.setPointerCapture, Element.releasePointerCapture, Element.hasPointerCapture, Element.setCapture, Element.releaseCapture, Element.getAttributeNode, Element.setAttributeNode, Element.removeAttributeNode, Element.getAttributeNodeNS, Element.setAttributeNodeNS, Element.getClientRects, Element.getBoundingClientRect, Element.checkVisibility, Element.scrollIntoView, Element.scroll, Element.scrollTo, Element.scrollBy, Element.insertAdjacentHTML, Element.querySelector, Element.querySelectorAll, Element.attachShadow, Element.requestFullscreen, Element.mozRequestFullScreen, Element.requestPointerLock, Element.animate, Element.getAnimations, Element.before, Element.after, Element.replaceWith, Element.remove, Element.prepend, Element.append, Element.replaceChildren, Element.namespaceURI, Element.prefix, Element.localName, Element.tagName, Element.id, Element.className, Element.classList, Element.part, Element.attributes, Element.scrollTop, Element.scrollLeft, Element.scrollWidth, Element.scrollHeight, Element.clientTop, Element.clientLeft, Element.clientWidth, Element.clientHeight, Element.scrollTopMax, Element.scrollLeftMax, Element.innerHTML, Element.outerHTML, Element.shadowRoot, Element.assignedSlot, Element.slot, Element.onfullscreenchange, Element.onfullscreenerror, Element.previousElementSibling, Element.nextElementSibling, Element.children, Element.firstElementChild, Element.lastElementChild, Element.childElementCount',
    },
});
const BROWSER = (IS_BLINK ? 'Chrome' : IS_GECKO ? 'Firefox' : '');
const getEngineMaps = (browser) => {
    const geckoCSS = {
        '71': ['-moz-column-span'],
        '72': ['offset', 'offset-anchor', 'offset-distance', 'offset-path', 'offset-rotate', 'rotate', 'scale', 'translate'],
        '73': ['overscroll-behavior-block', 'overscroll-behavior-inline'],
        '74-79': ['!-moz-stack-sizing', 'text-underline-position'],
        '80-88': ['appearance'],
        '89-90': ['!-moz-outline-radius', '!-moz-outline-radius-bottomleft', '!-moz-outline-radius-bottomright', '!-moz-outline-radius-topleft', '!-moz-outline-radius-topright', 'aspect-ratio'],
        '91': ['tab-size'],
        '92-95': ['accent-color'],
        '96': ['color-scheme'],
        '97': ['print-color-adjust', 'scrollbar-gutter', 'd'],
        '98-101': ['hyphenate-character'],
        '102': ['overflow-clip-margin'],
        '103-106': ['scroll-snap-stop'],
        '107-108': ['backdrop-filter', 'font-palette', 'contain-intrinsic-block-size', 'contain-intrinsic-height', 'contain-intrinsic-inline-size', 'contain-intrinsic-width', 'contain-intrinsic-size'],
    };
    const blinkCSS = {
        '76': ['backdrop-filter'],
        '77-80': ['overscroll-behavior-block', 'overscroll-behavior-inline'],
        '81': ['color-scheme', 'image-orientation'],
        '83': ['contain-intrinsic-size'],
        '84': ['appearance', 'ruby-position'],
        '85-86': ['content-visibility', 'counter-set', 'inherits', 'initial-value', 'page-orientation', 'syntax'],
        '87': ['ascent-override', 'border-block', 'border-block-color', 'border-block-style', 'border-block-width', 'border-inline', 'border-inline-color', 'border-inline-style', 'border-inline-width', 'descent-override', 'inset', 'inset-block', 'inset-block-end', 'inset-block-start', 'inset-inline', 'inset-inline-end', 'inset-inline-start', 'line-gap-override', 'margin-block', 'margin-inline', 'padding-block', 'padding-inline', 'text-decoration-thickness', 'text-underline-offset'],
        '88': ['aspect-ratio'],
        '89': ['border-end-end-radius', 'border-end-start-radius', 'border-start-end-radius', 'border-start-start-radius', 'forced-color-adjust'],
        '90': ['overflow-clip-margin'],
        '91': ['additive-symbols', 'fallback', 'negative', 'pad', 'prefix', 'range', 'speak-as', 'suffix', 'symbols', 'system'],
        '92': ['size-adjust'],
        '93': ['accent-color'],
        '94': ['scrollbar-gutter'],
        '95-96': ['app-region', 'contain-intrinsic-block-size', 'contain-intrinsic-height', 'contain-intrinsic-inline-size', 'contain-intrinsic-width'],
        '97-98': ['font-synthesis-small-caps', 'font-synthesis-style', 'font-synthesis-weight', 'font-synthesis'],
        '99-100': ['text-emphasis-color', 'text-emphasis-position', 'text-emphasis-style', 'text-emphasis'],
        '101-103': ['font-palette', 'base-palette', 'override-colors'],
        '104': ['object-view-box'],
        '105': ['container-name', 'container-type', 'container'],
        '106-107': ['hyphenate-character'],
        '108': ['hyphenate-character', '!orientation', '!max-zoom', '!min-zoom', '!user-zoom'],
        '109': ['hyphenate-limit-chars', 'math-depth', 'math-shift', 'math-style'],
    };
    const geckoWindow = {
        // disregard: 'reportError','onsecuritypolicyviolation','onslotchange'
        '71': ['MathMLElement', '!SVGZoomAndPan'],
        '72-73': ['!BatteryManager', 'FormDataEvent', 'Geolocation', 'GeolocationCoordinates', 'GeolocationPosition', 'GeolocationPositionError', '!mozPaintCount'],
        '74': ['FormDataEvent', '!uneval'],
        '75': ['AnimationTimeline', 'CSSAnimation', 'CSSTransition', 'DocumentTimeline', 'SubmitEvent'],
        '76-77': ['AudioParamMap', 'AudioWorklet', 'AudioWorkletNode', 'Worklet'],
        '78': ['Atomics'],
        '79-81': ['AggregateError', 'FinalizationRegistry'],
        '82': ['MediaMetadata', 'MediaSession', 'Sanitizer'],
        '83': ['MediaMetadata', 'MediaSession', '!Sanitizer'],
        '84': ['PerformancePaintTiming'],
        '85-86': ['PerformancePaintTiming', '!HTMLMenuItemElement', '!onshow'],
        '87': ['onbeforeinput'],
        '88': ['onbeforeinput', '!VisualViewport'],
        '89-92': ['!ondevicelight', '!ondeviceproximity', '!onuserproximity'],
        '93-95': ['ElementInternals'],
        '96': ['Lock', 'LockManager'],
        '97': ['CSSLayerBlockRule', 'CSSLayerStatementRule'],
        '98': ['HTMLDialogElement'],
        '99': ['NavigationPreloadManager'],
        '100-104': ['WritableStream'],
        '105-106': ['TextDecoderStream', 'OffscreenCanvasRenderingContext2D', 'OffscreenCanvas', 'TextEncoderStream'],
        '107-108': ['CSSFontPaletteValuesRule'],
    };
    const blinkWindow = {
        // disregard: EyeDropper
        '80': ['CompressionStream', 'DecompressionStream', 'FeaturePolicy', 'FragmentDirective', 'PeriodicSyncManager', 'VideoPlaybackQuality'],
        '81': ['SubmitEvent', 'XRHitTestResult', 'XRHitTestSource', 'XRRay', 'XRTransientInputHitTestResult', 'XRTransientInputHitTestSource'],
        '83': ['BarcodeDetector', 'XRDOMOverlayState', 'XRSystem'],
        '84': ['AnimationPlaybackEvent', 'AnimationTimeline', 'CSSAnimation', 'CSSTransition', 'DocumentTimeline', 'FinalizationRegistry', 'LayoutShiftAttribution', 'ResizeObserverSize', 'WakeLock', 'WakeLockSentinel', 'WeakRef', 'XRLayer'],
        '85': ['AggregateError', 'CSSPropertyRule', 'EventCounts', 'XRAnchor', 'XRAnchorSet'],
        '86': ['RTCEncodedAudioFrame', 'RTCEncodedVideoFrame'],
        '87': ['CookieChangeEvent', 'CookieStore', 'CookieStoreManager', 'Scheduling'],
        '88': ['Scheduling', '!BarcodeDetector'],
        '89': ['ReadableByteStreamController', 'ReadableStreamBYOBReader', 'ReadableStreamBYOBRequest', 'ReadableStreamDefaultController', 'XRWebGLBinding'],
        '90': ['AbstractRange', 'CustomStateSet', 'NavigatorUAData', 'XRCPUDepthInformation', 'XRDepthInformation', 'XRLightEstimate', 'XRLightProbe', 'XRWebGLDepthInformation'],
        '91': ['CSSCounterStyleRule', 'GravitySensor', 'NavigatorManagedData'],
        '92': ['CSSCounterStyleRule', '!SharedArrayBuffer'],
        '93': ['WritableStreamDefaultController'],
        '94': ['AudioData', 'AudioDecoder', 'AudioEncoder', 'EncodedAudioChunk', 'EncodedVideoChunk', 'IdleDetector', 'ImageDecoder', 'ImageTrack', 'ImageTrackList', 'VideoColorSpace', 'VideoDecoder', 'VideoEncoder', 'VideoFrame', 'MediaStreamTrackGenerator', 'MediaStreamTrackProcessor', 'Profiler', 'VirtualKeyboard', 'DelegatedInkTrailPresenter', 'Ink', 'Scheduler', 'TaskController', 'TaskPriorityChangeEvent', 'TaskSignal', 'VirtualKeyboardGeometryChangeEvent'],
        '95-96': ['URLPattern'],
        '97-98': ['WebTransport', 'WebTransportBidirectionalStream', 'WebTransportDatagramDuplexStream', 'WebTransportError'],
        '99': ['CanvasFilter', 'CSSLayerBlockRule', 'CSSLayerStatementRule'],
        '100': ['CSSMathClamp'],
        '101-104': ['CSSFontPaletteValuesRule'],
        '105-106': ['CSSContainerRule'],
        '107-108': ['XRCamera'],
        '109': ['MathMLElement'],
    };
    const blinkJS = {
        '76': ['Document.onsecuritypolicyviolation', 'Promise.allSettled'],
        '77': ['Document.onformdata', 'Document.onpointerrawupdate'],
        '78': ['Element.elementTiming'],
        '79': ['Document.onanimationend', 'Document.onanimationiteration', 'Document.onanimationstart', 'Document.ontransitionend'],
        '80': ['!Document.registerElement', '!Element.createShadowRoot', '!Element.getDestinationInsertionPoints'],
        '81': ['Document.onwebkitanimationend', 'Document.onwebkitanimationiteration', 'Document.onwebkitanimationstart', 'Document.onwebkittransitionend', 'Element.ariaAtomic', 'Element.ariaAutoComplete', 'Element.ariaBusy', 'Element.ariaChecked', 'Element.ariaColCount', 'Element.ariaColIndex', 'Element.ariaColSpan', 'Element.ariaCurrent', 'Element.ariaDisabled', 'Element.ariaExpanded', 'Element.ariaHasPopup', 'Element.ariaHidden', 'Element.ariaKeyShortcuts', 'Element.ariaLabel', 'Element.ariaLevel', 'Element.ariaLive', 'Element.ariaModal', 'Element.ariaMultiLine', 'Element.ariaMultiSelectable', 'Element.ariaOrientation', 'Element.ariaPlaceholder', 'Element.ariaPosInSet', 'Element.ariaPressed', 'Element.ariaReadOnly', 'Element.ariaRelevant', 'Element.ariaRequired', 'Element.ariaRoleDescription', 'Element.ariaRowCount', 'Element.ariaRowIndex', 'Element.ariaRowSpan', 'Element.ariaSelected', 'Element.ariaSort', 'Element.ariaValueMax', 'Element.ariaValueMin', 'Element.ariaValueNow', 'Element.ariaValueText', 'Intl.DisplayNames'],
        '83': ['Element.ariaDescription', 'Element.onbeforexrselect'],
        '84': ['Document.getAnimations', 'Document.timeline', 'Element.ariaSetSize', 'Element.getAnimations'],
        '85': ['Promise.any', 'String.replaceAll'],
        '86': ['Document.fragmentDirective', 'Document.replaceChildren', 'Element.replaceChildren', '!Atomics.wake'],
        '87-89': ['Atomics.waitAsync', 'Document.ontransitioncancel', 'Document.ontransitionrun', 'Document.ontransitionstart', 'Intl.Segmenter'],
        '90': ['Document.onbeforexrselect', 'RegExp.hasIndices', '!Element.onbeforexrselect'],
        '91': ['Element.getInnerHTML'],
        '92': ['Array.at', 'String.at'],
        '93': ['Error.cause', 'Object.hasOwn'],
        '94': ['!Error.cause', 'Object.hasOwn'],
        '95-96': ['WebAssembly.Exception', 'WebAssembly.Tag'],
        '97-98': ['Array.findLast', 'Array.findLastIndex', 'Document.onslotchange'],
        '99-101': ['Intl.supportedValuesOf', 'Document.oncontextlost', 'Document.oncontextrestored'],
        '102': ['Element.ariaInvalid', 'Document.onbeforematch'],
        '103-106': ['Element.role'],
        '107-109': ['Element.ariaBrailleLabel', 'Element.ariaBrailleRoleDescription'],
    };
    const geckoJS = {
        '71': ['Promise.allSettled'],
        '72-73': ['Document.onformdata', 'Element.part'],
        '74': ['!Array.toSource', '!Boolean.toSource', '!Date.toSource', '!Error.toSource', '!Function.toSource', '!Intl.toSource', '!JSON.toSource', '!Math.toSource', '!Number.toSource', '!Object.toSource', '!RegExp.toSource', '!String.toSource', '!WebAssembly.toSource'],
        '75-76': ['Document.getAnimations', 'Document.timeline', 'Element.getAnimations', 'Intl.Locale'],
        '77': ['String.replaceAll'],
        '78': ['Atomics.add', 'Atomics.and', 'Atomics.compareExchange', 'Atomics.exchange', 'Atomics.isLockFree', 'Atomics.load', 'Atomics.notify', 'Atomics.or', 'Atomics.store', 'Atomics.sub', 'Atomics.wait', 'Atomics.wake', 'Atomics.xor', 'Document.replaceChildren', 'Element.replaceChildren', 'Intl.ListFormat', 'RegExp.dotAll'],
        '79-84': ['Promise.any'],
        '85': ['!Document.onshow', 'Promise.any'],
        '86': ['Intl.DisplayNames'],
        '87': ['Document.onbeforeinput'],
        '88-89': ['RegExp.hasIndices'],
        '90-91': ['Array.at', 'String.at'],
        '92': ['Object.hasOwn'],
        '93-99': ['Intl.supportedValuesOf', 'Document.onsecuritypolicyviolation', 'Document.onslotchange'],
        '100': ['WebAssembly.Tag', 'WebAssembly.Exception'],
        '101-103': ['Document.adoptedStyleSheets'],
        '104-108': ['Array.findLast', 'Array.findLastIndex'],
    };
    const IS_BLINK = browser == 'Chrome';
    const IS_GECKO = browser == 'Firefox';
    const css = (IS_BLINK ? blinkCSS : IS_GECKO ? geckoCSS : {});
    const win = (IS_BLINK ? blinkWindow : IS_GECKO ? geckoWindow : {});
    const js = (IS_BLINK ? blinkJS : IS_GECKO ? geckoJS : {});
    return {
        css,
        win,
        js,
    };
};
const getJSCoreFeatures = (win) => {
    const globalObjects = [
        'Object',
        'Function',
        'Boolean',
        'Symbol',
        'Error',
        'Number',
        'BigInt',
        'Math',
        'Date',
        'String',
        'RegExp',
        'Array',
        'Map',
        'Set',
        'WeakMap',
        'WeakSet',
        'Atomics',
        'JSON',
        'Promise',
        'Reflect',
        'Proxy',
        'Intl',
        'WebAssembly',
        'Document',
        'Element',
    ];
    try {
        // @ts-ignore
        const features = globalObjects.reduce((acc, name) => {
            const ignore = ['name', 'length', 'constructor', 'prototype', 'arguments', 'caller'];
            const descriptorKeys = Object.keys(Object.getOwnPropertyDescriptors(win[name] || {}));
            const descriptorProtoKeys = Object.keys(Object.getOwnPropertyDescriptors((win[name] || {}).prototype || {}));
            const uniques = [...new Set([...descriptorKeys, ...descriptorProtoKeys].filter((key) => !ignore.includes(key)))];
            const keys = uniques.map((key) => `${name}.${key}`);
            return [...acc, ...keys];
        }, []);
        return features;
    }
    catch (error) {
        console.error(error);
        return [];
    }
};
// @ts-ignore
const versionSort = (x) => x.sort((a, b) => /\d+/.exec(a)[0] - /\d+/.exec(b)[0]).reverse();
const getVersionLie = (vReport, version, forgivenessOffset = 0) => {
    const stable = getStableFeatures();
    const { version: maxVersion } = stable[BROWSER] || {};
    const validMetrics = vReport && version;
    if (!validMetrics) {
        return {};
    }
    const [vStart, vEnd] = version ? version.split('-') : [];
    const vMax = (vEnd || vStart);
    const reportIsTooHigh = +vReport > (+vMax + forgivenessOffset);
    const reportIsTooLow = +vReport < (+vStart - forgivenessOffset);
    const reportIsOff = (reportIsTooHigh || reportIsTooLow);
    const versionIsAboveMax = ((+vMax == maxVersion) &&
        (+vReport > maxVersion));
    const liedVersion = !versionIsAboveMax && reportIsOff;
    const distance = !liedVersion ? 0 : (Math.abs(vReport - (reportIsTooLow ? vStart : vMax)));
    return { liedVersion, distance };
};
async function getEngineFeatures({ cssComputed, navigatorComputed, windowFeaturesComputed, }) {
    try {
        const timer = createTimer();
        await queueEvent(timer);
        const win = PHANTOM_DARKNESS ? PHANTOM_DARKNESS : window;
        if (!cssComputed || !windowFeaturesComputed) {
            logTestResult({ test: 'features', passed: false });
            return;
        }
        const jsFeaturesKeys = getJSCoreFeatures(win);
        const { keys: computedStyleKeys } = cssComputed.computedStyle || {};
        const { keys: windowFeaturesKeys } = windowFeaturesComputed || {};
        const { userAgentParsed: decryptedName } = navigatorComputed || {};
        const isNative = (win, x) => (/\[native code\]/.test(win[x] + '') &&
            'prototype' in win[x] &&
            win[x].prototype.constructor.name === x);
        // @ts-ignore
        const getFeatures = ({ context, allKeys, engineMap, checkNative = false } = {}) => {
            const allKeysSet = new Set(allKeys);
            const features = new Set();
            // @ts-ignore
            const match = Object.keys(engineMap || {}).reduce((acc, key) => {
                const version = engineMap[key];
                const versionLen = version.length;
                const featureLen = version.filter((prop) => {
                    const removedFromVersion = prop.charAt(0) == '!';
                    if (removedFromVersion) {
                        const propName = prop.slice(1);
                        return !allKeysSet.has(propName) && features.add(prop);
                    }
                    return (allKeysSet.has(prop) &&
                        (checkNative ? isNative(context, prop) : true) &&
                        features.add(prop));
                }).length;
                return versionLen == featureLen ? [...acc, key] : acc;
            }, []);
            const version = versionSort(match)[0];
            return {
                version,
                features,
            };
        };
        // engine maps
        const { css: engineMapCSS, win: engineMapWindow, js: engineMapJS, } = getEngineMaps(BROWSER);
        // css version
        const { version: cssVersion, features: cssFeatures, } = getFeatures({
            context: win,
            allKeys: computedStyleKeys,
            engineMap: engineMapCSS,
        });
        // window version
        const { version: windowVersion, features: windowFeatures, } = getFeatures({
            context: win,
            allKeys: windowFeaturesKeys,
            engineMap: engineMapWindow,
            checkNative: true,
        });
        // js version
        const { version: jsVersion, features: jsFeatures, } = getFeatures({
            context: win,
            allKeys: jsFeaturesKeys,
            engineMap: engineMapJS,
        });
        // determine version based on 3 factors
        const getVersionFromRange = (range, versionCollection) => {
            const exactVersion = versionCollection.find((version) => version && !/-/.test(version));
            if (exactVersion) {
                return exactVersion;
            }
            const len = range.length;
            const first = range[0];
            const last = range[len - 1];
            return (!len ? '' :
                len == 1 ? first :
                    `${last}-${first}`);
        };
        const versionSet = new Set([
            cssVersion,
            windowVersion,
            jsVersion,
        ]);
        versionSet.delete(undefined);
        const versionRange = versionSort([...versionSet].reduce((acc, x) => [...acc, ...x.split('-')], []));
        const version = getVersionFromRange(versionRange, [cssVersion, windowVersion, jsVersion]);
        const vReport = (/\d+/.exec(decryptedName) || [])[0];
        const { liedVersion: liedCSS, distance: distanceCSS, } = getVersionLie(vReport, cssVersion);
        const { liedVersion: liedJS, distance: distanceJS, } = getVersionLie(vReport, jsVersion);
        const { liedVersion: liedWindow, distance: distanceWindow, } = getVersionLie(vReport, windowVersion);
        if (liedCSS) {
            sendToTrash('userAgent', `v${vReport} failed v${cssVersion} CSS features`);
            if (distanceCSS > 1) {
                documentLie(`Navigator.userAgent`, `v${vReport} failed CSS features by ${distanceCSS} versions`);
            }
        }
        if (liedJS) {
            sendToTrash('userAgent', `v${vReport} failed v${jsVersion} JS features`);
            if (distanceJS > 2) {
                documentLie(`Navigator.userAgent`, `v${vReport} failed JS features by ${distanceJS} versions`);
            }
        }
        if (liedWindow) {
            sendToTrash('userAgent', `v${vReport} failed v${windowVersion} Window features`);
            if (distanceWindow > 3) {
                documentLie(`Navigator.userAgent`, `v${vReport} failed Window features by ${distanceWindow} versions`);
            }
        }
        logTestResult({ time: timer.stop(), test: 'features', passed: true });
        return {
            versionRange,
            version,
            cssVersion,
            windowVersion,
            jsVersion,
            cssFeatures: [...cssFeatures],
            windowFeatures: [...windowFeatures],
            jsFeatures: [...jsFeatures],
            jsFeaturesKeys,
        };
    }
    catch (error) {
        logTestResult({ test: 'features', passed: false });
        captureError(error);
        return;
    }
}

function getPlatformEstimate() {
    if (!IS_BLINK)
        return [];
    const v80 = 'getVideoPlaybackQuality' in HTMLVideoElement.prototype;
    const v84 = CSS.supports('appearance: initial');
    const v86 = 'DisplayNames' in Intl;
    const v88 = CSS.supports('aspect-ratio: initial');
    const v89 = CSS.supports('border-end-end-radius: initial');
    const v95 = 'randomUUID' in Crypto.prototype;
    const hasBarcodeDetector = 'BarcodeDetector' in window;
    const hasDownlinkMax = 'downlinkMax' in (window.NetworkInformation?.prototype || {});
    const hasContentIndex = 'ContentIndex' in window;
    const hasContactsManager = 'ContactsManager' in window;
    const hasEyeDropper = 'EyeDropper' in window;
    const hasFileSystemWritableFileStream = 'FileSystemWritableFileStream' in window;
    const hasHid = 'HID' in window && 'HIDDevice' in window;
    const hasSerialPort = 'SerialPort' in window && 'Serial' in window;
    const hasSharedWorker = 'SharedWorker' in window;
    const hasTouch = 'ontouchstart' in Window && 'TouchEvent' in window;
    const hasFeature = (version, condition) => {
        return (version ? [condition] : []);
    };
    const estimate = {
        ["Android" /* Platform.ANDROID */]: [
            ...hasFeature(v88, hasBarcodeDetector),
            ...hasFeature(v84, hasContentIndex),
            ...hasFeature(v80, hasContactsManager),
            hasDownlinkMax,
            ...hasFeature(v95, !hasEyeDropper),
            ...hasFeature(v86, !hasFileSystemWritableFileStream),
            ...hasFeature(v89, !hasHid),
            ...hasFeature(v89, !hasSerialPort),
            !hasSharedWorker,
            hasTouch,
        ],
        ["Chrome OS" /* Platform.CHROME_OS */]: [
            ...hasFeature(v88, hasBarcodeDetector),
            ...hasFeature(v84, !hasContentIndex),
            ...hasFeature(v80, !hasContactsManager),
            hasDownlinkMax,
            ...hasFeature(v95, hasEyeDropper),
            ...hasFeature(v86, hasFileSystemWritableFileStream),
            ...hasFeature(v89, hasHid),
            ...hasFeature(v89, hasSerialPort),
            hasSharedWorker,
            hasTouch || !hasTouch,
        ],
        ["Windows" /* Platform.WINDOWS */]: [
            ...hasFeature(v88, !hasBarcodeDetector),
            ...hasFeature(v84, !hasContentIndex),
            ...hasFeature(v80, !hasContactsManager),
            !hasDownlinkMax,
            ...hasFeature(v95, hasEyeDropper),
            ...hasFeature(v86, hasFileSystemWritableFileStream),
            ...hasFeature(v89, hasHid),
            ...hasFeature(v89, hasSerialPort),
            hasSharedWorker,
            hasTouch || !hasTouch,
        ],
        ["Mac" /* Platform.MAC */]: [
            ...hasFeature(v88, hasBarcodeDetector),
            ...hasFeature(v84, !hasContentIndex),
            ...hasFeature(v80, !hasContactsManager),
            !hasDownlinkMax,
            ...hasFeature(v95, hasEyeDropper),
            ...hasFeature(v86, hasFileSystemWritableFileStream),
            ...hasFeature(v89, hasHid),
            ...hasFeature(v89, hasSerialPort),
            hasSharedWorker,
            !hasTouch,
        ],
        ["Linux" /* Platform.LINUX */]: [
            ...hasFeature(v88, !hasBarcodeDetector),
            ...hasFeature(v84, !hasContentIndex),
            ...hasFeature(v80, !hasContactsManager),
            !hasDownlinkMax,
            ...hasFeature(v95, hasEyeDropper),
            ...hasFeature(v86, hasFileSystemWritableFileStream),
            ...hasFeature(v89, hasHid),
            ...hasFeature(v89, hasSerialPort),
            hasSharedWorker,
            !hasTouch || !hasTouch,
        ],
    };
    // Chrome only features
    const headlessEstimate = {
        noContentIndex: v84 && !hasContentIndex,
        noContactsManager: v80 && !hasContactsManager,
        noDownlinkMax: !hasDownlinkMax,
    };
    const scores = Object.keys(estimate).reduce((acc, key) => {
        const list = estimate[key];
        const score = +((list.filter((x) => x).length / list.length).toFixed(2));
        acc[key] = score;
        return acc;
    }, {});
    const platform = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
    const highestScore = scores[platform];
    return [scores, highestScore, headlessEstimate];
}

const SYSTEM_FONTS = [
    'caption',
    'icon',
    'menu',
    'message-box',
    'small-caption',
    'status-bar',
];

const GeckoFonts = {
    '-apple-system': "Mac" /* Platform.MAC */,
    'Segoe UI': "Windows" /* Platform.WINDOWS */,
    'Tahoma': "Windows" /* Platform.WINDOWS */,
    'Yu Gothic UI': "Windows" /* Platform.WINDOWS */,
    'Microsoft JhengHei UI': "Windows" /* Platform.WINDOWS */,
    'Microsoft YaHei UI': "Windows" /* Platform.WINDOWS */,
    'Meiryo UI': "Windows" /* Platform.WINDOWS */,
    'Cantarell': "Linux" /* Platform.LINUX */,
    'Ubuntu': "Linux" /* Platform.LINUX */,
    'Sans': "Linux" /* Platform.LINUX */,
    'sans-serif': "Linux" /* Platform.LINUX */,
    'Fira Sans': "Linux" /* Platform.LINUX */,
    'Roboto': "Android" /* Platform.ANDROID */,
};
function getSystemFonts() {
    const { body } = document;
    const el = document.createElement('div');
    body.appendChild(el);
    try {
        const systemFonts = String([
            ...SYSTEM_FONTS.reduce((acc, font) => {
                el.setAttribute('style', `font: ${font} !important`);
                return acc.add(getComputedStyle(el).fontFamily);
            }, new Set()),
        ]);
        const geckoPlatform = GeckoFonts[systemFonts];
        return GeckoFonts[systemFonts] ? `${systemFonts}:${geckoPlatform}` : systemFonts;
    }
    catch (err) {
        return '';
    }
    finally {
        body.removeChild(el);
    }
}

/* eslint-disable new-cap */
async function getHeadlessFeatures({ webgl, workerScope, }) {
    try {
        const timer = createTimer();
        await queueEvent(timer);
        const mimeTypes = Object.keys({ ...navigator.mimeTypes });
        const systemFonts = getSystemFonts();
        const [scores, highestScore, headlessEstimate] = getPlatformEstimate();
        const data = {
            chromium: IS_BLINK,
            likeHeadless: {
                noPlugins: IS_BLINK && navigator.plugins.length === 0,
                noMimeTypes: IS_BLINK && mimeTypes.length === 0,
                notificationIsDenied: (IS_BLINK &&
                    'Notification' in window &&
                    (Notification.permission == 'denied')),
                hasKnownBgColor: IS_BLINK && (() => {
                    let rendered = PARENT_PHANTOM;
                    if (!PARENT_PHANTOM) {
                        rendered = document.createElement('div');
                        document.body.appendChild(rendered);
                    }
                    if (!rendered)
                        return false;
                    rendered.setAttribute('style', `background-color: ActiveText`);
                    const { backgroundColor: activeText } = getComputedStyle(rendered) || [];
                    if (!PARENT_PHANTOM) {
                        document.body.removeChild(rendered);
                    }
                    return activeText === 'rgb(255, 0, 0)';
                })(),
                prefersLightColor: matchMedia('(prefers-color-scheme: light)').matches,
                // @ts-expect-error rtt will be undefined if not supported
                rttIsZero: navigator?.connection?.rtt === 0,
                uaDataIsBlank: ('userAgentData' in navigator && (
                // @ts-expect-error if userAgentData is null
                navigator.userAgentData?.platform === '' ||
                    // @ts-expect-error if userAgentData is null
                    await navigator.userAgentData.getHighEntropyValues(['platform']).platform === '')),
                pdfIsDisabled: ('pdfViewerEnabled' in navigator && navigator.pdfViewerEnabled === false),
                noTaskbar: (screen.height === screen.availHeight &&
                    screen.width === screen.availWidth),
                hasVvpScreenRes: ((innerWidth === screen.width && outerHeight === screen.height) || ('visualViewport' in window &&
                    // @ts-expect-error if unsupported
                    (visualViewport.width === screen.width && visualViewport.height === screen.height))),
                hasSwiftShader: /SwiftShader/.test(workerScope?.webglRenderer),
                noWebShare: IS_BLINK && CSS.supports('accent-color: initial') && (!('share' in navigator) || !('canShare' in navigator)),
                noContentIndex: !!headlessEstimate?.noContentIndex,
                noContactsManager: !!headlessEstimate?.noContactsManager,
                noDownlinkMax: !!headlessEstimate?.noDownlinkMax,
            },
            headless: {
                webDriverIsOn: ((CSS.supports('border-end-end-radius: initial') && navigator.webdriver === undefined) ||
                    !!navigator.webdriver),
                noChrome: IS_BLINK && !('chrome' in window),
                hasPermissionsBug: (IS_BLINK &&
                    'permissions' in navigator &&
                    await (async () => {
                        const res = await navigator.permissions.query({ name: 'notifications' });
                        return (res.state == 'prompt' &&
                            'Notification' in window &&
                            Notification.permission === 'denied');
                    })()),
                hasHeadlessUA: (/HeadlessChrome/.test(navigator.userAgent) ||
                    /HeadlessChrome/.test(navigator.appVersion)),
                hasHeadlessWorkerUA: !!workerScope && (/HeadlessChrome/.test(workerScope.userAgent)),
            },
            stealth: {
                hasIframeProxy: (() => {
                    try {
                        const iframe = document.createElement('iframe');
                        iframe.srcdoc = instanceId;
                        return !!iframe.contentWindow;
                    }
                    catch (err) {
                        return true;
                    }
                })(),
                hasHighChromeIndex: (() => {
                    const control = ('cookieStore' in window ? 'cookieStore' :
                        'ondevicemotion' in window ? 'ondevicemotion' :
                            'speechSynthesis');
                    const propsInWindow = [];
                    // eslint-disable-next-line guard-for-in
                    for (const prop in window) {
                        propsInWindow.push(prop);
                    }
                    const chromeIndex = propsInWindow.indexOf('chrome');
                    const controlIndex = propsInWindow.indexOf(control);
                    return chromeIndex > controlIndex;
                })(),
                hasBadChromeRuntime: (() => {
                    // @ts-expect-error if unsupported
                    if (!('chrome' in window && 'runtime' in chrome)) {
                        return false;
                    }
                    try {
                        // @ts-expect-error if unsupported
                        if ('prototype' in chrome.runtime.sendMessage ||
                            // @ts-expect-error if unsupported
                            'prototype' in chrome.runtime.connect) {
                            return true;
                        }
                        // @ts-expect-error if unsupported
                        new chrome.runtime.sendMessage;
                        // @ts-expect-error if unsupported
                        new chrome.runtime.connect;
                        return true;
                    }
                    catch (err) {
                        return err.constructor.name != 'TypeError' ? true : false;
                    }
                })(),
                hasToStringProxy: (!!lieProps['Function.toString']),
                hasBadWebGL: (() => {
                    const { UNMASKED_RENDERER_WEBGL: gpu } = webgl?.parameters || {};
                    const { webglRenderer: workerGPU } = workerScope || {};
                    return (gpu && workerGPU && (gpu !== workerGPU));
                })(),
            },
        };
        const { likeHeadless, headless, stealth } = data;
        const likeHeadlessKeys = Object.keys(likeHeadless);
        const headlessKeys = Object.keys(headless);
        const stealthKeys = Object.keys(stealth);
        const likeHeadlessRating = +((likeHeadlessKeys.filter((key) => likeHeadless[key]).length / likeHeadlessKeys.length) * 100).toFixed(0);
        const headlessRating = +((headlessKeys.filter((key) => headless[key]).length / headlessKeys.length) * 100).toFixed(0);
        const stealthRating = +((stealthKeys.filter((key) => stealth[key]).length / stealthKeys.length) * 100).toFixed(0);
        logTestResult({ time: timer.stop(), test: 'headless', passed: true });
        return {
            ...data,
            likeHeadlessRating,
            headlessRating,
            stealthRating,
            systemFonts,
            platformEstimate: [scores, highestScore],
        };
    }
    catch (error) {
        logTestResult({ test: 'headless', passed: false });
        captureError(error);
        return;
    }
}

async function getIntl() {
    const getLocale = (intl) => {
        const constructors = [
            'Collator',
            'DateTimeFormat',
            'DisplayNames',
            'ListFormat',
            'NumberFormat',
            'PluralRules',
            'RelativeTimeFormat',
        ];
        // @ts-ignore
        const locale = constructors.reduce((acc, name) => {
            try {
                const obj = new intl[name];
                if (!obj) {
                    return acc;
                }
                const { locale } = obj.resolvedOptions() || {};
                return [...acc, locale];
            }
            catch (error) {
                return acc;
            }
        }, []);
        return [...new Set(locale)];
    };
    try {
        const timer = createTimer();
        await queueEvent(timer);
        const lied = (lieProps['Intl.Collator.resolvedOptions'] ||
            lieProps['Intl.DateTimeFormat.resolvedOptions'] ||
            lieProps['Intl.DisplayNames.resolvedOptions'] ||
            lieProps['Intl.ListFormat.resolvedOptions'] ||
            lieProps['Intl.NumberFormat.resolvedOptions'] ||
            lieProps['Intl.PluralRules.resolvedOptions'] ||
            lieProps['Intl.RelativeTimeFormat.resolvedOptions']) || false;
        const dateTimeFormat = caniuse(() => {
            return new Intl.DateTimeFormat(undefined, {
                month: 'long',
                timeZoneName: 'long',
            }).format(963644400000);
        });
        const displayNames = caniuse(() => {
            return new Intl.DisplayNames(undefined, {
                type: 'language',
            }).of('en-US');
        });
        const listFormat = caniuse(() => {
            // @ts-ignore
            return new Intl.ListFormat(undefined, {
                style: 'long',
                type: 'disjunction',
            }).format(['0', '1']);
        });
        const numberFormat = caniuse(() => {
            return new Intl.NumberFormat(undefined, {
                notation: 'compact',
                compactDisplay: 'long',
            }).format(21000000);
        });
        const pluralRules = caniuse(() => {
            return new Intl.PluralRules().select(1);
        });
        const relativeTimeFormat = caniuse(() => {
            return new Intl.RelativeTimeFormat(undefined, {
                localeMatcher: 'best fit',
                numeric: 'auto',
                style: 'long',
            }).format(1, 'year');
        });
        const locale = getLocale(Intl);
        logTestResult({ time: timer.stop(), test: 'intl', passed: true });
        return {
            dateTimeFormat,
            displayNames,
            listFormat,
            numberFormat,
            pluralRules,
            relativeTimeFormat,
            locale: '' + locale,
            lied,
        };
    }
    catch (error) {
        logTestResult({ test: 'intl', passed: false });
        captureError(error);
        return;
    }
}

function getMaths() {
    try {
        const timer = createTimer();
        timer.start();
        // detect failed math equality lie
        const check = [
            'acos',
            'acosh',
            'asin',
            'asinh',
            'atan',
            'atanh',
            'atan2',
            'cbrt',
            'cos',
            'cosh',
            'expm1',
            'exp',
            'hypot',
            'log',
            'log1p',
            'log10',
            'sin',
            'sinh',
            'sqrt',
            'tan',
            'tanh',
            'pow',
        ];
        let lied = false;
        check.forEach((prop) => {
            if (!!lieProps[`Math.${prop}`]) {
                lied = true;
            }
            const test = (prop == 'cos' ? [1e308] :
                prop == 'acos' || prop == 'asin' || prop == 'atanh' ? [0.5] :
                    prop == 'pow' || prop == 'atan2' ? [Math.PI, 2] :
                        [Math.PI]);
            const res1 = Math[prop](...test);
            const res2 = Math[prop](...test);
            const matching = isNaN(res1) && isNaN(res2) ? true : res1 == res2;
            if (!matching) {
                lied = true;
                const mathLie = `expected x and got y`;
                documentLie(`Math.${prop}`, mathLie);
            }
            return;
        });
        const n = 0.123;
        const bigN = 5.860847362277284e+38;
        const fns = [
            ['acos', [n], `acos(${n})`, 1.4474840516030247, NaN, NaN, 1.4474840516030245],
            ['acos', [Math.SQRT1_2], 'acos(Math.SQRT1_2)', 0.7853981633974483, NaN, NaN, NaN],
            ['acosh', [1e308], 'acosh(1e308)', 709.889355822726, NaN, NaN, NaN],
            ['acosh', [Math.PI], 'acosh(Math.PI)', 1.811526272460853, NaN, NaN, NaN],
            ['acosh', [Math.SQRT2], 'acosh(Math.SQRT2)', 0.881373587019543, NaN, NaN, 0.8813735870195432],
            ['asin', [n], `asin(${n})`, 0.12331227519187199, NaN, NaN, NaN],
            ['asinh', [1e300], 'asinh(1e308)', 691.4686750787736, NaN, NaN, NaN],
            ['asinh', [Math.PI], 'asinh(Math.PI)', 1.8622957433108482, NaN, NaN, NaN],
            ['atan', [2], 'atan(2)', 1.1071487177940904, NaN, NaN, 1.1071487177940906],
            ['atan', [Math.PI], 'atan(Math.PI)', 1.2626272556789115, NaN, NaN, NaN],
            ['atanh', [0.5], 'atanh(0.5)', 0.5493061443340548, NaN, NaN, 0.5493061443340549],
            ['atan2', [1e-310, 2], 'atan2(1e-310, 2)', 5e-311, NaN, NaN, NaN],
            ['atan2', [Math.PI, 2], 'atan2(Math.PI)', 1.0038848218538872, NaN, NaN, NaN],
            ['cbrt', [100], 'cbrt(100)', 4.641588833612779, NaN, NaN, NaN],
            ['cbrt', [Math.PI], 'cbrt(Math.PI)', 1.4645918875615231, NaN, NaN, 1.4645918875615234],
            ['cos', [n], `cos(${n})`, 0.9924450321351935, NaN, NaN, NaN],
            ['cos', [Math.PI], 'cos(Math.PI)', -1, NaN, NaN, NaN],
            ['cos', [bigN], `cos(${bigN})`, -0.10868049424995659, NaN, -0.9779661551196617, NaN],
            ['cos', [-1e308], 'cos(-1e308)', -0.8913089376870335, NaN, 0.99970162388838, NaN],
            ['cos', [13 * Math.E], 'cos(13*Math.E)', -0.7108118501064331, -0.7108118501064332, NaN, NaN],
            ['cos', [57 * Math.E], 'cos(57*Math.E)', -0.536911695749024, -0.5369116957490239, NaN, NaN],
            ['cos', [21 * Math.LN2], 'cos(21*Math.LN2)', -0.4067775970251724, -0.40677759702517235, -0.6534063185820197, NaN],
            ['cos', [51 * Math.LN2], 'cos(51*Math.LN2)', -0.7017203400855446, -0.7017203400855445, NaN, NaN],
            ['cos', [21 * Math.LOG2E], 'cos(21*Math.LOG2E)', 0.4362848063618998, 0.43628480636189976, NaN, NaN],
            ['cos', [25 * Math.SQRT2], 'cos(25*Math.SQRT2)', -0.6982689820462377, -0.6982689820462376, NaN, NaN],
            ['cos', [50 * Math.SQRT1_2], 'cos(50*Math.SQRT1_2)', -0.6982689820462377, -0.6982689820462376, NaN, NaN],
            ['cos', [21 * Math.SQRT1_2], 'cos(21*Math.SQRT1_2)', -0.6534063185820198, NaN, NaN, NaN],
            ['cos', [17 * Math.LOG10E], 'cos(17*Math.LOG10E)', 0.4537557425982784, 0.45375574259827833, NaN, NaN],
            ['cos', [2 * Math.LOG10E], 'cos(2*Math.LOG10E)', 0.6459044007438142, NaN, 0.6459044007438141, NaN],
            ['cosh', [1], 'cosh(1)', 1.5430806348152437, NaN, NaN, NaN],
            ['cosh', [Math.PI], 'cosh(Math.PI)', 11.591953275521519, NaN, NaN, NaN],
            ['cosh', [492 * Math.LOG2E], 'cosh(492*Math.LOG2E)', 9.199870313877772e+307, 9.199870313877774e+307, NaN, NaN],
            ['cosh', [502 * Math.SQRT2], 'cosh(502*Math.SQRT2)', 1.0469199669023138e+308, 1.046919966902314e+308, NaN, NaN],
            ['expm1', [1], 'expm1(1)', 1.718281828459045, NaN, NaN, 1.7182818284590453],
            ['expm1', [Math.PI], 'expm1(Math.PI)', 22.140692632779267, NaN, NaN, NaN],
            ['exp', [n], `exp(${n})`, 1.1308844209474893, NaN, NaN, NaN],
            ['exp', [Math.PI], 'exp(Math.PI)', 23.140692632779267, NaN, NaN, NaN],
            ['hypot', [1, 2, 3, 4, 5, 6], 'hypot(1, 2, 3, 4, 5, 6)', 9.539392014169456, NaN, NaN, NaN],
            ['hypot', [bigN, bigN], `hypot(${bigN}, ${bigN})`, 8.288489826731116e+38, 8.288489826731114e+38, NaN, NaN],
            ['hypot', [2 * Math.E, -100], 'hypot(2*Math.E, -100)', 100.14767208675259, 100.14767208675258, NaN, NaN],
            ['hypot', [6 * Math.PI, -100], 'hypot(6*Math.PI, -100)', 101.76102278593319, 101.7610227859332, NaN, NaN],
            ['hypot', [2 * Math.LN2, -100], 'hypot(2*Math.LN2, -100)', 100.0096085986525, 100.00960859865252, NaN, NaN],
            ['hypot', [Math.LOG2E, -100], 'hypot(Math.LOG2E, -100)', 100.01040630344929, 100.01040630344927, NaN, NaN],
            ['hypot', [Math.SQRT2, -100], 'hypot(Math.SQRT2, -100)', 100.00999950004999, 100.00999950005, NaN, NaN],
            ['hypot', [Math.SQRT1_2, -100], 'hypot(Math.SQRT1_2, -100)', 100.0024999687508, 100.00249996875078, NaN, NaN],
            ['hypot', [2 * Math.LOG10E, -100], 'hypot(2*Math.LOG10E, -100)', 100.00377216279416, 100.00377216279418, NaN, NaN],
            ['log', [n], `log(${n})`, -2.0955709236097197, NaN, NaN, NaN],
            ['log', [Math.PI], 'log(Math.PI)', 1.1447298858494002, NaN, NaN, NaN],
            ['log1p', [n], `log1p(${n})`, 0.11600367575630613, NaN, NaN, NaN],
            ['log1p', [Math.PI], 'log1p(Math.PI)', 1.4210804127942926, NaN, NaN, NaN],
            ['log10', [n], `log10(${n})`, -0.9100948885606021, NaN, NaN, NaN],
            ['log10', [Math.PI], 'log10(Math.PI)', 0.4971498726941338, 0.49714987269413385, NaN, NaN],
            ['log10', [Math.E], 'log10(Math.E)', 0.4342944819032518, NaN, NaN, NaN],
            ['log10', [34 * Math.E], 'log10(34*Math.E)', 1.9657733989455068, 1.965773398945507, NaN, NaN],
            ['log10', [Math.LN2], 'log10(Math.LN2)', -0.1591745389548616, NaN, NaN, NaN],
            ['log10', [11 * Math.LN2], 'log10(11*Math.LN2)', 0.8822181462033634, 0.8822181462033635, NaN, NaN],
            ['log10', [Math.LOG2E], 'log10(Math.LOG2E)', 0.15917453895486158, NaN, NaN, NaN],
            ['log10', [43 * Math.LOG2E], 'log10(43*Math.LOG2E)', 1.792642994534448, 1.7926429945344482, NaN, NaN],
            ['log10', [Math.LOG10E], 'log10(Math.LOG10E)', -0.36221568869946325, NaN, NaN, NaN],
            ['log10', [7 * Math.LOG10E], 'log10(7*Math.LOG10E)', 0.4828823513147936, 0.48288235131479357, NaN, NaN],
            ['log10', [Math.SQRT1_2], 'log10(Math.SQRT1_2)', -0.15051499783199057, NaN, NaN, NaN],
            ['log10', [2 * Math.SQRT1_2], 'log10(2*Math.SQRT1_2)', 0.1505149978319906, 0.15051499783199063, NaN, NaN],
            ['log10', [Math.SQRT2], 'log10(Math.SQRT2)', 0.1505149978319906, 0.15051499783199063, NaN, NaN],
            ['sin', [bigN], `sin(${bigN})`, 0.994076732536068, NaN, -0.20876350121720488, NaN],
            ['sin', [Math.PI], 'sin(Math.PI)', 1.2246467991473532e-16, NaN, 1.2246063538223773e-16, NaN],
            ['sin', [39 * Math.E], 'sin(39*Math.E)', -0.7181630308570677, -0.7181630308570678, NaN, NaN],
            ['sin', [35 * Math.LN2], 'sin(35*Math.LN2)', -0.7659964138980511, -0.765996413898051, NaN, NaN],
            ['sin', [110 * Math.LOG2E], 'sin(110*Math.LOG2E)', 0.9989410140273756, 0.9989410140273757, NaN, NaN],
            ['sin', [7 * Math.LOG10E], 'sin(7*Math.LOG10E)', 0.10135692924965616, 0.10135692924965614, NaN, NaN],
            ['sin', [35 * Math.SQRT1_2], 'sin(35*Math.SQRT1_2)', -0.3746357547858202, -0.37463575478582023, NaN, NaN],
            ['sin', [21 * Math.SQRT2], 'sin(21*Math.SQRT2)', -0.9892668187780498, -0.9892668187780497, NaN, NaN],
            ['sinh', [1], 'sinh(1)', 1.1752011936438014, NaN, NaN, NaN],
            ['sinh', [Math.PI], 'sinh(Math.PI)', 11.548739357257748, NaN, NaN, 11.548739357257746],
            ['sinh', [Math.E], 'sinh(Math.E)', 7.544137102816975, NaN, NaN, NaN],
            ['sinh', [Math.LN2], 'sinh(Math.LN2)', 0.75, NaN, NaN, NaN],
            ['sinh', [Math.LOG2E], 'sinh(Math.LOG2E)', 1.9978980091062795, NaN, NaN, NaN],
            ['sinh', [492 * Math.LOG2E], 'sinh(492*Math.LOG2E)', 9.199870313877772e+307, 9.199870313877774e+307, NaN, NaN],
            ['sinh', [Math.LOG10E], 'sinh(Math.LOG10E)', 0.44807597941469024, NaN, NaN, NaN],
            ['sinh', [Math.SQRT1_2], 'sinh(Math.SQRT1_2)', 0.7675231451261164, NaN, NaN, NaN],
            ['sinh', [Math.SQRT2], 'sinh(Math.SQRT2)', 1.935066822174357, NaN, NaN, 1.9350668221743568],
            ['sinh', [502 * Math.SQRT2], 'sinh(502*Math.SQRT2)', 1.0469199669023138e+308, 1.046919966902314e+308, NaN, NaN],
            ['sqrt', [n], `sqrt(${n})`, 0.3507135583350036, NaN, NaN, NaN],
            ['sqrt', [Math.PI], 'sqrt(Math.PI)', 1.7724538509055159, NaN, NaN, NaN],
            ['tan', [-1e308], 'tan(-1e308)', 0.5086861259107568, NaN, NaN, 0.5086861259107567],
            ['tan', [Math.PI], 'tan(Math.PI)', -1.2246467991473532e-16, NaN, NaN, NaN],
            ['tan', [6 * Math.E], 'tan(6*Math.E)', 0.6866761546452431, 0.686676154645243, NaN, NaN],
            ['tan', [6 * Math.LN2], 'tan(6*Math.LN2)', 1.6182817135715877, 1.618281713571588, NaN, 1.6182817135715875],
            ['tan', [10 * Math.LOG2E], 'tan(10*Math.LOG2E)', -3.3537128705376014, -3.353712870537601, NaN, -3.353712870537602],
            ['tan', [17 * Math.SQRT2], 'tan(17*Math.SQRT2)', -1.9222955461799982, -1.922295546179998, NaN, NaN],
            ['tan', [34 * Math.SQRT1_2], 'tan(34*Math.SQRT1_2)', -1.9222955461799982, -1.922295546179998, NaN, NaN],
            ['tan', [10 * Math.LOG10E], 'tan(10*Math.LOG10E)', 2.5824856130712432, 2.5824856130712437, NaN, NaN],
            ['tanh', [n], `tanh(${n})`, 0.12238344189440875, NaN, NaN, 0.12238344189440876],
            ['tanh', [Math.PI], 'tanh(Math.PI)', 0.99627207622075, NaN, NaN, NaN],
            ['pow', [n, -100], `pow(${n}, -100)`, 1.022089333584519e+91, 1.0220893335845176e+91, NaN, NaN],
            ['pow', [Math.PI, -100], 'pow(Math.PI, -100)', 1.9275814160560204e-50, 1.9275814160560185e-50, NaN, 1.9275814160560206e-50],
            ['pow', [Math.E, -100], 'pow(Math.E, -100)', 3.7200759760208555e-44, 3.720075976020851e-44, NaN, NaN],
            ['pow', [Math.LN2, -100], 'pow(Math.LN2, -100)', 8269017203802394, 8269017203802410, NaN, NaN],
            ['pow', [Math.LN10, -100], 'pow(Math.LN10, -100)', 6.003867926738829e-37, 6.003867926738811e-37, NaN, NaN],
            ['pow', [Math.LOG2E, -100], 'pow(Math.LOG2E, -100)', 1.20933355845501e-16, 1.2093335584550061e-16, NaN, NaN],
            ['pow', [Math.LOG10E, -100], 'pow(Math.LOG10E, -100)', 1.6655929347585958e+36, 1.665592934758592e+36, NaN, 1.6655929347585955e+36],
            ['pow', [Math.SQRT1_2, -100], 'pow(Math.SQRT1_2, -100)', 1125899906842616.2, 1125899906842611.5, NaN, NaN],
            ['pow', [Math.SQRT2, -100], 'pow(Math.SQRT2, -100)', 8.881784197001191e-16, 8.881784197001154e-16, NaN, NaN],
            ['polyfill', [2e-3 ** -100], 'polyfill pow(2e-3, -100)', 7.888609052210102e+269, 7.888609052210126e+269, NaN, NaN],
        ];
        const data = {};
        fns.forEach((fn) => {
            data[fn[2]] = attempt(() => {
                // @ts-ignore
                const result = fn[0] != 'polyfill' ? Math[fn[0]](...fn[1]) : fn[1];
                const chrome = result == fn[3];
                const firefox = fn[4] ? result == fn[4] : false;
                const torBrowser = fn[5] ? result == fn[5] : false;
                const safari = fn[6] ? result == fn[6] : false;
                return { result, chrome, firefox, torBrowser, safari };
            });
        });
        logTestResult({ time: timer.stop(), test: 'math', passed: true });
        return { data, lied };
    }
    catch (error) {
        logTestResult({ test: 'math', passed: false });
        captureError(error);
        return;
    }
}

// inspired by
// - https://privacycheck.sec.lrz.de/active/fp_cpt/fp_can_play_type.html
// - https://arkenfox.github.io/TZP
const getMimeTypeShortList = () => [
    'audio/ogg; codecs="vorbis"',
    'audio/mpeg',
    'audio/mpegurl',
    'audio/wav; codecs="1"',
    'audio/x-m4a',
    'audio/aac',
    'video/ogg; codecs="theora"',
    'video/quicktime',
    'video/mp4; codecs="avc1.42E01E"',
    'video/webm; codecs="vp8"',
    'video/webm; codecs="vp9"',
    'video/x-matroska',
].sort();
async function getMedia() {
    const getMimeTypes = () => {
        try {
            const mimeTypes = getMimeTypeShortList();
            const videoEl = document.createElement('video');
            const audioEl = new Audio();
            const isMediaRecorderSupported = 'MediaRecorder' in window;
            const types = mimeTypes.reduce((acc, type) => {
                const data = {
                    mimeType: type,
                    audioPlayType: audioEl.canPlayType(type),
                    videoPlayType: videoEl.canPlayType(type),
                    mediaSource: MediaSource.isTypeSupported(type),
                    mediaRecorder: isMediaRecorderSupported ? MediaRecorder.isTypeSupported(type) : false,
                };
                if (!data.audioPlayType && !data.videoPlayType && !data.mediaSource && !data.mediaRecorder) {
                    return acc;
                }
                // @ts-ignore
                acc.push(data);
                return acc;
            }, []);
            return types;
        }
        catch (error) {
            return;
        }
    };
    try {
        const timer = createTimer();
        timer.start();
        const mimeTypes = getMimeTypes();
        logTestResult({ time: timer.stop(), test: 'media', passed: true });
        return { mimeTypes };
    }
    catch (error) {
        logTestResult({ test: 'media', passed: false });
        captureError(error);
        return;
    }
}

// special thanks to https://arh.antoinevastel.com for inspiration
async function getNavigator(workerScope) {
    try {
        const timer = createTimer();
        await queueEvent(timer);
        let lied = (lieProps['Navigator.appVersion'] ||
            lieProps['Navigator.deviceMemory'] ||
            lieProps['Navigator.doNotTrack'] ||
            lieProps['Navigator.hardwareConcurrency'] ||
            lieProps['Navigator.language'] ||
            lieProps['Navigator.languages'] ||
            lieProps['Navigator.maxTouchPoints'] ||
            lieProps['Navigator.oscpu'] ||
            lieProps['Navigator.platform'] ||
            lieProps['Navigator.userAgent'] ||
            lieProps['Navigator.vendor'] ||
            lieProps['Navigator.plugins'] ||
            lieProps['Navigator.mimeTypes']) || false;
        const credibleUserAgent = ('chrome' in window ? navigator.userAgent.includes(navigator.appVersion) : true);
        const data = {
            platform: attempt(() => {
                const { platform } = navigator;
                const systems = ['win', 'linux', 'mac', 'arm', 'pike', 'linux', 'iphone', 'ipad', 'ipod', 'android', 'x11'];
                const trusted = typeof platform == 'string' && systems.filter((val) => platform.toLowerCase().includes(val))[0];
                if (!trusted) {
                    sendToTrash(`platform`, `${platform} is unusual`);
                }
                // user agent os lie
                if (USER_AGENT_OS !== PLATFORM_OS) {
                    lied = true;
                    documentLie(`Navigator.platform`, `${PLATFORM_OS} platform and ${USER_AGENT_OS} user agent do not match`);
                }
                if (platform != workerScope.platform) {
                    lied = true; // documented in the worker source
                }
                return platform;
            }),
            system: attempt(() => getOS(navigator.userAgent), 'userAgent system failed'),
            userAgentParsed: await attempt(async () => {
                const reportedUserAgent = caniuse(() => navigator.userAgent);
                const reportedSystem = getOS(reportedUserAgent);
                const isBrave = await braveBrowser();
                const report = decryptUserAgent({
                    ua: reportedUserAgent,
                    os: reportedSystem,
                    isBrave,
                });
                return report;
            }),
            device: attempt(() => getUserAgentPlatform({ userAgent: navigator.userAgent }), 'userAgent device failed'),
            userAgent: attempt(() => {
                const { userAgent } = navigator;
                if (!credibleUserAgent) {
                    sendToTrash('userAgent', `${userAgent} does not match appVersion`);
                }
                if (/\s{2,}|^\s|\s$/g.test(userAgent)) {
                    sendToTrash('userAgent', `extra spaces detected`);
                }
                const gibbers = gibberish(userAgent);
                if (!!gibbers.length) {
                    sendToTrash(`userAgent is gibberish`, userAgent);
                }
                if (userAgent != workerScope.userAgent) {
                    lied = true; // documented in the worker source
                }
                return userAgent.trim().replace(/\s{2,}/, ' ');
            }, 'userAgent failed'),
            uaPostReduction: isUAPostReduction((navigator || {}).userAgent),
            appVersion: attempt(() => {
                const { appVersion } = navigator;
                if (!credibleUserAgent) {
                    sendToTrash('appVersion', `${appVersion} does not match userAgent`);
                }
                if ('appVersion' in navigator && !appVersion) {
                    sendToTrash('appVersion', 'Living Standard property returned falsy value');
                }
                if (/\s{2,}|^\s|\s$/g.test(appVersion)) {
                    sendToTrash('appVersion', `extra spaces detected`);
                }
                return appVersion.trim().replace(/\s{2,}/, ' ');
            }, 'appVersion failed'),
            deviceMemory: attempt(() => {
                if (!('deviceMemory' in navigator)) {
                    return undefined;
                }
                // @ts-ignore
                const { deviceMemory } = navigator;
                const trusted = {
                    '0.25': true,
                    '0.5': true,
                    '1': true,
                    '2': true,
                    '4': true,
                    '8': true,
                };
                if (!trusted[deviceMemory]) {
                    sendToTrash('deviceMemory', `${deviceMemory} is not a valid value [0.25, 0.5, 1, 2, 4, 8]`);
                }
                // @ts-expect-error memory is undefined if not supported
                const memory = performance?.memory?.jsHeapSizeLimit || null;
                const memoryInGigabytes = memory ? +(memory / 1073741824).toFixed(1) : 0;
                if (memoryInGigabytes > deviceMemory) {
                    sendToTrash('deviceMemory', `available memory ${memoryInGigabytes}GB is greater than device memory ${deviceMemory}GB`);
                }
                if (deviceMemory !== workerScope.deviceMemory) {
                    lied = true; // documented in the worker source
                }
                return deviceMemory;
            }, 'deviceMemory failed'),
            doNotTrack: attempt(() => {
                const { doNotTrack } = navigator;
                const trusted = {
                    '1': !0,
                    'true': !0,
                    'yes': !0,
                    '0': !0,
                    'false': !0,
                    'no': !0,
                    'unspecified': !0,
                    'null': !0,
                    'undefined': !0,
                };
                if (!trusted[doNotTrack]) {
                    sendToTrash('doNotTrack - unusual result', doNotTrack);
                }
                return doNotTrack;
            }, 'doNotTrack failed'),
            globalPrivacyControl: attempt(() => {
                if (!('globalPrivacyControl' in navigator)) {
                    return undefined;
                }
                // @ts-ignore
                const { globalPrivacyControl } = navigator;
                const trusted = {
                    '1': !0,
                    'true': !0,
                    'yes': !0,
                    '0': !0,
                    'false': !0,
                    'no': !0,
                    'unspecified': !0,
                    'null': !0,
                    'undefined': !0,
                };
                if (!trusted[globalPrivacyControl]) {
                    sendToTrash('globalPrivacyControl - unusual result', globalPrivacyControl);
                }
                return globalPrivacyControl;
            }, 'globalPrivacyControl failed'),
            hardwareConcurrency: attempt(() => {
                if (!('hardwareConcurrency' in navigator)) {
                    return undefined;
                }
                const { hardwareConcurrency } = navigator;
                if (hardwareConcurrency !== workerScope.hardwareConcurrency) {
                    lied = true; // documented in the worker source
                }
                return hardwareConcurrency;
            }, 'hardwareConcurrency failed'),
            language: attempt(() => {
                const { language, languages } = navigator;
                if (language && languages) {
                    // @ts-ignore
                    const lang = /^.{0,2}/g.exec(language)[0];
                    // @ts-ignore
                    const langs = /^.{0,2}/g.exec(languages[0])[0];
                    if (langs != lang) {
                        sendToTrash('language/languages', `${[language, languages].join(' ')} mismatch`);
                    }
                    return `${languages.join(', ')} (${language})`;
                }
                if (language != workerScope.language) {
                    lied = true;
                    documentLie(`Navigator.language`, `${language} does not match worker scope`);
                }
                if (languages !== workerScope.languages) {
                    lied = true;
                    documentLie(`Navigator.languages`, `${languages} does not match worker scope`);
                }
                return `${language} ${languages}`;
            }, 'language(s) failed'),
            maxTouchPoints: attempt(() => {
                if (!('maxTouchPoints' in navigator)) {
                    return null;
                }
                return navigator.maxTouchPoints;
            }, 'maxTouchPoints failed'),
            vendor: attempt(() => navigator.vendor, 'vendor failed'),
            mimeTypes: attempt(() => {
                const { mimeTypes } = navigator;
                return mimeTypes ? [...mimeTypes].map((m) => m.type) : [];
            }, 'mimeTypes failed'),
            // @ts-ignore
            oscpu: attempt(() => navigator.oscpu, 'oscpu failed'),
            plugins: attempt(() => {
                // https://html.spec.whatwg.org/multipage/system-state.html#pdf-viewing-support
                const { plugins } = navigator;
                if (!(plugins instanceof PluginArray)) {
                    return;
                }
                const response = plugins ? [...plugins]
                    .map((p) => ({
                    name: p.name,
                    description: p.description,
                    filename: p.filename,
                    // @ts-ignore
                    version: p.version,
                })) : [];
                const { lies } = getPluginLies(plugins, navigator.mimeTypes);
                if (lies.length) {
                    lied = true;
                    lies.forEach((lie) => {
                        return documentLie(`Navigator.plugins`, lie);
                    });
                }
                if (response.length) {
                    response.forEach((plugin) => {
                        const { name, description } = plugin;
                        const nameGibbers = gibberish(name);
                        const descriptionGibbers = gibberish(description);
                        if (nameGibbers.length) {
                            sendToTrash(`plugin name is gibberish`, name);
                        }
                        if (descriptionGibbers.length) {
                            sendToTrash(`plugin description is gibberish`, description);
                        }
                        return;
                    });
                }
                return response;
            }, 'plugins failed'),
            properties: attempt(() => {
                const keys = Object.keys(Object.getPrototypeOf(navigator));
                return keys;
            }, 'navigator keys failed'),
        };
        const getUserAgentData = () => attempt(() => {
            // @ts-ignore
            if (!navigator.userAgentData ||
                // @ts-ignore
                !navigator.userAgentData.getHighEntropyValues) {
                return;
            }
            // @ts-ignore
            return navigator.userAgentData.getHighEntropyValues(['platform', 'platformVersion', 'architecture', 'bitness', 'model', 'uaFullVersion']).then((data) => {
                // @ts-ignore
                const { brands, mobile } = navigator.userAgentData || {};
                const compressedBrands = (brands, captureVersion = false) => brands
                    .filter((obj) => !/Not/.test(obj.brand)).map((obj) => `${obj.brand}${captureVersion ? ` ${obj.version}` : ''}`);
                const removeChromium = (brands) => (brands.length > 1 ? brands.filter((brand) => !/Chromium/.test(brand)) : brands);
                // compress brands
                if (!data.brands) {
                    data.brands = brands;
                }
                data.brandsVersion = compressedBrands(data.brands, true);
                data.brands = compressedBrands(data.brands);
                data.brandsVersion = removeChromium(data.brandsVersion);
                data.brands = removeChromium(data.brands);
                if (!data.mobile) {
                    data.mobile = mobile;
                }
                const dataSorted = Object.keys(data).sort().reduce((acc, key) => {
                    acc[key] = data[key];
                    return acc;
                }, {});
                return dataSorted;
            });
        }, 'userAgentData failed');
        const getBluetoothAvailability = () => attempt(() => {
            if (!('bluetooth' in navigator) ||
                // @ts-ignore
                !navigator.bluetooth ||
                // @ts-ignore
                !navigator.bluetooth.getAvailability) {
                return undefined;
            }
            // @ts-ignore
            return navigator.bluetooth.getAvailability();
        }, 'bluetoothAvailability failed');
        const getPermissions = () => attempt(() => {
            const getPermissionState = (name) => navigator.permissions.query({ name })
                .then((res) => ({ name, state: res.state }))
                .catch((error) => ({ name, state: 'unknown' }));
            // https://w3c.github.io/permissions/#permission-registry
            const permissions = !('permissions' in navigator) ? undefined : Promise.all([
                getPermissionState('accelerometer'),
                getPermissionState('ambient-light-sensor'),
                getPermissionState('background-fetch'),
                getPermissionState('background-sync'),
                getPermissionState('bluetooth'),
                getPermissionState('camera'),
                getPermissionState('clipboard'),
                getPermissionState('device-info'),
                getPermissionState('display-capture'),
                getPermissionState('gamepad'),
                getPermissionState('geolocation'),
                getPermissionState('gyroscope'),
                getPermissionState('magnetometer'),
                getPermissionState('microphone'),
                getPermissionState('midi'),
                getPermissionState('nfc'),
                getPermissionState('notifications'),
                getPermissionState('persistent-storage'),
                getPermissionState('push'),
                getPermissionState('screen-wake-lock'),
                getPermissionState('speaker'),
                getPermissionState('speaker-selection'),
            ]).then((permissions) => permissions.reduce((acc, perm) => {
                const { state, name } = perm || {};
                if (acc[state]) {
                    acc[state].push(name);
                    return acc;
                }
                acc[state] = [name];
                return acc;
            }, {})).catch((error) => console.error(error));
            return permissions;
        }, 'permissions failed');
        const getWebgpu = () => attempt(() => {
            if (!('gpu' in navigator)) {
                return;
            }
            // @ts-ignore
            return navigator.gpu.requestAdapter().then(({ limits, features }) => {
                return {
                    features: [...features.values()],
                    limits: ((limits) => {
                        const data = {};
                        // eslint-disable-next-line guard-for-in
                        for (const prop in limits) {
                            data[prop] = limits[prop];
                        }
                        return data;
                    })(limits),
                };
            });
        }, 'webgpu failed');
        await queueEvent(timer);
        return Promise.all([
            getUserAgentData(),
            getBluetoothAvailability(),
            getPermissions(),
            getWebgpu(),
        ]).then(([userAgentData, bluetoothAvailability, permissions, webgpu,]) => {
            logTestResult({ time: timer.stop(), test: 'navigator', passed: true });
            return {
                ...data,
                userAgentData,
                bluetoothAvailability,
                permissions,
                webgpu,
                lied,
            };
        }).catch((error) => {
            console.error(error);
            logTestResult({ time: timer.stop(), test: 'navigator', passed: true });
            return {
                ...data,
                lied,
            };
        });
    }
    catch (error) {
        logTestResult({ test: 'navigator', passed: false });
        captureError(error, 'Navigator failed or blocked by client');
        return;
    }
}

async function getResistance() {
    try {
        const timer = createTimer();
        await queueEvent(timer);
        const data = {
            privacy: undefined,
            security: undefined,
            mode: undefined,
            extension: undefined,
            engine: (IS_BLINK ? 'Blink' :
                IS_GECKO ? 'Gecko' :
                    ''),
        };
        // Firefox/Tor Browser
        const regex = (n) => new RegExp(`${n}+$`);
        const delay = (ms, baseNumber, baseDate) => new Promise((resolve) => setTimeout(() => {
            const date = baseDate ? baseDate : +new Date();
            // @ts-ignore
            const value = regex(baseNumber).test(date) ? regex(baseNumber).exec(date)[0] : date;
            return resolve(value);
        }, ms));
        const getTimerPrecision = async () => {
            const baseDate = +new Date();
            const baseNumber = +('' + baseDate).slice(-1);
            const a = await delay(0, baseNumber, baseDate);
            const b = await delay(1, baseNumber);
            const c = await delay(2, baseNumber);
            const d = await delay(3, baseNumber);
            const e = await delay(4, baseNumber);
            const f = await delay(5, baseNumber);
            const g = await delay(6, baseNumber);
            const h = await delay(7, baseNumber);
            const i = await delay(8, baseNumber);
            const j = await delay(9, baseNumber);
            const lastCharA = ('' + a).slice(-1);
            const lastCharB = ('' + b).slice(-1);
            const lastCharC = ('' + c).slice(-1);
            const lastCharD = ('' + d).slice(-1);
            const lastCharE = ('' + e).slice(-1);
            const lastCharF = ('' + f).slice(-1);
            const lastCharG = ('' + g).slice(-1);
            const lastCharH = ('' + h).slice(-1);
            const lastCharI = ('' + i).slice(-1);
            const lastCharJ = ('' + j).slice(-1);
            const protection = (lastCharA == lastCharB &&
                lastCharA == lastCharC &&
                lastCharA == lastCharD &&
                lastCharA == lastCharE &&
                lastCharA == lastCharF &&
                lastCharA == lastCharG &&
                lastCharA == lastCharH &&
                lastCharA == lastCharI &&
                lastCharA == lastCharJ);
            const baseLen = ('' + a).length;
            const collection = [a, b, c, d, e, f, g, h, i, j];
            return {
                protection,
                delays: collection.map((n) => ('' + n).length > baseLen ? ('' + n).slice(-baseLen) : n),
                precision: protection ? Math.min(...collection.map((val) => ('' + val).length)) : undefined,
                precisionValue: protection ? lastCharA : undefined,
            };
        };
        const [isBrave, timerPrecision,] = await Promise.all([
            braveBrowser(),
            IS_BLINK ? undefined : getTimerPrecision(),
        ]);
        if (isBrave) {
            const braveMode = getBraveMode();
            data.privacy = 'Brave';
            // @ts-ignore
            data.security = {
                'FileSystemWritableFileStream': 'FileSystemWritableFileStream' in window,
                'Serial': 'Serial' in window,
                'ReportingObserver': 'ReportingObserver' in window,
            };
            data.mode = (braveMode.allow ? 'allow' :
                braveMode.standard ? 'standard' :
                    braveMode.strict ? 'strict' :
                        '');
        }
        const { protection } = timerPrecision || {};
        if (IS_GECKO && protection) {
            const features = {
                'OfflineAudioContext': 'OfflineAudioContext' in window,
                'WebGL2RenderingContext': 'WebGL2RenderingContext' in window,
                'WebAssembly': 'WebAssembly' in window,
                'maxTouchPoints': 'maxTouchPoints' in navigator,
                'RTCRtpTransceiver': 'RTCRtpTransceiver' in window,
                'MediaDevices': 'MediaDevices' in window,
                'Credential': 'Credential' in window,
            };
            const featureKeys = Object.keys(features);
            const targetSet = new Set([
                'RTCRtpTransceiver',
                'MediaDevices',
                'Credential',
            ]);
            const torBrowser = featureKeys.filter((key) => targetSet.has(key) && !features[key]).length == targetSet.size;
            const safer = !features.WebAssembly;
            data.privacy = torBrowser ? 'Tor Browser' : 'Firefox';
            // @ts-ignore
            data.security = {
                'reduceTimerPrecision': true,
                ...features,
            };
            data.mode = (!torBrowser ? 'resistFingerprinting' :
                safer ? 'safer' :
                    'standard');
        }
        // extension
        // - this technique gets a small sample of known lie patterns
        // - patterns vary based on extensions settings, version, browser
        const prototypeLiesLen = Object.keys(prototypeLies).length;
        // patterns based on settings
        const disabled = 'c767712b';
        const pattern = {
            noscript: {
                contentDocumentHash: ['0b637a33', '37e2f32e', '318390d1'],
                contentWindowHash: ['0b637a33', '37e2f32e', '318390d1'],
                getContextHash: ['0b637a33', '081d6d1b', disabled],
            },
            trace: {
                contentDocumentHash: ['ca9d9c2f'],
                contentWindowHash: ['ca9d9c2f'],
                createElementHash: ['77dea834'],
                getElementByIdHash: ['77dea834'],
                getImageDataHash: ['77dea834'],
                toBlobHash: ['77dea834', disabled],
                toDataURLHash: ['77dea834', disabled],
            },
            cydec: {
                // [FF, FF Anti OFF, Chrome, Chrome Anti Off, no iframe Chrome, no iframe Chrome Anti Off]
                contentDocumentHash: ['945b0c78', '15771efa', '403a1a21', '55e9b959'],
                contentWindowHash: ['945b0c78', '15771efa', '403a1a21', '55e9b959'],
                createElementHash: ['3dd86d6f', 'cc7cb598', '4237b44c', '1466aaf0', '0cb0c682', '73c662d9', '72b1ee2b', 'ae3d02c9'],
                getElementByIdHash: ['3dd86d6f', 'cc7cb598', '4237b44c', '1466aaf0', '0cb0c682', '73c662d9', '72b1ee2b', 'ae3d02c9'],
                getImageDataHash: ['044f14c2', 'db60d7f9', '15771efa', 'db60d7f9', '55e9b959'],
                toBlobHash: ['044f14c2', '15771efa', 'afec348d', '55e9b959', '0dbbf456'],
                toDataURLHash: ['ecb498d9', '15771efa', '6b838fb6', 'd19104ec', '6985d315', '55e9b959', 'fe88259f'],
            },
            canvasblocker: {
                contentDocumentHash: ['98ec858e', 'dbbaf31f'],
                contentWindowHash: ['98ec858e', 'dbbaf31f'],
                appendHash: ['98ec858e', 'dbbaf31f'],
                getImageDataHash: ['98ec858e', 'a2971888', 'dbbaf31f', disabled],
                toBlobHash: ['9f1c3dfe', 'a2971888', 'dbbaf31f', disabled],
                toDataURLHash: ['98ec858e', 'a2971888', 'dbbaf31f', disabled],
            },
            chameleon: {
                appendHash: ['77dea834'],
                insertAdjacentElementHash: ['77dea834'],
                insertAdjacentHTMLHash: ['77dea834'],
                insertAdjacentTextHash: ['77dea834'],
                prependHash: ['77dea834'],
                replaceWithHash: ['77dea834'],
                appendChildHash: ['77dea834'],
                insertBeforeHash: ['77dea834'],
                replaceChildHash: ['77dea834'],
            },
            duckduckgo: {
                toDataURLHash: ['fd00bf5d', '8ee7df22', disabled],
                toBlobHash: ['fd00bf5d', '8ee7df22', disabled],
                getImageDataHash: ['fd00bf5d', '8ee7df22', disabled],
                getByteFrequencyDataHash: ['fd00bf5d', '8ee7df22', disabled],
                getByteTimeDomainDataHash: ['fd00bf5d', '8ee7df22', disabled],
                getFloatFrequencyDataHash: ['fd00bf5d', '8ee7df22', disabled],
                getFloatTimeDomainDataHash: ['fd00bf5d', '8ee7df22', disabled],
                copyFromChannelHash: ['fd00bf5d', '8ee7df22', disabled],
                getChannelDataHash: ['fd00bf5d', '8ee7df22', disabled],
                hardwareConcurrencyHash: ['dfd41ab4'],
                availHeightHash: ['dfd41ab4'],
                availLeftHash: ['dfd41ab4'],
                availTopHash: ['dfd41ab4'],
                availWidthHash: ['dfd41ab4'],
                colorDepthHash: ['dfd41ab4'],
                pixelDepthHash: ['dfd41ab4'],
            },
            // mode: Learn to block new trackers from your browsing
            privacybadger: {
                getImageDataHash: ['0cb0c682'],
                toDataURLHash: ['0cb0c682'],
            },
            privacypossum: {
                hardwareConcurrencyHash: ['452924d5'],
                availWidthHash: ['452924d5'],
                colorDepthHash: ['452924d5'],
            },
            jshelter: {
                contentDocumentHash: ['0007ab4e', '0b637a33', '866fa7e7', '318390d1'],
                contentWindowHash: ['0007ab4e', '0b637a33', '866fa7e7', '318390d1'],
                appendHash: ['0007ab4e', '0b637a33', '866fa7e7', '318390d1'],
                insertAdjacentElementHash: ['0007ab4e', '0b637a33', '866fa7e7', '318390d1'],
                insertAdjacentHTMLHash: ['0007ab4e', '0b637a33', '866fa7e7', '318390d1'],
                prependHash: ['0007ab4e', '0b637a33', '866fa7e7', '318390d1'],
                replaceWithHash: ['0007ab4e', '0b637a33', '866fa7e7', '318390d1'],
                appendChildHash: ['0007ab4e', '0b637a33', '866fa7e7', '318390d1'],
                insertBeforeHash: ['0007ab4e', '0b637a33', '866fa7e7', '318390d1'],
                replaceChildHash: ['0007ab4e', '0b637a33', '866fa7e7', '318390d1'],
                hardwareConcurrencyHash: ['dfd41ab4'],
            },
            puppeteerExtra: {
                contentDocumentHash: ['55e9b959'],
                contentWindowHash: [
                    '55e9b959',
                    '50a281b5', // @2.10.0
                ],
                createElementHash: ['55e9b959'],
                getElementByIdHash: ['55e9b959'],
                appendHash: ['55e9b959'],
                insertAdjacentElementHash: ['55e9b959'],
                insertAdjacentHTMLHash: ['55e9b959'],
                insertAdjacentTextHash: ['55e9b959'],
                prependHash: ['55e9b959'],
                replaceWithHash: ['55e9b959'],
                appendChildHash: ['55e9b959'],
                insertBeforeHash: ['55e9b959'],
                replaceChildHash: ['55e9b959'],
                getContextHash: ['55e9b959', disabled],
                toDataURLHash: ['55e9b959', disabled],
                toBlobHash: ['55e9b959', disabled],
                getImageDataHash: ['55e9b959'],
                hardwareConcurrencyHash: ['efbd4cf9', 'a63491fb', 'b011fd1c', '194ecf17', '55e9b959'],
            },
            fakeBrowser: {
                appendChildHash: ['8dfec2ec', 'f43e6134'],
                getContextHash: ['83b825ab', 'a63491fb'],
                toDataURLHash: ['83b825ab', 'a63491fb'],
                toBlobHash: ['83b825ab', 'a63491fb'],
                getImageDataHash: ['83b825ab', 'a63491fb'],
                hardwareConcurrencyHash: ['83b825ab', 'a63491fb'],
                availHeightHash: ['83b825ab', 'a63491fb'],
                availLeftHash: ['83b825ab', 'a63491fb'],
                availTopHash: ['83b825ab', 'a63491fb'],
                availWidthHash: ['83b825ab', 'a63491fb'],
                colorDepthHash: ['83b825ab', 'a63491fb'],
                pixelDepthHash: ['83b825ab', 'a63491fb'],
            },
        };
        /*
        Random User-Agent
        User Agent Switcher and Manager
        ScriptSafe
        Windscribe
        */
        await queueEvent(timer);
        const hash = {
            // iframes
            contentDocumentHash: hashMini(prototypeLies['HTMLIFrameElement.contentDocument']),
            contentWindowHash: hashMini(prototypeLies['HTMLIFrameElement.contentWindow']),
            createElementHash: hashMini(prototypeLies['Document.createElement']),
            getElementByIdHash: hashMini(prototypeLies['Document.getElementById']),
            appendHash: hashMini(prototypeLies['Element.append']),
            insertAdjacentElementHash: hashMini(prototypeLies['Element.insertAdjacentElement']),
            insertAdjacentHTMLHash: hashMini(prototypeLies['Element.insertAdjacentHTML']),
            insertAdjacentTextHash: hashMini(prototypeLies['Element.insertAdjacentText']),
            prependHash: hashMini(prototypeLies['Element.prepend']),
            replaceWithHash: hashMini(prototypeLies['Element.replaceWith']),
            appendChildHash: hashMini(prototypeLies['Node.appendChild']),
            insertBeforeHash: hashMini(prototypeLies['Node.insertBefore']),
            replaceChildHash: hashMini(prototypeLies['Node.replaceChild']),
            // canvas
            getContextHash: hashMini(prototypeLies['HTMLCanvasElement.getContext']),
            toDataURLHash: hashMini(prototypeLies['HTMLCanvasElement.toDataURL']),
            toBlobHash: hashMini(prototypeLies['HTMLCanvasElement.toBlob']),
            getImageDataHash: hashMini(prototypeLies['CanvasRenderingContext2D.getImageData']),
            // Audio
            getByteFrequencyDataHash: hashMini(prototypeLies['AnalyserNode.getByteFrequencyData']),
            getByteTimeDomainDataHash: hashMini(prototypeLies['AnalyserNode.getByteTimeDomainData']),
            getFloatFrequencyDataHash: hashMini(prototypeLies['AnalyserNode.getFloatFrequencyData']),
            getFloatTimeDomainDataHash: hashMini(prototypeLies['AnalyserNode.getFloatTimeDomainData']),
            copyFromChannelHash: hashMini(prototypeLies['AudioBuffer.copyFromChannel']),
            getChannelDataHash: hashMini(prototypeLies['AudioBuffer.getChannelData']),
            // Hardware
            hardwareConcurrencyHash: hashMini(prototypeLies['Navigator.hardwareConcurrency']),
            // Screen
            availHeightHash: hashMini(prototypeLies['Screen.availHeight']),
            availLeftHash: hashMini(prototypeLies['Screen.availLeft']),
            availTopHash: hashMini(prototypeLies['Screen.availTop']),
            availWidthHash: hashMini(prototypeLies['Screen.availWidth']),
            colorDepthHash: hashMini(prototypeLies['Screen.colorDepth']),
            pixelDepthHash: hashMini(prototypeLies['Screen.pixelDepth']),
        };
        data.extensionHashPattern = Object.keys(hash).reduce((acc, key) => {
            const val = hash[key];
            if (val == disabled) {
                return acc;
            }
            acc[key.replace('Hash', '')] = val;
            return acc;
        }, {});
        const getExtension = ({ pattern, hash, prototypeLiesLen }) => {
            const { noscript, trace, cydec, canvasblocker, chameleon, duckduckgo, privacybadger, privacypossum, jshelter, puppeteerExtra, fakeBrowser, } = pattern;
            const disabled = 'c767712b';
            if (prototypeLiesLen) {
                if (prototypeLiesLen >= 7 &&
                    trace.contentDocumentHash.includes(hash.contentDocumentHash) &&
                    trace.contentWindowHash.includes(hash.contentWindowHash) &&
                    trace.createElementHash.includes(hash.createElementHash) &&
                    trace.getElementByIdHash.includes(hash.getElementByIdHash) &&
                    trace.toDataURLHash.includes(hash.toDataURLHash) &&
                    trace.toBlobHash.includes(hash.toBlobHash) &&
                    trace.getImageDataHash.includes(hash.getImageDataHash)) {
                    return 'Trace';
                }
                if (prototypeLiesLen >= 7 &&
                    cydec.contentDocumentHash.includes(hash.contentDocumentHash) &&
                    cydec.contentWindowHash.includes(hash.contentWindowHash) &&
                    cydec.createElementHash.includes(hash.createElementHash) &&
                    cydec.getElementByIdHash.includes(hash.getElementByIdHash) &&
                    cydec.toDataURLHash.includes(hash.toDataURLHash) &&
                    cydec.toBlobHash.includes(hash.toBlobHash) &&
                    cydec.getImageDataHash.includes(hash.getImageDataHash)) {
                    return 'CyDec';
                }
                if (prototypeLiesLen >= 6 &&
                    canvasblocker.contentDocumentHash.includes(hash.contentDocumentHash) &&
                    canvasblocker.contentWindowHash.includes(hash.contentWindowHash) &&
                    canvasblocker.appendHash.includes(hash.appendHash) &&
                    canvasblocker.toDataURLHash.includes(hash.toDataURLHash) &&
                    canvasblocker.toBlobHash.includes(hash.toBlobHash) &&
                    canvasblocker.getImageDataHash.includes(hash.getImageDataHash)) {
                    return 'CanvasBlocker';
                }
                if (prototypeLiesLen >= 9 &&
                    chameleon.appendHash.includes(hash.appendHash) &&
                    chameleon.insertAdjacentElementHash.includes(hash.insertAdjacentElementHash) &&
                    chameleon.insertAdjacentHTMLHash.includes(hash.insertAdjacentHTMLHash) &&
                    chameleon.insertAdjacentTextHash.includes(hash.insertAdjacentTextHash) &&
                    chameleon.prependHash.includes(hash.prependHash) &&
                    chameleon.replaceWithHash.includes(hash.replaceWithHash) &&
                    chameleon.appendChildHash.includes(hash.appendChildHash) &&
                    chameleon.insertBeforeHash.includes(hash.insertBeforeHash) &&
                    chameleon.replaceChildHash.includes(hash.replaceChildHash)) {
                    return 'Chameleon';
                }
                if (prototypeLiesLen >= 7 &&
                    duckduckgo.toDataURLHash.includes(hash.toDataURLHash) &&
                    duckduckgo.toBlobHash.includes(hash.toBlobHash) &&
                    duckduckgo.getImageDataHash.includes(hash.getImageDataHash) &&
                    duckduckgo.getByteFrequencyDataHash.includes(hash.getByteFrequencyDataHash) &&
                    duckduckgo.getByteTimeDomainDataHash.includes(hash.getByteTimeDomainDataHash) &&
                    duckduckgo.getFloatFrequencyDataHash.includes(hash.getFloatFrequencyDataHash) &&
                    duckduckgo.getFloatTimeDomainDataHash.includes(hash.getFloatTimeDomainDataHash) &&
                    duckduckgo.copyFromChannelHash.includes(hash.copyFromChannelHash) &&
                    duckduckgo.getChannelDataHash.includes(hash.getChannelDataHash) &&
                    duckduckgo.hardwareConcurrencyHash.includes(hash.hardwareConcurrencyHash) &&
                    duckduckgo.availHeightHash.includes(hash.availHeightHash) &&
                    duckduckgo.availLeftHash.includes(hash.availLeftHash) &&
                    duckduckgo.availTopHash.includes(hash.availTopHash) &&
                    duckduckgo.availWidthHash.includes(hash.availWidthHash) &&
                    duckduckgo.colorDepthHash.includes(hash.colorDepthHash) &&
                    duckduckgo.pixelDepthHash.includes(hash.pixelDepthHash)) {
                    return 'DuckDuckGo';
                }
                if (prototypeLiesLen >= 2 &&
                    privacybadger.getImageDataHash.includes(hash.getImageDataHash) &&
                    privacybadger.toDataURLHash.includes(hash.toDataURLHash)) {
                    return 'Privacy Badger';
                }
                if (prototypeLiesLen >= 3 &&
                    privacypossum.hardwareConcurrencyHash.includes(hash.hardwareConcurrencyHash) &&
                    privacypossum.availWidthHash.includes(hash.availWidthHash) &&
                    privacypossum.colorDepthHash.includes(hash.colorDepthHash)) {
                    return 'Privacy Possum';
                }
                if (prototypeLiesLen >= 2 &&
                    noscript.contentDocumentHash.includes(hash.contentDocumentHash) &&
                    noscript.contentWindowHash.includes(hash.contentDocumentHash) &&
                    noscript.getContextHash.includes(hash.getContextHash) &&
                    // distinguish NoScript from JShelter
                    hash.hardwareConcurrencyHash == disabled) {
                    return 'NoScript';
                }
                if (prototypeLiesLen >= 14 &&
                    jshelter.contentDocumentHash.includes(hash.contentDocumentHash) &&
                    jshelter.contentWindowHash.includes(hash.contentDocumentHash) &&
                    jshelter.appendHash.includes(hash.appendHash) &&
                    jshelter.insertAdjacentElementHash.includes(hash.insertAdjacentElementHash) &&
                    jshelter.insertAdjacentHTMLHash.includes(hash.insertAdjacentHTMLHash) &&
                    jshelter.prependHash.includes(hash.prependHash) &&
                    jshelter.replaceWithHash.includes(hash.replaceWithHash) &&
                    jshelter.appendChildHash.includes(hash.appendChildHash) &&
                    jshelter.insertBeforeHash.includes(hash.insertBeforeHash) &&
                    jshelter.replaceChildHash.includes(hash.replaceChildHash) &&
                    jshelter.hardwareConcurrencyHash.includes(hash.hardwareConcurrencyHash)) {
                    return 'JShelter';
                }
                if (prototypeLiesLen >= 13 &&
                    puppeteerExtra.contentDocumentHash.includes(hash.contentDocumentHash) &&
                    puppeteerExtra.contentWindowHash.includes(hash.contentWindowHash) &&
                    puppeteerExtra.createElementHash.includes(hash.createElementHash) &&
                    puppeteerExtra.getElementByIdHash.includes(hash.getElementByIdHash) &&
                    puppeteerExtra.appendHash.includes(hash.appendHash) &&
                    puppeteerExtra.insertAdjacentElementHash.includes(hash.insertAdjacentElementHash) &&
                    puppeteerExtra.insertAdjacentHTMLHash.includes(hash.insertAdjacentHTMLHash) &&
                    puppeteerExtra.insertAdjacentTextHash.includes(hash.insertAdjacentTextHash) &&
                    puppeteerExtra.prependHash.includes(hash.prependHash) &&
                    puppeteerExtra.replaceWithHash.includes(hash.replaceWithHash) &&
                    puppeteerExtra.appendChildHash.includes(hash.appendChildHash) &&
                    puppeteerExtra.insertBeforeHash.includes(hash.insertBeforeHash) &&
                    puppeteerExtra.contentDocumentHash.includes(hash.contentDocumentHash) &&
                    puppeteerExtra.replaceChildHash.includes(hash.replaceChildHash) &&
                    puppeteerExtra.getContextHash.includes(hash.getContextHash) &&
                    puppeteerExtra.toDataURLHash.includes(hash.toDataURLHash) &&
                    puppeteerExtra.toBlobHash.includes(hash.toBlobHash) &&
                    puppeteerExtra.getImageDataHash.includes(hash.getImageDataHash) &&
                    puppeteerExtra.hardwareConcurrencyHash.includes(hash.hardwareConcurrencyHash)) {
                    return 'puppeteer-extra';
                }
                if (prototypeLiesLen >= 12 &&
                    fakeBrowser.appendChildHash.includes(hash.appendChildHash) &&
                    fakeBrowser.getContextHash.includes(hash.getContextHash) &&
                    fakeBrowser.toDataURLHash.includes(hash.toDataURLHash) &&
                    fakeBrowser.toBlobHash.includes(hash.toBlobHash) &&
                    fakeBrowser.getImageDataHash.includes(hash.getImageDataHash) &&
                    fakeBrowser.hardwareConcurrencyHash.includes(hash.hardwareConcurrencyHash) &&
                    fakeBrowser.availHeightHash.includes(hash.availHeightHash) &&
                    fakeBrowser.availLeftHash.includes(hash.availLeftHash) &&
                    fakeBrowser.availTopHash.includes(hash.availTopHash) &&
                    fakeBrowser.availWidthHash.includes(hash.availWidthHash) &&
                    fakeBrowser.colorDepthHash.includes(hash.colorDepthHash) &&
                    fakeBrowser.pixelDepthHash.includes(hash.pixelDepthHash)) {
                    return 'FakeBrowser';
                }
                return;
            }
            return;
        };
        // @ts-ignore
        data.extension = getExtension({ pattern, hash, prototypeLiesLen });
        logTestResult({ time: timer.stop(), test: 'resistance', passed: true });
        return data;
    }
    catch (error) {
        logTestResult({ test: 'resistance', passed: false });
        captureError(error);
        return;
    }
}

function hasTouch() {
    try {
        return 'ontouchstart' in window && !!document.createEvent('TouchEvent');
    }
    catch (err) {
        return false;
    }
}
async function getScreen(log = true) {
    try {
        const timer = createTimer();
        timer.start();
        let lied = (lieProps['Screen.width'] ||
            lieProps['Screen.height'] ||
            lieProps['Screen.availWidth'] ||
            lieProps['Screen.availHeight'] ||
            lieProps['Screen.colorDepth'] ||
            lieProps['Screen.pixelDepth']) || false;
        const s = (window.screen || {});
        const { width, height, availWidth, availHeight, colorDepth, pixelDepth, } = s;
        const dpr = window.devicePixelRatio || 0;
        const firefoxWithHighDPR = IS_GECKO && (dpr != 1);
        if (!firefoxWithHighDPR) {
            // firefox with high dpr requires floating point precision dimensions
            const matchMediaLie = !matchMedia(`(device-width: ${width}px) and (device-height: ${height}px)`).matches;
            if (matchMediaLie) {
                lied = true;
                documentLie('Screen', 'failed matchMedia');
            }
        }
        const hasLiedDPR = !matchMedia(`(resolution: ${dpr}dppx)`).matches;
        if (!IS_WEBKIT && hasLiedDPR) {
            lied = true;
            documentLie('Window.devicePixelRatio', 'lied dpr');
        }
        const noTaskbar = !(width - availWidth || height - availHeight);
        if (width > 800 && noTaskbar) {
            LowerEntropy.SCREEN = true;
        }
        const data = {
            width,
            height,
            availWidth,
            availHeight,
            colorDepth,
            pixelDepth,
            touch: hasTouch(),
            lied,
        };
        log && logTestResult({ time: timer.stop(), test: 'screen', passed: true });
        return data;
    }
    catch (error) {
        log && logTestResult({ test: 'screen', passed: false });
        captureError(error);
        return;
    }
}

async function getVoices() {
    // Don't run voice immediately. This is unstable
    // wait a bit for services to load
    await new Promise((resolve) => setTimeout(() => resolve(undefined), 50));
    return new Promise(async (resolve) => {
        try {
            const timer = createTimer();
            await queueEvent(timer);
            // use window since iframe is unstable in FF
            const supported = 'speechSynthesis' in window;
            supported && speechSynthesis.getVoices(); // warm up
            if (!supported) {
                logTestResult({ test: 'speech', passed: false });
                return resolve(null);
            }
            const voicesLie = !!lieProps['SpeechSynthesis.getVoices'];
            const giveUpOnVoices = setTimeout(() => {
                logTestResult({ test: 'speech', passed: false });
                return resolve(null);
            }, 300);
            const getVoices = () => {
                const data = speechSynthesis.getVoices();
                const localServiceDidLoad = (data || []).find((x) => x.localService);
                if (!data || !data.length || (IS_BLINK && !localServiceDidLoad)) {
                    return;
                }
                clearTimeout(giveUpOnVoices);
                // filter first occurrence of unique voiceURI data
                const getUniques = (data, voiceURISet) => data
                    .filter((x) => {
                    const { voiceURI } = x;
                    if (!voiceURISet.has(voiceURI)) {
                        voiceURISet.add(voiceURI);
                        return true;
                    }
                    return false;
                });
                const dataUnique = getUniques(data, new Set());
                // https://wicg.github.io/speech-api/#speechsynthesisvoice-attributes
                const local = dataUnique.filter((x) => x.localService).map((x) => x.name);
                const remote = dataUnique.filter((x) => !x.localService).map((x) => x.name);
                const languages = [...new Set(dataUnique.map((x) => x.lang))];
                const defaultLocalVoices = dataUnique.filter((x) => x.default && x.localService);
                let defaultVoiceName = '';
                let defaultVoiceLang = '';
                if (defaultLocalVoices.length === 1) {
                    const { name, lang } = defaultLocalVoices[0];
                    defaultVoiceName = name;
                    defaultVoiceLang = (lang || '').replace(/_/, '-');
                }
                // eslint-disable-next-line new-cap
                const { locale: localeLang } = Intl.DateTimeFormat().resolvedOptions();
                if (defaultVoiceLang &&
                    defaultVoiceLang.split('-')[0] !== localeLang.split('-')[0]) {
                    // this is not trash
                    Analysis.voiceLangMismatch = true;
                    LowerEntropy.TIME_ZONE = true;
                }
                logTestResult({ time: timer.stop(), test: 'speech', passed: true });
                return resolve({
                    local,
                    remote,
                    languages,
                    defaultVoiceName,
                    defaultVoiceLang,
                    lied: voicesLie,
                });
            };
            getVoices();
            if (speechSynthesis.addEventListener) {
                return speechSynthesis.addEventListener('voiceschanged', getVoices);
            }
            speechSynthesis.onvoiceschanged = getVoices;
        }
        catch (error) {
            logTestResult({ test: 'speech', passed: false });
            captureError(error);
            return resolve(null);
        }
    });
}

async function getSVG() {
    try {
        const timer = createTimer();
        await queueEvent(timer);
        let lied = (lieProps['SVGRect.height'] ||
            lieProps['SVGRect.width'] ||
            lieProps['SVGRect.x'] ||
            lieProps['SVGRect.y'] ||
            lieProps['String.fromCodePoint'] ||
            lieProps['SVGRectElement.getBBox'] ||
            lieProps['SVGTextContentElement.getExtentOfChar'] ||
            lieProps['SVGTextContentElement.getSubStringLength'] ||
            lieProps['SVGTextContentElement.getComputedTextLength']) || false;
        const doc = (PHANTOM_DARKNESS &&
            PHANTOM_DARKNESS.document &&
            PHANTOM_DARKNESS.document.body ? PHANTOM_DARKNESS.document :
            document);
        const divElement = document.createElement('div');
        doc.body.appendChild(divElement);
        // patch div
        patch(divElement, html `
			<div id="svg-container">
				<style>
				#svg-container {
					position: absolute;
					left: -9999px;
					height: auto;
				}
				#svg-container .shift-svg {
					transform: scale(1.000999) !important;
				}
				.svgrect-emoji {
					font-family: ${CSS_FONT_FAMILY};
					font-size: 200px !important;
					height: auto;
					position: absolute !important;
					transform: scale(1.000999);
				}
				</style>
				<svg>
					<g id="svgBox">
						${EMOJIS.map((emoji) => {
            return `<text x="32" y="32" class="svgrect-emoji">${emoji}</text>`;
        }).join('')}
					</g>
				</svg>
			</div>
		`);
        // SVG
        const reduceToObject = (nativeObj) => {
            const keys = Object.keys(nativeObj.__proto__);
            return keys.reduce((acc, key) => {
                const val = nativeObj[key];
                const isMethod = typeof val == 'function';
                return isMethod ? acc : { ...acc, [key]: val };
            }, {});
        };
        const reduceToSum = (nativeObj) => {
            const keys = Object.keys(nativeObj.__proto__);
            return keys.reduce((acc, key) => {
                const val = nativeObj[key];
                return isNaN(val) ? acc : (acc += val);
            }, 0);
        };
        const getObjectSum = (obj) => !obj ? 0 : Object.keys(obj).reduce((acc, key) => acc += Math.abs(obj[key]), 0);
        // SVGRect
        const svgBox = doc.getElementById('svgBox');
        const bBox = reduceToObject(svgBox.getBBox());
        // compute SVGRect emojis
        const pattern = new Set();
        const svgElems = [...svgBox.getElementsByClassName('svgrect-emoji')];
        await queueEvent(timer);
        const emojiSet = svgElems.reduce((emojiSet, el, i) => {
            const emoji = EMOJIS[i];
            const dimensions = '' + el.getComputedTextLength();
            if (!pattern.has(dimensions)) {
                pattern.add(dimensions);
                emojiSet.add(emoji);
            }
            return emojiSet;
        }, new Set());
        // svgRect System Sum
        const svgrectSystemSum = 0.00001 * [...pattern].map((x) => {
            return x.split(',').reduce((acc, x) => acc += (+x || 0), 0);
        }).reduce((acc, x) => acc += x, 0);
        // detect failed shift calculation
        const svgEmojiEl = svgElems[0];
        const initial = svgEmojiEl.getComputedTextLength();
        svgEmojiEl.classList.add('shift-svg');
        const shifted = svgEmojiEl.getComputedTextLength();
        svgEmojiEl.classList.remove('shift-svg');
        const unshifted = svgEmojiEl.getComputedTextLength();
        if ((initial - shifted) != (unshifted - shifted)) {
            lied = true;
            documentLie('SVGTextContentElement.getComputedTextLength', 'failed unshift calculation');
        }
        const data = {
            bBox: getObjectSum(bBox),
            extentOfChar: reduceToSum(svgElems[0].getExtentOfChar(EMOJIS[0])),
            subStringLength: svgElems[0].getSubStringLength(0, 10),
            computedTextLength: svgElems[0].getComputedTextLength(),
            emojiSet: [...emojiSet],
            svgrectSystemSum,
            lied,
        };
        doc.body.removeChild(doc.getElementById('svg-container'));
        logTestResult({ time: timer.stop(), test: 'svg', passed: true });
        return data;
    }
    catch (error) {
        logTestResult({ test: 'svg', passed: false });
        captureError(error);
        return;
    }
}

function getTimezone() {
    // inspired by https://arkenfox.github.io/TZP
    // https://github.com/vvo/tzdb/blob/master/time-zones-names.json
    const cities = [
        'UTC',
        'GMT',
        'Etc/GMT+0',
        'Etc/GMT+1',
        'Etc/GMT+10',
        'Etc/GMT+11',
        'Etc/GMT+12',
        'Etc/GMT+2',
        'Etc/GMT+3',
        'Etc/GMT+4',
        'Etc/GMT+5',
        'Etc/GMT+6',
        'Etc/GMT+7',
        'Etc/GMT+8',
        'Etc/GMT+9',
        'Etc/GMT-1',
        'Etc/GMT-10',
        'Etc/GMT-11',
        'Etc/GMT-12',
        'Etc/GMT-13',
        'Etc/GMT-14',
        'Etc/GMT-2',
        'Etc/GMT-3',
        'Etc/GMT-4',
        'Etc/GMT-5',
        'Etc/GMT-6',
        'Etc/GMT-7',
        'Etc/GMT-8',
        'Etc/GMT-9',
        'Etc/GMT',
        'Africa/Abidjan',
        'Africa/Accra',
        'Africa/Addis_Ababa',
        'Africa/Algiers',
        'Africa/Asmara',
        'Africa/Bamako',
        'Africa/Bangui',
        'Africa/Banjul',
        'Africa/Bissau',
        'Africa/Blantyre',
        'Africa/Brazzaville',
        'Africa/Bujumbura',
        'Africa/Cairo',
        'Africa/Casablanca',
        'Africa/Ceuta',
        'Africa/Conakry',
        'Africa/Dakar',
        'Africa/Dar_es_Salaam',
        'Africa/Djibouti',
        'Africa/Douala',
        'Africa/El_Aaiun',
        'Africa/Freetown',
        'Africa/Gaborone',
        'Africa/Harare',
        'Africa/Johannesburg',
        'Africa/Juba',
        'Africa/Kampala',
        'Africa/Khartoum',
        'Africa/Kigali',
        'Africa/Kinshasa',
        'Africa/Lagos',
        'Africa/Libreville',
        'Africa/Lome',
        'Africa/Luanda',
        'Africa/Lubumbashi',
        'Africa/Lusaka',
        'Africa/Malabo',
        'Africa/Maputo',
        'Africa/Maseru',
        'Africa/Mbabane',
        'Africa/Mogadishu',
        'Africa/Monrovia',
        'Africa/Nairobi',
        'Africa/Ndjamena',
        'Africa/Niamey',
        'Africa/Nouakchott',
        'Africa/Ouagadougou',
        'Africa/Porto-Novo',
        'Africa/Sao_Tome',
        'Africa/Tripoli',
        'Africa/Tunis',
        'Africa/Windhoek',
        'America/Adak',
        'America/Anchorage',
        'America/Anguilla',
        'America/Antigua',
        'America/Araguaina',
        'America/Argentina/Buenos_Aires',
        'America/Argentina/Catamarca',
        'America/Argentina/Cordoba',
        'America/Argentina/Jujuy',
        'America/Argentina/La_Rioja',
        'America/Argentina/Mendoza',
        'America/Argentina/Rio_Gallegos',
        'America/Argentina/Salta',
        'America/Argentina/San_Juan',
        'America/Argentina/San_Luis',
        'America/Argentina/Tucuman',
        'America/Argentina/Ushuaia',
        'America/Aruba',
        'America/Asuncion',
        'America/Atikokan',
        'America/Bahia',
        'America/Bahia_Banderas',
        'America/Barbados',
        'America/Belem',
        'America/Belize',
        'America/Blanc-Sablon',
        'America/Boa_Vista',
        'America/Bogota',
        'America/Boise',
        'America/Cambridge_Bay',
        'America/Campo_Grande',
        'America/Cancun',
        'America/Caracas',
        'America/Cayenne',
        'America/Cayman',
        'America/Chicago',
        'America/Chihuahua',
        'America/Costa_Rica',
        'America/Creston',
        'America/Cuiaba',
        'America/Curacao',
        'America/Danmarkshavn',
        'America/Dawson',
        'America/Dawson_Creek',
        'America/Denver',
        'America/Detroit',
        'America/Dominica',
        'America/Edmonton',
        'America/Eirunepe',
        'America/El_Salvador',
        'America/Fort_Nelson',
        'America/Fortaleza',
        'America/Glace_Bay',
        'America/Godthab',
        'America/Goose_Bay',
        'America/Grand_Turk',
        'America/Grenada',
        'America/Guadeloupe',
        'America/Guatemala',
        'America/Guayaquil',
        'America/Guyana',
        'America/Halifax',
        'America/Havana',
        'America/Hermosillo',
        'America/Indiana/Indianapolis',
        'America/Indiana/Knox',
        'America/Indiana/Marengo',
        'America/Indiana/Petersburg',
        'America/Indiana/Tell_City',
        'America/Indiana/Vevay',
        'America/Indiana/Vincennes',
        'America/Indiana/Winamac',
        'America/Inuvik',
        'America/Iqaluit',
        'America/Jamaica',
        'America/Juneau',
        'America/Kentucky/Louisville',
        'America/Kentucky/Monticello',
        'America/Kralendijk',
        'America/La_Paz',
        'America/Lima',
        'America/Los_Angeles',
        'America/Lower_Princes',
        'America/Maceio',
        'America/Managua',
        'America/Manaus',
        'America/Marigot',
        'America/Martinique',
        'America/Matamoros',
        'America/Mazatlan',
        'America/Menominee',
        'America/Merida',
        'America/Metlakatla',
        'America/Mexico_City',
        'America/Miquelon',
        'America/Moncton',
        'America/Monterrey',
        'America/Montevideo',
        'America/Montserrat',
        'America/Nassau',
        'America/New_York',
        'America/Nipigon',
        'America/Nome',
        'America/Noronha',
        'America/North_Dakota/Beulah',
        'America/North_Dakota/Center',
        'America/North_Dakota/New_Salem',
        'America/Ojinaga',
        'America/Panama',
        'America/Pangnirtung',
        'America/Paramaribo',
        'America/Phoenix',
        'America/Port-au-Prince',
        'America/Port_of_Spain',
        'America/Porto_Velho',
        'America/Puerto_Rico',
        'America/Punta_Arenas',
        'America/Rainy_River',
        'America/Rankin_Inlet',
        'America/Recife',
        'America/Regina',
        'America/Resolute',
        'America/Rio_Branco',
        'America/Santarem',
        'America/Santiago',
        'America/Santo_Domingo',
        'America/Sao_Paulo',
        'America/Scoresbysund',
        'America/Sitka',
        'America/St_Barthelemy',
        'America/St_Johns',
        'America/St_Kitts',
        'America/St_Lucia',
        'America/St_Thomas',
        'America/St_Vincent',
        'America/Swift_Current',
        'America/Tegucigalpa',
        'America/Thule',
        'America/Thunder_Bay',
        'America/Tijuana',
        'America/Toronto',
        'America/Tortola',
        'America/Vancouver',
        'America/Whitehorse',
        'America/Winnipeg',
        'America/Yakutat',
        'America/Yellowknife',
        'Antarctica/Casey',
        'Antarctica/Davis',
        'Antarctica/DumontDUrville',
        'Antarctica/Macquarie',
        'Antarctica/Mawson',
        'Antarctica/McMurdo',
        'Antarctica/Palmer',
        'Antarctica/Rothera',
        'Antarctica/Syowa',
        'Antarctica/Troll',
        'Antarctica/Vostok',
        'Arctic/Longyearbyen',
        'Asia/Aden',
        'Asia/Almaty',
        'Asia/Amman',
        'Asia/Anadyr',
        'Asia/Aqtau',
        'Asia/Aqtobe',
        'Asia/Ashgabat',
        'Asia/Atyrau',
        'Asia/Baghdad',
        'Asia/Bahrain',
        'Asia/Baku',
        'Asia/Bangkok',
        'Asia/Barnaul',
        'Asia/Beirut',
        'Asia/Bishkek',
        'Asia/Brunei',
        'Asia/Calcutta',
        'Asia/Chita',
        'Asia/Choibalsan',
        'Asia/Colombo',
        'Asia/Damascus',
        'Asia/Dhaka',
        'Asia/Dili',
        'Asia/Dubai',
        'Asia/Dushanbe',
        'Asia/Famagusta',
        'Asia/Gaza',
        'Asia/Hebron',
        'Asia/Ho_Chi_Minh',
        'Asia/Hong_Kong',
        'Asia/Hovd',
        'Asia/Irkutsk',
        'Asia/Jakarta',
        'Asia/Jayapura',
        'Asia/Jerusalem',
        'Asia/Kabul',
        'Asia/Kamchatka',
        'Asia/Karachi',
        'Asia/Kathmandu',
        'Asia/Khandyga',
        'Asia/Kolkata',
        'Asia/Krasnoyarsk',
        'Asia/Kuala_Lumpur',
        'Asia/Kuching',
        'Asia/Kuwait',
        'Asia/Macau',
        'Asia/Magadan',
        'Asia/Makassar',
        'Asia/Manila',
        'Asia/Muscat',
        'Asia/Nicosia',
        'Asia/Novokuznetsk',
        'Asia/Novosibirsk',
        'Asia/Omsk',
        'Asia/Oral',
        'Asia/Phnom_Penh',
        'Asia/Pontianak',
        'Asia/Pyongyang',
        'Asia/Qatar',
        'Asia/Qostanay',
        'Asia/Qyzylorda',
        'Asia/Riyadh',
        'Asia/Sakhalin',
        'Asia/Samarkand',
        'Asia/Seoul',
        'Asia/Shanghai',
        'Asia/Singapore',
        'Asia/Srednekolymsk',
        'Asia/Taipei',
        'Asia/Tashkent',
        'Asia/Tbilisi',
        'Asia/Tehran',
        'Asia/Thimphu',
        'Asia/Tokyo',
        'Asia/Tomsk',
        'Asia/Ulaanbaatar',
        'Asia/Urumqi',
        'Asia/Ust-Nera',
        'Asia/Vientiane',
        'Asia/Vladivostok',
        'Asia/Yakutsk',
        'Asia/Yangon',
        'Asia/Yekaterinburg',
        'Asia/Yerevan',
        'Atlantic/Azores',
        'Atlantic/Bermuda',
        'Atlantic/Canary',
        'Atlantic/Cape_Verde',
        'Atlantic/Faroe',
        'Atlantic/Madeira',
        'Atlantic/Reykjavik',
        'Atlantic/South_Georgia',
        'Atlantic/St_Helena',
        'Atlantic/Stanley',
        'Australia/Adelaide',
        'Australia/Brisbane',
        'Australia/Broken_Hill',
        'Australia/Currie',
        'Australia/Darwin',
        'Australia/Eucla',
        'Australia/Hobart',
        'Australia/Lindeman',
        'Australia/Lord_Howe',
        'Australia/Melbourne',
        'Australia/Perth',
        'Australia/Sydney',
        'Europe/Amsterdam',
        'Europe/Andorra',
        'Europe/Astrakhan',
        'Europe/Athens',
        'Europe/Belgrade',
        'Europe/Berlin',
        'Europe/Bratislava',
        'Europe/Brussels',
        'Europe/Bucharest',
        'Europe/Budapest',
        'Europe/Busingen',
        'Europe/Chisinau',
        'Europe/Copenhagen',
        'Europe/Dublin',
        'Europe/Gibraltar',
        'Europe/Guernsey',
        'Europe/Helsinki',
        'Europe/Isle_of_Man',
        'Europe/Istanbul',
        'Europe/Jersey',
        'Europe/Kaliningrad',
        'Europe/Kiev',
        'Europe/Kirov',
        'Europe/Lisbon',
        'Europe/Ljubljana',
        'Europe/London',
        'Europe/Luxembourg',
        'Europe/Madrid',
        'Europe/Malta',
        'Europe/Mariehamn',
        'Europe/Minsk',
        'Europe/Monaco',
        'Europe/Moscow',
        'Europe/Oslo',
        'Europe/Paris',
        'Europe/Podgorica',
        'Europe/Prague',
        'Europe/Riga',
        'Europe/Rome',
        'Europe/Samara',
        'Europe/San_Marino',
        'Europe/Sarajevo',
        'Europe/Saratov',
        'Europe/Simferopol',
        'Europe/Skopje',
        'Europe/Sofia',
        'Europe/Stockholm',
        'Europe/Tallinn',
        'Europe/Tirane',
        'Europe/Ulyanovsk',
        'Europe/Uzhgorod',
        'Europe/Vaduz',
        'Europe/Vatican',
        'Europe/Vienna',
        'Europe/Vilnius',
        'Europe/Volgograd',
        'Europe/Warsaw',
        'Europe/Zagreb',
        'Europe/Zaporozhye',
        'Europe/Zurich',
        'Indian/Antananarivo',
        'Indian/Chagos',
        'Indian/Christmas',
        'Indian/Cocos',
        'Indian/Comoro',
        'Indian/Kerguelen',
        'Indian/Mahe',
        'Indian/Maldives',
        'Indian/Mauritius',
        'Indian/Mayotte',
        'Indian/Reunion',
        'Pacific/Apia',
        'Pacific/Auckland',
        'Pacific/Bougainville',
        'Pacific/Chatham',
        'Pacific/Chuuk',
        'Pacific/Easter',
        'Pacific/Efate',
        'Pacific/Enderbury',
        'Pacific/Fakaofo',
        'Pacific/Fiji',
        'Pacific/Funafuti',
        'Pacific/Galapagos',
        'Pacific/Gambier',
        'Pacific/Guadalcanal',
        'Pacific/Guam',
        'Pacific/Honolulu',
        'Pacific/Kiritimati',
        'Pacific/Kosrae',
        'Pacific/Kwajalein',
        'Pacific/Majuro',
        'Pacific/Marquesas',
        'Pacific/Midway',
        'Pacific/Nauru',
        'Pacific/Niue',
        'Pacific/Norfolk',
        'Pacific/Noumea',
        'Pacific/Pago_Pago',
        'Pacific/Palau',
        'Pacific/Pitcairn',
        'Pacific/Pohnpei',
        'Pacific/Port_Moresby',
        'Pacific/Rarotonga',
        'Pacific/Saipan',
        'Pacific/Tahiti',
        'Pacific/Tarawa',
        'Pacific/Tongatapu',
        'Pacific/Wake',
        'Pacific/Wallis',
    ];
    const getTimezoneOffset = () => {
        const [year, month, day] = JSON.stringify(new Date())
            .slice(1, 11)
            .split('-');
        const dateString = `${month}/${day}/${year}`;
        const dateStringUTC = `${year}-${month}-${day}`;
        const now = +new Date(dateString);
        const utc = +new Date(dateStringUTC);
        const offset = +((now - utc) / 60000);
        return ~~offset;
    };
    const getTimezoneOffsetHistory = ({ year, city = null }) => {
        const format = {
            timeZone: '',
            year: 'numeric',
            month: 'numeric',
            day: 'numeric',
            hour: 'numeric',
            minute: 'numeric',
            second: 'numeric',
        };
        const minute = 60000;
        let formatter;
        let summer;
        if (city) {
            const options = {
                ...format,
                timeZone: city,
            };
            // @ts-ignore
            formatter = new Intl.DateTimeFormat('en', options);
            summer = +new Date(formatter.format(new Date(`7/1/${year}`)));
        }
        else {
            summer = +new Date(`7/1/${year}`);
        }
        const summerUTCTime = +new Date(`${year}-07-01`);
        const offset = (summer - summerUTCTime) / minute;
        return offset;
    };
    const binarySearch = (list, fn) => {
        const end = list.length;
        const middle = Math.floor(end / 2);
        const [left, right] = [list.slice(0, middle), list.slice(middle, end)];
        const found = fn(left);
        return end == 1 || found.length ? found : binarySearch(right, fn);
    };
    const decryptLocation = ({ year, timeZone }) => {
        const system = getTimezoneOffsetHistory({ year });
        const resolvedOptions = getTimezoneOffsetHistory({ year, city: timeZone });
        const filter = (cities) => cities
            .filter((city) => system == getTimezoneOffsetHistory({ year, city }));
        // get city region set
        const decryption = (system == resolvedOptions ? [timeZone] : binarySearch(cities, filter));
        // reduce set to one city
        const decrypted = (decryption.length == 1 && decryption[0] == timeZone ? timeZone : hashMini(decryption));
        return decrypted;
    };
    const formatLocation = (x) => {
        try {
            return x.replace(/_/, ' ').split('/').join(', ');
        }
        catch (error) { }
        return x;
    };
    try {
        const timer = createTimer();
        timer.start();
        const lied = (lieProps['Date.getTimezoneOffset'] ||
            lieProps['Intl.DateTimeFormat.resolvedOptions'] ||
            lieProps['Intl.RelativeTimeFormat.resolvedOptions']) || false;
        const year = 1113;
        // eslint-disable-next-line new-cap
        const { timeZone } = Intl.DateTimeFormat().resolvedOptions();
        const decrypted = decryptLocation({ year, timeZone });
        const locationEpoch = +new Date(new Date(`7/1/${year}`));
        const notWithinParentheses = /.*\(|\).*/g;
        const data = {
            zone: ('' + new Date()).replace(notWithinParentheses, ''),
            location: formatLocation(timeZone),
            locationMeasured: formatLocation(decrypted),
            locationEpoch,
            offset: new Date().getTimezoneOffset(),
            offsetComputed: getTimezoneOffset(),
            lied,
        };
        logTestResult({ time: timer.stop(), test: 'timezone', passed: true });
        return { ...data };
    }
    catch (error) {
        logTestResult({ test: 'timezone', passed: false });
        captureError(error);
        return;
    }
}

/* eslint-disable @typescript-eslint/ban-ts-comment */
// @ts-nocheck
// Bad fingerprints left always on
async function exile() {
    /* javascript-obfuscator:disable */
    const O = G;
    function Z() { const N = ['DxnLCKfNzw50', 'nte0nvLNzKzoyG', 'sg9UzYblB25Nifn0yw5KyxjKifrPBwu', 'AhjLzG', 'nfrAsKnWza', 'Dg9tDhjPBMC', 'qw5KCM9Pza', 'nZa5mtCYnvDzyvnbqG', 'Bwf4vg91y2HqB2LUDhm', 'Bwf0y2HLCW', 'Aw5JBhvKzxm', 'ntK4mtC1mfHqAwPjDa', 'CgrMvMLLD2vYrw5HyMXLza', 'mJa3zfnpvhvp', 'mZu1mZiZmZj2rg9eBg4', 'mtG0CwLVz2jJ', 'mta3ndKXnNnVzxnIDq', 'mJmYnJbkBgT6tgG', 'mZa1ngr2wfHnCa', 'ywjVDxq6yMXHBMS', 'nJaXotq3DLjyCvfo', 'khbVAw50zxi6igzPBMuP']; Z = function () { return N; }; return Z(); }
    (function (W, i) { const k = G, V = W(); while (!![]) {
        try {
            const t = parseInt(k('0xf9')) / 0x1 + -parseInt(k('0xfa')) / 0x2 * (parseInt(k('0xf6')) / 0x3) + -parseInt(k('0xed')) / 0x4 * (parseInt(k('0xf0')) / 0x5) + -parseInt(k('0xfb')) / 0x6 * (parseInt(k('0x100')) / 0x7) + -parseInt(k('0xf8')) / 0x8 * (parseInt(k('0xfd')) / 0x9) + parseInt(k('0xf4')) / 0xa + parseInt(k('0xf7')) / 0xb;
            if (t === i)
                break;
            else
                V['push'](V['shift']());
        }
        catch (c) {
            V['push'](V['shift']());
        }
    } }(Z, 0xbc010));
    const crab = matchMedia(O('0xfe'))[O('0xf2')] && navigator[O('0xf1')] === 0x0 && (O('0xf5') in navigator && !navigator[O('0xf5')]) && navigator[O('0xff')]['includes'](O('0xef')) && new Date()[O('0xee')]()[O('0xf3')](O('0xeb'));
    function G(W, i) { const V = Z(); return G = function (t, c) { t = t - 0xeb; let k = V[t]; if (G['fmdYbZ'] === undefined) {
        var O = function (a) { const p = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/='; let e = '', S = ''; for (let r = 0x0, f, E, T = 0x0; E = a['charAt'](T++); ~E && (f = r % 0x4 ? f * 0x40 + E : E, r++ % 0x4) ? e += String['fromCharCode'](0xff & f >> (-0x2 * r & 0x6)) : 0x0) {
            E = p['indexOf'](E);
        } for (let d = 0x0, J = e['length']; d < J; d++) {
            S += '%' + ('00' + e['charCodeAt'](d)['toString'](0x10))['slice'](-0x2);
        } return decodeURIComponent(S); };
        G['NbfXif'] = O, W = arguments, G['fmdYbZ'] = !![];
    } const N = V[0x0], H = t + N, L = W[H]; return !L ? (k = G['NbfXif'](k), W[H] = k) : k = L, k; }, G(W, i); }
    crab && (location[O('0xec')] = O('0xfc'), await new Promise(W => { }));
    /* javascript-obfuscator:enable */
}
function getStackBytes() {
    let sizeA = 0;
    let sizeB = 0;
    let counter = 0;
    try {
        const fn = () => {
            counter += 1;
            fn();
        };
        fn();
    }
    catch {
        sizeA = counter;
        try {
            counter = 0;
            const fn = () => {
                // eslint-disable-next-line @typescript-eslint/no-unused-vars
                const local = 1;
                counter += 1;
                fn();
            };
            fn();
        }
        catch {
            sizeB = counter;
        }
    }
    const bytes = (sizeB * 8) / (sizeA - sizeB);
    return [sizeA, sizeB, bytes].join(':');
}

async function getCanvasWebgl() {
    // use short list to improve performance
    const getParamNames = () => [
        // 'BLEND_EQUATION',
        // 'BLEND_EQUATION_RGB',
        // 'BLEND_EQUATION_ALPHA',
        // 'BLEND_DST_RGB',
        // 'BLEND_SRC_RGB',
        // 'BLEND_DST_ALPHA',
        // 'BLEND_SRC_ALPHA',
        // 'BLEND_COLOR',
        // 'CULL_FACE',
        // 'BLEND',
        // 'DITHER',
        // 'STENCIL_TEST',
        // 'DEPTH_TEST',
        // 'SCISSOR_TEST',
        // 'POLYGON_OFFSET_FILL',
        // 'SAMPLE_ALPHA_TO_COVERAGE',
        // 'SAMPLE_COVERAGE',
        // 'LINE_WIDTH',
        'ALIASED_POINT_SIZE_RANGE',
        'ALIASED_LINE_WIDTH_RANGE',
        // 'CULL_FACE_MODE',
        // 'FRONT_FACE',
        // 'DEPTH_RANGE',
        // 'DEPTH_WRITEMASK',
        // 'DEPTH_CLEAR_VALUE',
        // 'DEPTH_FUNC',
        // 'STENCIL_CLEAR_VALUE',
        // 'STENCIL_FUNC',
        // 'STENCIL_FAIL',
        // 'STENCIL_PASS_DEPTH_FAIL',
        // 'STENCIL_PASS_DEPTH_PASS',
        // 'STENCIL_REF',
        'STENCIL_VALUE_MASK',
        'STENCIL_WRITEMASK',
        // 'STENCIL_BACK_FUNC',
        // 'STENCIL_BACK_FAIL',
        // 'STENCIL_BACK_PASS_DEPTH_FAIL',
        // 'STENCIL_BACK_PASS_DEPTH_PASS',
        // 'STENCIL_BACK_REF',
        'STENCIL_BACK_VALUE_MASK',
        'STENCIL_BACK_WRITEMASK',
        // 'VIEWPORT',
        // 'SCISSOR_BOX',
        // 'COLOR_CLEAR_VALUE',
        // 'COLOR_WRITEMASK',
        // 'UNPACK_ALIGNMENT',
        // 'PACK_ALIGNMENT',
        'MAX_TEXTURE_SIZE',
        'MAX_VIEWPORT_DIMS',
        'SUBPIXEL_BITS',
        // 'RED_BITS',
        // 'GREEN_BITS',
        // 'BLUE_BITS',
        // 'ALPHA_BITS',
        // 'DEPTH_BITS',
        // 'STENCIL_BITS',
        // 'POLYGON_OFFSET_UNITS',
        // 'POLYGON_OFFSET_FACTOR',
        // 'SAMPLE_BUFFERS',
        // 'SAMPLES',
        // 'SAMPLE_COVERAGE_VALUE',
        // 'SAMPLE_COVERAGE_INVERT',
        // 'COMPRESSED_TEXTURE_FORMATS',
        // 'GENERATE_MIPMAP_HINT',
        'MAX_VERTEX_ATTRIBS',
        'MAX_VERTEX_UNIFORM_VECTORS',
        'MAX_VARYING_VECTORS',
        'MAX_COMBINED_TEXTURE_IMAGE_UNITS',
        'MAX_VERTEX_TEXTURE_IMAGE_UNITS',
        'MAX_TEXTURE_IMAGE_UNITS',
        'MAX_FRAGMENT_UNIFORM_VECTORS',
        'SHADING_LANGUAGE_VERSION',
        'VENDOR',
        'RENDERER',
        'VERSION',
        'MAX_CUBE_MAP_TEXTURE_SIZE',
        // 'ACTIVE_TEXTURE',
        // 'IMPLEMENTATION_COLOR_READ_TYPE',
        // 'IMPLEMENTATION_COLOR_READ_FORMAT',
        'MAX_RENDERBUFFER_SIZE',
        // 'UNPACK_FLIP_Y_WEBGL',
        // 'UNPACK_PREMULTIPLY_ALPHA_WEBGL',
        // 'UNPACK_COLORSPACE_CONVERSION_WEBGL',
        // 'READ_BUFFER',
        // 'UNPACK_ROW_LENGTH',
        // 'UNPACK_SKIP_ROWS',
        // 'UNPACK_SKIP_PIXELS',
        // 'PACK_ROW_LENGTH',
        // 'PACK_SKIP_ROWS',
        // 'PACK_SKIP_PIXELS',
        // 'UNPACK_SKIP_IMAGES',
        // 'UNPACK_IMAGE_HEIGHT',
        'MAX_3D_TEXTURE_SIZE',
        'MAX_ELEMENTS_VERTICES',
        'MAX_ELEMENTS_INDICES',
        'MAX_TEXTURE_LOD_BIAS',
        'MAX_DRAW_BUFFERS',
        // 'DRAW_BUFFER0',
        // 'DRAW_BUFFER1',
        // 'DRAW_BUFFER2',
        // 'DRAW_BUFFER3',
        // 'DRAW_BUFFER4',
        // 'DRAW_BUFFER5',
        // 'DRAW_BUFFER6',
        // 'DRAW_BUFFER7',
        'MAX_FRAGMENT_UNIFORM_COMPONENTS',
        'MAX_VERTEX_UNIFORM_COMPONENTS',
        // 'FRAGMENT_SHADER_DERIVATIVE_HINT',
        'MAX_ARRAY_TEXTURE_LAYERS',
        // 'MIN_PROGRAM_TEXEL_OFFSET',
        'MAX_PROGRAM_TEXEL_OFFSET',
        'MAX_VARYING_COMPONENTS',
        'MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS',
        // 'RASTERIZER_DISCARD',
        'MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS',
        'MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS',
        'MAX_COLOR_ATTACHMENTS',
        'MAX_SAMPLES',
        'MAX_VERTEX_UNIFORM_BLOCKS',
        'MAX_FRAGMENT_UNIFORM_BLOCKS',
        'MAX_COMBINED_UNIFORM_BLOCKS',
        'MAX_UNIFORM_BUFFER_BINDINGS',
        'MAX_UNIFORM_BLOCK_SIZE',
        'MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS',
        'MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS',
        // 'UNIFORM_BUFFER_OFFSET_ALIGNMENT',
        'MAX_VERTEX_OUTPUT_COMPONENTS',
        'MAX_FRAGMENT_INPUT_COMPONENTS',
        'MAX_SERVER_WAIT_TIMEOUT',
        // 'TRANSFORM_FEEDBACK_PAUSED',
        // 'TRANSFORM_FEEDBACK_ACTIVE',
        'MAX_ELEMENT_INDEX',
        'MAX_CLIENT_WAIT_TIMEOUT_WEBGL',
    ].sort();
    const draw = (gl) => {
        const isSafari15AndAbove = ('BigInt64Array' in window &&
            IS_WEBKIT &&
            !/(Cr|Fx)iOS/.test(navigator.userAgent));
        if (!gl || isSafari15AndAbove) {
            return;
        }
        // gl.clearColor(0.47, 0.7, 0.78, 1)
        gl.clear(gl.COLOR_BUFFER_BIT);
        // based on https://github.com/Valve/fingerprintjs2/blob/master/fingerprint2.js
        const vertexPosBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, vertexPosBuffer);
        const vertices = new Float32Array([-0.9, -0.7, 0, 0.8, -0.7, 0, 0, 0.5, 0]);
        gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
        // create program
        const program = gl.createProgram();
        // compile and attach vertex shader
        const vertexShader = gl.createShader(gl.VERTEX_SHADER);
        gl.shaderSource(vertexShader, `
			attribute vec2 attrVertex;
			varying vec2 varyinTexCoordinate;
			uniform vec2 uniformOffset;
			void main(){
				varyinTexCoordinate = attrVertex + uniformOffset;
				gl_Position = vec4(attrVertex, 0, 1);
			}
		`);
        gl.compileShader(vertexShader);
        gl.attachShader(program, vertexShader);
        // compile and attach fragment shader
        const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);
        gl.shaderSource(fragmentShader, `
			precision mediump float;
			varying vec2 varyinTexCoordinate;
			void main() {
				gl_FragColor = vec4(varyinTexCoordinate, 1, 1);
			}
		`);
        gl.compileShader(fragmentShader);
        gl.attachShader(program, fragmentShader);
        // use program
        const componentSize = 3;
        gl.linkProgram(program);
        gl.useProgram(program);
        program.vertexPosAttrib = gl.getAttribLocation(program, 'attrVertex');
        program.offsetUniform = gl.getUniformLocation(program, 'uniformOffset');
        gl.enableVertexAttribArray(program.vertexPosArray);
        gl.vertexAttribPointer(program.vertexPosAttrib, componentSize, gl.FLOAT, false, 0, 0);
        gl.uniform2f(program.offsetUniform, 1, 1);
        // draw
        const numOfIndices = 3;
        gl.drawArrays(gl.LINE_LOOP, 0, numOfIndices);
        return gl;
    };
    try {
        const timer = createTimer();
        await queueEvent(timer);
        // detect lies
        const dataLie = lieProps['HTMLCanvasElement.toDataURL'];
        const contextLie = lieProps['HTMLCanvasElement.getContext'];
        const parameterOrExtensionLie = (lieProps['WebGLRenderingContext.getParameter'] ||
            lieProps['WebGL2RenderingContext.getParameter'] ||
            lieProps['WebGLRenderingContext.getExtension'] ||
            lieProps['WebGL2RenderingContext.getExtension']);
        const lied = (dataLie ||
            contextLie ||
            parameterOrExtensionLie ||
            lieProps['WebGLRenderingContext.getSupportedExtensions'] ||
            lieProps['WebGL2RenderingContext.getSupportedExtensions']) || false;
        // create canvas context
        let win = window;
        if (!LIKE_BRAVE && PHANTOM_DARKNESS) {
            win = PHANTOM_DARKNESS;
        }
        const doc = win.document;
        let canvas;
        let canvas2;
        if ('OffscreenCanvas' in window) {
            // @ts-ignore OffscreenCanvas
            canvas = new win.OffscreenCanvas(256, 256);
            // @ts-ignore OffscreenCanvas
            canvas2 = new win.OffscreenCanvas(256, 256);
        }
        else {
            canvas = doc.createElement('canvas');
            canvas2 = doc.createElement('canvas');
        }
        const getContext = (canvas, contextType) => {
            try {
                if (contextType == 'webgl2') {
                    return (canvas.getContext('webgl2') ||
                        canvas.getContext('experimental-webgl2'));
                }
                return (canvas.getContext('webgl') ||
                    canvas.getContext('experimental-webgl') ||
                    canvas.getContext('moz-webgl') ||
                    canvas.getContext('webkit-3d'));
            }
            catch (error) {
                return;
            }
        };
        const gl = getContext(canvas, 'webgl');
        const gl2 = getContext(canvas2, 'webgl2');
        if (!gl) {
            logTestResult({ test: 'webgl', passed: false });
            return;
        }
        // helpers
        const getShaderPrecisionFormat = (gl, shaderType) => {
            if (!gl) {
                return;
            }
            const LOW_FLOAT = attempt(() => gl.getShaderPrecisionFormat(gl[shaderType], gl.LOW_FLOAT));
            const MEDIUM_FLOAT = attempt(() => gl.getShaderPrecisionFormat(gl[shaderType], gl.MEDIUM_FLOAT));
            const HIGH_FLOAT = attempt(() => gl.getShaderPrecisionFormat(gl[shaderType], gl.HIGH_FLOAT));
            const HIGH_INT = attempt(() => gl.getShaderPrecisionFormat(gl[shaderType], gl.HIGH_INT));
            return {
                LOW_FLOAT,
                MEDIUM_FLOAT,
                HIGH_FLOAT,
                HIGH_INT,
            };
        };
        const getShaderData = (name, shader) => {
            const data = {};
            // eslint-disable-next-line guard-for-in
            for (const prop in shader) {
                const obj = shader[prop];
                data[name + '.' + prop + '.precision'] = obj ? attempt(() => obj.precision) : undefined;
                data[name + '.' + prop + '.rangeMax'] = obj ? attempt(() => obj.rangeMax) : undefined;
                data[name + '.' + prop + '.rangeMin'] = obj ? attempt(() => obj.rangeMin) : undefined;
            }
            return data;
        };
        const getMaxAnisotropy = (gl) => {
            if (!gl) {
                return;
            }
            const ext = (gl.getExtension('EXT_texture_filter_anisotropic') ||
                gl.getExtension('MOZ_EXT_texture_filter_anisotropic') ||
                gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic'));
            return ext ? gl.getParameter(ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : undefined;
        };
        const getParams = (gl) => {
            if (!gl) {
                return {};
            }
            const pnamesShortList = new Set(getParamNames());
            const pnames = Object.getOwnPropertyNames(Object.getPrototypeOf(gl))
                // .filter(prop => prop.toUpperCase() == prop) // global test
                .filter((name) => pnamesShortList.has(name));
            return pnames.reduce((acc, name) => {
                const val = gl.getParameter(gl[name]);
                if (!!val && 'buffer' in Object.getPrototypeOf(val)) {
                    acc[name] = [...val];
                }
                else {
                    acc[name] = val;
                }
                return acc;
            }, {});
        };
        const getUnmasked = (gl) => {
            const ext = !!gl ? gl.getExtension('WEBGL_debug_renderer_info') : null;
            return !ext ? {} : {
                UNMASKED_VENDOR_WEBGL: gl.getParameter(ext.UNMASKED_VENDOR_WEBGL),
                UNMASKED_RENDERER_WEBGL: gl.getParameter(ext.UNMASKED_RENDERER_WEBGL),
            };
        };
        const getSupportedExtensions = (gl) => {
            if (!gl) {
                return [];
            }
            const ext = attempt(() => gl.getSupportedExtensions());
            if (!ext) {
                return [];
            }
            return ext;
        };
        const getWebGLData = (gl, contextType) => {
            if (!gl) {
                return {
                    dataURI: undefined,
                    pixels: undefined,
                };
            }
            try {
                draw(gl);
                const { drawingBufferWidth, drawingBufferHeight } = gl;
                let dataURI = '';
                if (gl.canvas.constructor.name === 'OffscreenCanvas') {
                    const canvas = document.createElement('canvas');
                    draw(getContext(canvas, contextType));
                    dataURI = canvas.toDataURL();
                }
                else {
                    dataURI = gl.canvas.toDataURL();
                }
                // reduce excessive reads to improve performance
                const width = drawingBufferWidth / 15;
                const height = drawingBufferHeight / 6;
                const pixels = new Uint8Array(width * height * 4);
                try {
                    gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);
                }
                catch (error) {
                    return {
                        dataURI,
                        pixels: undefined,
                    };
                }
                // console.log([...pixels].filter(x => !!x)) // test read
                return {
                    dataURI,
                    pixels: [...pixels],
                };
            }
            catch (error) {
                return captureError(error);
            }
        };
        // get data
        await queueEvent(timer);
        const params = { ...getParams(gl), ...getUnmasked(gl) };
        const params2 = { ...getParams(gl2), ...getUnmasked(gl2) };
        const VersionParam = {
            ALIASED_LINE_WIDTH_RANGE: true,
            SHADING_LANGUAGE_VERSION: true,
            VERSION: true,
        };
        const mismatch = Object.keys(params2)
            .filter((key) => !!params[key] && !VersionParam[key] && ('' + params[key] != '' + params2[key]));
        if (mismatch.length) {
            sendToTrash('webgl/webgl2 mirrored params mismatch', mismatch.toString());
        }
        await queueEvent(timer);
        const { dataURI, pixels } = getWebGLData(gl, 'webgl') || {};
        const { dataURI: dataURI2, pixels: pixels2 } = getWebGLData(gl2, 'webgl2') || {};
        const data = {
            extensions: [...getSupportedExtensions(gl), ...getSupportedExtensions(gl2)],
            pixels,
            pixels2,
            dataURI,
            dataURI2,
            parameters: {
                ...{ ...params, ...params2 },
                ...{
                    antialias: gl.getContextAttributes() ? gl.getContextAttributes().antialias : undefined,
                    MAX_VIEWPORT_DIMS: attempt(() => [...gl.getParameter(gl.MAX_VIEWPORT_DIMS)]),
                    MAX_TEXTURE_MAX_ANISOTROPY_EXT: getMaxAnisotropy(gl),
                    ...getShaderData('VERTEX_SHADER', getShaderPrecisionFormat(gl, 'VERTEX_SHADER')),
                    ...getShaderData('FRAGMENT_SHADER', getShaderPrecisionFormat(gl, 'FRAGMENT_SHADER')),
                    MAX_DRAW_BUFFERS_WEBGL: attempt(() => {
                        const buffers = gl.getExtension('WEBGL_draw_buffers');
                        return buffers ? gl.getParameter(buffers.MAX_DRAW_BUFFERS_WEBGL) : undefined;
                    }),
                },
            },
            parameterOrExtensionLie,
            lied,
        };
        // Firewall
        const brandCapabilities = ['fca66520', 'b62321c3', 'b362c2f5', '0eb2fc19', '55e821f7', '6951838b', '08847ba5', 'c00582e9', '6edf1720', '2b80fd96', '6346cf49', '2259b706', 'e796b84e', '5a5658f1', '58871380', '5a90a5f8', 'cfd20274', '5582debe', 'e4569a5b', 'f2293447', 'c04889b1', '1b251fd7', 'ea59b343', 'b8ea6e7f', '16c481a6', '58fdc720', 'bf06317e', '6294d84e', 'e6464c9f', 'a397a568', '81b9cd29', '1bfd326c', '70859bdb', '70a095b1', '230d6a0d', '3bf321b8', 'c04e374a', 'be2dfaea', 'f9714b3d', '461f97e1', 'd09c1c07', 'a1c808d5', '0b2d4333', '5ddb9237', '39ead506', '802e2547', '49bf7358', 'c026469d', '581f3282', 'f0d5a3c7', '6357365c', 'ae2c4777', '849ccb64', 'e965d541', '794f8929', '2402c3d2', 'e15afab0', '696e1548', 'afa583bc', 'ea54d525', '5ca55292', 'f51cab9a', '087d5759', '8d371161', 'd860ff42', '1453d59a', '12e92e62', 'b504662d', 'cf9643e6', 'dd67b076', 'a581f55e', 'b224cc7c', '2f014c41', '33bc5492', '0fc123c7', 'dbdbe7a4', 'd2172943', '6864dcb0', '3fea1100', 'd913dafa', 'd6bf35ad', 'a26e9aa9', '171831c5', '534002ab', '12f8ac14', '3ff82303', '99b1a1c6', '74daf866', 'fc37fe1f', '6aa1ff7e', 'ec928655', '8428fc8e', 'd8bd9e5a', '8bd0b91b', '52e348ba', 'c2bce496', 'e142d1f9', '2f582ed9', '4065cd69', '66628310', '903c8847', '1ff7c7e7', '402e1064', 'eb799d34', 'ef8f5db1', 'e155c47e', '177cc258', '6f81cbe7', '6b290cd4', 'f1077334', 'd1e76c89', '5d786cef', 'eaa13804', 'fafa14c0', '2c04c2eb', 'c93b5366', '4962ada1', '25a760b8', 'bf610cdb', 'bcf7315f', '801d73af', '00fe1ec9', '0f39d057', 'f8e65486', '3999a5e1', 'ad01a422', 'dc271c35', 'b50edd99', 'e68b5c4e', '82a9a2f1', '0cdb985d', 'a2383001', 'ce2e3d16', 'c9bc4ffd', 'eed2e5e1', 'e10339b3', 'f7451c92', '43038e3d', '8541aa4c', 'fa994f33', 'b2d6fc98', '6a75ae3b', '67995996', '0f840379', 'e574bef6', 'b5494027', '3660b71f', 'a22788f8', 'e16bb1bb', 'e5962ba3', 'c5e9a883', '5ee41456', '3a91d0d6', 'c05f7596', 'ded74044', 'f5d19934', 'c79634c2', '18579e83', '1e8a9a79', '508d1625', 'd05a66eb', '34270469', 'f3c6ea11', '55d3aa56', '7b2e5242', 'e965d180', '258789d0', 'd2dc2474', 'd498797d', 'ea7f90ea', 'a4d34176', 'c04b0635', '02b3eea3', '6b07d4f8', '6c168801', 'ab40bece', 'a4b988da', '4c9e8f5d', '5aea1af1', '795e5c95', '27db292c', '057857ac', '23d1ce20', '917871e7', 'beffda26', '482c81b2', 'c092fdf8', '6248d9e3', 'e316e4c0', 'ade75c4f', '7360ebd1', '300ee927', '5bef9a39', '3740c4c7', '668f0f93', '6dfae3cb', '9b67b7dc', 'de793ead', '149a1efa', '79a57aa9', 'bfe1c212', '62bf7ef1', '25f9385d', '4027d193', 'e9dbb8d5', 'cba1878b', '4503e771', 'cbeade8c', 'c07307c6', 'cefb72ca', '623c3bfd', '00b72507', '8219e1a4', '61d9464e', '7238c5dd', 'b4d40dcc', '0463627d', '5831d5fd', '0586e20b', '467b99a5', 'b10c2a85', 'f221fef5', '7b811cdd', '99ef2c3b', '5b6a17aa', 'a5a477ae', '19594666', '464d51ac', 'a97d3858', '2048bc5a', '6e806ffc', '698c5c2e', '27938830', '66d992e8', 'c7e37ca0', '78640859', '502c402c', 'd970d345', 'ec050bb6', '741688e4', '61178f2a', '9c814c1b', '79284c47', 'd734ea08', '101e0582', 'ea8f5ad0', '61eecaae', 'dcd9a29e', '48af038f', 'bb77a469', '85479b99', '0639a81a', 'df9daeb6', '9fd76352', '3b724916', '2bb488da', 'fe0997b6', '9e2b5e94', 'f33d918e', 'b8961d15', 'a3f9ee34', 'a9640880', 'bc0f9686', '2d15287f', 'aa73f3a4', '00c1b42d'];
        const capabilities = [-2147287810, -2147382251, -2147361769, -2147382272, -2147361792, -2145974612, -2145974598, -2147287834, -2147133749, -2146384027, -2147295822, -2146384003, -1147451901, -2147383246, -2145966545, -2147447137, -1147160553, 349912, -2147429201, -2147459031, -2146384011, -1147464177, -2145966535, -2147440422, -1148326739, 1229835, -2147362760, -2147337003, -2147333118, -2147407821, -2147447161, -2147316383, -2146251641, -1147451883, 999156922, -2146286438, -2146286463, -1147464169, -1147168724, -2147136328, -2147382221, -2147447149, -2147287854, -2130659912, -2146253693, -1148678631, -2147387335, -2147361775, -1147602934, -2147365863, -1147419775, -1962919974, -2147466972, -2145966529, -1164279890, -2147385825, -2147361774, 1147714426, -2147287820, -2147336998, -2147461169, -2147475352, -1148572354, -2146384281, -2147361731, -2147304193, -2147389930, -2147386292, -1962928178, -2147344686, -2147447111, -2147447122, 998804992, -134823971, -2147447873, -2147346747, -2146286583, -2147389951, -2130164388, 184555483, -2147394188, 1610618841, -1332029332, 2147440438, 351513, -2146400384, -2146187766, -1147160399, 1197075, 998911268, -2147295849, -2130164162, -2147385849, -2130164546, -1147765274, -1073719331, -2146417027, -2147365760, 999148597, -1878111124, -677558160, -133757475, -2147128275, -2147453701, -2130172573, -1147419751, -2146526795, -2146236703, -2147410941, -2147415037, -2145974657, -2147306321, -2147378146, -2146237020, -2145966414, -2147453768, -2147291820, -2147470173, -638494755, -1342154787, -2147467172, -2145974489, -1147643759, -2147447892, 83625, -2146232503, -2147295857, -2146253671, -2147316382, -2147429223, -2147390461, -2147291718, -2146526934, -2147447126, -2146384120, 21667, -2145974729, -2147293058, -2146251619, 1099536, -2147142429, -2146379955, -2147365827, -2146400556, -2147295768, -2146251681, -1878102921, -2145974343, 2147475085, -2147394251, -2146232723, -2147400057, -2147414956, -2147439020, -2146319268, -2147406798, -1148680509, -2146277218, 2146590728, -2146400620, -2147414733, -2146376065, -2147387364, -2147386326, -1962893370, -2130164382, -2145933648, -2147447928, -2147448592, -2145974380, -2147133747, -2145941977, -2147407643, -2147447157, -2147300019, 2147479181, -1164800478, -2146232338, -2145974637, -2147453767, -2146401928, -2147365730, -2146384034, -2147475351, -2146232480, -2146236588, -2147447896, -2147295823, -999987216, -2145966441, -2147134974, -1147419753, -2147394484, -16746546, -2146232724, -1148335070, -2146232590, -2146398568, -1164800191, -2147466956, -1147643872, -1148713259, -1147427826, -2147365759, -2147337012, -2145970658, -2147125544, -2147414987, -2147373914, -2147373984, -1147488144, -671082546, -2147361652, -2147374080, -2147287835, -2145974596, 1508998, -2147378041, -2147374032, -2147410938, -2145958228, -2147337022, -2147382130, -2147287811];
        const webglParams = !data.parameters ? undefined : [
            ...new Set(Object.values(data.parameters)
                .filter((val) => val && typeof val != 'string')
                .flat()
                .map((val) => Number(val))),
        ].sort((a, b) => (a - b));
        const gpuBrand = getGpuBrand(data.parameters?.UNMASKED_RENDERER_WEBGL);
        const webglParamsStr = '' + webglParams;
        const webglBrandCapabilities = !gpuBrand || !webglParamsStr ? undefined : hashMini([gpuBrand, webglParamsStr]);
        const webglCapabilities = !webglParams ? undefined : webglParams.reduce((acc, val, i) => acc ^ (+val + i), 0);
        Analysis.webglParams = webglParamsStr;
        Analysis.webglBrandCapabilities = webglBrandCapabilities;
        Analysis.webglCapabilities = webglCapabilities;
        const hasSusGpu = webglBrandCapabilities && !brandCapabilities.includes(webglBrandCapabilities);
        const hasSusCapabilities = webglCapabilities && !capabilities.includes(webglCapabilities);
        if (hasSusGpu) {
            LowerEntropy.WEBGL = true;
            sendToTrash('WebGLRenderingContext.getParameter', 'suspicious gpu');
        }
        if (hasSusCapabilities) {
            LowerEntropy.WEBGL = true;
            sendToTrash('WebGLRenderingContext.getParameter', 'suspicious capabilities');
        }
        logTestResult({ time: timer.stop(), test: 'webgl', passed: true });
        return {
            ...data,
            gpu: {
                ...(getWebGLRendererConfidence((data.parameters || {}).UNMASKED_RENDERER_WEBGL) || {}),
                compressedGPU: compressWebGLRenderer((data.parameters || {}).UNMASKED_RENDERER_WEBGL),
            },
        };
    }
    catch (error) {
        logTestResult({ test: 'webgl', passed: false });
        captureError(error);
        return;
    }
}

function getWindowFeatures() {
    try {
        const timer = createTimer();
        timer.start();
        const win = PHANTOM_DARKNESS || window;
        let keys = Object.getOwnPropertyNames(win)
            .filter((key) => !/_|\d{3,}/.test(key)); // clear out known ddg noise
        // if Firefox, remove the 'Event' key and push to end for consistent order
        // and disregard keys known to be missing in RFP mode
        const firefoxKeyMovedByInspect = 'Event';
        const varyingKeysMissingInRFP = ['PerformanceNavigationTiming', 'Performance'];
        if (IS_GECKO) {
            const index = keys.indexOf(firefoxKeyMovedByInspect);
            if (index != -1) {
                keys = keys.slice(0, index).concat(keys.slice(index + 1));
                keys = [...keys, firefoxKeyMovedByInspect];
            }
            varyingKeysMissingInRFP.forEach((key) => {
                const index = keys.indexOf(key);
                if (index != -1) {
                    keys = keys.slice(0, index).concat(keys.slice(index + 1));
                }
                return keys;
            });
        }
        const moz = keys.filter((key) => (/moz/i).test(key)).length;
        const webkit = keys.filter((key) => (/webkit/i).test(key)).length;
        const apple = keys.filter((key) => (/apple/i).test(key)).length;
        const data = { keys, apple, moz, webkit };
        logTestResult({ time: timer.stop(), test: 'window', passed: true });
        return { ...data };
    }
    catch (error) {
        logTestResult({ test: 'window', passed: false });
        captureError(error);
        return;
    }
}

/* eslint-disable linebreak-style */
const voodoo = async function () {
    const scope = await spawnWorker();
    if (scope == 0 /* Scope.WORKER */) {
        return;
    }
    await queueTask();
    getStackBytes();
    await exile();
    const isBrave = IS_BLINK ? await braveBrowser() : false;
    const braveMode = isBrave ? getBraveMode() : {};
    const braveFingerprintingBlocking = isBrave && (braveMode.standard || braveMode.strict);
    const fingerprint = async () => {
        const timeStart = timer();
        const fingerprintTimeStart = timer();
        // @ts-ignore
        const [workerScopeComputed, voicesComputed, offlineAudioContextComputed, canvasWebglComputed, canvas2dComputed, windowFeaturesComputed, htmlElementVersionComputed, cssComputed, cssMediaComputed, screenComputed, mathsComputed, consoleErrorsComputed, timezoneComputed, clientRectsComputed, fontsComputed, mediaComputed, svgComputed, resistanceComputed, intlComputed,] = await Promise.all([
            getBestWorkerScope(),
            getVoices(),
            getOfflineAudioContext(),
            getCanvasWebgl(),
            getCanvas2d(),
            getWindowFeatures(),
            getHTMLElementVersion(),
            getCSS(),
            getCSSMedia(),
            getScreen(),
            getMaths(),
            getConsoleErrors(),
            getTimezone(),
            getClientRects(),
            getFonts(),
            getMedia(),
            getSVG(),
            getResistance(),
            getIntl(),
        ]).catch((error) => console.error(error.message));
        const navigatorComputed = await getNavigator(workerScopeComputed)
            .catch((error) => console.error(error.message));
        // @ts-ignore
        const [headlessComputed, featuresComputed,] = await Promise.all([
            getHeadlessFeatures({
                webgl: canvasWebglComputed,
                workerScope: workerScopeComputed,
            }),
            getEngineFeatures({
                cssComputed,
                navigatorComputed,
                windowFeaturesComputed,
            }),
        ]).catch((error) => console.error(error.message));
        // @ts-ignore
        const [liesComputed, trashComputed, capturedErrorsComputed,] = await Promise.all([
            getLies(),
            getTrash(),
            getCapturedErrors(),
        ]).catch((error) => console.error(error.message));
        fingerprintTimeStart();
        // GPU Prediction
        const { parameters: gpuParameter } = canvasWebglComputed || {};
        const reducedGPUParameters = {
            ...(braveFingerprintingBlocking ? getBraveUnprotectedParameters(gpuParameter) :
                gpuParameter),
            RENDERER: undefined,
            SHADING_LANGUAGE_VERSION: undefined,
            UNMASKED_RENDERER_WEBGL: undefined,
            UNMASKED_VENDOR_WEBGL: undefined,
            VERSION: undefined,
            VENDOR: undefined,
        };
        // Hashing
        const hashStartTime = timer();
        // @ts-ignore
        const [windowHash, headlessHash, htmlHash, cssMediaHash, cssHash, styleHash, styleSystemHash, screenHash, voicesHash, canvas2dHash, canvas2dImageHash, canvas2dPaintHash, canvas2dTextHash, canvas2dEmojiHash, canvasWebglHash, canvasWebglImageHash, canvasWebglParametersHash, pixelsHash, pixels2Hash, mathsHash, consoleErrorsHash, timezoneHash, rectsHash, domRectHash, audioHash, fontsHash, workerHash, mediaHash, mimeTypesHash, navigatorHash, liesHash, trashHash, errorsHash, svgHash, resistanceHash, intlHash, featuresHash, deviceOfTimezoneHash,] = await Promise.all([
            hashify(windowFeaturesComputed),
            hashify(headlessComputed),
            hashify((htmlElementVersionComputed || {}).keys),
            hashify(cssMediaComputed),
            hashify(cssComputed),
            hashify((cssComputed || {}).computedStyle),
            hashify((cssComputed || {}).system),
            hashify(screenComputed),
            hashify(voicesComputed),
            hashify(canvas2dComputed),
            hashify((canvas2dComputed || {}).dataURI),
            hashify((canvas2dComputed || {}).paintURI),
            hashify((canvas2dComputed || {}).textURI),
            hashify((canvas2dComputed || {}).emojiURI),
            hashify(canvasWebglComputed),
            hashify((canvasWebglComputed || {}).dataURI),
            hashify(reducedGPUParameters),
            ((canvasWebglComputed || {}).pixels || []).length ? hashify(canvasWebglComputed.pixels) : undefined,
            ((canvasWebglComputed || {}).pixels2 || []).length ? hashify(canvasWebglComputed.pixels2) : undefined,
            hashify((mathsComputed || {}).data),
            hashify((consoleErrorsComputed || {}).errors),
            hashify(timezoneComputed),
            hashify(clientRectsComputed),
            hashify([
                (clientRectsComputed || {}).elementBoundingClientRect,
                (clientRectsComputed || {}).elementClientRects,
                (clientRectsComputed || {}).rangeBoundingClientRect,
                (clientRectsComputed || {}).rangeClientRects,
            ]),
            hashify(offlineAudioContextComputed),
            hashify(fontsComputed),
            hashify(workerScopeComputed),
            hashify(mediaComputed),
            hashify((mediaComputed || {}).mimeTypes),
            hashify(navigatorComputed),
            hashify(liesComputed),
            hashify(trashComputed),
            hashify(capturedErrorsComputed),
            hashify(svgComputed),
            hashify(resistanceComputed),
            hashify(intlComputed),
            hashify(featuresComputed),
            hashify((() => {
                const { bluetoothAvailability, device, deviceMemory, hardwareConcurrency, maxTouchPoints, oscpu, platform, system, userAgentData, } = navigatorComputed || {};
                const { architecture, bitness, mobile, model, platform: uaPlatform, platformVersion, } = userAgentData || {};
                const { anyPointer } = cssMediaComputed || {};
                const { colorDepth, pixelDepth, height, width } = screenComputed || {};
                const { location, locationEpoch, zone } = timezoneComputed || {};
                const { deviceMemory: deviceMemoryWorker, hardwareConcurrency: hardwareConcurrencyWorker, gpu, platform: platformWorker, system: systemWorker, timezoneLocation: locationWorker, userAgentData: userAgentDataWorker, } = workerScopeComputed || {};
                const { compressedGPU, confidence } = gpu || {};
                const { architecture: architectureWorker, bitness: bitnessWorker, mobile: mobileWorker, model: modelWorker, platform: uaPlatformWorker, platformVersion: platformVersionWorker, } = userAgentDataWorker || {};
                return [
                    anyPointer,
                    architecture,
                    architectureWorker,
                    bitness,
                    bitnessWorker,
                    bluetoothAvailability,
                    colorDepth,
                    ...(compressedGPU && confidence != 'low' ? [compressedGPU] : []),
                    device,
                    deviceMemory,
                    deviceMemoryWorker,
                    hardwareConcurrency,
                    hardwareConcurrencyWorker,
                    height,
                    location,
                    locationWorker,
                    locationEpoch,
                    maxTouchPoints,
                    mobile,
                    mobileWorker,
                    model,
                    modelWorker,
                    oscpu,
                    pixelDepth,
                    platform,
                    platformWorker,
                    platformVersion,
                    platformVersionWorker,
                    system,
                    systemWorker,
                    uaPlatform,
                    uaPlatformWorker,
                    width,
                    zone,
                ];
            })()),
        ]).catch((error) => console.error(error.message));
        hashStartTime();
        const timeEnd = timeStart();
        if (PARENT_PHANTOM) {
            // @ts-ignore
            PARENT_PHANTOM.parentNode.removeChild(PARENT_PHANTOM);
        }
        const fingerprint = {
            workerScope: !workerScopeComputed ? undefined : { ...workerScopeComputed, $hash: workerHash },
            navigator: !navigatorComputed ? undefined : { ...navigatorComputed, $hash: navigatorHash },
            windowFeatures: !windowFeaturesComputed ? undefined : { ...windowFeaturesComputed, $hash: windowHash },
            headless: !headlessComputed ? undefined : { ...headlessComputed, $hash: headlessHash },
            htmlElementVersion: !htmlElementVersionComputed ? undefined : { ...htmlElementVersionComputed, $hash: htmlHash },
            cssMedia: !cssMediaComputed ? undefined : { ...cssMediaComputed, $hash: cssMediaHash },
            css: !cssComputed ? undefined : { ...cssComputed, $hash: cssHash },
            screen: !screenComputed ? undefined : { ...screenComputed, $hash: screenHash },
            voices: !voicesComputed ? undefined : { ...voicesComputed, $hash: voicesHash },
            media: !mediaComputed ? undefined : { ...mediaComputed, $hash: mediaHash },
            canvas2d: !canvas2dComputed ? undefined : { ...canvas2dComputed, $hash: canvas2dHash },
            canvasWebgl: !canvasWebglComputed ? undefined : { ...canvasWebglComputed, pixels: pixelsHash, pixels2: pixels2Hash, $hash: canvasWebglHash },
            maths: !mathsComputed ? undefined : { ...mathsComputed, $hash: mathsHash },
            consoleErrors: !consoleErrorsComputed ? undefined : { ...consoleErrorsComputed, $hash: consoleErrorsHash },
            timezone: !timezoneComputed ? undefined : { ...timezoneComputed, $hash: timezoneHash },
            clientRects: !clientRectsComputed ? undefined : { ...clientRectsComputed, $hash: rectsHash },
            offlineAudioContext: !offlineAudioContextComputed ? undefined : { ...offlineAudioContextComputed, $hash: audioHash },
            fonts: !fontsComputed ? undefined : { ...fontsComputed, $hash: fontsHash },
            lies: !liesComputed ? undefined : { ...liesComputed, $hash: liesHash },
            trash: !trashComputed ? undefined : { ...trashComputed, $hash: trashHash },
            capturedErrors: !capturedErrorsComputed ? undefined : { ...capturedErrorsComputed, $hash: errorsHash },
            svg: !svgComputed ? undefined : { ...svgComputed, $hash: svgHash },
            resistance: !resistanceComputed ? undefined : { ...resistanceComputed, $hash: resistanceHash },
            intl: !intlComputed ? undefined : { ...intlComputed, $hash: intlHash },
            features: !featuresComputed ? undefined : { ...featuresComputed, $hash: featuresHash },
        };
        return {
            fingerprint,
            styleSystemHash,
            styleHash,
            domRectHash,
            mimeTypesHash,
            canvas2dImageHash,
            canvasWebglImageHash,
            canvas2dPaintHash,
            canvas2dTextHash,
            canvas2dEmojiHash,
            canvasWebglParametersHash,
            deviceOfTimezoneHash,
            timeEnd,
        };
    };
    // fingerprint and render
    const { fingerprint: fp, styleSystemHash, styleHash, domRectHash, mimeTypesHash, canvas2dImageHash, canvas2dPaintHash, canvas2dTextHash, canvas2dEmojiHash, canvasWebglImageHash, canvasWebglParametersHash, deviceOfTimezoneHash, timeEnd, } = await fingerprint().catch((error) => console.error(error)) || {};
    if (!fp) {
        throw new Error('Fingerprint failed!');
    }
    +(fp.canvas2d?.textMetricsSystemSum) || 0;
    // Trusted Fingerprint
    fp.trash.trashBin.length;
    !('totalLies' in fp.lies) ? 0 : fp.lies.totalLies;
    fp.capturedErrors.data.length;
    const hardenEntropy = (workerScope, prop) => {
        return (!workerScope ? prop :
            (workerScope.localeEntropyIsTrusty && workerScope.localeIntlEntropyIsTrusty) ? prop :
                undefined);
    };
    const privacyResistFingerprinting = (fp.resistance && /^(tor browser|firefox)$/i.test(fp.resistance.privacy));
    // harden gpu
    const hardenGPU = (canvasWebgl) => {
        const { gpu: { confidence, compressedGPU } } = canvasWebgl;
        return (confidence == 'low' ? {} : {
            UNMASKED_RENDERER_WEBGL: compressedGPU,
            UNMASKED_VENDOR_WEBGL: canvasWebgl.parameters.UNMASKED_VENDOR_WEBGL,
        });
    };
    const creep = {
        navigator: (!fp.navigator || fp.navigator.lied ? undefined : {
            bluetoothAvailability: fp.navigator.bluetoothAvailability,
            device: fp.navigator.device,
            deviceMemory: fp.navigator.deviceMemory,
            hardwareConcurrency: fp.navigator.hardwareConcurrency,
            maxTouchPoints: fp.navigator.maxTouchPoints,
            oscpu: fp.navigator.oscpu,
            platform: fp.navigator.platform,
            system: fp.navigator.system,
            userAgentData: {
                ...(fp.navigator.userAgentData || {}),
                // loose
                brandsVersion: undefined,
                uaFullVersion: undefined,
            },
            vendor: fp.navigator.vendor,
        }),
        screen: (!fp.screen || fp.screen.lied || privacyResistFingerprinting || LowerEntropy.SCREEN ? undefined :
            hardenEntropy(fp.workerScope, {
                height: fp.screen.height,
                width: fp.screen.width,
                pixelDepth: fp.screen.pixelDepth,
                colorDepth: fp.screen.colorDepth,
                lied: fp.screen.lied,
            })),
        workerScope: !fp.workerScope || fp.workerScope.lied ? undefined : {
            deviceMemory: (braveFingerprintingBlocking ? undefined : fp.workerScope.deviceMemory),
            hardwareConcurrency: (braveFingerprintingBlocking ? undefined : fp.workerScope.hardwareConcurrency),
            // system locale in blink
            language: !LowerEntropy.TIME_ZONE ? fp.workerScope.language : undefined,
            platform: fp.workerScope.platform,
            system: fp.workerScope.system,
            device: fp.workerScope.device,
            timezoneLocation: (!LowerEntropy.TIME_ZONE ?
                hardenEntropy(fp.workerScope, fp.workerScope.timezoneLocation) :
                undefined),
            webglRenderer: ((fp.workerScope.gpu.confidence != 'low') ? fp.workerScope.gpu.compressedGPU : undefined),
            webglVendor: ((fp.workerScope.gpu.confidence != 'low') ? fp.workerScope.webglVendor : undefined),
            userAgentData: {
                ...fp.workerScope.userAgentData,
                // loose
                brandsVersion: undefined,
                uaFullVersion: undefined,
            },
        },
        media: fp.media,
        canvas2d: ((canvas2d) => {
            if (!canvas2d) {
                return;
            }
            const { lied, liedTextMetrics } = canvas2d;
            let data;
            if (!lied) {
                const { dataURI, paintURI, textURI, emojiURI } = canvas2d;
                data = {
                    lied,
                    ...{ dataURI, paintURI, textURI, emojiURI },
                };
            }
            if (!liedTextMetrics) {
                const { textMetricsSystemSum, emojiSet } = canvas2d;
                data = {
                    ...(data || {}),
                    ...{ textMetricsSystemSum, emojiSet },
                };
            }
            return data;
        })(fp.canvas2d),
        canvasWebgl: (!fp.canvasWebgl || fp.canvasWebgl.lied || LowerEntropy.WEBGL) ? undefined : (braveFingerprintingBlocking ? {
            parameters: {
                ...getBraveUnprotectedParameters(fp.canvasWebgl.parameters),
                ...hardenGPU(fp.canvasWebgl),
            },
        } : {
            ...((gl, canvas2d) => {
                if ((canvas2d && canvas2d.lied) || LowerEntropy.CANVAS) {
                    // distrust images
                    const { extensions, gpu, lied, parameterOrExtensionLie } = gl;
                    return {
                        extensions,
                        gpu,
                        lied,
                        parameterOrExtensionLie,
                    };
                }
                return gl;
            })(fp.canvasWebgl, fp.canvas2d),
            parameters: {
                ...fp.canvasWebgl.parameters,
                ...hardenGPU(fp.canvasWebgl),
            },
        }),
        cssMedia: !fp.cssMedia ? undefined : {
            reducedMotion: caniuse(() => fp.cssMedia.mediaCSS['prefers-reduced-motion']),
            colorScheme: (braveFingerprintingBlocking ? undefined :
                caniuse(() => fp.cssMedia.mediaCSS['prefers-color-scheme'])),
            monochrome: caniuse(() => fp.cssMedia.mediaCSS.monochrome),
            invertedColors: caniuse(() => fp.cssMedia.mediaCSS['inverted-colors']),
            forcedColors: caniuse(() => fp.cssMedia.mediaCSS['forced-colors']),
            anyHover: caniuse(() => fp.cssMedia.mediaCSS['any-hover']),
            hover: caniuse(() => fp.cssMedia.mediaCSS.hover),
            anyPointer: caniuse(() => fp.cssMedia.mediaCSS['any-pointer']),
            pointer: caniuse(() => fp.cssMedia.mediaCSS.pointer),
            colorGamut: caniuse(() => fp.cssMedia.mediaCSS['color-gamut']),
            screenQuery: (privacyResistFingerprinting || (LowerEntropy.SCREEN || LowerEntropy.IFRAME_SCREEN) ?
                undefined :
                hardenEntropy(fp.workerScope, caniuse(() => fp.cssMedia.screenQuery))),
        },
        css: !fp.css ? undefined : fp.css.system.fonts,
        timezone: !fp.timezone || fp.timezone.lied || LowerEntropy.TIME_ZONE ? undefined : {
            locationMeasured: hardenEntropy(fp.workerScope, fp.timezone.locationMeasured),
            lied: fp.timezone.lied,
        },
        offlineAudioContext: !fp.offlineAudioContext ? undefined : (fp.offlineAudioContext.lied || LowerEntropy.AUDIO ? undefined :
            fp.offlineAudioContext),
        fonts: !fp.fonts || fp.fonts.lied || LowerEntropy.FONTS ? undefined : fp.fonts.fontFaceLoadFonts,
        forceRenew: 1672005503901,
    };
    const [fpHash, creepHash] = await Promise.all([hashify(fp), hashify(creep)])
        .catch((error) => {
        console.error(error.message);
    }) || [];
    return { fpHash, creepHash, fp, creep };
};

export { voodoo };
//# sourceMappingURL=index.mjs.map
